(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,998183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={assign:function(){return u},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return l}};for(var n in o)Object.defineProperty(r,n,{enumerable:!0,get:o[n]});function a(e){let t={};for(let[r,o]of e.entries()){let e=t[r];void 0===e?t[r]=o:Array.isArray(e)?e.push(o):t[r]=[e,o]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,o]of Object.entries(e))if(Array.isArray(o))for(let e of o)t.append(r,i(e));else t.set(r,i(o));return t}function u(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,o]of r.entries())e.append(t,o)}return e}},195057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={formatUrl:function(){return l},formatWithValidation:function(){return s},urlObjectKeys:function(){return u}};for(var n in o)Object.defineProperty(r,n,{enumerable:!0,get:o[n]});let a=e.r(190809)._(e.r(998183)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,o=e.protocol||"",n=e.pathname||"",l=e.hash||"",u=e.query||"",s=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?s=t+e.host:r&&(s=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(s+=":"+e.port)),u&&"object"==typeof u&&(u=String(a.urlQueryToSearchParams(u)));let c=e.search||u&&`?${u}`||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||i.test(o))&&!1!==s?(s="//"+(s||""),n&&"/"!==n[0]&&(n="/"+n)):s||(s=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${o}${s}${n}${c}${l}`}let u=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function s(e){return l(e)}},718967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return w},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return a},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return s},getURL:function(){return c},isAbsoluteUrl:function(){return u},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return _}};for(var n in o)Object.defineProperty(r,n,{enumerable:!0,get:o[n]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...o)=>(r||(r=!0,t=e(...o)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,u=e=>l.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=s();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let o=await e.getInitialProps(t);if(r&&f(r))return o;if(!o)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${o}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function _(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let o=e.r(718967),n=e.r(652817);function a(e){if(!(0,o.isAbsoluteUrl)(e))return!0;try{let t=(0,o.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},284508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},522016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={default:function(){return y},useLinkStatus:function(){return b}};for(var n in o)Object.defineProperty(r,n,{enumerable:!0,get:o[n]});let a=e.r(190809),i=e.r(843476),l=a._(e.r(271645)),u=e.r(195057),s=e.r(8372),c=e.r(818581),d=e.r(718967),f=e.r(405550);e.r(233525);let p=e.r(91949),m=e.r(573668),h=e.r(509396);function g(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}function y(t){var r;let o,n,a,[u,y]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),b=(0,l.useRef)(null),{href:w,as:v,children:_,prefetch:S=null,passHref:P,replace:A,shallow:E,scroll:j,onClick:F,onMouseEnter:C,onTouchStart:O,legacyBehavior:k=!1,onNavigate:T,ref:N,unstable_dynamicOnHover:R,...$}=t;o=_,k&&("string"==typeof o||"number"==typeof o)&&(o=(0,i.jsx)("a",{children:o}));let I=l.default.useContext(s.AppRouterContext),M=!1!==S,K=!1!==S?null===(r=S)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:D,as:U}=l.default.useMemo(()=>{let e=g(w);return{href:e,as:v?g(v):e}},[w,v]);if(k){if(o?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(o)}let B=k?n&&"object"==typeof n&&n.ref:N,L=l.default.useCallback(e=>(null!==I&&(b.current=(0,p.mountLinkInstance)(e,D,I,K,M,y)),()=>{b.current&&((0,p.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,p.unmountPrefetchableInstance)(e)}),[M,D,I,K,y]),W={ref:(0,c.useMergedRef)(L,B),onClick(t){k||"function"!=typeof F||F(t),k&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!I||t.defaultPrevented||function(t,r,o,n,a,i,u){if("undefined"!=typeof window){let s,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((s=t.currentTarget.getAttribute("target"))&&"_self"!==s||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),u){let e=!1;if(u({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);l.default.startTransition(()=>{d(o||r,a?"replace":"push",i??!0,n.current)})}}(t,D,U,b,A,j,T)},onMouseEnter(e){k||"function"!=typeof C||C(e),k&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&M&&(0,p.onNavigationIntent)(e.currentTarget,!0===R)},onTouchStart:function(e){k||"function"!=typeof O||O(e),k&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&M&&(0,p.onNavigationIntent)(e.currentTarget,!0===R)}};return(0,d.isAbsoluteUrl)(U)?W.href=U:k&&!P&&("a"!==n.type||"href"in n.props)||(W.href=(0,f.addBasePath)(U)),a=k?l.default.cloneElement(n,W):(0,i.jsx)("a",{...$,...W,children:o}),(0,i.jsx)(x.Provider,{value:u,children:a})}e.r(284508);let x=(0,l.createContext)(p.IDLE_LINK_STATUS),b=()=>(0,l.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},667585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let o=e.r(132061);function n({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new o.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},309885,(e,t,r)=>{"use strict";function o(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return o}})},652157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return l}});let o=e.r(843476),n=e.r(174080),a=e.r(563599),i=e.r(309885);function l({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let o=t.reactLoadableManifest;for(let t of e){if(!o[t])continue;let e=o[t].files;r.push(...e)}}return 0===r.length?null:(0,o.jsx)(o.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}?dpl=dpl_FsmZdH4Y3p4zNxLcd1PvuhyXdkVe`;return e.endsWith(".css")?(0,o.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},869093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let o=e.r(843476),n=e.r(271645),a=e.r(667585),i=e.r(652157);function l(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},s=function(e){let t={...u,...e},r=(0,n.lazy)(()=>t.loader().then(l)),s=t.loading;function c(e){let l=s?(0,o.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,u=!t.ssr||!!t.loading,c=u?n.Suspense:n.Fragment,d=t.ssr?(0,o.jsxs)(o.Fragment,{children:["undefined"==typeof window?(0,o.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,o.jsx)(r,{...e})]}):(0,o.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(r,{...e})});return(0,o.jsx)(c,{...u?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},770703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let o=e.r(555682)._(e.r(869093));function n(e,t){let r={};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,o.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},560985,e=>{"use strict";var t=e.i(843476),r=e.i(657688),o=e.i(271645);e.s(["TextInput",0,({placeholder:e,label:n,value:a,onChange:i,className:l="",rightIcon:u,rightIconFallback:s,rightText:c,rightTextOnClick:d,flat:f=!1,readOnly:p=!1,primaryStroke:m=!1,disabled:h=!1,height:g=32,rounded:y=4,onKeyDown:x,autoFocus:b=!1,showCancelButton:w=!1,onCancel:v,onBlur:_,min:S,max:P,step:A,pattern:E,disablePaste:j=!1,textAlign:F="left",type:C="text",isNumeric:O=!1,allowDecimals:k=!1})=>{let[T,N]=(0,o.useState)(a||""),R=(0,o.useRef)(a);return(0,o.useEffect)(()=>{if(a===R.current||O){if(O&&a!==R.current){let e=parseFloat(T),t=a?parseFloat(a):null;""===a||null==a?(N(""),R.current=a):(isNaN(e)||isNaN(t)||Math.abs(e-t)>1e-4)&&(N(a),R.current=a)}}else N(a||""),R.current=a},[a,O,T]),(0,t.jsxs)("div",{className:`flex flex-col w-full gap-[4px] justify-start items-start ${l}`,children:[n&&(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:n}),(0,t.jsxs)("div",{className:"relative flex w-full",children:[(0,t.jsx)("input",{type:C,value:O?T:a||"",onChange:e=>{let t=e.target.value;if(O){if(""===t||"-"===t){N(t),i?.(t);return}if(k){if(!/^-?\d*\.?\d*$/.test(t)||(t.match(/\./g)||[]).length>1)return;N(t),i?.(t)}else{if(!/^-?\d*$/.test(t))return;N(t),i?.(t)}}else N(t),i?.(t)},placeholder:e,className:`
            text-textPrimary placeholder:text-textTertiary text-[12px] leading-[16px] font-normal 
            flex flex-row w-full h-[${g}px] px-[8px] pr-[${w||u||c?"32px":"8px"}] gap-[4px] justify-start items-center ${4!==y?`rounded-[${y}px]`:"rounded-[8px] sm:rounded-[4px]"} 
            outline-none transition-colors duration-150 ease-in-out
            ${f?"bg-primaryStroke/70 hover:bg-primaryStroke/90 focus:bg-primaryStroke/100":`bg-transparent border ${m?"border-primaryStroke hover:border-primaryStroke/90 focus:border-primaryStroke/100":"border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10"} hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10`}
            ${p?"cursor-not-allowed":""}
            ${h?"cursor-not-allowed":""}
            ${"center"===F?"text-center":"right"===F?"text-right":"text-left"}
          `,readOnly:p,disabled:h,onKeyDown:e=>{"Enter"===e.key&&x&&x(e)},autoFocus:b,min:S,max:P,step:A,pattern:E,onBlur:()=>{if(O&&""!==T){let e=k?parseFloat(T):parseInt(T,10);if(!isNaN(e)){let t=e.toString();N(t),t!==T&&i?.(t)}}_?.()},onPaste:e=>{j&&e.preventDefault()}}),(0,t.jsxs)("div",{className:"absolute right-[2px] top-1/2 -translate-y-1/2 flex items-center",children:[w&&(O?T:a)&&(0,t.jsx)("button",{onClick:()=>{N(""),i?.(""),v?.()},className:"group flex flex-row p-[4px] w-[20px] h-[20px] pr-[6px] justify-center items-center hover:bg-primaryStroke/60 cursor-pointer rounded-[8px] sm:rounded-[4px] rounded-r-full transition-colors duration-[125ms]",children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-[125ms] ease-in-out"})}),(u||c)&&(0,t.jsx)("div",{className:"flex items-center justify-center pr-2",onClick:e=>{e.preventDefault(),e.stopPropagation(),d&&d()},children:c?(0,t.jsx)("span",{className:`text-[12px] leading-[16px] ${d?"cursor-pointer":""}`,children:c}):u?"string"==typeof u?u.endsWith(".svg")||u.endsWith(".png")||u.endsWith(".jpg")?(0,t.jsx)(r.default,{src:u,alt:"",width:16,height:16,onError:e=>{s&&(e.currentTarget.src=s)}}):(0,t.jsx)("i",{className:u}):u:null})]})]})]})}])},778536,e=>{"use strict";var t=e.i(639372),r=e.i(265172),o=e.i(758219),n=e.i(741124);let a=(0,t.atom)(""),i=(0,r.atomWithStorage)("portfolioSelectedList-sol",[],(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0}),l=(0,r.atomWithStorage)("portfolioSelectedList-bnb",[],(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0}),u=(0,t.atom)(e=>{let t=e(n.currentChainAtom);return e("sol"===t?i:l)},(e,t,r)=>{let o=e(n.currentChainAtom),a=e("sol"===o?i:l);t("sol"===o?i:l,"function"==typeof r?r(a):r)});(0,t.atom)("active");let s=(0,t.atom)(!0),c=(0,t.atom)([]),d=(0,t.atom)([]),f=(0,t.atom)(null),p=(0,t.atom)(null),m=(0,t.atom)([]),h=(0,t.atom)([]),g=(0,t.atom)([]),y=(0,t.atom)(null),x=(0,r.atomWithStorage)("portfolioTab","spot",(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,r.atomWithStorage)("portfolioView","graph",(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0});let b=(0,t.atom)(new Date),w=(0,t.atom)("wallet"),v=(0,t.atom)(null),_=(0,t.atom)(!1),S=(0,t.atom)([]),P=(0,t.atom)([]),A=(0,r.atomWithStorage)("showHidden",!1),E=(0,r.atomWithStorage)("hideTransfers",!1,(0,o.safeSSRNoSyncStorage)()),j=(0,r.atomWithStorage)("isSolCalendar",!1,(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0}),F=(0,t.atom)("sol"),C=(0,r.atomWithStorage)("showTransferLabel",!1,(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0});e.s(["balanceStatsAtom",0,f,"calendarDataAtom",0,h,"chartDataAtom",0,m,"currentDateAtom",0,b,"hiddenPositionsAtom",0,P,"hideTransfersAtom",0,E,"isLoadingAtom",0,s,"isPortfolioDataLoadingAtom",0,_,"isSolCalendarAtom",0,j,"performanceMetricsAtom",0,p,"perpsChartDataAtom",0,g,"portfolioChainAtom",0,F,"portfolioDataAtom",0,y,"portfolioLastActionAtom",0,w,"portfolioSelectedListAtom",0,u,"portfolioTabAtom",0,x,"positionsAtom",0,c,"searchAddressAtom",0,a,"showHiddenAtom",0,A,"showTransferLabelAtom",0,C,"topPositionsAtom",0,S,"totalPortfolioDataAtom",0,v,"transactionsAtom",0,d])},651422,e=>{"use strict";var t=e.i(843476),r=e.i(271645),o=e.i(657688);let n=/^https?:\/\/.+/,a=(0,r.memo)(({tokenTicker:e,src:a,alt:i,width:l,height:u,className:s,loading:c="lazy"})=>{let[d,f]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>!d&&a&&(n.test(a)||a.startsWith("/images/")||a.startsWith("data:image/webp;base64,"))?["file://","C:\\"].some(e=>a.startsWith(e))?"/pfps/Question_pfp.webp":a:e&&/^[a-zA-Z]$/.test(e[0])?`/pfps/${e[0].toUpperCase()}_pfp.webp`:"/pfps/Question_pfp.webp",[d,a,e]);return(0,t.jsx)(o.default,{src:p,alt:i??"",width:l,height:u,style:{objectFit:"cover"},onError:()=>f(!0),className:s,loading:c,unoptimized:!0,priority:!1})});e.s(["default",0,a])},834938,252436,e=>{"use strict";var t=e.i(467034);let r=new Uint8Array([217,3,161,123,53,200,206,36,143,2,220,252,240,109,204,23,217,174,79,158,18,76,149,117,73,40,207,77,34,194,196,163]),o=async e=>{let o=new TextEncoder().encode(e),n=await window.crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveBits"]),a=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:6e5,hash:"SHA-256"},n,256);return t.Buffer.from(a).toString("base64")};e.s(["hashPassword",0,o],834938),e.i(284795);var n=e.i(356026),a=e.i(659341);let i=new a.default("ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632550",16);async function l(e,r){for(;;){let o=r?Uint8Array.from(atob(r),e=>e.charCodeAt(0)):crypto.getRandomValues(new Uint8Array(32)),l=await window.crypto.subtle.importKey("raw",new TextEncoder().encode(e),"PBKDF2",!1,["deriveBits"]),u=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:o,iterations:6e5,hash:"SHA-256"},l,256),s=t.Buffer.from(u).toString("hex");if(new a.default(s,16).lt(i)){let e=t.Buffer.from((0,n.getPublicKey)(s)).toString("hex");return{privateKey:s,publicKey:e,clientSecret:t.Buffer.from(o).toString("base64")}}if(r)throw Error("Failed to generate API key")}}e.s(["generateApiKey",()=>l],252436)},32374,57895,e=>{"use strict";e.i(247167);var t,r,o=e.i(843476),n=e.i(271645);let a=(0,n.createContext)(null);function i({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o,children:i}){let l=function(e={}){let{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o}=e,[a,i]=(0,n.useState)(!1),l=(0,n.useRef)(r);l.current=r;let u=(0,n.useRef)(o);return u.current=o,(0,n.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;i(!0),null==(e=l.current)||e.call(l)},e.onerror=()=>{var e;i(!1),null==(e=u.current)||e.call(u)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o}),u=(0,n.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:l}),[e,l]);return n.default.createElement(a.Provider,{value:u},i)}let l={large:40,medium:32,small:20};function u({onSuccess:e,onError:t,useOneTap:r,promptMomentNotification:o,type:i="standard",theme:u="outline",size:s="large",text:c,shape:d,logo_alignment:f,width:p,locale:m,click_listener:h,containerProps:g,...y}){let x=(0,n.useRef)(null),{clientId:b,scriptLoadedSuccessfully:w}=function(){let e=(0,n.useContext)(a);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),v=(0,n.useRef)(e);v.current=e;let _=(0,n.useRef)(t);_.current=t;let S=(0,n.useRef)(o);return S.current=o,(0,n.useEffect)(()=>{var e,t,o,n,a,l,g,P,A;if(w)return null==(o=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||o.initialize({client_id:b,callback:e=>{var t,r;if(!(null==e?void 0:e.credential))return null==(t=_.current)?void 0:t.call(_);let{credential:o,select_by:n}=e;v.current({credential:o,clientId:null!=(r=null==e?void 0:e.clientId)?r:null==e?void 0:e.client_id,select_by:n})},...y}),null==(l=null==(a=null==(n=null==window?void 0:window.google)?void 0:n.accounts)?void 0:a.id)||l.renderButton(x.current,{type:i,theme:u,size:s,text:c,shape:d,logo_alignment:f,width:p,locale:m,click_listener:h}),r&&(null==(A=null==(P=null==(g=null==window?void 0:window.google)?void 0:g.accounts)?void 0:P.id)||A.prompt(S.current)),()=>{var e,t,o;r&&(null==(o=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||o.cancel())}},[b,w,r,i,u,s,c,d,f,p,m]),n.default.createElement("div",{...g,ref:x,style:{height:l[s],...null==g?void 0:g.style}})}var s=e.i(862243),c=e.i(672464),d=e.i(542119),f=e.i(247317),p=e.i(268804),m=e.i(815062),h=e.i(458768);e.i(284795);var g=e.i(356026),y=e.i(657688),x=e.i(750214),b=e.i(363071),w=e.i(863568);e.s(["default",0,({onSuccess:e,loadingMessage:t="Authenticating...",successMessage:r="Authenticated",text:a="continue_with",allowRegistration:l=!0,isVerify:v=!1,forAddCredential:_=!1,allowLinking:S=!1})=>{let P="311699522805-ule1kgj57j4dq2qo8qr6ih7d0ejb6mv6.apps.googleusercontent.com",[A,E]=(0,n.useState)(null),[j,F]=(0,n.useState)(!1),C=(0,c.useSetAtom)(d.mobileAuthKeysAtom),O=(0,c.useAtomValue)(d.isAuthedAtom),k=(0,c.useAtomValue)(d.referrerAtom),T=(0,x.useAtomCallback)((0,n.useCallback)(e=>e(d.userIdAtom),[])),{isLocked:N,lock:R,unlock:$}=(0,b.default)(),I=(0,c.useSetAtom)(d.isJustSignedUpAtom),M=(0,c.useSetAtom)(d.isPhraseModalOpenAtom),K=(0,w.useTurnkeyClient)();(0,n.useEffect)(()=>{let e=(0,g.generateP256KeyPair)();E({publicKey:e.publicKeyUncompressed,privateKey:e.privateKey})},[]),(0,n.useEffect)(()=>{let e;F((e=window.navigator.userAgent.toLowerCase(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)))},[]);let D=A?(0,s.sha256)(A.publicKey).replace(/^0x/,""):null,U=(0,m.useOnAuth)(),B=async o=>{if(N())return h.default.error("Please wait for authentication to complete");R();try{if(O&&!v)return h.default.error("You are already signed in");if(S){if(!K)return h.default.error("Turnkey client not found");return await (0,w.isTurnkeySessionExpired)(K),h.default.error("Turnkey session expired, please log out and in again")}let n=h.default.loading(t,{duration:1/0});if(!A)return void h.default.error("Failed Google OAuth: No auth keys",{toastId:n});try{if(o.credential){let{credentialBundle:t,orgId:a,userId:i,isNewUser:u}=await p.axiomApiV2.post("/google-oauth",{credential:o.credential,sessionPublicKey:A.publicKey,referrer:k,allowRegistration:l,isVerify:v,forAddCredential:_,allowLinking:S});if(S){if(!K)throw Error("Turnkey client still not found");let{userId:t}=await K.getWhoami();await K.createOauthProviders({oauthProviders:[{providerName:"Google",oidcToken:o.credential}],userId:t}),h.default.success(r,{toastId:n}),e?.();return}if(v){if(i!==T())throw Error("User ID mismatch");e?.()}else await U({type:"bundle",turnkeyCredentialBundle:t,authPrivateKey:A.privateKey},a,i,"google",e),u&&(I(!0),M(!0));h.default.success(r,{toastId:n})}else h.default.error("Failed Google OAuth: No credential provided",{toastId:n})}catch(e){h.default.error("Failed Google OAuth: "+(0,f.getErrorMessage)(e),{toastId:n})}}finally{$()}};return D?(0,o.jsx)(i,{clientId:P,nonce:D,children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("button",{onClick:j?()=>{if(N())return h.default.error("Please wait for google to redirect");R();try{if(!D||!A)throw Error("Failed to initialize Google login");C({publicKey:A.publicKey,privateKey:A.privateKey,allowRegistration:l,referrer:k??void 0});let e=new URLSearchParams({client_id:P,redirect_uri:`${window.location.origin}/google-oauth`,response_type:"code",scope:"email profile",nonce:D,prompt:"consent"});window.location.href=`https://accounts.google.com/o/oauth2/v2/auth?${e.toString()}`}catch(e){h.default.error("Failed Google OAuth: "+(0,f.getErrorMessage)(e))}finally{$()}}:()=>{let e=document.querySelector('.google-login [role="button"]');e&&e.click()},className:"bg-secondaryStroke hover:bg-secondaryStroke/80 flex flex-row w-full h-[32px] px-[16px] gap-[8px] justify-center items-center rounded-full transition-all duration-125",children:[(0,o.jsx)(y.default,{src:"/images/google-logo.svg",alt:"Google logo",width:16,height:16}),(0,o.jsx)("span",{className:"text-[14px] font-medium text-textPrimary",children:"Continue with Google"})]}),(0,o.jsx)("div",{className:"hidden google-login",children:(0,o.jsx)(u,{nonce:D,theme:"filled_black",shape:"pill",size:"large",text:a,useOneTap:!1,auto_select:!1,onSuccess:B})})]})}):null}],32374);var v=e.i(467034);let _=async()=>{if("phantom"in window){let e=window,t=e.phantom?.solana;if(t?.isPhantom)try{return await t.connect(),t}catch(e){h.default.error("Failed to connect to Phantom: "+(0,f.getErrorMessage)(e))}else h.default.error("Phantom is not installed")}return null};var S=e.i(651422);e.i(490156);var P=e.i(103476);class A extends Error{constructor(e,t=null){super(`${e}${t?` - error: ${t.message}`:""}`),this.originalError=t,this.name="WalletStamperError"}}(t=r||(r={})).Ethereum="ethereum",t.Solana="solana";var E=e.i(110831);class j{constructor(e){this.wallet=e}async stamp(t){let o,n;try{o=await this.wallet.signMessage(t)}catch(e){throw new A("Failed to sign the message",e)}let a=this.wallet.type===r.Solana?"SIGNATURE_SCHEME_TK_API_ED25519":"SIGNATURE_SCHEME_TK_API_SECP256K1_EIP191";try{if(this.wallet.type===r.Ethereum){let{recoverPublicKey:r,hashMessage:a}=await e.A(933619),{compressRawPublicKey:i,toDerSignature:l}=await e.A(481096);n=(await r({hash:a(t),signature:o})).replace("0x","");let u=Uint8Array.from(v.Buffer.from(n,"hex"));n=v.Buffer.from(i(u)).toString("hex"),o=l(o.replace("0x",""))}else n=await this.wallet.getPublicKey()}catch(e){throw new A("Failed to recover public key",e)}let i={publicKey:n,scheme:a,signature:o};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,E.stringToBase64urlString)(JSON.stringify(i))}}}e.i(781974),e.i(658765),e.i(94007);var F=e.i(850430);e.i(258291);var C=e.i(29036);e.s(["default",0,({onSuccess:e,allowRegistration:t=!0,successMessage:a="Authenticated",isVerify:i=!1,forAddCredential:l=!1,allowLinking:u=!1})=>{let s=(0,c.useAtomValue)(d.referrerAtom),y=(0,m.useOnAuth)(),A=(0,c.useAtomValue)(d.isAuthedAtom),E=(0,c.useSetAtom)(d.isJustSignedUpAtom),O=(0,c.useSetAtom)(d.isPhraseModalOpenAtom),{isLocked:k,lock:T,unlock:N}=(0,b.default)(),R=(0,x.useAtomCallback)((0,n.useCallback)(e=>e(d.userIdAtom),[])),$=(0,w.useTurnkeyClient)(),I=async()=>{if(k())return h.default.error("Please wait for the verification to complete");T();try{if(A&&!i)return h.default.error("You are already signed in");if(u){if(!$)return h.default.error("Turnkey client not found");return await (0,w.isTurnkeySessionExpired)($),h.default.error("Turnkey session expired, please log out and in again")}let o=h.default.loading("Continue in Phantom...",{duration:1/0}),n=await _();if(n)try{let c=n.publicKey;if(!c)throw Error("Failed to get Phantom public key");let d=c.toBase58();h.default.loading("Fetching nonce...",{toastId:o,duration:1/0});let f=await p.axiomApiV2.post("/wallet-nonce",{walletAddress:d});h.default.loading("Sign message in Phantom...",{toastId:o,duration:1/0});let m=`By signing, you agree to Axiom's Terms of Use & Privacy Policy (axiom.trade/legal).

Nonce: ${f}`,x=new TextEncoder().encode(m),b=await n.signMessage(x,"utf8"),w=P.default.encode(b.signature);h.default.loading("Verifying signature...",{toastId:o,duration:1/0});let{orgId:_,userId:S,turnkeyUserId:A,isNewUser:k}=await p.axiomApiV2.post("/verify-wallet-v2",{walletAddress:d,signature:w,nonce:f,referrer:s,allowRegistration:t,isVerify:i,forAddCredential:l,allowLinking:u});if(u){if(!$)throw Error("Turnkey client still not found");await $.createApiKeys({apiKeys:[{apiKeyName:"Solana Wallet",publicKey:v.Buffer.from(P.default.decode(d)).toString("hex"),curveType:"API_KEY_CURVE_ED25519"}],userId:A}),h.default.success(a,{toastId:o}),e?.();return}if(i){if(S!==R())throw Error("User ID mismatch");h.default.success(a,{toastId:o}),e?.();return}let T=new j({type:r.Solana,getPublicKey:async()=>v.Buffer.from(P.default.decode(c.toBase58())).toString("hex"),signMessage:async e=>{let t=new TextEncoder().encode(e),r=await n.signMessage(t,"utf8");return v.Buffer.from(r.signature).toString("hex")}}),N=new F.TurnkeyClient({baseUrl:"https://api.turnkey.com"},T),I=(0,g.generateP256KeyPair)();h.default.loading("Sign message in Phantom...",{toastId:o,duration:1/0});let M=(0,C.createActivityPoller)({client:N,requestFn:N.createReadWriteSession,refreshIntervalMs:2e3}),K=await M({type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2",timestampMs:Date.now().toString(),organizationId:_,parameters:{apiKeyName:`Axiom Nonce: ${f}`,targetPublicKey:I.publicKeyUncompressed,userId:A,expirationSeconds:"2592000"}}),D=K.result.createReadWriteSessionResultV2?.credentialBundle;if(!D)throw Error("Failed to create read/write session");await y({type:"bundle",turnkeyCredentialBundle:D,authPrivateKey:I.privateKey},_,S,"phantom",e),k&&(E(!0),O(!0)),h.default.success(a,{toastId:o})}catch(e){h.default.error("Failed to connect: "+(0,f.getErrorMessage)(e),{toastId:o})}else{let e;e=window.navigator.userAgent.toLowerCase(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)&&h.default.warn("You must use the Phantom browser to sign in on mobile with Phantom"),h.default.error("Failed to connect to Phantom",{toastId:o})}}finally{N()}};return(0,o.jsxs)("button",{onClick:I,className:"bg-secondaryStroke flex flex-row w-full h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-secondaryStroke/80 transition-all duration-125 cursor-pointer",children:[(0,o.jsx)(S.default,{src:"/images/phantom-purple.svg",alt:"Phantom logo",width:16,height:16}),(0,o.jsx)("span",{className:"text-[14px] text-textPrimary",children:"Connect with Phantom"})]})}],57895)},832223,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(null==e)throw TypeError("Expected a string but received a ".concat(e));if("String"!==e.constructor.name)throw TypeError("Expected a string but received a ".concat(e.constructor.name))},t.exports=r.default,t.exports.default=r.default},951584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=0;r<t.length;r++){var o=t[r];if(e===o||"[object RegExp]"===Object.prototype.toString.call(o)&&o.test(e))return!0}return!1},t.exports=r.default,t.exports.default=r.default},471789,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,n.default)(e),"object"===a(t)?(r=t.min||0,o=t.max):(r=arguments[1],o=arguments[2]);var r,o,i=encodeURI(e).split(/%..|./).length-1;return i>=r&&(void 0===o||i<=o)};var o,n=(o=e.r(832223))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=r.default,t.exports.default=r.default},871707,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},t.exports=r.default,t.exports.default=r.default},367642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,o.default)(e),(t=(0,n.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a)))&&!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var o=a(e.r(832223)),n=a(e.r(871707));function a(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};t.exports=r.default,t.exports.default=r.default},635997,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(t);var o=("object"===a(r)?r.version:arguments[1])||"";return o?"4"===o.toString()?u.test(t):"6"===o.toString()&&c.test(t):e(t,{version:4})||e(t,{version:6})};var o,n=(o=e.r(832223))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l="(".concat(i,"[.]){3}").concat(i),u=new RegExp("^".concat(l,"$")),s="(?:[0-9a-fA-F]{1,4})",c=RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(l,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(l,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(l,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(l,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(l,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(l,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(l,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");t.exports=r.default,t.exports.default=r.default},217968,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if((0,o.default)(e),(t=(0,u.default)(t,c)).require_display_name||t.allow_display_name){var r=e.match(d);if(r){var s,y,x=r[1];if(e=e.replace(x,"").replace(/(^<|>$)/g,""),x.endsWith(" ")&&(x=x.slice(0,-1)),!(!(!(y=(s=x).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(y)&&(y===s||y.split('"').length!==y.split('\\"').length))&&1))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var b=e.split("@"),w=b.pop(),v=w.toLowerCase();if(t.host_blacklist.length>0&&(0,n.default)(v,t.host_blacklist)||t.host_whitelist.length>0&&!(0,n.default)(v,t.host_whitelist))return!1;var _=b.join("@");if(t.domain_specific_validation&&("gmail.com"===v||"googlemail.com"===v)){var S=(_=_.toLowerCase()).split("+")[0];if(!(0,a.default)(S.replace(/\./g,""),{min:6,max:30}))return!1;for(var P=S.split("."),A=0;A<P.length;A++)if(!p.test(P[A]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(_,{max:64})||!(0,a.default)(w,{max:254})))return!1;if(!(0,i.default)(w,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,l.default)(w)){if(!w.startsWith("[")||!w.endsWith("]"))return!1;var E=w.slice(1,-1);if(0===E.length||!(0,l.default)(E))return!1}}if(t.blacklisted_chars&&-1!==_.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;if('"'===_[0]&&'"'===_[_.length-1])return _=_.slice(1,_.length-1),t.allow_utf8_local_part?g.test(_):m.test(_);for(var j=t.allow_utf8_local_part?h:f,F=_.split("."),C=0;C<F.length;C++)if(!j.test(F[C]))return!1;return!0};var o=s(e.r(832223)),n=s(e.r(951584)),a=s(e.r(471789)),i=s(e.r(367642)),l=s(e.r(635997)),u=s(e.r(871707));function s(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=r.default,t.exports.default=r.default}]);