(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,320502,(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||e.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(t){var r=void 0!==i&&i||"undefined"!=typeof self&&self||e.g||{},n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(n.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,a=d(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,a=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(i=(n=t.method||this.method||"GET").toUpperCase(),g.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function x(e,t){if(!(this instanceof x))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];x.redirect=function(e,t){if(-1===A.indexOf(t))throw RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,i){return new Promise(function(a,s){var l=new b(e,i);if(l.signal&&l.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var n="response"in d?d.response:d.responseText;setTimeout(function(){a(new x(n,r))},0)},d.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){s(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(n.blob?d.responseType="blob":n.arrayBuffer&&(d.responseType="arraybuffer")),i&&"object"==typeof i.headers&&!(i.headers instanceof c||r.Headers&&i.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(i.headers).forEach(function(e){p.push(o(e)),d.setRequestHeader(e,u(i.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&d.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){d.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=c,r.Request=b,r.Response=x),t.Headers=c,t.Request=b,t.Response=x,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=n.fetch?n:i;(r=a.fetch).default=a.fetch,r.fetch=a.fetch,r.Headers=a.Headers,r.Request=a.Request,r.Response=a.Response,t.exports=r},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={callServer:function(){return a.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(132120),s=e.r(92245),o=e.r(235326)},258291,285942,850430,29036,94007,874107,e=>{"use strict";var t,r,n=e.i(247167),i=e.i(110831);e.i(981902);let a="undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&void 0!==crypto.subtle,s=void 0!==n.default&&null!=n.default.versions&&null!=n.default.versions.node,o=async t=>a?(await e.A(664017).then(e=>e.signWithApiKey))(t):s?(await e.A(830932).then(e=>e.signWithApiKey))(t):(await e.A(311485).then(e=>e.signWithApiKey))(t);class u{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey}async stamp(e){let t=await o({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e}),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:t};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,i.stringToBase64urlString)(JSON.stringify(r))}}}var l=e.i(320502);let c=l.fetch;function d(){return{apiPublicKey:f(null,"apiPublicKey"),apiPrivateKey:f(null,"apiPrivateKey"),baseUrl:f(null,"baseUrl")}}function f(e,t){if("string"!=typeof e||!e)throw Error(`"${t}" must be a non-empty string`);return e}var p=e.i(467034);function h(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let m="copy",g="convert";function b(e,t){return{required:!0,schema:e,derive:t}}function y(e){return{required:!0,schema:e}}function x(e){return{required:!1,schema:e}}let A={appid:x(m),appidExclude:x(m),credProps:x(m)};y(m),y(m),y(g),x(m),y({clientDataJSON:y(g),attestationObject:y(g),transports:b(m,e=>e.getTransports?.()||[])}),b(A,e=>e.getClientExtensionResults());let w={type:y(m),id:y(m),rawId:y(g),authenticatorAttachment:x(m),response:y({clientDataJSON:y(g),authenticatorData:y(g),signature:y(g),userHandle:y(g)}),clientExtensionResults:b(A,e=>e.getClientExtensionResults())};async function v(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,n){if(r===m)return n;if(r===g)return t(n);if(r instanceof Array)return n.map(n=>e(t,r[0],n));if(r instanceof Object){let i={};for(let[a,s]of Object.entries(r)){if(s.derive){let e=s.derive(n);void 0!==e&&(n[a]=e)}if(!(a in n)){if(s.required)throw Error(`Missing key: ${a}`);continue}if(null==n[a]){i[a]=null;continue}i[a]=e(t,s.schema,n[a])}return i}})(h,w,t),t}let S={publicKey:{timeout:3e5,userVerification:"preferred"}};async function E(e,t=S){let r=await k(e);return{...t,publicKey:{...S.publicKey,...t.publicKey,challenge:r}}}async function k(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=p.Buffer.from(r).toString("hex");return new Uint8Array(p.Buffer.from(n,"utf8"))}async function T(e,t){if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");let r=await E(e,t),n=(await v(r)).toJSON();return JSON.stringify({authenticatorData:n.response.authenticatorData,clientDataJson:n.response.clientDataJSON,credentialId:n.id,signature:n.response.signature})}let P={},I={redirect:"follow"};async function _(e){let{uri:t,query:r={},substitution:n={},body:i={}}=e,a=B({uri:t,query:r,substitution:n}),s=JSON.stringify(i),o=await T(s,e.options);return{url:a.toString(),body:s,stamp:o}}async function N(e){let{uri:t,method:r,headers:n={},query:i={},substitution:a={},body:s={}}=e,o=B({uri:t,query:i,substitution:a}),{sealedBody:u,xStamp:l}=await O({body:s}),d=await c(o.toString(),{...I,method:r,headers:{...P,...n,"X-Stamp":l},body:u});if(!d.ok){let e;try{e=await d.json()}catch(e){throw Error(`${d.status} ${d.statusText}`)}throw new D(e)}return await d.json()}function B(e){let{uri:t,query:r,substitution:n}=e,i=function(){try{let{baseUrl:e}=d();return e}catch(t){let{baseUrl:e}={baseUrl:f(null,"baseUrl")};return e}}(),a=new URL(function(e,t){let r=e;for(let n of Object.keys(t)){let i=r.replaceAll(`{${n}}`,t[n]);R(i!==r,`Substitution error: cannot find "${n}" in URI "${e}". \`substitutionMap\`: ${JSON.stringify(t)}`),r=i}return R(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}(t,n),i);for(let e in r){let t=r[e];if(Array.isArray(t))for(let r of t)a.searchParams.append(e,r);else a.searchParams.append(e,t??"")}return a}function R(e,t){if(!e)throw Error(t)}function C(e){return JSON.stringify(e)}async function O(e){let{body:t}=e,{apiPublicKey:r,apiPrivateKey:n}=e;r||(r=d().apiPublicKey),n||(n=d().apiPrivateKey);let a=C(t),s=await o({content:a,privateKey:n,publicKey:r}),u=C({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:s});return{sealedBody:a,xStamp:(0,i.stringToBase64urlString)(u)}}class D extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}e.s(["TurnkeyRequestError",()=>D,"request",()=>N,"signedRequest",()=>_],285942);let U=e=>N({uri:"/public/v1/query/get_activity",method:"POST",body:e.body}),F=(e,t)=>_({uri:"/public/v1/query/get_activity",body:e.body,options:t}),M=e=>N({uri:"/public/v1/query/get_api_key",method:"POST",body:e.body}),L=(e,t)=>_({uri:"/public/v1/query/get_api_key",body:e.body,options:t}),K=e=>N({uri:"/public/v1/query/get_api_keys",method:"POST",body:e.body}),q=(e,t)=>_({uri:"/public/v1/query/get_api_keys",body:e.body,options:t}),W=e=>N({uri:"/public/v1/query/get_attestation",method:"POST",body:e.body}),V=(e,t)=>_({uri:"/public/v1/query/get_attestation",body:e.body,options:t}),G=e=>N({uri:"/public/v1/query/get_authenticator",method:"POST",body:e.body}),z=(e,t)=>_({uri:"/public/v1/query/get_authenticator",body:e.body,options:t}),j=e=>N({uri:"/public/v1/query/get_authenticators",method:"POST",body:e.body}),H=(e,t)=>_({uri:"/public/v1/query/get_authenticators",body:e.body,options:t}),Q=e=>N({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:e.body}),X=(e,t)=>_({uri:"/public/v1/query/get_oauth_providers",body:e.body,options:t}),J=e=>N({uri:"/public/v1/query/get_organization",method:"POST",body:e.body}),Y=(e,t)=>_({uri:"/public/v1/query/get_organization",body:e.body,options:t}),Z=e=>N({uri:"/public/v1/query/get_organization_configs",method:"POST",body:e.body}),$=(e,t)=>_({uri:"/public/v1/query/get_organization_configs",body:e.body,options:t}),ee=e=>N({uri:"/public/v1/query/get_policy",method:"POST",body:e.body}),et=(e,t)=>_({uri:"/public/v1/query/get_policy",body:e.body,options:t}),er=e=>N({uri:"/public/v1/query/get_private_key",method:"POST",body:e.body}),en=(e,t)=>_({uri:"/public/v1/query/get_private_key",body:e.body,options:t}),ei=e=>N({uri:"/public/v1/query/get_user",method:"POST",body:e.body}),ea=(e,t)=>_({uri:"/public/v1/query/get_user",body:e.body,options:t}),es=e=>N({uri:"/public/v1/query/get_wallet",method:"POST",body:e.body}),eo=(e,t)=>_({uri:"/public/v1/query/get_wallet",body:e.body,options:t}),eu=e=>N({uri:"/public/v1/query/list_activities",method:"POST",body:e.body}),el=(e,t)=>_({uri:"/public/v1/query/list_activities",body:e.body,options:t}),ec=e=>N({uri:"/public/v1/query/list_policies",method:"POST",body:e.body}),ed=(e,t)=>_({uri:"/public/v1/query/list_policies",body:e.body,options:t}),ef=e=>N({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:e.body}),ep=(e,t)=>_({uri:"/public/v1/query/list_private_key_tags",body:e.body,options:t}),eh=e=>N({uri:"/public/v1/query/list_private_keys",method:"POST",body:e.body}),em=(e,t)=>_({uri:"/public/v1/query/list_private_keys",body:e.body,options:t}),eg=e=>N({uri:"/public/v1/query/list_suborgs",method:"POST",body:e.body}),eb=(e,t)=>_({uri:"/public/v1/query/list_suborgs",body:e.body,options:t}),ey=e=>N({uri:"/public/v1/query/list_user_tags",method:"POST",body:e.body}),ex=(e,t)=>_({uri:"/public/v1/query/list_user_tags",body:e.body,options:t}),eA=e=>N({uri:"/public/v1/query/list_users",method:"POST",body:e.body}),ew=(e,t)=>_({uri:"/public/v1/query/list_users",body:e.body,options:t}),ev=e=>N({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:e.body}),eS=(e,t)=>_({uri:"/public/v1/query/list_verified_suborgs",body:e.body,options:t}),eE=e=>N({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:e.body}),ek=(e,t)=>_({uri:"/public/v1/query/list_wallet_accounts",body:e.body,options:t}),eT=e=>N({uri:"/public/v1/query/list_wallets",method:"POST",body:e.body}),eP=(e,t)=>_({uri:"/public/v1/query/list_wallets",body:e.body,options:t}),eI=e=>N({uri:"/public/v1/query/whoami",method:"POST",body:e.body}),e_=(e,t)=>_({uri:"/public/v1/query/whoami",body:e.body,options:t}),eN=e=>N({uri:"/public/v1/submit/approve_activity",method:"POST",body:e.body}),eB=(e,t)=>_({uri:"/public/v1/submit/approve_activity",body:e.body,options:t}),eR=e=>N({uri:"/public/v1/submit/create_api_keys",method:"POST",body:e.body}),eC=(e,t)=>_({uri:"/public/v1/submit/create_api_keys",body:e.body,options:t}),eO=e=>N({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:e.body}),eD=(e,t)=>_({uri:"/public/v1/submit/create_api_only_users",body:e.body,options:t}),eU=e=>N({uri:"/public/v1/submit/create_authenticators",method:"POST",body:e.body}),eF=(e,t)=>_({uri:"/public/v1/submit/create_authenticators",body:e.body,options:t}),eM=e=>N({uri:"/public/v1/submit/create_invitations",method:"POST",body:e.body}),eL=(e,t)=>_({uri:"/public/v1/submit/create_invitations",body:e.body,options:t}),eK=e=>N({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:e.body}),eq=(e,t)=>_({uri:"/public/v1/submit/create_oauth_providers",body:e.body,options:t}),eW=e=>N({uri:"/public/v1/submit/create_policies",method:"POST",body:e.body}),eV=(e,t)=>_({uri:"/public/v1/submit/create_policies",body:e.body,options:t}),eG=e=>N({uri:"/public/v1/submit/create_policy",method:"POST",body:e.body}),ez=(e,t)=>_({uri:"/public/v1/submit/create_policy",body:e.body,options:t}),ej=e=>N({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:e.body}),eH=(e,t)=>_({uri:"/public/v1/submit/create_private_key_tag",body:e.body,options:t}),eQ=e=>N({uri:"/public/v1/submit/create_private_keys",method:"POST",body:e.body}),eX=(e,t)=>_({uri:"/public/v1/submit/create_private_keys",body:e.body,options:t}),eJ=e=>N({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:e.body}),eY=(e,t)=>_({uri:"/public/v1/submit/create_read_only_session",body:e.body,options:t}),eZ=e=>N({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:e.body}),e$=(e,t)=>_({uri:"/public/v1/submit/create_read_write_session",body:e.body,options:t}),e0=e=>N({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:e.body}),e1=(e,t)=>_({uri:"/public/v1/submit/create_sub_organization",body:e.body,options:t}),e2=e=>N({uri:"/public/v1/submit/create_user_tag",method:"POST",body:e.body}),e4=(e,t)=>_({uri:"/public/v1/submit/create_user_tag",body:e.body,options:t}),e6=e=>N({uri:"/public/v1/submit/create_users",method:"POST",body:e.body}),e3=(e,t)=>_({uri:"/public/v1/submit/create_users",body:e.body,options:t}),e5=e=>N({uri:"/public/v1/submit/create_wallet",method:"POST",body:e.body}),e8=(e,t)=>_({uri:"/public/v1/submit/create_wallet",body:e.body,options:t}),e7=e=>N({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:e.body}),e9=(e,t)=>_({uri:"/public/v1/submit/create_wallet_accounts",body:e.body,options:t}),te=e=>N({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:e.body}),tt=(e,t)=>_({uri:"/public/v1/submit/delete_api_keys",body:e.body,options:t}),tr=e=>N({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:e.body}),tn=(e,t)=>_({uri:"/public/v1/submit/delete_authenticators",body:e.body,options:t}),ti=e=>N({uri:"/public/v1/submit/delete_invitation",method:"POST",body:e.body}),ta=(e,t)=>_({uri:"/public/v1/submit/delete_invitation",body:e.body,options:t}),ts=e=>N({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:e.body}),to=(e,t)=>_({uri:"/public/v1/submit/delete_oauth_providers",body:e.body,options:t}),tu=e=>N({uri:"/public/v1/submit/delete_policy",method:"POST",body:e.body}),tl=(e,t)=>_({uri:"/public/v1/submit/delete_policy",body:e.body,options:t}),tc=e=>N({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:e.body}),td=(e,t)=>_({uri:"/public/v1/submit/delete_private_key_tags",body:e.body,options:t}),tf=e=>N({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:e.body}),tp=(e,t)=>_({uri:"/public/v1/submit/delete_private_keys",body:e.body,options:t}),th=e=>N({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:e.body}),tm=(e,t)=>_({uri:"/public/v1/submit/delete_sub_organization",body:e.body,options:t}),tg=e=>N({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:e.body}),tb=(e,t)=>_({uri:"/public/v1/submit/delete_user_tags",body:e.body,options:t}),ty=e=>N({uri:"/public/v1/submit/delete_users",method:"POST",body:e.body}),tx=(e,t)=>_({uri:"/public/v1/submit/delete_users",body:e.body,options:t}),tA=e=>N({uri:"/public/v1/submit/delete_wallets",method:"POST",body:e.body}),tw=(e,t)=>_({uri:"/public/v1/submit/delete_wallets",body:e.body,options:t}),tv=e=>N({uri:"/public/v1/submit/email_auth",method:"POST",body:e.body}),tS=(e,t)=>_({uri:"/public/v1/submit/email_auth",body:e.body,options:t}),tE=e=>N({uri:"/public/v1/submit/export_private_key",method:"POST",body:e.body}),tk=(e,t)=>_({uri:"/public/v1/submit/export_private_key",body:e.body,options:t}),tT=e=>N({uri:"/public/v1/submit/export_wallet",method:"POST",body:e.body}),tP=(e,t)=>_({uri:"/public/v1/submit/export_wallet",body:e.body,options:t}),tI=e=>N({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:e.body}),t_=(e,t)=>_({uri:"/public/v1/submit/export_wallet_account",body:e.body,options:t}),tN=e=>N({uri:"/public/v1/submit/import_private_key",method:"POST",body:e.body}),tB=(e,t)=>_({uri:"/public/v1/submit/import_private_key",body:e.body,options:t}),tR=e=>N({uri:"/public/v1/submit/import_wallet",method:"POST",body:e.body}),tC=(e,t)=>_({uri:"/public/v1/submit/import_wallet",body:e.body,options:t}),tO=e=>N({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:e.body}),tD=(e,t)=>_({uri:"/public/v1/submit/init_import_private_key",body:e.body,options:t}),tU=e=>N({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:e.body}),tF=(e,t)=>_({uri:"/public/v1/submit/init_import_wallet",body:e.body,options:t}),tM=e=>N({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:e.body}),tL=(e,t)=>_({uri:"/public/v1/submit/init_otp_auth",body:e.body,options:t}),tK=e=>N({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:e.body}),tq=(e,t)=>_({uri:"/public/v1/submit/init_user_email_recovery",body:e.body,options:t}),tW=e=>N({uri:"/public/v1/submit/oauth",method:"POST",body:e.body}),tV=(e,t)=>_({uri:"/public/v1/submit/oauth",body:e.body,options:t}),tG=e=>N({uri:"/public/v1/submit/otp_auth",method:"POST",body:e.body}),tz=(e,t)=>_({uri:"/public/v1/submit/otp_auth",body:e.body,options:t}),tj=e=>N({uri:"/public/v1/submit/recover_user",method:"POST",body:e.body}),tH=(e,t)=>_({uri:"/public/v1/submit/recover_user",body:e.body,options:t}),tQ=e=>N({uri:"/public/v1/submit/reject_activity",method:"POST",body:e.body}),tX=(e,t)=>_({uri:"/public/v1/submit/reject_activity",body:e.body,options:t}),tJ=e=>N({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:e.body}),tY=(e,t)=>_({uri:"/public/v1/submit/remove_organization_feature",body:e.body,options:t}),tZ=e=>N({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:e.body}),t$=(e,t)=>_({uri:"/public/v1/submit/set_organization_feature",body:e.body,options:t}),t0=e=>N({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:e.body}),t1=(e,t)=>_({uri:"/public/v1/submit/sign_raw_payload",body:e.body,options:t}),t2=e=>N({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:e.body}),t4=(e,t)=>_({uri:"/public/v1/submit/sign_raw_payloads",body:e.body,options:t}),t6=e=>N({uri:"/public/v1/submit/sign_transaction",method:"POST",body:e.body}),t3=(e,t)=>_({uri:"/public/v1/submit/sign_transaction",body:e.body,options:t}),t5=e=>N({uri:"/public/v1/submit/update_policy",method:"POST",body:e.body}),t8=(e,t)=>_({uri:"/public/v1/submit/update_policy",body:e.body,options:t}),t7=e=>N({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:e.body}),t9=(e,t)=>_({uri:"/public/v1/submit/update_private_key_tag",body:e.body,options:t}),re=e=>N({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:e.body}),rt=(e,t)=>_({uri:"/public/v1/submit/update_root_quorum",body:e.body,options:t}),rr=e=>N({uri:"/public/v1/submit/update_user",method:"POST",body:e.body}),rn=(e,t)=>_({uri:"/public/v1/submit/update_user",body:e.body,options:t}),ri=e=>N({uri:"/public/v1/submit/update_user_tag",method:"POST",body:e.body}),ra=(e,t)=>_({uri:"/public/v1/submit/update_user_tag",body:e.body,options:t}),rs=()=>N({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),ro=()=>_({uri:"/tkhq/api/v1/noop-codegen-anchor"});e.s(["approveActivity",()=>eN,"createApiKeys",()=>eR,"createApiOnlyUsers",()=>eO,"createAuthenticators",()=>eU,"createInvitations",()=>eM,"createOauthProviders",()=>eK,"createPolicies",()=>eW,"createPolicy",()=>eG,"createPrivateKeyTag",()=>ej,"createPrivateKeys",()=>eQ,"createReadOnlySession",()=>eJ,"createReadWriteSession",()=>eZ,"createSubOrganization",()=>e0,"createUserTag",()=>e2,"createUsers",()=>e6,"createWallet",()=>e5,"createWalletAccounts",()=>e7,"deleteApiKeys",()=>te,"deleteAuthenticators",()=>tr,"deleteInvitation",()=>ti,"deleteOauthProviders",()=>ts,"deletePolicy",()=>tu,"deletePrivateKeyTags",()=>tc,"deletePrivateKeys",()=>tf,"deleteSubOrganization",()=>th,"deleteUserTags",()=>tg,"deleteUsers",()=>ty,"deleteWallets",()=>tA,"emailAuth",()=>tv,"exportPrivateKey",()=>tE,"exportWallet",()=>tT,"exportWalletAccount",()=>tI,"getActivities",()=>eu,"getActivity",()=>U,"getApiKey",()=>M,"getApiKeys",()=>K,"getAttestationDocument",()=>W,"getAuthenticator",()=>G,"getAuthenticators",()=>j,"getOauthProviders",()=>Q,"getOrganization",()=>J,"getOrganizationConfigs",()=>Z,"getPolicies",()=>ec,"getPolicy",()=>ee,"getPrivateKey",()=>er,"getPrivateKeys",()=>eh,"getSubOrgIds",()=>eg,"getUser",()=>ei,"getUsers",()=>eA,"getVerifiedSubOrgIds",()=>ev,"getWallet",()=>es,"getWalletAccounts",()=>eE,"getWallets",()=>eT,"getWhoami",()=>eI,"importPrivateKey",()=>tN,"importWallet",()=>tR,"initImportPrivateKey",()=>tO,"initImportWallet",()=>tU,"initOtpAuth",()=>tM,"initUserEmailRecovery",()=>tK,"listPrivateKeyTags",()=>ef,"listUserTags",()=>ey,"nOOPCodegenAnchor",()=>rs,"oauth",()=>tW,"otpAuth",()=>tG,"recoverUser",()=>tj,"rejectActivity",()=>tQ,"removeOrganizationFeature",()=>tJ,"setOrganizationFeature",()=>tZ,"signApproveActivity",()=>eB,"signCreateApiKeys",()=>eC,"signCreateApiOnlyUsers",()=>eD,"signCreateAuthenticators",()=>eF,"signCreateInvitations",()=>eL,"signCreateOauthProviders",()=>eq,"signCreatePolicies",()=>eV,"signCreatePolicy",()=>ez,"signCreatePrivateKeyTag",()=>eH,"signCreatePrivateKeys",()=>eX,"signCreateReadOnlySession",()=>eY,"signCreateReadWriteSession",()=>e$,"signCreateSubOrganization",()=>e1,"signCreateUserTag",()=>e4,"signCreateUsers",()=>e3,"signCreateWallet",()=>e8,"signCreateWalletAccounts",()=>e9,"signDeleteApiKeys",()=>tt,"signDeleteAuthenticators",()=>tn,"signDeleteInvitation",()=>ta,"signDeleteOauthProviders",()=>to,"signDeletePolicy",()=>tl,"signDeletePrivateKeyTags",()=>td,"signDeletePrivateKeys",()=>tp,"signDeleteSubOrganization",()=>tm,"signDeleteUserTags",()=>tb,"signDeleteUsers",()=>tx,"signDeleteWallets",()=>tw,"signEmailAuth",()=>tS,"signExportPrivateKey",()=>tk,"signExportWallet",()=>tP,"signExportWalletAccount",()=>t_,"signGetActivities",()=>el,"signGetActivity",()=>F,"signGetApiKey",()=>L,"signGetApiKeys",()=>q,"signGetAttestationDocument",()=>V,"signGetAuthenticator",()=>z,"signGetAuthenticators",()=>H,"signGetOauthProviders",()=>X,"signGetOrganization",()=>Y,"signGetOrganizationConfigs",()=>$,"signGetPolicies",()=>ed,"signGetPolicy",()=>et,"signGetPrivateKey",()=>en,"signGetPrivateKeys",()=>em,"signGetSubOrgIds",()=>eb,"signGetUser",()=>ea,"signGetUsers",()=>ew,"signGetVerifiedSubOrgIds",()=>eS,"signGetWallet",()=>eo,"signGetWalletAccounts",()=>ek,"signGetWallets",()=>eP,"signGetWhoami",()=>e_,"signImportPrivateKey",()=>tB,"signImportWallet",()=>tC,"signInitImportPrivateKey",()=>tD,"signInitImportWallet",()=>tF,"signInitOtpAuth",()=>tL,"signInitUserEmailRecovery",()=>tq,"signListPrivateKeyTags",()=>ep,"signListUserTags",()=>ex,"signNOOPCodegenAnchor",()=>ro,"signOauth",()=>tV,"signOtpAuth",()=>tz,"signRawPayload",()=>t0,"signRawPayloads",()=>t2,"signRecoverUser",()=>tH,"signRejectActivity",()=>tX,"signRemoveOrganizationFeature",()=>tY,"signSetOrganizationFeature",()=>t$,"signSignRawPayload",()=>t1,"signSignRawPayloads",()=>t4,"signSignTransaction",()=>t3,"signTransaction",()=>t6,"signUpdatePolicy",()=>t8,"signUpdatePrivateKeyTag",()=>t9,"signUpdateRootQuorum",()=>rt,"signUpdateUser",()=>rn,"signUpdateUserTag",()=>ra,"updatePolicy",()=>t5,"updatePrivateKeyTag",()=>t7,"updateRootQuorum",()=>re,"updateUser",()=>rr,"updateUserTag",()=>ri],537897),e.i(537897);class ru{constructor(e,t){if(this.getActivity=async e=>this.request("/public/v1/query/get_activity",e),this.stampGetActivity=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",e),this.stampGetApiKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKeys=async e=>this.request("/public/v1/query/get_api_keys",e),this.stampGetApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",e),this.stampGetAttestationDocument=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",e),this.stampGetAuthenticator=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",e),this.stampGetAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",e),this.stampGetOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganization=async e=>this.request("/public/v1/query/get_organization",e),this.stampGetOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",e),this.stampGetOrganizationConfigs=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",e),this.stampGetPolicy=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",e),this.stampGetPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",e),this.stampGetUser=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",e),this.stampGetWallet=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getActivities=async e=>this.request("/public/v1/query/list_activities",e),this.stampGetActivities=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicies=async e=>this.request("/public/v1/query/list_policies",e),this.stampGetPolicies=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",e),this.stampListPrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKeys=async e=>this.request("/public/v1/query/list_private_keys",e),this.stampGetPrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getSubOrgIds=async e=>this.request("/public/v1/query/list_suborgs",e),this.stampGetSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listUserTags=async e=>this.request("/public/v1/query/list_user_tags",e),this.stampListUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUsers=async e=>this.request("/public/v1/query/list_users",e),this.stampGetUsers=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",e),this.stampGetVerifiedSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",e),this.stampGetWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallets=async e=>this.request("/public/v1/query/list_wallets",e),this.stampGetWallets=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWhoami=async e=>this.request("/public/v1/query/whoami",e),this.stampGetWhoami=async e=>{let t=this.config.baseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.approveActivity=async e=>this.request("/public/v1/submit/approve_activity",e),this.stampApproveActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiKeys=async e=>this.request("/public/v1/submit/create_api_keys",e),this.stampCreateApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiOnlyUsers=async e=>this.request("/public/v1/submit/create_api_only_users",e),this.stampCreateApiOnlyUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createAuthenticators=async e=>this.request("/public/v1/submit/create_authenticators",e),this.stampCreateAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createInvitations=async e=>this.request("/public/v1/submit/create_invitations",e),this.stampCreateInvitations=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createOauthProviders=async e=>this.request("/public/v1/submit/create_oauth_providers",e),this.stampCreateOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicies=async e=>this.request("/public/v1/submit/create_policies",e),this.stampCreatePolicies=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicy=async e=>this.request("/public/v1/submit/create_policy",e),this.stampCreatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeyTag=async e=>this.request("/public/v1/submit/create_private_key_tag",e),this.stampCreatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeys=async e=>this.request("/public/v1/submit/create_private_keys",e),this.stampCreatePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadOnlySession=async e=>this.request("/public/v1/submit/create_read_only_session",e),this.stampCreateReadOnlySession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadWriteSession=async e=>this.request("/public/v1/submit/create_read_write_session",e),this.stampCreateReadWriteSession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createSubOrganization=async e=>this.request("/public/v1/submit/create_sub_organization",e),this.stampCreateSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUserTag=async e=>this.request("/public/v1/submit/create_user_tag",e),this.stampCreateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUsers=async e=>this.request("/public/v1/submit/create_users",e),this.stampCreateUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWallet=async e=>this.request("/public/v1/submit/create_wallet",e),this.stampCreateWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWalletAccounts=async e=>this.request("/public/v1/submit/create_wallet_accounts",e),this.stampCreateWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteApiKeys=async e=>this.request("/public/v1/submit/delete_api_keys",e),this.stampDeleteApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteAuthenticators=async e=>this.request("/public/v1/submit/delete_authenticators",e),this.stampDeleteAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteInvitation=async e=>this.request("/public/v1/submit/delete_invitation",e),this.stampDeleteInvitation=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteOauthProviders=async e=>this.request("/public/v1/submit/delete_oauth_providers",e),this.stampDeleteOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePolicy=async e=>this.request("/public/v1/submit/delete_policy",e),this.stampDeletePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeyTags=async e=>this.request("/public/v1/submit/delete_private_key_tags",e),this.stampDeletePrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeys=async e=>this.request("/public/v1/submit/delete_private_keys",e),this.stampDeletePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteSubOrganization=async e=>this.request("/public/v1/submit/delete_sub_organization",e),this.stampDeleteSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUserTags=async e=>this.request("/public/v1/submit/delete_user_tags",e),this.stampDeleteUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUsers=async e=>this.request("/public/v1/submit/delete_users",e),this.stampDeleteUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteWallets=async e=>this.request("/public/v1/submit/delete_wallets",e),this.stampDeleteWallets=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.emailAuth=async e=>this.request("/public/v1/submit/email_auth",e),this.stampEmailAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportPrivateKey=async e=>this.request("/public/v1/submit/export_private_key",e),this.stampExportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWallet=async e=>this.request("/public/v1/submit/export_wallet",e),this.stampExportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWalletAccount=async e=>this.request("/public/v1/submit/export_wallet_account",e),this.stampExportWalletAccount=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importPrivateKey=async e=>this.request("/public/v1/submit/import_private_key",e),this.stampImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importWallet=async e=>this.request("/public/v1/submit/import_wallet",e),this.stampImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportPrivateKey=async e=>this.request("/public/v1/submit/init_import_private_key",e),this.stampInitImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportWallet=async e=>this.request("/public/v1/submit/init_import_wallet",e),this.stampInitImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initOtpAuth=async e=>this.request("/public/v1/submit/init_otp_auth",e),this.stampInitOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initUserEmailRecovery=async e=>this.request("/public/v1/submit/init_user_email_recovery",e),this.stampInitUserEmailRecovery=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.oauth=async e=>this.request("/public/v1/submit/oauth",e),this.stampOauth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.otpAuth=async e=>this.request("/public/v1/submit/otp_auth",e),this.stampOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.recoverUser=async e=>this.request("/public/v1/submit/recover_user",e),this.stampRecoverUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.rejectActivity=async e=>this.request("/public/v1/submit/reject_activity",e),this.stampRejectActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.removeOrganizationFeature=async e=>this.request("/public/v1/submit/remove_organization_feature",e),this.stampRemoveOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.setOrganizationFeature=async e=>this.request("/public/v1/submit/set_organization_feature",e),this.stampSetOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayload=async e=>this.request("/public/v1/submit/sign_raw_payload",e),this.stampSignRawPayload=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayloads=async e=>this.request("/public/v1/submit/sign_raw_payloads",e),this.stampSignRawPayloads=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signTransaction=async e=>this.request("/public/v1/submit/sign_transaction",e),this.stampSignTransaction=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePolicy=async e=>this.request("/public/v1/submit/update_policy",e),this.stampUpdatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePrivateKeyTag=async e=>this.request("/public/v1/submit/update_private_key_tag",e),this.stampUpdatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateRootQuorum=async e=>this.request("/public/v1/submit/update_root_quorum",e),this.stampUpdateRootQuorum=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUser=async e=>this.request("/public/v1/submit/update_user",e),this.stampUpdateUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUserTag=async e=>this.request("/public/v1/submit/update_user_tag",e),this.stampUpdateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),n=await this.stamper.stamp(r);return{body:r,stamp:n,url:t}},!e.baseUrl)throw Error("Missing base URL. Please verify env vars.");this.config=e,this.stamper=t}async request(e,t){let r=this.config.baseUrl+e,n=JSON.stringify(t),i=await this.stamper.stamp(n),a=await c(r,{method:"POST",headers:{[i.stampHeaderName]:i.stampHeaderValue,"X-Client-Version":"@turnkey/http@2.17.3"},body:n,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new D(e)}return await a.json()}}e.s(["TurnkeyClient",()=>ru],850430);class rl extends Error{constructor(e){const{message:t,cause:r,activityId:n,activityStatus:i,activityType:a}=e;super(t),this.name="TurnkeyActivityError",this.activityId=n??void 0,this.activityStatus=i??void 0,this.activityType=a??void 0,this.cause=r??void 0}}let rc=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];function rd(e){let{client:t,requestFn:r,refreshIntervalMs:n=500}=e;return async e=>{let i=(await r(e)).activity;for(;;){switch(i.status){case"ACTIVITY_STATUS_COMPLETED":return i;case"ACTIVITY_STATUS_CREATED":case"ACTIVITY_STATUS_PENDING":break;case"ACTIVITY_STATUS_CONSENSUS_NEEDED":throw new rl({message:`Consensus needed for activity ${i.id}`,activityId:i.id,activityStatus:i.status,activityType:i.type});case"ACTIVITY_STATUS_FAILED":throw new rl({message:`Activity ${i.id} failed`,activityId:i.id,activityStatus:i.status,activityType:i.type});case"ACTIVITY_STATUS_REJECTED":throw new rl({message:`Activity ${i.id} was rejected`,activityId:i.id,activityStatus:i.status,activityType:i.type});default:var a=i.status;throw Error(`Unexpected case: ${JSON.stringify(a)}`)}await function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}(n),i=(await t.getActivity({activityId:i.id,organizationId:i.organizationId})).activity}}}e.s(["createActivityPoller",()=>rd],29036),e.s([],94007),(t=r||(r={}))[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command";class rf extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}class rp{constructor(e){this.getActivity=async e=>this.request("/public/v1/query/get_activity",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getApiKeys=async(e={})=>this.request("/public/v1/query/get_api_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganization=async(e={})=>this.request("/public/v1/query/get_organization",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getActivities=async(e={})=>this.request("/public/v1/query/list_activities",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivities=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPolicies=async(e={})=>this.request("/public/v1/query/list_policies",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getPrivateKeys=async(e={})=>this.request("/public/v1/query/list_private_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getSubOrgIds=async(e={})=>this.request("/public/v1/query/list_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.listUserTags=async(e={})=>this.request("/public/v1/query/list_user_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getUsers=async(e={})=>this.request("/public/v1/query/list_users",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWallets=async(e={})=>this.request("/public/v1/query/list_wallets",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.getWhoami=async(e={})=>this.request("/public/v1/query/whoami",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWhoami=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.approveActivity=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_api_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createApiOnlyUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_api_only_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_authenticators",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createInvitations=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_invitations",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_oauth_providers",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicies=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_policies",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_private_key_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createPrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_private_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadOnlySession=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_read_only_session",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createReadWriteSession=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_read_write_session",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_sub_organization",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUserTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_user_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V2"},"createUsersResult")},this.stampCreateUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.createWalletAccounts=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteApiKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_api_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_authenticators",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteInvitation=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_invitation",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeyTags=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deletePrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_private_keys",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_sub_organization",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUserTags=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_user_tags",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteUsers=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_users",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.deleteWallets=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/delete_wallets",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.emailAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/email_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.exportWalletAccount=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/export_wallet_account",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/import_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.importWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/import_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_import_private_key",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initImportWallet=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_import_wallet",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initOtpAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_otp_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH"},"initOtpAuthResult")},this.stampInitOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.initUserEmailRecovery=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.oauth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/oauth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.otpAuth=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/otp_auth",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.recoverUser=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/recover_user",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.rejectActivity=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.removeOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/remove_organization_feature",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.setOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/set_organization_feature",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayload=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_raw_payload",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signRawPayloads=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.signTransaction=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/sign_transaction",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePolicy=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_policy",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY"},"updatePolicyResult")},this.stampUpdatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updatePrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_private_key_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateRootQuorum=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_root_quorum",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUser=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_user",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.updateUserTag=async e=>{let{organizationId:t,timestampMs:r,...n}=e;return this.command("/public/v1/submit/update_user_tag",{parameters:n,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),n=await this.config.stamper.stamp(r);return{body:r,stamp:n,url:t}},this.config=e}async request(e,t){let r=this.config.apiBaseUrl+e,n=JSON.stringify(t),i=await this.config.stamper.stamp(n),a=await fetch(r,{method:"POST",headers:{[i.stampHeaderName]:i.stampHeaderValue,"X-Client-Version":"@turnkey/sdk-server@1.7.3"},body:n,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new rf(e)}return await a.json()}async command(e,t,r){let n=this.config.activityPoller?.intervalMs??1e3,i=this.config.activityPoller?.numRetries??3,a=e=>{let{result:t,status:n}=e.activity;return"ACTIVITY_STATUS_COMPLETED"===n?{...t[`${r}`],...e}:e},s=0,o=async e=>{let t=await this.getActivity({activityId:e});if(s>i)return a(t);if(s+=1,!rc.includes(t.activity.status))return await new Promise(e=>setTimeout(e,n)),o(e);return a(t)},u=await this.request(e,t);return rc.includes(u.activity.status)?a(u):o(u.activity.id)}async activityDecision(e,t){let r=await this.request(e,t);return{...r.activity.result,...r}}}let rh=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"];class rm{constructor(e){this.apiClient=e=>new rb({stamper:new u({apiPublicKey:e?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:e?.apiPrivateKey??this.config.apiPrivateKey}),apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller}),this.apiProxy=async(e,t)=>{let r=this.apiClient()[e];if("function"==typeof r)return await r(...t);throw Error(`Method: ${e} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:n,params:i}=e.body;n&&i||r.status(400).send("methodName and params are required.");try{if(t.includes(n)){let e=await this.apiProxy(n,i);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:n,params:i}=e.body;n&&i||r.status(400).send("methodName and params are required.");try{if(t.includes(n)){let e=await this.apiProxy(n,i);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.config=e}}class rg extends rp{constructor(e){super(e)}}class rb extends rg{constructor(e){super(e)}}l.fetch;var ry=e.i(95187);ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,e.s([],258291),e.s(["Turnkey",()=>rm],874107)},708351,524265,892537,914218,498138,438853,580840,107339,536275,998146,737003,32843,170987,440394,897567,222194,798530,782045,93323,33725,420440,244010,193826,360738,851047,477808,474112,67881,372418,485685,394944,961018,63637,767397,73023,952871,257092,421227,e=>{"use strict";let t,r;e.s([],708351);let n="6.15.0";async function i(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function a(e,t,r){for(let n in t){let i=t[n],a=r?r[n]:null;a&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}(i,a,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function s(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"==typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>s(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return s(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let r=Object.keys(e);return r.sort(),"{ "+r.map(r=>`${s(r,t)}: ${s(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function o(e,t){return e&&e.code===t}function u(e){return o(e,"CALL_EXCEPTION")}function l(e,t,r){let i,o=e;{let i=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${s(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];i.push(e+"="+s(t))}}i.push(`code=${t}`),i.push(`version=${n}`),i.length&&(e+=" ("+i.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":i=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=RangeError(e);break;default:i=Error(e)}return a(i,{code:t}),r&&Object.assign(i,r),null==i.shortMessage&&a(i,{shortMessage:o}),i}function c(e,t,r,n){if(!e)throw l(t,r,n)}function d(e,t,r,n){c(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function f(e,t,r){null==r&&(r=""),r&&(r=": "+r),c(e>=t,"missing argument"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),c(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}e.s(["version",0,n],524265),e.s(["defineProperties",()=>a,"resolveProperties",()=>i],892537);let p=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function h(e){c(p.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function m(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),c(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function g(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}d(!1,"invalid BytesLike value",t||"value",e)}function b(e,t){return g(e,t,!1)}function y(e,t){return g(e,t,!0)}function x(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function A(e){return x(e,!0)||e instanceof Uint8Array}e.s(["assert",()=>c,"assertArgument",()=>d,"assertArgumentCount",()=>f,"assertNormalize",()=>h,"assertPrivate",()=>m,"isCallException",()=>u,"isError",()=>o,"makeError",()=>l],914218);let w="0123456789abcdef";function v(e){let t=b(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=w[(240&n)>>4]+w[15&n]}return r}function S(e){return"0x"+e.map(e=>v(e).substring(2)).join("")}function E(e){return x(e,!0)?(e.length-2)/2:b(e).length}function k(e,t,r){let n=b(e);return null!=r&&r>n.length&&c(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),v(n.slice(null==t?0:t,null==r?n.length:r))}function T(e){let t=v(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function P(e,t,r){let n=b(e);c(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),v(i)}function I(e,t){return P(e,t,!0)}function _(e,t){return P(e,t,!1)}function N(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}e.s(["concat",()=>S,"dataLength",()=>E,"dataSlice",()=>k,"getBytes",()=>b,"getBytesCopy",()=>y,"hexlify",()=>v,"isBytesLike",()=>A,"isHexString",()=>x,"stripZerosLeft",()=>T,"zeroPadBytes",()=>_,"zeroPadValue",()=>I],498138);let B=Object.freeze({error:function(e,t,r,n,i){d(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:N,replace:function(e,t,r,n,i){return"OVERLONG"===e?(d("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),N(e,t,r,n,i))}});function R(e,t){null==t&&(t=B.error);let r=b(e,"bytes"),n=[],i=0;for(;i<r.length;){let e=r[i++];if(e>>7==0){n.push(e);continue}let a=null,s=null;if((224&e)==192)a=1,s=127;else if((240&e)==224)a=2,s=2047;else if((248&e)==240)a=3,s=65535;else{(192&e)==128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let o=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[i];if((192&e)!=128){i+=t("MISSING_CONTINUE",i,r,n),o=null;break}o=o<<6|63&e,i++}if(null!==o){if(o>1114111){i+=t("OUT_OF_RANGE",i-1-a,r,n,o);continue}if(o>=55296&&o<=57343){i+=t("UTF16_SURROGATE",i-1-a,r,n,o);continue}if(o<=s){i+=t("OVERLONG",i-1-a,r,n,o);continue}n.push(o)}}return n}function C(e,t){d("string"==typeof e,"invalid string value","str",e),null!=t&&(h(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);d(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function O(e,t){return R(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function D(e,t){return R(C(e,t))}function U(e){let t=C(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return _(t,32)}function F(e){let t=b(e,"bytes");if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return O(t.slice(0,r))}e.s(["Utf8ErrorFuncs",0,B,"toUtf8Bytes",()=>C,"toUtf8CodePoints",()=>D,"toUtf8String",()=>O],438853),e.s(["decodeBytes32String",()=>F,"encodeBytes32String",()=>U],580840);let M=BigInt(0),L=BigInt(1);function K(e,t){let r=G(e,"value"),n=BigInt(H(t,"width"));return(c(r>>n===M,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-L)?-((~r&(L<<n)-L)+L):r}function q(e,t){let r=V(e,"value"),n=BigInt(H(t,"width")),i=L<<n-L;return r<M?(c((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(L<<n)-L)+L):(c(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function W(e,t){return G(e,"value")&(L<<BigInt(H(t,"bits")))-L}function V(e,t){switch(typeof e){case"bigint":return e;case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){d(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}d(!1,"invalid BigNumberish value",t||"value",e)}function G(e,t){let r=V(e,t);return c(r>=M,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let z="0123456789abcdef";function j(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=z[r>>4],t+=z[15&r];return BigInt(t)}return V(e)}function H(e,t){switch(typeof e){case"bigint":return d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),Number(e);case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return H(BigInt(e),t)}catch(r){d(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}d(!1,"invalid numeric value",t||"value",e)}function Q(e){return H(j(e))}function X(e,t){let r=G(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let n=H(t,"width");for(c(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function J(e){let t=G(e,"value");if(t===M)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function Y(e){let t=v(A(e)?e:J(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}e.s(["fromTwos",()=>K,"getBigInt",()=>V,"getNumber",()=>H,"getUint",()=>G,"mask",()=>W,"toBeArray",()=>J,"toBeHex",()=>X,"toBigInt",()=>j,"toNumber",()=>Q,"toQuantity",()=>Y,"toTwos",()=>q],107339);let Z=new Uint8Array(32),$=["then"],ee={},et=new WeakMap;function er(e){return et.get(e)}function en(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class ei extends Array{#e;constructor(...e){var t,r;const n=e[0];let i=e[1],a=(e[2]||[]).slice(),s=!0;n!==ee&&(i=e,a=[],s=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});const o=a.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(i.map((e,t)=>{let r=a[t];return null!=r&&1===o.get(r)?r:null})),et.set(this,t),this.#e=[],null==this.#e&&this.#e,!s)return;Object.freeze(this);const u=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=H(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let n=e[r];return n instanceof Error&&en(`index ${r}`,n),n}if($.indexOf(t)>=0)return Reflect.get(e,t,r);let n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=er(this),et.set(u,r),u}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&en(`index ${n}`,r),e&&r instanceof ei&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=er(this);return t.reduce((r,n,i)=>(c(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,n){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof ei?e(er(t),t,n):t):t.reduce((t,i,a)=>{let s=r.getValue(i);return i in t||(n&&s instanceof ei&&(s=e(er(s),s,n)),t[i]=s),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=er(this),n=[],i=[];for(let a=e;a<t;a++)n.push(this[a]),i.push(r[a]);return new ei(ee,n,i)}filter(e,t){let r=er(this),n=[],i=[];for(let a=0;a<this.length;a++){let s=this[a];s instanceof Error&&en(`index ${a}`,s),e.call(t,s,a,this)&&(n.push(s),i.push(r[a]))}return new ei(ee,n,i)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let i=this[n];i instanceof Error&&en(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){let t=er(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&en(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new ei(ee,e,t)}}function ea(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let a=e.slice();a.push(i);try{r(a,n[i])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function es(e){let t=J(e);return c(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=y(S([Z.slice(t.length%32),t]))),t}class eo{name;type;localName;dynamic;constructor(e,t,r,n){a(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}}class eu{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return S(this.#t)}get length(){return this.#r}#n(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#n(y(e.data))}writeBytes(e){let t=y(e),r=t.length%32;return r&&(t=y(S([t,Z.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(es(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(Z),this.#r+=32,t=>{this.#t[e]=es(t)}}}class el{allowLoose;#t;#i;#a;#s;#o;constructor(e,t,r){a(this,{allowLoose:!!t}),this.#t=y(e),this.#a=0,this.#s=null,this.#o=null!=r?r:1024,this.#i=0}get data(){return v(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#u(e){if(this.#s)return this.#s.#u(e);this.#a+=e,c(this.#o<1||this.#a<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:y(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,t,r){let n=32*Math.ceil(t/32);return this.#i+n>this.#t.length&&(this.allowLoose&&r&&this.#i+t<=this.#t.length?n=t:c(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:y(this.#t),length:this.#t.length,offset:this.#i+n})),this.#t.slice(this.#i,this.#i+n)}subReader(e){let t=new el(this.#t.slice(this.#i+e),this.allowLoose,this.#o);return t.#s=this,t}readBytes(e,t){let r=this.#l(0,e,!!t);return this.#u(e),this.#i+=r.length,r.slice(0,e)}readValue(){return j(this.readBytes(32))}readIndex(){return Q(this.readBytes(32))}}function ec(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function ed(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ef(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ec(e.outputLen),ec(e.blockLen)}function ep(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eh(e,t){ed(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}e.s(["Coder",()=>eo,"Reader",()=>el,"Result",()=>ei,"WordSize",0,32,"Writer",()=>eu,"checkResultErrors",()=>ea],536275);let em=BigInt(0x100000000-1),eg=BigInt(32);function eb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&em),l:Number(e>>eg&em)}:{h:0|Number(e>>eg&em),l:0|Number(e&em)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}let ey=(e,t,r)=>e>>>r,ex=(e,t,r)=>e<<32-r|t>>>r,eA=(e,t,r)=>e>>>r|t<<32-r,ew=(e,t,r)=>e<<32-r|t>>>r,ev=(e,t,r)=>e<<64-r|t>>>r-32,eS=(e,t,r)=>e>>>r-32|t<<64-r,eE=function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},ek=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),eT=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,eP=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),eI=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,e_=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0,eN=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),eB="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eR=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),eC=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eO=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let eD=async()=>{};async function eU(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await eD(),n+=e)}}function eF(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class eM{clone(){return this._cloneInto()}}let eL={}.toString;function eK(e,t){if(void 0!==t&&"[object Object]"!==eL.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function eq(e){let t=t=>e().update(eF(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eW(e=32){if(eB&&"function"==typeof eB.getRandomValues)return eB.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[eV,eG,ez]=[[],[],[]],ej=BigInt(0),eH=BigInt(1),eQ=BigInt(2),eX=BigInt(7),eJ=BigInt(256),eY=BigInt(113);for(let e=0,t=eH,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],eV.push(2*(5*n+r)),eG.push((e+1)*(e+2)/2%64);let i=ej;for(let e=0;e<7;e++)(t=(t<<eH^(t>>eX)*eY)%eJ)&eQ&&(i^=eH<<(eH<<BigInt(e))-eH);ez.push(i)}let[eZ,e$]=eb(ez,!0),e0=(e,t,r)=>{let n,i,a,s,o;return r>32?(n=e,t<<(i=r)-32|n>>>64-i):(a=e,s=t,a<<(o=r)|s>>>32-o)},e1=(e,t,r)=>{let n,i,a,s,o;return r>32?(n=e,i=t,n<<(a=r)-32|i>>>64-a):(s=e,t<<(o=r)|s>>>32-o)};class e2 extends eM{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ec(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=eR(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=e0(a,s,1)^r[n],u=e1(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=eG[r],a=e0(t,i,n),s=e1(t,i,n),o=eV[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=eZ[n],e[1]^=e$[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ep(this);let{blockLen:t,state:r}=this,n=(e=eF(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){ep(this,!1),ed(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ec(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eh(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new e2(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let e4=eq(()=>new e2(136,1,32)),e6=!1,e3=function(e){return e4(e)},e5=e3;function e8(e){let t=b(e,"data");return v(e5(t))}e8._=e3,e8.lock=function(){e6=!0},e8.register=function(e){if(e6)throw TypeError("keccak256 is locked");e5=e},Object.freeze(e8),e.s(["keccak256",()=>e8],998146);let e7=BigInt(0),e9=BigInt(36);function te(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=b(e8(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let tt={};for(let e=0;e<10;e++)tt[String(e)]=String(e);for(let e=0;e<26;e++)tt[String.fromCharCode(65+e)]=String(10+e);function tr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>tt[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}let tn=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function ti(e){if(d("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=te(e);return d(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(e.substring(2,4)===tr(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=e7;for(let r=0;r<e.length;r++)t=t*e9+tn[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return te("0x"+t)}d(!1,"invalid address","address",e)}function ta(e){let t=BigInt(ti(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+tr("XE00"+t)+t}e.s(["getAddress",()=>ti,"getIcapAddress",()=>ta],737003);let ts={};function to(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new tc(ts,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function tu(e,t){return new tc(ts,`bytes${t||""}`,e,{size:t})}let tl=Symbol.for("_ethers_typed");class tc{type;value;#c;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),m(ts,e,"Typed"),a(this,{_typedSymbol:tl,type:t,value:r}),this.#c=n,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(e,t){return new tc(ts,e,t)}static uint8(e){return to(e,8)}static uint16(e){return to(e,16)}static uint24(e){return to(e,24)}static uint32(e){return to(e,32)}static uint40(e){return to(e,40)}static uint48(e){return to(e,48)}static uint56(e){return to(e,56)}static uint64(e){return to(e,64)}static uint72(e){return to(e,72)}static uint80(e){return to(e,80)}static uint88(e){return to(e,88)}static uint96(e){return to(e,96)}static uint104(e){return to(e,104)}static uint112(e){return to(e,112)}static uint120(e){return to(e,120)}static uint128(e){return to(e,128)}static uint136(e){return to(e,136)}static uint144(e){return to(e,144)}static uint152(e){return to(e,152)}static uint160(e){return to(e,160)}static uint168(e){return to(e,168)}static uint176(e){return to(e,176)}static uint184(e){return to(e,184)}static uint192(e){return to(e,192)}static uint200(e){return to(e,200)}static uint208(e){return to(e,208)}static uint216(e){return to(e,216)}static uint224(e){return to(e,224)}static uint232(e){return to(e,232)}static uint240(e){return to(e,240)}static uint248(e){return to(e,248)}static uint256(e){return to(e,256)}static uint(e){return to(e,256)}static int8(e){return to(e,-8)}static int16(e){return to(e,-16)}static int24(e){return to(e,-24)}static int32(e){return to(e,-32)}static int40(e){return to(e,-40)}static int48(e){return to(e,-48)}static int56(e){return to(e,-56)}static int64(e){return to(e,-64)}static int72(e){return to(e,-72)}static int80(e){return to(e,-80)}static int88(e){return to(e,-88)}static int96(e){return to(e,-96)}static int104(e){return to(e,-104)}static int112(e){return to(e,-112)}static int120(e){return to(e,-120)}static int128(e){return to(e,-128)}static int136(e){return to(e,-136)}static int144(e){return to(e,-144)}static int152(e){return to(e,-152)}static int160(e){return to(e,-160)}static int168(e){return to(e,-168)}static int176(e){return to(e,-176)}static int184(e){return to(e,-184)}static int192(e){return to(e,-192)}static int200(e){return to(e,-200)}static int208(e){return to(e,-208)}static int216(e){return to(e,-216)}static int224(e){return to(e,-224)}static int232(e){return to(e,-232)}static int240(e){return to(e,-240)}static int248(e){return to(e,-248)}static int256(e){return to(e,-256)}static int(e){return to(e,-256)}static bytes1(e){return tu(e,1)}static bytes2(e){return tu(e,2)}static bytes3(e){return tu(e,3)}static bytes4(e){return tu(e,4)}static bytes5(e){return tu(e,5)}static bytes6(e){return tu(e,6)}static bytes7(e){return tu(e,7)}static bytes8(e){return tu(e,8)}static bytes9(e){return tu(e,9)}static bytes10(e){return tu(e,10)}static bytes11(e){return tu(e,11)}static bytes12(e){return tu(e,12)}static bytes13(e){return tu(e,13)}static bytes14(e){return tu(e,14)}static bytes15(e){return tu(e,15)}static bytes16(e){return tu(e,16)}static bytes17(e){return tu(e,17)}static bytes18(e){return tu(e,18)}static bytes19(e){return tu(e,19)}static bytes20(e){return tu(e,20)}static bytes21(e){return tu(e,21)}static bytes22(e){return tu(e,22)}static bytes23(e){return tu(e,23)}static bytes24(e){return tu(e,24)}static bytes25(e){return tu(e,25)}static bytes26(e){return tu(e,26)}static bytes27(e){return tu(e,27)}static bytes28(e){return tu(e,28)}static bytes29(e){return tu(e,29)}static bytes30(e){return tu(e,30)}static bytes31(e){return tu(e,31)}static bytes32(e){return tu(e,32)}static address(e){return new tc(ts,"address",e)}static bool(e){return new tc(ts,"bool",!!e)}static bytes(e){return new tc(ts,"bytes",e)}static string(e){return new tc(ts,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new tc(ts,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===tl}static dereference(e,t){if(tc.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}e.s(["Typed",()=>tc],32843);class td extends eo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=tc.dereference(t,"string");try{r=ti(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return ti(X(e.readValue(),20))}}class tf extends eo{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function tp(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return c(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),c(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]})}else d(!1,"invalid tuple value","tuple",r);d(t.length===n.length,"types/value length mismatch","tuple",r);let i=new eu,a=new eu,s=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=i.writeUpdatableValue();s.push(e=>{n(e+t)})}else e.encode(i,r)}),s.forEach(e=>{e(i.length)});let o=e.appendWriter(i);return o+e.appendWriter(a)}function th(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{a=t.decode(n)}catch(e){if(o(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(o(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}if(void 0==a)throw Error("investigate");r.push(a),n.push(t.localName||null)}),ei.fromItems(r,n)}class tm extends eo{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),a(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=tc.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),f(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return tp(e,i,r)}decode(e){let t=this.length;-1===t&&c(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new tf(this.coder));return th(e,r)}}class tg extends eo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=tc.dereference(t,"bool");return e.writeValue(+!!r)}decode(e){return!!e.readValue()}}class tb extends eo{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=y(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class ty extends tb{constructor(e){super("bytes",e)}decode(e){return v(super.decode(e))}}class tx extends eo{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),a(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=y(tc.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return v(e.readBytes(this.size))}}let tA=new Uint8Array([]);class tw extends eo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(tA)}decode(e){return e.readBytes(0),null}}let tv=BigInt(0),tS=BigInt(1),tE=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class tk extends eo{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),a(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=V(tc.dereference(t,this.type)),n=W(tE,256);if(this.signed){let e=W(n,8*this.size-1);(r>e||r<-(e+tS))&&this._throwError("value out-of-bounds",t),r=q(r,256)}else(r<tv||r>W(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=W(e.readValue(),8*this.size);return this.signed&&(t=K(t,8*this.size)),t}}class tT extends tb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,C(tc.dereference(t,"string")))}decode(e){return O(super.decode(e))}}class tP extends eo{coders;constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),a(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){let r=tc.dereference(t,"tuple");return tp(e,this.coders,r)}decode(e){return th(e,this.coders)}}function tI(e){return e8(C(e))}function t_(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}e.s(["id",()=>tI],170987);let tN=t_("external public payable override".split(" ")),tB="constant external internal payable private public pure view override",tR=t_(tB.split(" ")),tC="constructor error event fallback function receive struct",tO=t_(tC.split(" ")),tD="calldata memory storage payable indexed",tU=t_(tD.split(" ")),tF=t_([tC,tD,"tuple returns",tB].join(" ").split(" ")),tM={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tL=RegExp("^(\\s*)"),tK=RegExp("^([0-9]+)"),tq=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tW=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tV=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tG{#i;#d;get offset(){return this.#i}get length(){return this.#d.length-this.#i}constructor(e){this.#i=0,this.#d=e.slice()}clone(){return new tG(this.#d)}reset(){this.#i=0}#f(e=0,t=0){return new tG(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#f(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#i<e.match-1;){let e=this.peek().linkNext;t.push(this.#f(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#d.length)throw Error("out-of-bounds");return this.#d[this.#i]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#i++,e}toString(){let e=[];for(let t=this.#i;t<this.#d.length;t++){let r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function tz(e){let t=[],r=t=>{let r=a<e.length?JSON.stringify(e[a]):"$EOI";throw Error(`invalid token ${r} at ${a}: ${t}`)},n=[],i=[],a=0;for(;a<e.length;){let s=e.substring(a),o=s.match(tL);o&&(a+=o[1].length,s=e.substring(a));let u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let l=tM[s[0]]||"";if(l){if(u.type=l,u.text=s[0],a++,"OPEN_PAREN"===l)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===n.length&&r("no matching open bracket"),u.match=n.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===l)u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)u.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=H(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(o=s.match(tq)){if(u.text=o[1],a+=u.text.length,tF.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(tV)){u.type="TYPE";continue}u.type="ID";continue}if(o=s.match(tK)){u.text=o[1],u.type="NUMBER",a+=u.text.length;continue}throw Error(`unexpected token ${JSON.stringify(s[0])} at position ${a}`)}return new tG(t.map(e=>Object.freeze(e)))}function tj(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function tH(e,t){if(t.peekKeyword(tO)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function tQ(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function tX(e){let t=tQ(e,tR);return(tj(t,t_("constant payable nonpayable".split(" "))),tj(t,t_("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function tJ(e,t){return e.popParams().map(e=>re.from(e,t))}function tY(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return V(e.pop().text);throw Error("invalid gas")}return null}function tZ(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let t$=new RegExp(/^(.*)\[([0-9]*)\]$/);function t0(e){let t=e.match(tV);if(d(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);d(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);d(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let t1={},t2=Symbol.for("_ethers_internal"),t4="_ParamTypeInternal",t6="_ErrorInternal",t3="_EventInternal",t5="_ConstructorInternal",t8="_FallbackInternal",t7="_FunctionInternal",t9="_StructInternal";class re{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,s,o,u){if(m(e,t1,"ParamType"),Object.defineProperty(this,t2,{value:t4}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==u)throw Error("")}else if(null!=o||null!=u)throw Error("");if("tuple"===n){if(null==s)throw Error("")}else if(null!=s)throw Error("");a(this,{name:t,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:u})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#p(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,a=t.slice();a.forEach((t,n)=>{i.#p(e,t,r,e=>{a[n]=e})}),n(a);return}if(this.isTuple()){let i,a=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=a.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{a[n].#p(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#p(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(re.isParamType(e))return e;if("string"==typeof e)try{return re.from(tz(e),t)}catch(t){d(!1,"invalid param type","obj",e)}else if(e instanceof tG){let r="",n="",i=null;tQ(e,t_(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>re.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=t0(e.popType("TYPE"));let a=null,s=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();a=new re(t1,"",r,n,null,i,s,a),s=t.value,r+=t.text,n="array",i=null}let o=null;if(tQ(e,tU).has("indexed")){if(!t)throw Error("");o=!0}let u=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new re(t1,u,r,n,o,i,s,a)}let r=e.name;d(!r||"string"==typeof r&&r.match(tW),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(t$);if(a){let t=parseInt(a[2]||"-1"),s=re.from({type:a[1],components:e.components});return new re(t1,r||"",i,"array",n,null,t,s)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>re.from(e)):null;return new re(t1,r||"",i,"tuple",n,t,null,null)}return new re(t1,r||"",i=t0(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[t2]===t4}}class rt{type;inputs;constructor(e,t,r){m(e,t1,"Fragment"),a(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{rt.from(JSON.parse(e))}catch(e){}return rt.from(tz(e))}if(e instanceof tG)switch(e.peekKeyword(tO)){case"constructor":return rs.from(e);case"error":return ri.from(e);case"event":return ra.from(e);case"fallback":case"receive":return ro.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return rs.from(e);case"error":return ri.from(e);case"event":return ra.from(e);case"fallback":case"receive":return ro.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}c(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return rs.isFragment(e)}static isError(e){return ri.isFragment(e)}static isEvent(e){return ra.isFragment(e)}static isFunction(e){return ru.isFragment(e)}static isStruct(e){return rl.isFragment(e)}}class rr extends rt{name;constructor(e,t,r,n){super(e,t,n),d("string"==typeof r&&r.match(tW),"invalid identifier","name",r),n=Object.freeze(n.slice()),a(this,{name:r})}}function rn(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class ri extends rr{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,t2,{value:t6})}get selector(){return tI(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+rn(e,this.inputs)),t.join(" ")}static from(e){if(ri.isFragment(e))return e;if("string"==typeof e)return ri.from(tz(e));if(e instanceof tG){let t=tH("error",e),r=tJ(e);return tZ(e),new ri(t1,t,r)}return new ri(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t6}}class ra extends rr{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,t2,{value:t3}),a(this,{anonymous:n})}get topicHash(){return tI(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+rn(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new ra(t1,e,t=(t||[]).map(e=>re.from(e)),!1).topicHash}static from(e){if(ra.isFragment(e))return e;if("string"==typeof e)try{return ra.from(tz(e))}catch(t){d(!1,"invalid event fragment","obj",e)}else if(e instanceof tG){let t=tH("event",e),r=tJ(e,!0),n=!!tQ(e,t_(["anonymous"])).has("anonymous");return tZ(e),new ra(t1,t,r,n)}return new ra(t1,e.name,e.inputs?e.inputs.map(e=>re.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[t2]===t3}}class rs extends rt{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,t2,{value:t5}),a(this,{payable:n,gas:i})}format(e){if(c(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${rn(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(rs.isFragment(e))return e;if("string"==typeof e)try{return rs.from(tz(e))}catch(t){d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof tG){tQ(e,t_(["constructor"]));let t=tJ(e),r=!!tQ(e,tN).has("payable"),n=tY(e);return tZ(e),new rs(t1,"constructor",t,r,n)}return new rs(t1,"constructor",e.inputs?e.inputs.map(re.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t5}}class ro extends rt{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,t2,{value:t8}),a(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(ro.isFragment(e))return e;if("string"==typeof e)try{return ro.from(tz(e))}catch(t){d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof tG){let t=e.toString();if(d(e.peekKeyword(t_(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(t_(["fallback","receive"]))){let t=tJ(e);return d(0===t.length,"receive cannot have arguments","obj.inputs",t),tQ(e,t_(["payable"])),tZ(e),new ro(t1,[],!0)}let r=tJ(e);r.length?d(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[re.from("bytes")];let n=tX(e);if(d("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),tQ(e,t_(["returns"])).has("returns")){let t=tJ(e);d(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return tZ(e),new ro(t1,r,"payable"===n)}return"receive"===e.type?new ro(t1,[],!0):"fallback"===e.type?new ro(t1,[re.from("bytes")],"payable"===e.stateMutability):void d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[t2]===t8}}class ru extends rr{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,s){super(e,"function",t,n),Object.defineProperty(this,t2,{value:t7}),a(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return tI(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+rn(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(rn(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new ru(t1,e,"view",t=(t||[]).map(e=>re.from(e)),[],null).selector}static from(e){if(ru.isFragment(e))return e;if("string"==typeof e)try{return ru.from(tz(e))}catch(t){d(!1,"invalid function fragment","obj",e)}else if(e instanceof tG){let t=tH("function",e),r=tJ(e),n=tX(e),i=[];tQ(e,t_(["returns"])).has("returns")&&(i=tJ(e));let a=tY(e);return tZ(e),new ru(t1,t,n,r,i,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",!e.constant&&(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new ru(t1,e.name,t,e.inputs?e.inputs.map(re.from):[],e.outputs?e.outputs.map(re.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t7}}class rl extends rr{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,t2,{value:t9})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return rl.from(tz(e))}catch(t){d(!1,"invalid struct fragment","obj",e)}else if(e instanceof tG){let t=tH("struct",e),r=tJ(e);return tZ(e),new rl(t1,t,r)}return new rl(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t9}}e.s(["ConstructorFragment",()=>rs,"ErrorFragment",()=>ri,"EventFragment",()=>ra,"FallbackFragment",()=>ro,"Fragment",()=>rt,"FunctionFragment",()=>ru,"NamedFragment",()=>rr,"ParamType",()=>re,"StructFragment",()=>rl],440394);let rc=new Map;rc.set(0,"GENERIC_PANIC"),rc.set(1,"ASSERT_FALSE"),rc.set(17,"OVERFLOW"),rc.set(18,"DIVIDE_BY_ZERO"),rc.set(33,"ENUM_RANGE_ERROR"),rc.set(34,"BAD_STORAGE_DATA"),rc.set(49,"STACK_UNDERFLOW"),rc.set(50,"ARRAY_RANGE_ERROR"),rc.set(65,"OUT_OF_MEMORY"),rc.set(81,"UNINITIALIZED_FUNCTION_CALL");let rd=new RegExp(/^bytes([0-9]*)$/),rf=new RegExp(/^(u?int)([0-9]*)$/),rp=null,rh=1024;class rm{#h(e){if(e.isArray())return new tm(this.#h(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new tP(e.components.map(e=>this.#h(e)),e.name);switch(e.baseType){case"address":return new td(e.name);case"bool":return new tg(e.name);case"string":return new tT(e.name);case"bytes":return new ty(e.name);case"":return new tw(e.name)}let t=e.type.match(rf);if(t){let r=parseInt(t[2]||"256");return d(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new tk(r/8,"int"===t[1],e.name)}if(t=e.type.match(rd)){let r=parseInt(t[1]);return d(0!==r&&r<=32,"invalid bytes length","param",e),new tx(r,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){return new tP(e.map(e=>this.#h(re.from(e))),"_").defaultValue()}encode(e,t){f(t.length,e.length,"types/values length mismatch");let r=new tP(e.map(e=>this.#h(re.from(e))),"_"),n=new eu;return r.encode(n,t),n.data}decode(e,t,r){return new tP(e.map(e=>this.#h(re.from(e))),"_").decode(new el(t,r,rh))}static _setDefaultMaxInflation(e){d("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),rh=e}static defaultAbiCoder(){return null==rp&&(rp=new rm),rp}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",a=null,s=null;if(r){i="execution reverted";let e=b(r);if(r=v(r),0===e.length)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===v(e.slice(0,4)))try{a=n.decode(["string"],e.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===v(e.slice(0,4)))try{let t=Number(n.decode(["uint256"],e.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${rc.get(t)||"UNKNOWN"}(${t})`,i+=`: ${a}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let o={to:t.to?ti(t.to):null,data:t.data||"0x"};return t.from&&(o.from=ti(t.from)),l(i,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:o,invocation:null,revert:s})}(e,t,r,rm.defaultAbiCoder())}}e.s(["AbiCoder",()=>rm],897567);class rg{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();a(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class rb{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,s=e.format();a(this,{fragment:e,name:i,args:r,signature:s,selector:t,value:n})}}class ry{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();a(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class rx{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){a(this,{hash:e,_isIndexed:!0})}}let rA={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},rw={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&rA[e.toString()]&&(t=rA[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class rv{fragments;deploy;fallback;receive;#m;#g;#b;#y;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#b=new Map,this.#m=new Map,this.#g=new Map;const r=[];for(const e of t)try{r.push(rt.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}a(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#y=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");a(this,{deploy:e});return;case"fallback":0===e.inputs.length?i=!0:(d(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),i=(n=e).payable);return;case"function":r=this.#b;break;case"event":r=this.#g;break;case"error":r=this.#m;break;default:return}let s=e.format();r.has(s)||r.set(s,e)}),this.deploy||a(this,{deploy:rs.from("constructor()")}),a(this,{fallback:n,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return rm.defaultAbiCoder()}#x(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#b.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#b)t.split("(")[0]===e&&n.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;tc.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){let t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(tc.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}let n=this.#b.get(ru.from(e).format());return n||null}getFunctionName(e){let t=this.#x(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#x(e,null,!1)}getFunction(e,t){return this.#x(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#b.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#b.get(n),r)}}#A(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#g.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#g)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(tc.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}let n=this.#g.get(ra.from(e).format());return n||null}getEventName(e){let t=this.#A(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#A(e,null,!1)}getEvent(e,t){return this.#A(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#g.get(n),r)}}getError(e,t){if(x(e)){let t=e.toLowerCase();if(rw[t])return ri.from(rw[t].signature);for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#m)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?ri.from("error Error(string)"):"Panic"===e?ri.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=ri.from(e).format()))return ri.from("error Error(string)");if("Panic(uint256)"===e)return ri.from("error Panic(uint256)");let r=this.#m.get(e);return r||null}forEachError(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#m.get(n),r)}}_decodeParams(e,t){return this.#y.decode(e,t)}_encodeParams(e,t){return this.#y.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return d(k(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,k(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return d(k(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,k(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=y(t);if(n.length%32==0)try{return this.#y.decode(e.outputs,n)}catch(e){r="could not decode result data"}c(!1,r,"BAD_DATA",{value:v(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=b(e,"data"),n=rm.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){let e=v(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#y.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return v(this.#y.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}c(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?tI(t):"bytes"===e.type?e8(v(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=X(t):e.type.match(/^bytes/)?t=_(t,32):"address"===e.type&&this.#y.encode(["address"],[t]),I(v(t),32));for(t.forEach((t,i)=>{let a=e.inputs[i];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?d(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map(e=>n(a,e))):r.push(n(a,t)):d(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,a)=>{let s=t[a];if(e.indexed)if("string"===e.type)r.push(tI(s));else if("bytes"===e.type)r.push(e8(s));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#y.encode([e.type],[s]));else n.push(e),i.push(s)}),{data:this.#y.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;d(x(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],i=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(re.from({type:"bytes32",name:e.name})),a.push(!0)):(n.push(e),a.push(!1)):(i.push(e),a.push(!1))});let s=null!=r?this.#y.decode(n,S(r)):null,o=this.#y.decode(i,t,!0),u=[],l=[],c=0,f=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed)if(null==s)r=new rx(null);else if(a[t])r=new rx(s[f++]);else try{r=s[f++]}catch(e){r=e}else try{r=o[c++]}catch(e){r=e}u.push(r),l.push(e.name||null)}),ei.fromItems(u,l)}parseTransaction(e){let t=b(e.data,"tx.data"),r=V(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(v(t.slice(0,4)));if(!n)return null;let i=this.#y.decode(n.inputs,t.slice(4));return new rb(n,n.selector,i,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new rg(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=v(e),r=this.getError(k(t,0,4));if(!r)return null;let n=this.#y.decode(r.inputs,k(t,4));return new ry(r,r.selector,n)}static from(e){return e instanceof rv?e:new rv("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}function rS(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}e.s(["ErrorDescription",()=>ry,"Indexed",()=>rx,"Interface",()=>rv,"LogDescription",()=>rg,"TransactionDescription",()=>rb],222194);let rE="0123456789abcdef";function rk(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=rS(r.length);return n.unshift(247+n.length),n.concat(r)}let r=Array.prototype.slice.call(b(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=rS(r.length);return n.unshift(183+n.length),n.concat(r)}(e))t+=rE[r>>4],t+=rE[15&r];return t}function rT(e){let t=ti(e.from),r=V(e.nonce,"tx.nonce").toString(16);return ti(k(e8(rk([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}function rP(e,t,r){let n=ti(e),i=b(t,"salt"),a=b(r,"initCodeHash");return d(32===i.length,"salt must be 32 bytes","salt",t),d(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),ti(k(e8(S(["0xff",n,i,a])),12))}function rI(e){return e&&"function"==typeof e.getAddress}function r_(e){try{return ti(e),!0}catch(e){}return!1}async function rN(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(c("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),ti(r)}function rB(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?ti(e):(c(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),rN(e,t.resolveName(e))):rI(e)?rN(e,e.getAddress()):e&&"function"==typeof e.then?rN(e,e):void d(!1,"unsupported addressable value","target",e)}e.s(["encodeRlp",()=>rk],798530),e.s(["getCreate2Address",()=>rP,"getCreateAddress",()=>rT],782045),e.s(["isAddress",()=>r_,"isAddressable",()=>rI,"resolveAddress",()=>rB],93323),e.s(["ZeroAddress",0,"0x0000000000000000000000000000000000000000"],33725);let rR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rC=BigInt("1000000000000000000"),rO=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rD=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),rU=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",0,rU,"MaxUint256",0,rO,"MinInt256",0,rD,"N",0,rR,"WeiPerEther",0,rC],420440);let rF="0x0000000000000000000000000000000000000000000000000000000000000000";function rM(e,t){return{address:ti(e),storageKeys:t.map((e,t)=>(d(x(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function rL(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(d(2===t.length,"invalid slot set",`value[${r}]`,t),rM(t[0],t[1])):(d(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),rM(t.address,t.storageKeys)));d(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rM(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}e.s(["ZeroHash",0,rF],244010),e.s(["EtherSymbol",0,"","MessagePrefix",0,"\x19Ethereum Signed Message:\n"],193826),e.s(["accessListify",()=>rL],360738);let rK=BigInt(0);function rq(e){return null==e?null:e}function rW(e){return null==e?null:e.toString()}class rV{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){a(this,{gasPrice:rq(e),maxFeePerGas:rq(t),maxPriorityFeePerGas:rq(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:rW(e),maxFeePerGas:rW(t),maxPriorityFeePerGas:rW(r)}}}function rG(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=v(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=V(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=H(e[r],`request.${r}`));return e.accessList&&(t.accessList=rL(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>A(e)?v(e):Object.assign({},e))),t}class rz{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#w;constructor(e,t){this.#w=e.transactions.map(e=>"string"!=typeof e?new rQ(e,t):e),a(this,{provider:t,hash:rq(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:rq(e.prevRandao),extraData:e.extraData,baseFeePerGas:rq(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#w.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#w.slice();return 0===e.length?[]:(c("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:a,miner:s,prevRandao:o,nonce:u,number:l,parentHash:c,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,timestamp:h,transactions:m}=this;return{_type:"Block",baseFeePerGas:rW(e),difficulty:rW(t),extraData:r,gasLimit:rW(n),gasUsed:rW(i),blobGasUsed:rW(this.blobGasUsed),excessBlobGas:rW(this.excessBlobGas),hash:a,miner:s,prevRandao:o,nonce:u,number:l,parentHash:c,timestamp:h,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#w.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#w[e];else{let r=e.toLowerCase();for(let e of this.#w)if("string"==typeof e){if(e!==r)continue;t=e;break}else{if(e.hash!==r)continue;t=e;break}}if(null==t)throw Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if("number"==typeof e)return t[e];for(let r of(e=e.toLowerCase(),t))if(r.hash===e)return r;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var e;if(!this.isMined())throw Error("");return e=this,{orphan:"drop-block",hash:e.hash,number:e.number}}}class rj{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());a(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:s,transactionHash:o,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:s,transactionHash:o,transactionIndex:u}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return c(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){var e;return e=this,{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}}class rH{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#v;constructor(e,t){this.#v=Object.freeze(e.logs.map(e=>new rj(e,t)));let r=rK;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),a(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#v}toJSON(){let{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:a,blockNumber:s,logsBloom:o,logs:u,status:l,root:c}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:s,contractAddress:r,cumulativeGasUsed:rW(this.cumulativeGasUsed),from:t,gasPrice:rW(this.gasPrice),blobGasUsed:rW(this.blobGasUsed),blobGasPrice:rW(this.blobGasPrice),gasUsed:rW(this.gasUsed),hash:n,index:i,logs:u,logsBloom:o,root:c,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rJ(this)}reorderedEvent(e){return c(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),rX(this,e)}}class rQ{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#S;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,this.#S=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:a,from:s,nonce:o,data:u,signature:l,accessList:c,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:rW(this.chainId),data:u,from:s,gasLimit:rW(this.gasLimit),gasPrice:rW(this.gasPrice),hash:n,maxFeePerGas:rW(this.maxFeePerGas),maxPriorityFeePerGas:rW(this.maxPriorityFeePerGas),maxFeePerBlobGas:rW(this.maxFeePerBlobGas),nonce:o,signature:l,to:a,index:r,type:i,value:rW(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await i({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,a=this.#S,s=-1,u=-1===a,d=async()=>{if(u)return null;let{blockNumber:e,nonce:t}=await i({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){a=e;return}if(u)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=a-3)<this.#S&&(s=this.#S);s<=e;){if(u)return null;let t=await this.provider.getBlock(s,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let i=await t.getTransaction(n);if(i.from===this.from&&i.nonce===this.nonce){if(u)return null;let t=await this.provider.getTransactionReceipt(i.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?n="repriced":"0x"===i.data&&i.from===i.to&&i.value===rK&&(n="cancelled"),c(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:i.replaceableTransaction(a),hash:i.hash,receipt:t})}}s++}},f=e=>{if(null==e||0!==e.status)return e;c(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},p=await this.provider.getTransactionReceipt(this.hash);if(0===r)return f(p);if(p){if(1===r||await p.confirmations()>=r)return f(p)}else if(await d(),0===r)return null;let h=new Promise((e,t)=>{let i=[],s=()=>{i.forEach(e=>e())};if(i.push(()=>{u=!0}),n>0){let e=setTimeout(()=>{s(),t(l("wait for transaction timeout","TIMEOUT"))},n);i.push(()=>{clearTimeout(e)})}let c=async n=>{if(await n.confirmations()>=r){s();try{e(f(n))}catch(e){t(e)}}};if(i.push(()=>{this.provider.off(this.hash,c)}),this.provider.on(this.hash,c),a>=0){let e=async()=>{try{await d()}catch(e){if(o(e,"TRANSACTION_REPLACED")){s(),t(e);return}}u||this.provider.once("block",e)};i.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rJ(this)}reorderedEvent(e){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rX(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new rQ(this,this.provider);return t.#S=e,t}}function rX(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function rJ(e){return{orphan:"drop-transaction",tx:e}}e.s(["Block",()=>rz,"FeeData",()=>rV,"Log",()=>rj,"TransactionReceipt",()=>rH,"TransactionResponse",()=>rQ,"copyRequest",()=>rG],851047);class rY{filter;emitter;#E;constructor(e,t,r){this.#E=t,a(this,{emitter:e,filter:r})}async removeListener(){null!=this.#E&&await this.emitter.off(this.filter,this.#E)}}e.s(["EventPayload",()=>rY],477808);class rZ extends rj{interface;fragment;args;constructor(e,t,r){super(e,e.provider),a(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class r$ extends rj{error;constructor(e,t){super(e,e.provider),a(this,{error:t})}}class r0 extends rH{#k;constructor(e,t,r){super(r,t),this.#k=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#k.getEvent(e.topics[0]):null;if(t)try{return new rZ(e,this.#k,t)}catch(t){return new r$(e,t)}return e})}}class r1 extends rQ{#k;constructor(e,t,r){super(r,t),this.#k=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new r0(this.#k,this.provider,r)}}class r2 extends rY{log;constructor(e,t,r,n){super(e,t,r),a(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class r4 extends r2{constructor(e,t,r,n,i){super(e,t,r,new rZ(i,e.interface,n)),a(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}e.s(["ContractEventPayload",()=>r4,"ContractTransactionReceipt",()=>r0,"ContractTransactionResponse",()=>r1,"ContractUnknownEventPayload",()=>r2,"EventLog",()=>rZ,"UndecodedEventLog",()=>r$],474112);let r6=BigInt(0);function r3(e){return e&&"function"==typeof e.call}function r5(e){return e&&"function"==typeof e.estimateGas}function r8(e){return e&&"function"==typeof e.resolveName}function r7(e){return e&&"function"==typeof e.sendTransaction}function r9(e){if(null!=e){if(r8(e))return e;if(e.provider)return e.provider}}class ne{#T;fragment;constructor(e,t,r){if(a(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");const n=nt(e.runner,"resolveName"),i=r8(n)?n:null;this.#T=async function(){let n=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>rB(e,i))):rB(t,i):t)));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#T}}function nt(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function nr(e){return null==e?null:e.provider||null}async function nn(e,t){let r=tc.dereference(e,"overrides");d("object"==typeof r,"invalid overrides parameter","overrides",e);let n=rG(r);return d(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),d(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function ni(e,t,r){let n=nt(e,"resolveName"),i=r8(n)?n:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=tc.dereference(t,e),"address"===e)?rB(t,i):t)))}let na=Symbol.for("_ethersInternal_contract"),ns=new WeakMap;function no(e){return ns.get(e[na])}async function nu(e,t){let r,n=null;if(Array.isArray(t)){let n=function(t){if(x(t,32))return t;let r=e.interface.getEvent(t);return d(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(n):n(e))}else if("*"===t)r=[null];else if("string"==typeof t)x(t,32)?r=[t]:(d(n=e.interface.getEvent(t),"unknown fragment","event",t),r=[n.topicHash]);else t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(n=t.fragment).topicHash]:d(!1,"unknown event name","event",t);return{fragment:n,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function nl(e,t){let{subs:r}=no(e);return r.get((await nu(e,t)).tag)||null}async function nc(e,t,r){let n=nr(e.runner);c(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:i,tag:a,topics:s}=await nu(e,r),{addr:o,subs:u}=no(e),l=u.get(a);if(!l){let t={address:o||e,topics:s},c=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){let a=n,s=i?e.interface.decodeEventLog(i,t.data,t.topics):[];np(e,r,s,n=>new r4(e,n,r,a,t))}else np(e,r,[],n=>new r2(e,n,r,t))},d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(n.on(t,c))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),n.off(t,c)}},u.set(a,l)}return l}let nd=Promise.resolve();async function nf(e,t,r,n){await nd;let i=await nl(e,t);if(!i)return!1;let a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:t,once:i})=>{let a=Array.from(r);n&&a.push(n(i?null:t));try{t.call(e,...a)}catch(e){}return!i}),0===i.listeners.length&&(i.stop(),no(e).subs.delete(i.tag)),a>0}async function np(e,t,r,n){try{await nd}catch(e){}let i=nf(e,t,r,n);return nd=i,await i}let nh=["then"];class nm{target;interface;runner;filters;[na];fallback;constructor(e,t,r,n){var i;let s;d("string"==typeof e||rI(e),"invalid value for Contract target","target",e),null==r&&(r=null);const f=rv.from(t);a(this,{target:e,runner:r,interface:f}),Object.defineProperty(this,na,{value:{}});let p=null,h=null;if(n){const e=nr(r);h=new r1(this.interface,e,n)}let m=new Map;if("string"==typeof e)if(x(e))p=e,s=Promise.resolve(e);else{const t=nt(r,"resolveName");if(!r8(t))throw l("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw l("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return no(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return no(this).addr=e,e});return i={addrPromise:s,addr:p,deployTx:h,subs:m},ns.set(this[na],i),a(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||nh.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!o(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>nh.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),a(this,{fallback:f.receive||f.fallback?function(e){let t=async function(t){let r=await nn(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await rB(r.from,r9(e.runner)));let n=e.interface,i=V(r.value||r6,"overrides.value")===r6,a="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||a||i||d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),d(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),d(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),d(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let n=nt(e.runner,"call");c(r3(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await t(r);try{return await n.call(i)}catch(t){if(u(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}},n=async function(r){let n=e.runner;c(r7(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await n.sendTransaction(await t(r)),a=nr(e.runner);return new r1(e.interface,a,i)},i=async function(r){let n=nt(e.runner,"estimateGas");return c(r5(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},s=async e=>await n(e);return a(s,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:r}),s}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||nh.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!o(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||nh.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new nm(this.target,this.interface,e)}attach(e){return new nm(e,this.interface,this.runner)}async getAddress(){return await no(this).addrPromise}async getDeployedCode(){let e=nr(this.runner);c(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=nr(this.runner);return c(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let n=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",n)}catch(e){r(e)}};n()})}deploymentTransaction(){return no(this).deployTx}getFunction(e){var t,r;let n,s,o,l,d,f,p;return"string"!=typeof e&&(e=e.format()),t=this,r=e,n=function(...e){let n=t.interface.getFunction(r,e);return c(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),n},s=async function(...e){let r=n(...e),a={};if(r.inputs.length+1===e.length&&(a=await nn(e.pop())).from&&(a.from=await rB(a.from,r9(t.runner))),r.inputs.length!==e.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let s=await ni(t.runner,r.inputs,e);return Object.assign({},a,await i({to:t.getAddress(),data:t.interface.encodeFunctionData(r,s)}))},o=async function(...e){let t=await f(...e);return 1===t.length?t[0]:t},l=async function(...e){let r=t.runner;c(r7(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await r.sendTransaction(await s(...e)),i=nr(t.runner);return new r1(t.interface,i,n)},d=async function(...e){let r=nt(t.runner,"estimateGas");return c(r5(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await s(...e))},f=async function(...e){let r=nt(t.runner,"call");c(r3(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await s(...e),a="0x";try{a=await r.call(i)}catch(e){if(u(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}let o=n(...e);return t.interface.decodeFunctionResult(o,a)},a(p=async(...e)=>n(...e).constant?await o(...e):await l(...e),{name:t.interface.getFunctionName(r),_contract:t,_key:r,getFragment:n,estimateGas:d,populateTransaction:s,send:l,staticCall:o,staticCallResult:f}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getFunction(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),p}getEvent(e){var t,r;let n,i;return"string"!=typeof e&&(e=e.format()),t=this,r=e,n=function(...e){let n=t.interface.getEvent(r,e);return c(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),n},a(i=function(...e){return new ne(t,n(...e),e)},{name:t.interface.getEventName(r),_contract:t,_key:r,getFragment:n}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getEvent(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),i}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:n,addrPromise:i}=no(this),a=n||await i,{fragment:s,topics:o}=await nu(this,e),u={address:a,topics:o,fromBlock:t,toBlock:r},l=nr(this.runner);return c(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(e=>{let t=s;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new rZ(e,this.interface,t)}catch(t){return new r$(e,t)}return new rj(e,l)})}async on(e,t){let r=await nc(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await nc(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await np(this,e,t,null)}async listenerCount(e){if(e){let t=await nl(this,e);return t?t.listeners.length:0}let{subs:t}=no(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await nl(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=no(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await nl(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),no(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await nl(this,e);if(!t)return this;t.stop(),no(this).subs.delete(t.tag)}else{let{subs:e}=no(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends nm{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function ng(){return nm}class nb extends ng(){}e.s(["BaseContract",()=>nm,"Contract",()=>nb,"copyOverrides",()=>nn,"resolveArgs",()=>ni],67881);class ny{interface;bytecode;runner;constructor(e,t,r){const n=rv.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),a(this,{bytecode:t=v(b(t)),interface:n,runner:r||null})}attach(e){return new nm(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await nn(e.pop())),r.inputs.length!==e.length)throw Error("incorrect number of arguments to constructor");let n=await ni(this.runner,r.inputs,e);return Object.assign({},t,{data:S([this.bytecode,this.interface.encodeDeploy(n)])})}async deploy(...e){let t=await this.getDeployTransaction(...e);c(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t);return new nm(rT(r),this.interface,this.runner,r)}connect(e){return new ny(this.interface,this.bytecode,e)}static fromSolidity(e,t){d(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}e.s(["ContractFactory",()=>ny],372418);class nx extends eM{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ef(e);const r=eF(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ep(this),this.iHash.update(e),this}digestInto(e){ep(this),ed(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let nA=(e,t,r)=>new nx(e,t).update(r).digest();function nw(e,t,r,n){var i;let a,{c:s,dkLen:o,DK:u,PRF:l,PRFSalt:c}=function(e,t,r,n){ef(e);let{c:i,dkLen:a,asyncTick:s}=eK({dkLen:32,asyncTick:10},n);if(ec(i),ec(a),ec(s),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let o=eF(t),u=eF(r),l=new Uint8Array(a),c=nA.create(e,o),d=c._cloneInto().update(u);return{c:i,dkLen:a,asyncTick:s,DK:l,PRF:c,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),f=eC(d),p=new Uint8Array(l.outputLen);for(let e=1,t=0;t<o;e++,t+=l.outputLen){let r=u.subarray(t,t+l.outputLen);f.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(p),r.set(p.subarray(0,r.length));for(let e=1;e<s;e++){l._cloneInto(a).update(p).digestInto(p);for(let e=0;e<r.length;e++)r[e]^=p[e]}}return i=a,l.destroy(),c.destroy(),i&&i.destroy(),p.fill(0),u}nA.create=(e,t)=>new nx(e,t);class nv extends eM{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eC(this.buffer)}update(e){ep(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=eF(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=eC(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ep(this),eh(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),u=4*!!n,l=4*!n;e.setUint32(t+u,s,n),e.setUint32(t+l,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=eC(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=o/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let nS=(e,t,r)=>e&t^~e&r,nE=(e,t,r)=>e&t^e&r^t&r,nk=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),nT=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),nP=new Uint32Array(64);class nI extends nv{constructor(){super(64,32,8,!1),this.A=0|nT[0],this.B=0|nT[1],this.C=0|nT[2],this.D=0|nT[3],this.E=0|nT[4],this.F=0|nT[5],this.G=0|nT[6],this.H=0|nT[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)nP[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=nP[e-15],r=nP[e-2],n=eO(t,7)^eO(t,18)^t>>>3,i=eO(r,17)^eO(r,19)^r>>>10;nP[e]=i+nP[e-7]+n+nP[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(eO(s,6)^eO(s,11)^eO(s,25))+nS(s,o,u)+nk[e]+nP[e]|0,c=(eO(r,2)^eO(r,13)^eO(r,22))+nE(r,n,i)|0;l=u,u=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,a,s,o,u,l)}roundClean(){nP.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let n_=eq(()=>new nI),[nN,nB]=eb(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nR=new Uint32Array(80),nC=new Uint32Array(80);class nO extends nv{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:u,El:l,Fh:c,Fl:d,Gh:f,Gl:p,Hh:h,Hl:m}=this;return[e,t,r,n,i,a,s,o,u,l,c,d,f,p,h,m]}set(e,t,r,n,i,a,s,o,u,l,c,d,f,p,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)nR[r]=e.getUint32(t),nC[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|nR[e-15],r=0|nC[e-15],n=eA(t,r,1)^eA(t,r,8)^ey(t,r,7),i=ew(t,r,1)^ew(t,r,8)^ex(t,r,7),a=0|nR[e-2],s=0|nC[e-2],o=eA(a,s,19)^ev(a,s,61)^ey(a,s,6),u=eP(i,ew(a,s,19)^eS(a,s,61)^ex(a,s,6),nC[e-7],nC[e-16]),l=eI(u,n,o,nR[e-7],nR[e-16]);nR[e]=0|l,nC[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:o,Dh:u,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:h,Gl:m,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){let t=eA(c,d,14)^eA(c,d,18)^ev(c,d,41),y=ew(c,d,14)^ew(c,d,18)^eS(c,d,41),x=c&f^~c&h,A=eN(b,y,d&p^~d&m,nB[e],nC[e]),w=e_(A,g,t,x,nN[e],nR[e]),v=0|A,S=eA(r,n,28)^ev(r,n,34)^ev(r,n,39),E=ew(r,n,28)^eS(r,n,34)^eS(r,n,39),k=r&i^r&s^i&s,T=n&a^n&o^a&o;g=0|h,b=0|m,h=0|f,m=0|p,f=0|c,p=0|d,({h:c,l:d}=eE(0|u,0|l,0|w,0|v)),u=0|s,l=0|o,s=0|i,o=0|a,i=0|r,a=0|n;let P=ek(v,E,T);r=eT(P,w,S,k),n=0|P}({h:r,l:n}=eE(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=eE(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=eE(0|this.Ch,0|this.Cl,0|s,0|o)),({h:u,l:l}=eE(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:d}=eE(0|this.Eh,0|this.El,0|c,0|d)),({h:f,l:p}=eE(0|this.Fh,0|this.Fl,0|f,0|p)),({h:h,l:m}=eE(0|this.Gh,0|this.Gl,0|h,0|m)),({h:g,l:b}=eE(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(r,n,i,a,s,o,u,l,c,d,f,p,h,m,g,b)}roundClean(){nR.fill(0),nC.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let nD=eq(()=>new nO),nU="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,nF=nU.crypto||nU.msCrypto;function nM(e){switch(e){case"sha256":return n_.create();case"sha512":return nD.create()}d(!1,"invalid hashing algorithm name","algorithm",e)}let nL=!1,nK=function(e,t,r){let n;return(d(null!=(n=({sha256:n_,sha512:nD})[e]),"invalid hmac algorithm","algorithm",e),nA.create(n,t)).update(r).digest()},nq=nK;function nW(e,t,r){let n=b(t,"key"),i=b(r,"data");return v(nq(e,n,i))}nW._=nK,nW.lock=function(){nL=!0},nW.register=function(e){if(nL)throw Error("computeHmac is locked");nq=e},Object.freeze(nW),e.s(["computeHmac",()=>nW],485685);let nV=!1,nG=function(e){let t;return new Uint8Array((c(null!=nF,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),d(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e),t=new Uint8Array(e),nF.getRandomValues(t),t))},nz=nG;function nj(e){return nz(e)}nj._=nG,nj.lock=function(){nV=!0},nj.register=function(e){if(nV)throw Error("randomBytes is locked");nz=e},Object.freeze(nj),e.s(["randomBytes",()=>nj],394944);let nH=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),nQ=Uint8Array.from({length:16},(e,t)=>t),nX=nQ.map(e=>(9*e+5)%16),nJ=[nQ],nY=[nX];for(let e=0;e<4;e++)for(let t of[nJ,nY])t.push(t[e].map(e=>nH[e]));let nZ=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),n$=nJ.map((e,t)=>e.map(e=>nZ[t][e])),n0=nY.map((e,t)=>e.map(e=>nZ[t][e])),n1=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),n2=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),n4=(e,t)=>e<<t|e>>>32-t;function n6(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let n3=new Uint32Array(16);class n5 extends nv{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)n3[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,a=i,s=0|this.h2,o=s,u=0|this.h3,l=u,c=0|this.h4,d=c;for(let e=0;e<5;e++){let t=4-e,f=n1[e],p=n2[e],h=nJ[e],m=nY[e],g=n$[e],b=n0[e];for(let t=0;t<16;t++){let n=n4(r+n6(e,i,s,u)+n3[h[t]]+f,g[t])+c|0;r=c,c=u,u=0|n4(s,10),s=i,i=n}for(let e=0;e<16;e++){let r=n4(n+n6(t,a,o,l)+n3[m[e]]+p,b[e])+d|0;n=d,d=l,l=0|n4(o,10),o=a,a=r}}this.set(this.h1+s+l|0,this.h2+u+d|0,this.h3+c+n|0,this.h4+r+a|0,this.h0+i+o|0)}roundClean(){n3.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let n8=eq(()=>new n5),n7=!1,n9=function(e){return n8(e)},ie=n9;function it(e){let t=b(e,"data");return v(ie(t))}it._=n9,it.lock=function(){n7=!0},it.register=function(e){if(n7)throw TypeError("ripemd160 is locked");ie=e},Object.freeze(it),e.s(["ripemd160",()=>it],961018);let ir=function(e){return nM("sha256").update(e).digest()},ii=function(e){return nM("sha512").update(e).digest()},ia=ir,is=ii,io=!1,iu=!1;function il(e){let t=b(e,"data");return v(ia(t))}function ic(e){let t=b(e,"data");return v(is(t))}il._=ir,il.lock=function(){io=!0},il.register=function(e){if(io)throw Error("sha256 is locked");ia=e},Object.freeze(il),ic._=ii,ic.lock=function(){iu=!0},ic.register=function(e){if(iu)throw Error("sha512 is locked");is=e},Object.freeze(il),e.s(["sha256",()=>il,"sha512",()=>ic],63637);let id=!1,ip=function(e,t,r,n,i){let a;return d(null!=(a=({sha256:n_,sha512:nD})[i]),"invalid pbkdf2 algorithm","algorithm",i),nw(a,e,t,{c:r,dkLen:n})},ih=ip;function im(e,t,r,n,i){let a=b(e,"password"),s=b(t,"salt");return v(ih(a,s,r,n,i))}im._=ip,im.lock=function(){id=!0},im.register=function(e){if(id)throw Error("pbkdf2 is locked");ih=e},Object.freeze(im),e.s(["pbkdf2",()=>im],767397);let ig=(e,t)=>e<<t|e>>>32-t;function ib(e,t,r,n,i,a){let s=e[t++]^r[n++],o=e[t++]^r[n++],u=e[t++]^r[n++],l=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],h=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],b=e[t++]^r[n++],y=e[t++]^r[n++],x=e[t++]^r[n++],A=e[t++]^r[n++],w=e[t++]^r[n++],v=s,S=o,E=u,k=l,T=c,P=d,I=f,_=p,N=h,B=m,R=g,C=b,O=y,D=x,U=A,F=w;for(let e=0;e<8;e+=2)T^=ig(v+O|0,7),N^=ig(T+v|0,9),O^=ig(N+T|0,13),v^=ig(O+N|0,18),B^=ig(P+S|0,7),D^=ig(B+P|0,9),S^=ig(D+B|0,13),P^=ig(S+D|0,18),U^=ig(R+I|0,7),E^=ig(U+R|0,9),I^=ig(E+U|0,13),R^=ig(I+E|0,18),k^=ig(F+C|0,7),_^=ig(k+F|0,9),C^=ig(_+k|0,13),F^=ig(C+_|0,18),S^=ig(v+k|0,7),E^=ig(S+v|0,9),k^=ig(E+S|0,13),v^=ig(k+E|0,18),I^=ig(P+T|0,7),_^=ig(I+P|0,9),T^=ig(_+I|0,13),P^=ig(T+_|0,18),C^=ig(R+B|0,7),N^=ig(C+R|0,9),B^=ig(N+C|0,13),R^=ig(B+N|0,18),O^=ig(F+U|0,7),D^=ig(O+F|0,9),U^=ig(D+O|0,13),F^=ig(U+D|0,18);i[a++]=s+v|0,i[a++]=o+S|0,i[a++]=u+E|0,i[a++]=l+k|0,i[a++]=c+T|0,i[a++]=d+P|0,i[a++]=f+I|0,i[a++]=p+_|0,i[a++]=h+N|0,i[a++]=m+B|0,i[a++]=g+R|0,i[a++]=b+C|0,i[a++]=y+O|0,i[a++]=x+D|0,i[a++]=A+U|0,i[a++]=w+F|0}function iy(e,t,r,n,i){let a=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,a+=16,t+=16)ib(r,s,e,t,r,a),n>0&&(s+=16),ib(r,a,e,t+=16,r,s)}function ix(e,t,r){let{N:n,r:i,p:a,dkLen:s,asyncTick:o,maxmem:u,onProgress:l}=eK({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(ec(n),ec(i),ec(a),ec(s),ec(o),ec(u),void 0!==l&&"function"!=typeof l)throw Error("progressCb should be function");let c=128*i,d=c/4;if(n<=1||(n&n-1)!=0||n>=2**(c/8)||n>0x100000000)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(0x100000000-1)*32/c)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>(0x100000000-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=c*(n+a);if(f>u)throw Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${u} (maxmem)`);let p=nw(n_,e,t,{c:1,dkLen:c*a}),h=eR(p),m=eR(new Uint8Array(c*n)),g=eR(new Uint8Array(c)),b=()=>{};if(l){let e=2*n*a,t=Math.max(Math.floor(e/1e4),1),r=0;b=()=>{r++,l&&(!(r%t)||r===e)&&l(r/e)}}return{N:n,r:i,p:a,dkLen:s,blockSize32:d,V:m,B32:h,B:p,tmp:g,blockMixCb:b,asyncTick:o}}function iA(e,t,r,n,i){let a=nw(n_,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),a}async function iw(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:u,B32:l,B:c,tmp:d,blockMixCb:f,asyncTick:p}=ix(e,t,r);for(let e=0;e<a;e++){let t=o*e;for(let e=0;e<o;e++)u[e]=l[t+e];let r=0;await eU(n-1,p,()=>{iy(u,r,u,r+=o,i),f()}),iy(u,(n-1)*o,l,t,i),f(),await eU(n,p,()=>{let e=l[t+o-16]%n;for(let r=0;r<o;r++)d[r]=l[t+r]^u[e*o+r];iy(d,0,l,t,i),f()})}return iA(e,s,c,u,d)}let iv=!1,iS=!1,iE=async function(e,t,r,n,i,a,s){return await iw(e,t,{N:r,r:n,p:i,dkLen:a,onProgress:s})},ik=function(e,t,r,n,i,a){return function(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:u,B32:l,B:c,tmp:d,blockMixCb:f}=ix(e,t,r);for(let e=0;e<a;e++){let t=o*e;for(let e=0;e<o;e++)u[e]=l[t+e];for(let e=0,t=0;e<n-1;e++)iy(u,t,u,t+=o,i),f();iy(u,(n-1)*o,l,t,i),f();for(let e=0;e<n;e++){let e=l[t+o-16]%n;for(let r=0;r<o;r++)d[r]=l[t+r]^u[e*o+r];iy(d,0,l,t,i),f()}}return iA(e,s,c,u,d)}(e,t,{N:r,r:n,p:i,dkLen:a})},iT=iE,iP=ik;async function iI(e,t,r,n,i,a,s){let o=b(e,"passwd"),u=b(t,"salt");return v(await iT(o,u,r,n,i,a,s))}function i_(e,t,r,n,i,a){let s=b(e,"passwd"),o=b(t,"salt");return v(iP(s,o,r,n,i,a))}function iN(){nW.lock(),e8.lock(),im.lock(),nj.lock(),it.lock(),iI.lock(),i_.lock(),il.lock(),ic.lock(),nj.lock()}iI._=iE,iI.lock=function(){iS=!0},iI.register=function(e){if(iS)throw Error("scrypt is locked");iT=e},Object.freeze(iI),i_._=ik,i_.lock=function(){iv=!0},i_.register=function(e){if(iv)throw Error("scryptSync is locked");iP=e},Object.freeze(i_),e.s(["scrypt",()=>iI,"scryptSync",()=>i_],73023),e.s(["lock",()=>iN],952871);let iB=BigInt(0),iR=BigInt(1),iC=BigInt(2),iO=BigInt(27),iD=BigInt(28),iU=BigInt(35),iF={};class iM{#P;#I;#_;#N;get r(){return this.#P}set r(e){d(32===E(e),"invalid r","value",e),this.#P=v(e)}get s(){return d(8>parseInt(this.#I.substring(0,3)),"non-canonical s; use ._s","s",this.#I),this.#I}set s(e){d(32===E(e),"invalid s","value",e),this.#I=v(e)}get _s(){return this.#I}isValid(){return 8>parseInt(this.#I.substring(0,3))}get v(){return this.#_}set v(e){let t=H(e,"value");d(27===t||28===t,"invalid v","v",e),this.#_=t}get networkV(){return this.#N}get legacyChainId(){let e=this.networkV;return null==e?null:iM.getChainId(e)}get yParity(){return+(27!==this.v)}get yParityAndS(){let e=b(this.s);return this.yParity&&(e[0]|=128),v(e)}get compactSerialized(){return S([this.r,this.yParityAndS])}get serialized(){return S([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){m(e,iF,"Signature"),this.#P=t,this.#I=r,this.#_=n,this.#N=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new iM(iF,this.r,this._s,this.v);return this.networkV&&(e.#N=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let t=V(e,"v");return t==iO||t==iD?iB:(d(t>=iU,"invalid EIP-155 v","v",e),(t-iU)/iC)}static getChainIdV(e,t){return V(e)*iC+BigInt(35+t-27)}static getNormalizedV(e){let t=V(e);return t===iB||t===iO?27:t===iR||t===iD?28:(d(t>=iU,"invalid v","v",e),t&iR?27:28)}static from(e){function t(t,r){d(t,r,"signature",e)}if(null==e)return new iM(iF,rF,rF,27);if("string"==typeof e){let r=b(e,"signature");if(64===r.length){let e=v(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new iM(iF,e,v(t),n)}if(65===r.length){let e=v(r.slice(0,32)),t=v(r.slice(32,64)),n=iM.getNormalizedV(r[64]);return new iM(iF,e,t,n)}t(!1,"invalid raw signature length")}if(e instanceof iM)return e.clone();let r=e.r;t(null!=r,"missing r");let n=I(J(r),32),i=function(e,r){if(null!=e)return I(J(e),32);if(null!=r){t(x(r,32),"invalid yParityAndS");let e=b(r);return e[0]&=127,v(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:s}=function(e,r,n){if(null!=e){let t=V(e);return{networkV:t>=iU?t:void 0,v:iM.getNormalizedV(t)}}if(null!=r)return t(x(r,32),"invalid yParityAndS"),{v:128&b(r)[0]?28:27};if(null!=n){switch(H(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new iM(iF,n,i,s);return a&&(o.#N=a),t(null==e.yParity||H(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}e.s(["Signature",()=>iM],257092);let iL=BigInt(0),iK=BigInt(1),iq=BigInt(2),iW=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function iV(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=iW[e[r]];return t}function iG(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function iz(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ij(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function iH(e){return iz(iV(e))}function iQ(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");return iz(iV(Uint8Array.from(e).reverse()))}function iX(e,t){return ij(e.toString(16).padStart(2*t,"0"))}function iJ(e,t){return iX(e,t).reverse()}function iY(e){return ij(iG(e))}function iZ(e,t,r){let n;if("string"==typeof t)try{n=ij(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(t instanceof Uint8Array)n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function i$(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}function i0(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i1(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function i2(e){let t;for(t=0;e>iL;e>>=iK,t+=1);return t}function i4(e,t){return e>>BigInt(t)&iK}let i6=e=>(iq<<BigInt(e-1))-iK,i3=e=>new Uint8Array(e);function i5(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=i3(e),i=i3(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),u=(e=i3())=>{let t;if(i=o((t=[0],Uint8Array.from(t)),e),n=o(),0!==e.length){let t;i=o((t=[1],Uint8Array.from(t)),e),n=o()}},l=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return i$(...r)};return(e,t)=>{let r;for(s(),u(e);!(r=t(l()));)u();return s(),r}}let i8={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function i7(e,t,r={}){let n=(t,r,n)=>{let i=i8[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}e.s(["bitGet",()=>i4,"bitLen",()=>i2,"bitMask",0,i6,"bitSet",0,(e,t,r)=>e|(r?iK:iL)<<BigInt(t),"bytesToHex",()=>iV,"bytesToNumberBE",()=>iH,"bytesToNumberLE",()=>iQ,"concatBytes",()=>i$,"createHmacDrbg",()=>i5,"ensureBytes",()=>iZ,"equalBytes",()=>i0,"hexToBytes",()=>ij,"hexToNumber",()=>iz,"numberToBytesBE",()=>iX,"numberToBytesLE",()=>iJ,"numberToHexUnpadded",()=>iG,"numberToVarBytesBE",()=>iY,"utf8ToBytes",()=>i1,"validateObject",()=>i7],88681);let i9=BigInt(0),ae=BigInt(1),at=BigInt(2),ar=BigInt(3),an=BigInt(4),ai=BigInt(5),aa=BigInt(8);function as(e,t){let r=e%t;return r>=i9?r:t+r}function ao(e,t,r){let n=e;for(;t-- >i9;)n*=n,n%=r;return n}function au(e,t){if(e===i9||t<=i9)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=as(e,t),n=t,i=i9,a=ae,s=ae,o=i9;for(;r!==i9;){let e=n/r,t=n%r,u=i-s*e,l=a-o*e;n=r,r=t,i=s,a=o,s=u,o=l}if(n!==ae)throw Error("invert: does not exist");return as(i,t)}BigInt(9),BigInt(16);let al=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ac(e){return i7(e,al.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function ad(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function af(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ap(e){let t=af(e);return t+Math.ceil(t/2)}var ah,am=e.i(88681);let ag=BigInt(0),ab=BigInt(1);function ay(e){return ac(e.Fp),i7(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ad(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}let{bytesToNumberBE:ax,hexToBytes:aA}=am,aw={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=aw;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ax(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=aw,r="string"==typeof e?aA(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:a}=aw._parseInt(r.subarray(2)),{d:s,l:o}=aw._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,s=i.length/2,o=r(a),u=r(s);return`30${r(s+a+4)}02${u}${i}02${o}${n}`}},av=BigInt(0),aS=BigInt(1),aE=BigInt(2),ak=BigInt(3),aT=BigInt(4),aP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a_=BigInt(1),aN=BigInt(2),aB=(e,t)=>(e+t/aN)/t,aR=function(e,t,r=!1,n={}){if(e<=i9)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=ad(e,t);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let s=function(e){if(e%an===ar){let t=(e+ae)/an;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%aa===ai){let t=(e-ai)/aa;return function(e,r){let n=e.mul(r,at),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,at),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-ae)/at;for(t=e-ae,r=0;t%at===i9;t/=at,r++);for(n=at;n<e&&function(e,t,r){if(r<=i9||t<i9)throw Error("Expected power/modulo > 0");if(r===ae)return i9;let n=ae;for(;t>i9;)t&ae&&(n=n*e%r),e=e*e%r,t>>=ae;return n}(n,i,e)!==e-ae;n++);if(1===r){let t=(e+ae)/an;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+ae)/at;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,u=e.pow(e.mul(e.ONE,n),t),l=e.pow(s,a),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,ae<<BigInt(o-t-1));u=e.sqr(r),l=e.mul(l,r),c=e.mul(c,u),o=t}return l}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:i6(i),ZERO:i9,ONE:ae,create:t=>as(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return i9<=t&&t<e},is0:e=>e===i9,isOdd:e=>(e&ae)===ae,neg:t=>as(-t,e),eql:(e,t)=>e===t,sqr:t=>as(t*t,e),add:(t,r)=>as(t+r,e),sub:(t,r)=>as(t-r,e),mul:(t,r)=>as(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<i9)throw Error("Expected power > 0");if(r===i9)return e.ONE;if(r===ae)return t;let n=e.ONE,i=t;for(;r>i9;)r&ae&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ae;return n})(o,e,t),div:(t,r)=>as(t*au(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>au(t,e),sqrt:n.sqrt||(e=>s(o,e)),invertBatch:e=>{let t,r,n;return t=Array(e.length),r=e.reduce((e,r,n)=>o.is0(r)?e:(t[n]=e,o.mul(e,r)),o.ONE),n=o.inv(r),e.reduceRight((e,r,n)=>o.is0(r)?e:(t[n]=o.mul(e,t[n]),o.mul(e,r)),n),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?iJ(e,a):iX(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?iQ(e):iH(e)}});return Object.freeze(o)}(aP,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),u=e*e*e%aP,l=u*u*e%aP,c=ao(l,t,aP)*l%aP,d=ao(c,t,aP)*l%aP,f=ao(d,aN,aP)*u%aP,p=ao(f,n,aP)*f%aP,h=ao(p,i,aP)*p%aP,m=ao(h,s,aP)*h%aP,g=ao(m,o,aP)*m%aP,b=ao(g,s,aP)*h%aP,y=ao(b,t,aP)*l%aP,x=ao(y,a,aP)*p%aP,A=ao(x,r,aP)*u%aP,w=ao(A,aN,aP);if(!aR.eql(aR.sqr(w),e))throw Error("Cannot find square root");return w}}),aC=(ah={a:BigInt(0),b:BigInt(7),Fp:aR,n:aI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=aB(t*e,aI),s=aB(-r*e,aI),o=as(e-a*t-s*n,aI),u=as(-a*r-s*t,aI),l=o>i,c=u>i;if(l&&(o=aI-o),c&&(u=aI-u),o>i||u>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:o,k2neg:c,k2:u}}}},Object.freeze({...(t=e=>(function(e){let t,r=(t=ay(e),am.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:n,n:i}=r,a=n.BYTES+1,s=2*n.BYTES+1;function o(e){return as(e,i)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:d}=function(e){var t;let r,n,i=function(e){let t=ay(e);am.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:a}=i,s=i.toBytes||((e,t,r)=>{let n=t.toAffine();return am.concatBytes(Uint8Array.from([4]),a.toBytes(n.x),a.toBytes(n.y))}),o=i.fromBytes||(e=>{let t=e.subarray(1);return{x:a.fromBytes(t.subarray(0,a.BYTES)),y:a.fromBytes(t.subarray(a.BYTES,2*a.BYTES))}});function u(e){let{a:t,b:r}=i,n=a.sqr(e),s=a.mul(n,e);return a.add(a.add(s,a.mul(e,t)),r)}if(!a.eql(a.sqr(i.Gy),u(i.Gx)))throw Error("bad generator point: equation left != right");function l(e){return"bigint"==typeof e&&av<e&&e<i.n}function c(e){if(!l(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function d(e){let t,{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:s}=i;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=am.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw Error("Invalid key");e=e.padStart(2*n,"0")}try{t="bigint"==typeof e?e:am.bytesToNumberBE(iZ("private key",e,n))}catch(t){throw Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(t=as(t,s)),c(t),t}let f=new Map;function p(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!a.isValid(e))throw Error("x required");if(null==t||!a.isValid(t))throw Error("y required");if(null==r||!a.isValid(r))throw Error("z required")}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!a.isValid(t)||!a.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let n=e=>a.eql(e,a.ZERO);return n(t)&&n(r)?h.ZERO:new h(t,r,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(o(iZ("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(d(e))}_setWindowSize(e){this._WINDOW_SIZE=e,f.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint&&!a.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:t}=this.toAffine();if(!a.isValid(e)||!a.isValid(t))throw Error("bad point: x or y not FE");let r=a.sqr(t),n=u(e);if(!a.eql(r,n))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(a.isOdd)return!a.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){p(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:o}=e,u=a.eql(a.mul(t,o),a.mul(i,n)),l=a.eql(a.mul(r,o),a.mul(s,n));return u&&l}negate(){return new h(this.px,a.neg(this.py),this.pz)}double(){let{a:e,b:t}=i,r=a.mul(t,ak),{px:n,py:s,pz:o}=this,u=a.ZERO,l=a.ZERO,c=a.ZERO,d=a.mul(n,n),f=a.mul(s,s),p=a.mul(o,o),m=a.mul(n,s);return m=a.add(m,m),c=a.mul(n,o),c=a.add(c,c),u=a.mul(e,c),l=a.mul(r,p),l=a.add(u,l),u=a.sub(f,l),l=a.add(f,l),l=a.mul(u,l),u=a.mul(m,u),c=a.mul(r,c),p=a.mul(e,p),m=a.sub(d,p),m=a.mul(e,m),m=a.add(m,c),c=a.add(d,d),d=a.add(c,d),d=a.add(d,p),d=a.mul(d,m),l=a.add(l,d),p=a.mul(s,o),p=a.add(p,p),d=a.mul(p,m),u=a.sub(u,d),c=a.mul(p,f),c=a.add(c,c),new h(u,l,c=a.add(c,c))}add(e){p(e);let{px:t,py:r,pz:n}=this,{px:s,py:o,pz:u}=e,l=a.ZERO,c=a.ZERO,d=a.ZERO,f=i.a,m=a.mul(i.b,ak),g=a.mul(t,s),b=a.mul(r,o),y=a.mul(n,u),x=a.add(t,r),A=a.add(s,o);x=a.mul(x,A),A=a.add(g,b),x=a.sub(x,A),A=a.add(t,n);let w=a.add(s,u);return A=a.mul(A,w),w=a.add(g,y),A=a.sub(A,w),w=a.add(r,n),l=a.add(o,u),w=a.mul(w,l),l=a.add(b,y),w=a.sub(w,l),d=a.mul(f,A),l=a.mul(m,y),d=a.add(l,d),l=a.sub(b,d),d=a.add(b,d),c=a.mul(l,d),b=a.add(g,g),b=a.add(b,g),y=a.mul(f,y),A=a.mul(m,A),b=a.add(b,y),y=a.sub(g,y),y=a.mul(f,y),A=a.add(A,y),g=a.mul(b,A),c=a.add(c,g),g=a.mul(w,A),l=a.mul(x,l),l=a.sub(l,g),g=a.mul(x,b),d=a.mul(w,d),new h(l,c,d=a.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return g.wNAFCached(this,f,e,e=>{let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let t=h.ZERO;if(e===av)return t;if(c(e),e===aS)return this;let{endo:r}=i;if(!r)return g.unsafeLadder(this,e);let{k1neg:n,k1:s,k2neg:o,k2:u}=r.splitScalar(e),l=t,d=t,f=this;for(;s>av||u>av;)s&aS&&(l=l.add(f)),u&aS&&(d=d.add(f)),f=f.double(),s>>=aS,u>>=aS;return n&&(l=l.negate()),o&&(d=d.negate()),d=new h(a.mul(d.px,r.beta),d.py,d.pz),l.add(d)}multiply(e){let t,r;c(e);let{endo:n}=i;if(n){let{k1neg:i,k1:s,k2neg:o,k2:u}=n.splitScalar(e),{p:l,f:c}=this.wNAF(s),{p:d,f:f}=this.wNAF(u);l=g.constTimeNegate(i,l),d=g.constTimeNegate(o,d),d=new h(a.mul(d.px,n.beta),d.py,d.pz),t=l.add(d),r=c.add(f)}else{let{p:n,f:i}=this.wNAF(e);t=n,r=i}return h.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){let n=h.BASE,i=(e,t)=>t!==av&&t!==aS&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:n}=this,i=this.is0();null==e&&(e=i?a.ONE:a.inv(n));let s=a.mul(t,e),o=a.mul(r,e),u=a.mul(n,e);if(i)return{x:a.ZERO,y:a.ZERO};if(!a.eql(u,a.ONE))throw Error("invZ was invalid");return{x:s,y:o}}isTorsionFree(){let{h:e,isTorsionFree:t}=i;if(e===aS)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=i;return e===aS?this:t?t(h,this):this.multiplyUnsafe(i.h)}toRawBytes(e=!0){return this.assertValidity(),s(h,this,e)}toHex(e=!0){return am.bytesToHex(this.toRawBytes(e))}}h.BASE=new h(i.Gx,i.Gy,a.ONE),h.ZERO=new h(a.ZERO,a.ONE,a.ZERO);let m=i.nBitLength,g=(t=i.endo?Math.ceil(m/2):m,r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}),{constTimeNegate:r,unsafeLadder(e,t){let r=h.ZERO,n=e;for(;t>ag;)t&ab&&(r=r.add(n)),n=n.double(),t>>=ab;return r},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),a=[],s=e,o=s;for(let e=0;e<r;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,t,i){let{windows:a,windowSize:s}=n(e),o=h.ZERO,u=h.BASE,l=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let e=0;e<a;e++){let n=e*s,a=Number(i&l);i>>=d,a>s&&(a-=c,i+=ab);let f=n+Math.abs(a)-1,p=e%2!=0,h=a<0;0===a?u=u.add(r(p,t[n])):o=o.add(r(h,t[f]))}return{p:o,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,i),1!==i&&t.set(e,n(a))),this.wNAF(i,a,r)}});return{CURVE:i,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:l}}({...r,toBytes(e,t,r){let i=t.toAffine(),a=n.toBytes(i.x),s=am.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===a&&(2===r||3===r)){let e=am.bytesToNumberBE(i);if(!(av<e&&e<n.ORDER))throw Error("Point is not on curve");let t=c(e),a=n.sqrt(t);return(1&r)==1!=((a&aS)===aS)&&(a=n.neg(a)),{x:e,y:a}}if(t===s&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${s} uncompressed bytes`)}}),f=e=>am.bytesToHex(am.numberToBytesBE(e,r.nByteLength)),p=(e,t,r)=>am.bytesToNumberBE(e.slice(t,r));class h{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let t=r.nByteLength;return new h(p(e=iZ("compactSignature",e,2*t),0,t),p(e,t,2*t))}static fromDER(e){let{r:t,s:r}=aw.toSig(iZ("DER",e));return new h(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:a,recovery:s}=this,l=b(iZ("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let c=2===s||3===s?t+r.n:t;if(c>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&s)==0?"02":"03",p=u.fromHex(d+f(c)),h=au(c,i),m=o(-l*h),g=o(a*h),y=u.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>i>>aS}normalizeS(){return this.hasHighS()?new h(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return am.hexToBytes(this.toDERHex())}toDERHex(){return aw.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return am.hexToBytes(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}function m(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===a||n===s:r?n===2*a||n===2*s:e instanceof u}let g=r.bits2int||function(e){let t=am.bytesToNumberBE(e),n=8*e.length-r.nBitLength;return n>0?t>>BigInt(n):t},b=r.bits2int_modN||function(e){return o(g(e))},y=am.bitMask(r.nBitLength);function x(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(av<=e&&e<y))throw Error(`bigint expected < 2^${r.nBitLength}`);return am.numberToBytesBE(e,r.nByteLength)}let A={lowS:r.lowS,prehash:!1},w={lowS:r.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw Error("first arg must be private key");if(!m(t))throw Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,t,a=A){let{seed:s,k2sig:c}=function(e,t,a=A){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:c}=r,{lowS:f,prehash:p,extraEntropy:m}=a;null==f&&(f=!0),e=iZ("msgHash",e),p&&(e=iZ("prehashed msgHash",s(e)));let y=b(e),w=l(t),v=[x(w),x(y)];if(null!=m){let e=!0===m?c(n.BYTES):m;v.push(iZ("extraEntropy",e))}return{seed:am.concatBytes(...v),k2sig:function(e){var t;let r=g(e);if(!d(r))return;let n=au(r,i),a=u.BASE.multiply(r).toAffine(),s=o(a.x);if(s===av)return;let l=o(n*o(y+s*w));if(l===av)return;let c=2*(a.x!==s)|Number(a.y&aS),p=l;return f&&l>i>>aS&&(p=(t=l)>i>>aS?o(-t):t,c^=1),new h(s,p,c)}}}(e,t,a);return am.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(s,c)},verify:function(e,t,n,a=w){let s,l;if(t=iZ("msgHash",t),n=iZ("publicKey",n),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:c,prehash:d}=a;try{if("string"==typeof e||e instanceof Uint8Array)try{l=h.fromDER(e)}catch(t){if(!(t instanceof aw.Err))throw t;l=h.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new h(t,r)}else throw Error("PARSE");s=u.fromHex(n)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;d&&(t=r.hash(t));let{r:f,s:p}=l,m=b(t),g=au(p,i),y=o(m*g),x=o(f*g),A=u.BASE.multiplyAndAddUnsafe(s,y,x)?.toAffine();return!!A&&o(A.x)===f},ProjectivePoint:u,Signature:h,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=ap(r.n);return function(e,t,r=!1){let n=e.length,i=af(t),a=ap(t);if(n<16||n<a||n>1024)throw Error(`expected ${a}-1024 bytes of input, got ${n}`);let s=as(r?iH(e):iQ(e),t-ae)+ae;return r?iJ(s,i):iX(s,i)}(r.randomBytes(e),r.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...ah,hash:e,hmac:(t,...r)=>nA(e,t,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:eW}))(n_),create:t})),aO=BigInt(0);aC.ProjectivePoint;let aD=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[n,i,a,s]=r.map(t=>t.reduce((t,r)=>aR.add(aR.mul(t,e),r)));return e=aR.div(n,i),t=aR.mul(t,aR.div(a,s)),{x:e,y:t}}),aU=function(e,t){if(ac(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,n=av;for(let e=r-aS;e%aE===av;e/=aE)n+=aS;let i=n,a=aE<<i-aS-aS,s=a*aE,o=(r-aS)/s,u=(o-aS)/aE,l=s-aS,c=e.pow(t,o),d=e.pow(t,(o+aS)/aE),f=(t,r)=>{let n=c,s=e.pow(r,l),o=e.sqr(s);o=e.mul(o,r);let f=e.mul(t,o);f=e.pow(f,u),f=e.mul(f,s),s=e.mul(f,r),o=e.mul(f,t);let p=e.mul(o,s);f=e.pow(p,a);let h=e.eql(f,e.ONE);s=e.mul(o,d),f=e.mul(p,n),o=e.cmov(s,o,h),p=e.cmov(f,p,h);for(let t=i;t>aS;t--){let r=t-aE;r=aE<<r-aS;let i=e.pow(p,r),a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(p,n),o=e.cmov(s,o,a),p=e.cmov(i,p,a)}return{isValid:h,value:o}};if(e.ORDER%aT===ak){let r=(e.ORDER-ak)/aT,n=e.sqrt(e.neg(t));f=(t,i)=>{let a=e.sqr(i),s=e.mul(t,i);a=e.mul(a,s);let o=e.pow(a,r);o=e.mul(o,s);let u=e.mul(o,n),l=e.mul(e.sqr(o),i),c=e.eql(l,t),d=e.cmov(u,o,c);return{isValid:c,value:d}}}return f}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,u,l,c,d;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),o=e.mul(o,t.A),a=e.sqr(s),l=e.sqr(o),u=e.mul(l,t.A),a=e.add(a,u),a=e.mul(a,s),l=e.mul(l,o),u=e.mul(l,t.B),a=e.add(a,u),c=e.mul(i,s);let{isValid:f,value:p}=r(a,l);d=e.mul(i,n),d=e.mul(d,p),c=e.cmov(c,s,f),d=e.cmov(d,p,f);let h=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),{x:c=e.div(c,o),y:d}}}(aR,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:aR.create(BigInt("-11"))});!function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")}(aC.ProjectivePoint,e=>{let{x:t,y:r}=aU(aR.create(e[0]));return aD(t,r)},aR.ORDER);class aF{#B;constructor(e){d(32===E(e),"invalid private key","privateKey","[REDACTED]"),this.#B=v(e)}get privateKey(){return this.#B}get publicKey(){return aF.computePublicKey(this.#B)}get compressedPublicKey(){return aF.computePublicKey(this.#B,!0)}sign(e){d(32===E(e),"invalid digest length","digest",e);let t=aC.sign(y(e),y(this.#B),{lowS:!0});return iM.from({r:X(t.r,32),s:X(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=aF.computePublicKey(e);return v(aC.getSharedSecret(y(this.#B),b(t),!1))}static computePublicKey(e,t){let r=b(e,"key");if(32===r.length)return v(aC.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return v(aC.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){d(32===E(e),"invalid digest length","digest",e);let r=iM.from(t),n=aC.Signature.fromCompact(y(S([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(y(e));return d(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let n=aC.ProjectivePoint.fromHex(aF.computePublicKey(e).substring(2)),i=aC.ProjectivePoint.fromHex(aF.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}e.s(["SigningKey",()=>aF],421227)},330389,e=>{"use strict";let t,r,n,i,a,s,o,u,l,c,d,f,p,h,m,g=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function b(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let s=r(),o=t;t+=s;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0x80000000-1,f=0;for(let e=0;e<31;e++)f=f<<1|c();let p=[],h=0,m=0x80000000;for(;;){let e=Math.floor(((f-h+1)*i-1)/m),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;p.push(t);let s=h+Math.floor(m*a[t]/i),o=h+Math.floor(m*a[t+1]/i)-1;for(;((s^o)&0x40000000)==0;)f=f<<1&d|c(),s=s<<1&d,o=o<<1&d|1;for(;s&~o&0x20000000;)f=0x40000000&f|f<<1&d>>>1|c(),s=s<<1^0x40000000,o=(0x40000000^o)<<1|0x40000001;h=s,m=1+o-s}let g=n-4;return p.map(t=>{switch(t-g){case 3:return g+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return g+256+(e[o++]<<8|e[o++]);case 1:return g+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,a=0,s=0,o=0;i<r;i++)o=o<<6|t[e.charCodeAt(i)],(s+=6)>=8&&(n[a++]=o>>(s-=8));return n}(e)),r=0,()=>t[r++]}function y(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function x(e){return w(()=>{let t=y(e);if(t.length)return t})}function A(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=w(t);return v(i.length,1+e,t).flatMap((e,t)=>{let[a,...s]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*n;return[a+t*r,s.map(e=>e+i)]})})}(r,e))}for(;;){var r,n;let i=e()-1;if(i<0)break;t.push((r=i,v(1+(n=e)(),1+r,n).map(e=>[e[0],e.slice(1)])))}return t.flat()}function w(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function v(e,t,r){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,a=0;i<e;i++){var n;r[i]=a+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}function S(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function E(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function k(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}let T=55204;function P(e){return e>>24&255}function I(e){return 0xffffff&e}function _(e){return e>=44032&&e<T}function N(e){t||function(){let e=b("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");for(let[a,s]of(t=new Map(x(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),r=new Set(y(e)),n=new Map,i=new Map,A(e))){if(!r.has(a)&&2==s.length){let[e,t]=s,r=i.get(e);r||(r=new Map,i.set(e,r)),r.set(t,a)}n.set(a,s.reverse())}}();let a=[],s=[],o=!1;function u(e){let r=t.get(e);r&&(o=!0,e|=r),a.push(e)}for(let t of e)for(;;){if(t<128)a.push(t);else if(_(t)){let e=t-44032,r=e/588|0,n=e%588/28|0,i=e%28;u(4352+r),u(4449+n),i>0&&u(4519+i)}else{let e=n.get(t);e?s.push(...e):u(t)}if(!s.length)break;t=s.pop()}if(o&&a.length>1){let e=P(a[0]);for(let t=1;t<a.length;t++){let r=P(a[t]);if(0==r||e<=r){e=r;continue}let n=t-1;for(;;){let t=a[n+1];if(a[n+1]=a[n],a[n]=t,!n||(e=P(a[--n]))<=r)break}e=P(a[t])}}return a}function B(e){return function(e){let t=[],r=[],n=-1,a=0;for(let s of e){let e=P(s),o=I(s);if(-1==n)0==e?n=o:t.push(o);else if(a>0&&a>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),a=e;else{let s=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;{if(_(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);let r=i.get(e);return r&&(r=r.get(t))?r:-1}}(n,o);s>=0?n=s:0==a&&0==e?(t.push(n),n=o):(r.push(o),a=e)}}return n>=0&&t.push(n,...r),t}(N(e))}let R=e=>Array.from(e);function C(e,t){return e.P.has(t)||e.Q.has(t)}class O extends Array{get is_emoji(){return!0}}function D(){let e,t;if(a)return;let r=b("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI"),n=()=>new Set(y(r)),i=(e,t)=>t.forEach(t=>e.add(t));a=new Map(A(r)),s=n(),o=y(r),u=new Set(y(r).map(e=>o[e])),o=new Set(o),l=n(),n();let g=x(r),v=r(),S=()=>{let e=new Set;return y(r).forEach(t=>i(e,g[t])),i(e,y(r)),e};c=w(e=>{let t=w(r).map(e=>e+96);if(t.length){let n=e>=v;t[0]-=32,t=E(t),n&&(t=`Restricted[${t}]`);let i=S();return{N:t,P:i,Q:S(),M:!r(),R:n}}}),d=n(),f=new Map;let T=y(r).concat(R(d)).sort((e,t)=>e-t);for(let{V:e,M:t}of(T.forEach((e,t)=>{let n=r(),i=T[t]=n?T[t-n]:{V:[],M:new Map};i.V.push(e),d.has(e)||f.set(e,i)}),new Set(f.values()))){let r=[];for(let t of e){let e=c.filter(e=>C(e,t)),n=r.find(({G:t})=>e.some(e=>t.has(e)));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),i(n.G,e)}let n=r.flatMap(e=>R(e.G));for(let{G:e,V:i}of r){let r=new Set(n.filter(t=>!e.has(t)));for(let e of i)t.set(e,r)}}p=new Set;let P=new Set,_=e=>p.has(e)?P.add(e):p.add(e);for(let e of c){for(let t of e.P)_(t);for(let t of e.Q)_(t)}for(let e of p)f.has(e)||P.has(e)||f.set(e,1);for(let n of(i(p,N(p).map(I)),h=(e=[],t=y(r),function t({S:r,B:n},i,a){if(!(4&r)||a!==i[i.length-1])for(let s of(2&r&&(a=i[i.length-1]),1&r&&e.push(i),n))for(let e of s.Q)t(s,[...i,e],a)}(function e(n){return{S:r(),B:w(()=>{let n=y(r).map(e=>t[e]);if(n.length)return e(n)}),Q:n}}([]),[]),e).map(e=>O.from(e)).sort(k),m=new Map,h)){let e=[m];for(let t of n){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=n}}function U(e){return(L(e)?"":`${F(M([e]))} `)+S(e)}function F(e){return`"${e}"\u200E`}function M(e,t=1/0,r=S){var n;let i=[];n=e[0],D(),o.has(n)&&i.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,s=e.length;for(let t=0;t<s;t++){let n=e[t];L(n)&&(i.push(E(e.slice(a,t))),i.push(r(n)),a=t+1)}return i.push(E(e.slice(a,s))),i.join("")}function L(e){return D(),l.has(e)}function K(e){var t;return(t=function(e,t,r){if(!e)return[];D();let n=0;return e.split(".").map(e=>{let i=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),l={input:i,offset:n};n+=i.length+1;try{let e,n=l.tokens=function(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let o=function(e,t){let r,n=m,i=e.length;for(;i&&(n=n.get(e[--i]));){let{V:t}=n;t&&(r=t,e.length=i)}return r}(e);if(o)i.length&&(n.push(t(i)),i=[]),n.push(r(o));else{let t=e.pop();if(p.has(t))i.push(t);else{let e=a.get(t);if(e)i.push(...e);else if(!s.has(t))throw q(t)}}}return i.length&&n.push(t(i)),n}(i,t,r),d=n.length;if(!d)throw Error("empty label");let h=l.output=n.flat();for(let e=h.lastIndexOf(95);e>0;)if(95!==h[--e])throw Error("underscore allowed only at start");if(!(l.emoji=d>1||n[0].is_emoji)&&h.every(e=>e<128)){if(h.length>=4&&45==h[2]&&45==h[3])throw Error(`invalid label extension: "${E(h.slice(0,4))}"`);e="ASCII"}else{let t=n.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(o.has(h[0]))throw V("leading combining mark");for(let e=1;e<d;e++){let t=n[e];if(!t.is_emoji&&o.has(t[0]))throw V(`emoji + combining mark: "${E(n[e-1])} + ${M([t[0]])}"`)}!function(e){let t=e[0],r=g.get(t);if(r)throw V(`leading ${r}`);let n=e.length,i=-1;for(let a=1;a<n;a++){t=e[a];let n=g.get(t);if(n){if(i==a)throw V(`${r} + ${n}`);i=a+1,r=n}}if(i==n)throw V(`trailing ${r}`)}(h);let r=R(new Set(t)),[i]=function(e){let t=c;for(let r of e){let e=t.filter(e=>C(e,r));if(!e.length)if(c.some(e=>C(e,r)))throw W(t[0],r);else throw q(r);if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!C(e,r))throw W(e,r);if(e.M){let e=N(t).map(I);for(let t=1,r=e.length;t<r;t++)if(u.has(e[t])){let n=t+1;for(let i;n<r&&u.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw Error(`duplicate non-spacing marks: ${U(i)}`);if(n-t>4)throw Error(`excessive non-spacing marks: ${F(M(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}})(i,t),function(e,t){let r,n=[];for(let e of t){let t=f.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(!(r=r?r.filter(e=>n.has(e)):R(n)).length)return}else n.push(e)}if(r){for(let t of r)if(n.every(e=>C(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(i,r),e=i.N}else e="Emoji"}l.type=e}catch(e){l.error=e}return l})}(e,B,G)).map(({input:e,error:r,output:n})=>{if(r){let n=r.message;throw Error(1==t.length?n:`Invalid label ${F(M(e,63))}: ${n}`)}return E(n)}).join(".")}function q(e){return Error(`disallowed character: ${U(e)}`)}function W(e,t){let r=U(t),n=c.find(e=>e.P.has(t));return n&&(r=`${n.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function V(e){return Error(`illegal placement: ${e}`)}function G(e){return e.filter(e=>65039!=e)}e.s(["ens_normalize",()=>K])},475228,97286,32548,233501,421836,93615,867025,936002,939086,750584,101468,432526,277171,196003,168762,258408,248855,558238,972072,894282,483280,374920,745533,357224,787101,863475,306260,63738,458752,678874,966339,655092,190741,233967,473587,12227,501058,725941,331415,244308,978851,84552,149105,956342,e=>{"use strict";let t;var r=e.i(998146),n=e.i(498138),i=e.i(914218),a=e.i(438853),s=e.i(330389);let o=new Uint8Array(32);function u(e){return(0,i.assertArgument)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function l(e){let t=(0,a.toUtf8Bytes)(c(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(u(t.slice(n,e))),n=e+1);return(0,i.assertArgument)(n<t.length,"invalid ENS name; empty component","name",e),r.push(u(t.slice(n))),r}function c(e){try{if(0===e.length)throw Error("empty label");return(0,s.ens_normalize)(e)}catch(t){(0,i.assertArgument)(!1,`invalid ENS name (${t.message})`,"name",e)}}function d(e){try{return 0!==l(e).length}catch(e){}return!1}function f(e){(0,i.assertArgument)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,i.assertArgument)(e.length,"invalid ENS name (empty label)","name",e);let t=o,a=l(e);for(;a.length;)t=(0,r.keccak256)((0,n.concat)([t,(0,r.keccak256)(a.pop())]));return(0,n.hexlify)(t)}function p(e,t){let r=null!=t?t:63;return(0,i.assertArgument)(r<=255,"DNS encoded label cannot exceed 255","length",r),(0,n.hexlify)((0,n.concat)(l(e).map(t=>{(0,i.assertArgument)(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);let n=new Uint8Array(t.length+1);return n.set(t,1),n[0]=n.length-1,n})))+"00"}o.fill(0),e.s(["dnsEncode",()=>p,"ensNormalize",()=>c,"isValidName",()=>d,"namehash",()=>f],475228);var h=e.i(737003),m=e.i(421227);function g(e){let t;return t="string"==typeof e?m.SigningKey.computePublicKey(e,!1):e.publicKey,(0,h.getAddress)((0,r.keccak256)("0x"+t.substring(4)).substring(26))}function b(e,t){return g(m.SigningKey.recoverPublicKey(e,t))}e.s(["computeAddress",()=>g,"recoverAddress",()=>b],97286);var y=e.i(798530),x=e.i(107339);function A(e){return(0,i.assertArgument)("string"==typeof e.address,"invalid address for hashAuthorization","auth.address",e),(0,r.keccak256)((0,n.concat)(["0x05",(0,y.encodeRlp)([null!=e.chainId?(0,x.toBeArray)(e.chainId):"0x",(0,h.getAddress)(e.address),null!=e.nonce?(0,x.toBeArray)(e.nonce):"0x"])]))}function w(e,t){return b(A(e),t)}e.s(["hashAuthorization",()=>A,"verifyAuthorization",()=>w],32548);var v=e.i(193826);function S(e){return"string"==typeof e&&(e=(0,a.toUtf8Bytes)(e)),(0,r.keccak256)((0,n.concat)([(0,a.toUtf8Bytes)(v.MessagePrefix),(0,a.toUtf8Bytes)(String(e.length)),e]))}function E(e,t){return b(S(e),t)}e.s(["hashMessage",()=>S,"verifyMessage",()=>E],233501);var k=e.i(63637);let T=RegExp("^bytes([0-9]+)$"),P=RegExp("^(u?int)([0-9]*)$"),I=RegExp("^(.*)\\[([0-9]*)\\]$");function _(e,t){(0,i.assertArgument)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,s){r.push(function e(t,r,s){switch(t){case"address":if(s)return(0,n.getBytes)((0,n.zeroPadValue)(r,32));return(0,n.getBytes)((0,h.getAddress)(r));case"string":return(0,a.toUtf8Bytes)(r);case"bytes":return(0,n.getBytes)(r);case"bool":if(r=r?"0x01":"0x00",s)return(0,n.getBytes)((0,n.zeroPadValue)(r,32));return(0,n.getBytes)(r)}let o=t.match(P);if(o){let e="int"===o[1],a=parseInt(o[2]||"256");return(0,i.assertArgument)((!o[2]||o[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",t),s&&(a=256),e&&(r=(0,x.toTwos)(r,a)),(0,n.getBytes)((0,n.zeroPadValue)((0,x.toBeArray)(r),a/8))}if(o=t.match(T)){let e=parseInt(o[1]);return((0,i.assertArgument)(String(e)===o[1]&&0!==e&&e<=32,"invalid bytes type","type",t),(0,i.assertArgument)((0,n.dataLength)(r)===e,`invalid value for ${t}`,"value",r),s)?(0,n.getBytes)((0,n.zeroPadBytes)(r,32)):r}if((o=t.match(I))&&Array.isArray(r)){let a=o[1],s=parseInt(o[2]||String(r.length));(0,i.assertArgument)(s===r.length,`invalid array length for ${t}`,"value",r);let u=[];return r.forEach(function(t){u.push(e(a,t,!0))}),(0,n.getBytes)((0,n.concat)(u))}(0,i.assertArgument)(!1,"invalid type","type",t)}(e,t[s]))}),(0,n.hexlify)((0,n.concat)(r))}function N(e,t){return(0,r.keccak256)(_(e,t))}function B(e,t){return(0,k.sha256)(_(e,t))}e.s(["solidityPacked",()=>_,"solidityPackedKeccak256",()=>N,"solidityPackedSha256",()=>B],421836);var R=e.i(892537),C=e.i(170987);let O=new Uint8Array(32);O.fill(0);let D=BigInt(-1),U=BigInt(0),F=BigInt(1),M=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=(0,x.toBeHex)(F,32),K=(0,x.toBeHex)(U,32),q={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},W=["name","version","chainId","verifyingContract","salt"];function V(e){return function(t){return(0,i.assertArgument)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let G={name:V("name"),version:V("version"),chainId:function(e){let t=(0,x.getBigInt)(e,"domain.chainId");return((0,i.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):(0,x.toQuantity)(t)},verifyingContract:function(e){try{return(0,h.getAddress)(e).toLowerCase()}catch(e){}(0,i.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=(0,n.getBytes)(e,"domain.salt");return(0,i.assertArgument)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,n.hexlify)(t)}};function z(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],n=parseInt(t[2]);(0,i.assertArgument)(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);let a=(0,x.mask)(M,r?n-1:n),s=r?(a+F)*D:U;return function(t){let n=(0,x.getBigInt)(t,"value");return(0,i.assertArgument)(n>=s&&n<=a,`value out-of-bounds for ${e}`,"value",n),(0,x.toBeHex)(r?(0,x.toTwos)(n,256):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0,i.assertArgument)(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){let a,s,o=(0,n.getBytes)(t);return(0,i.assertArgument)(o.length===r,`invalid length for ${e}`,"value",t),(s=(a=(0,n.getBytes)(t)).length%32)?(0,n.concat)([a,O.slice(s)]):(0,n.hexlify)(a)}}}switch(e){case"address":return function(e){return(0,n.zeroPadValue)((0,h.getAddress)(e),32)};case"bool":return function(e){return e?L:K};case"bytes":return function(e){return(0,r.keccak256)(e)};case"string":return function(e){return(0,C.id)(e)}}return null}function j(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function H(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class Q{primaryType;#R;get types(){return JSON.parse(this.#R)}#C;#O;constructor(e){this.#C=new Map,this.#O=new Map;const t=new Map,r=new Map,n=new Map,a={};for(const s in Object.keys(e).forEach(i=>{a[i]=e[i].map(({name:t,type:r})=>{let{base:n,index:i}=H(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}}),t.set(i,new Set),r.set(i,[]),n.set(i,new Set)}),this.#R=JSON.stringify(a),a){const n=new Set;for(const o of a[s]){(0,i.assertArgument)(!n.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(s)}`,"types",e),n.add(o.name);const a=H(o.type).base;(0,i.assertArgument)(a!==s,`circular type reference to ${JSON.stringify(a)}`,"types",e),z(a)||((0,i.assertArgument)(r.has(a),`unknown type ${JSON.stringify(a)}`,"types",e),r.get(a).push(s),t.get(s).add(a))}}const s=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(const[o,u]of((0,i.assertArgument)(0!==s.length,"missing primary type","types",e),(0,i.assertArgument)(1===s.length,`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,R.defineProperties)(this,{primaryType:s[0]}),!function a(s,o){for(let u of((0,i.assertArgument)(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s),t.get(s)))if(r.has(u))for(let e of(a(u,o),o))n.get(e).add(u);o.delete(s)}(this.primaryType,new Set),n)){const e=Array.from(u);e.sort(),this.#C.set(o,j(o,a[o])+e.map(e=>j(e,a[e])).join(""))}}getEncoder(e){let t=this.#O.get(e);return t||(t=this.#D(e),this.#O.set(e,t)),t}#D(e){{let t=z(e);if(t)return t}let t=H(e).array;if(t){let e=t.prefix,a=this.getEncoder(e);return s=>{(0,i.assertArgument)(-1===t.count||t.count===s.length,`array length mismatch; expected length ${t.count}`,"value",s);let o=s.map(a);return this.#C.has(e)&&(o=o.map(r.keccak256)),(0,r.keccak256)((0,n.concat)(o))}}let a=this.types[e];if(a){let t=(0,C.id)(this.#C.get(e));return e=>{let i=a.map(({name:t,type:n})=>{let i=this.getEncoder(n)(e[t]);return this.#C.has(n)?(0,r.keccak256)(i):i});return i.unshift(t),(0,n.concat)(i)}}(0,i.assertArgument)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#C.get(e);return(0,i.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,r.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(z(e))return r(e,t);let n=H(e).array;if(n)return(0,i.assertArgument)(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map(e=>this._visit(n.prefix,e,r));let a=this.types[e];if(a)return a.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});(0,i.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Q(e)}static getPrimaryType(e){return Q.from(e).primaryType}static hashStruct(e,t,r){return Q.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=q[r];(0,i.assertArgument)(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>W.indexOf(e.name)-W.indexOf(t.name)),Q.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,n.concat)(["0x1901",Q.hashDomain(e),Q.from(t).hash(r)])}static hash(e,t,n){return(0,r.keccak256)(Q.encode(e,t,n))}static async resolveNames(e,t,r,i){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let a={};e.verifyingContract&&!(0,n.isHexString)(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let s=Q.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||(0,n.isHexString)(t,20)||(a[t]="0x"),t)),a)a[e]=await i(e);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&a[t]?a[t]:t),{domain:e,value:r}}static getPayload(e,t,r){Q.hashDomain(e);let a={},s=[];W.forEach(t=>{let r=e[t];null!=r&&(a[t]=G[t](r),s.push({name:t,type:q[t]}))});let o=Q.from(t),u=Object.assign({},t=o.types);return(0,i.assertArgument)(null==u.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),u.EIP712Domain=s,o.encode(r),{types:u,domain:a,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,n.hexlify)((0,n.getBytes)(t));if(e.match(/^u?int/))return(0,x.getBigInt)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,i.assertArgument)("string"==typeof t,"invalid string","value",t),t}(0,i.assertArgument)(!1,"unsupported type","type",e)})}}}function X(e,t,r,n){return b(Q.hash(e,t,r),n)}function J(e){let t=new Uint8Array((e=atob(e)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return(0,n.getBytes)(t)}function Y(e){let t=(0,n.getBytes)(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function Z(e){return async function(t,r){let n;(0,i.assert)(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");let a=t.url.split(":")[0].toLowerCase();(0,i.assert)("http"===a||"https"===a,`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),(0,i.assert)("https"===a||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null,o=new AbortController,u=setTimeout(()=>{s=(0,i.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);r&&r.addListener(()=>{s=(0,i.makeError)("request cancelled","CANCELLED"),o.abort()});let l=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal});try{n=await fetch(t.url,l)}catch(e){if(clearTimeout(u),s)throw s;throw e}clearTimeout(u);let c={};n.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});let d=await n.arrayBuffer(),f=null==d?null:new Uint8Array(d);return{statusCode:n.status,statusMessage:n.statusText,headers:c,body:f}}}e.s(["TypedDataEncoder",()=>Q,"verifyTypedData",()=>X],93615),e.s(["decodeBase64",()=>J,"encodeBase64",()=>Y],867025),Z({});let $=Z(),ee=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),et=RegExp("^ipfs://(ipfs/)?(.*)$","i"),er=!1;async function en(e,t){try{var r;let t=e.match(ee);if(!t)throw Error("invalid data");return new ec(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?J(t[3]):(r=t[3],(0,a.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new ec(599,"BAD REQUEST (invalid data: URI)",{},null,new el(e))}}function ei(e){return async function(t,r){try{let r=t.match(et);if(!r)throw Error("invalid link");return new el(`${e}${r[2]}`)}catch(e){return new ec(599,"BAD REQUEST (invalid IPFS URI)",{},null,new el(t))}}}let ea={data:en,ipfs:ei("https://gateway.ipfs.io/ipfs/")},es=new WeakMap;class eo{#U;#F;constructor(e){this.#U=[],this.#F=!1,es.set(e,()=>{if(!this.#F){for(let e of(this.#F=!0,this.#U))setTimeout(()=>{e()},0);this.#U=[]}})}addListener(e){(0,i.assert)(!this.#F,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#U.push(e)}get cancelled(){return this.#F}checkSignal(){(0,i.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function eu(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class el{#M;#L;#K;#q;#W;#V;#G;#z;#j;#H;#Q;#X;#J;#Y;#Z;get url(){return this.#V}set url(e){this.#V=String(e)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}set body(e){if(null==e)this.#G=void 0,this.#z=void 0;else if("string"==typeof e)this.#G=(0,a.toUtf8Bytes)(e),this.#z="text/plain";else if(e instanceof Uint8Array)this.#G=e,this.#z="application/octet-stream";else if("object"==typeof e)this.#G=(0,a.toUtf8Bytes)(JSON.stringify(e)),this.#z="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#G}get method(){return this.#q?this.#q:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#q=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#K);return this.#j&&(e.authorization=`Basic ${Y((0,a.toUtf8Bytes)(this.#j))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#z&&(e["content-type"]=this.#z),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#K[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#K={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#j||null}setCredentials(e,t){(0,i.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#j=`${e}:${t}`}get allowGzip(){return this.#L}set allowGzip(e){this.#L=!!e}get allowInsecureAuthentication(){return!!this.#M}set allowInsecureAuthentication(e){this.#M=!!e}get timeout(){return this.#W}set timeout(e){(0,i.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),this.#W=e}get preflightFunc(){return this.#H||null}set preflightFunc(e){this.#H=e}get processFunc(){return this.#Q||null}set processFunc(e){this.#Q=e}get retryFunc(){return this.#X||null}set retryFunc(e){this.#X=e}get getUrlFunc(){return this.#Z||$}set getUrlFunc(e){this.#Z=e}constructor(e){this.#V=String(e),this.#M=!1,this.#L=!0,this.#K={},this.#q="",this.#W=3e5,this.#Y={slotInterval:250,maxAttempts:12},this.#Z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#G?(0,n.hexlify)(this.#G):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Y.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Y.maxAttempts=e.maxAttempts)}async #$(e,t,r,n,a){var s;if(e>=this.#Y.maxAttempts)return a.makeServerError("exceeded maximum retry limit");(0,i.assert)(ed()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await (s=r,new Promise(e=>setTimeout(e,s)));let o=this.clone(),u=(o.url.split(":")[0]||"").toLowerCase();if(u in ea){let e=await ea[u](o.url,eu(n.#J));if(e instanceof ec){let t=e;if(this.processFunc){eu(n.#J);try{t=await this.processFunc(o,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}o=e}this.preflightFunc&&(o=await this.preflightFunc(o));let l=await this.getUrlFunc(o,eu(n.#J)),c=new ec(l.statusCode,l.statusMessage,l.headers,l.body,n);if(301===c.statusCode||302===c.statusCode){try{let r=c.headers.location||"";return o.redirect(r).#$(e+1,t,0,n,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(o,c,e))){let r=c.headers["retry-after"],i=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),o.clone().#$(e+1,t,i,n,c)}if(this.processFunc){eu(n.#J);try{c=await this.processFunc(o,c)}catch(i){(null==i.throttle||"number"!=typeof i.stall)&&c.makeServerError("error in post-processing function",i).assertOk();let r=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return i.stall>=0&&(r=i.stall),o.clone().#$(e+1,t,r,n,c)}}return c}send(){return(0,i.assert)(null==this.#J,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#J=new eo(this),this.#$(0,ed()+this.timeout,0,this,new ec(0,"",{},null,this))}cancel(){(0,i.assert)(null!=this.#J,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=es.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,i.assert)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let n=new el(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#K=Object.assign({},this.#K),this.#G&&(n.#G=new Uint8Array(this.#G)),n.#z=this.#z,n}clone(){let e=new el(this.url);return e.#q=this.#q,this.#G&&(e.#G=this.#G),e.#z=this.#z,e.#K=Object.assign({},this.#K),e.#j=this.#j,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#H=this.#H,e.#Q=this.#Q,e.#X=this.#X,e.#Y=Object.assign({},this.#Y),e.#Z=this.#Z,e}static lockConfig(){er=!0}static getGateway(e){return ea[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(er)throw Error("gateways locked");ea[e]=t}static registerGetUrl(e){if(er)throw Error("gateways locked");$=e}static createGetUrlFunc(e){return Z(e)}static createDataGateway(){return en}static createIpfsGatewayFunc(e){return ei(e)}}class ec{#ee;#et;#K;#G;#er;#en;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#G?(0,n.hexlify)(this.#G):"null"}>`}get statusCode(){return this.#ee}get statusMessage(){return this.#et}get headers(){return Object.assign({},this.#K)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}get bodyText(){try{return null==this.#G?"":(0,a.toUtf8String)(this.#G)}catch(e){(0,i.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,i.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#ee=e,this.#et=t,this.#K=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#G=null==n?null:new Uint8Array(n),this.#er=i||null,this.#en={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let n=new ec(599,r,this.headers,this.body,this.#er||void 0);return n.#en={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:(0,i.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw(0,R.defineProperties)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#G}get request(){return this.#er}ok(){return""===this.#en.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#en;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#G&&(n=(0,a.toUtf8String)(this.#G))}catch(e){}(0,i.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function ed(){return new Date().getTime()}e.s(["FetchCancelSignal",()=>eo,"FetchRequest",()=>el,"FetchResponse",()=>ec],936002);let ef=new Set;function ep(e){ef.has(e)||(ef.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}e.s(["showThrottleMessage",()=>ep],939086);var eh=e.i(360738);class em{name;constructor(e){(0,R.defineProperties)(this,{name:e})}clone(){return new em(this.name)}}class eg extends em{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function n(e,n){let a=(t||{})[e];null==a&&(a=n),(0,i.assertArgument)("number"==typeof a,`invalud value for ${e}`,"costs",t),r[e]=a}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),(0,R.defineProperties)(this,r)}clone(){return new eg(this.effectiveBlock,this)}}class eb extends em{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,R.defineProperties)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new eb(this.address,this.targetNetwork)}}class ey extends em{#ei;get feeDataFunc(){return this.#ei}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#ei=e}async getFeeData(e){return await this.#ei(e)}clone(){return new ey(this.#ei)}}class ex extends em{#V;#ea;get url(){return this.#V}get processFunc(){return this.#ea}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#V=e,this.#ea=t}clone(){return this}}e.s(["EnsPlugin",()=>eb,"FeeDataNetworkPlugin",()=>ey,"FetchUrlFeeDataNetworkPlugin",()=>ex,"GasCostPlugin",()=>eg,"NetworkPlugin",()=>em],750584);let eA=new Map;class ew{#es;#eo;#eu;constructor(e,t){this.#es=e,this.#eo=(0,x.getBigInt)(t),this.#eu=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#es}set name(e){this.#es=e}get chainId(){return this.#eo}set chainId(e){this.#eo=(0,x.getBigInt)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,x.getBigInt)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,x.getBigInt)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,x.getBigInt)(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.clone()),this}getPlugin(e){return this.#eu.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new ew(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new eg,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let n=(0,eh.accessListify)(e.accessList);for(let e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){eE||(eE=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",0xaa36a7,{ensNetwork:0xaa36a7}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[eS("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[eS("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",0xaa37dc,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let n=function(){let n=new ew(e,t);return null!=r.ensNetwork&&n.attachPlugin(new eb(null,r.ensNetwork)),n.attachPlugin(new eg),(r.plugins||[]).forEach(e=>{n.attachPlugin(e)}),n};ew.register(e,n),ew.register(t,n),r.altNames&&r.altNames.forEach(e=>{ew.register(e,n)})}}(),null==e)return ew.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=eA.get(e);if(t)return t();if("bigint"==typeof e)return new ew("unknown",e);(0,i.assertArgument)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,i.assertArgument)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new ew(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new eb(e.ensAddress,e.ensNetwork)),t}(0,i.assertArgument)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=eA.get(e);r&&(0,i.assertArgument)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),eA.set(e,t)}}function ev(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));!n[1].substring(9).match(/^0+$/)&&e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function eS(e){return new ex(e,async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{let[t,i]=await Promise.all([r.send(),e()]),a=(n=t).bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:ev(a.maxFee,9),maxPriorityFeePerGas:ev(a.maxPriorityFee,9)}}catch(e){(0,i.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}})}let eE=!1;e.s(["Network",()=>ew],101468);var ek=e.i(897567),eT=e.i(93323),eP=e.i(257092);function eI(e){return{address:(0,h.getAddress)(e.address),nonce:(0,x.getBigInt)(null!=e.nonce?e.nonce:0),chainId:(0,x.getBigInt)(null!=e.chainId?e.chainId:0),signature:eP.Signature.from(e.signature)}}e.s(["authorizationify",()=>eI],432526);var e_=e.i(33725),eN=e.i(67881);function eB(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function eR(e,t,r,n){let a=[];for(;r<t+1+n;){let s=eC(e,r);a.push(s.result),r+=s.consumed,(0,i.assert)(r<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:a}}function eC(e,t){(0,i.assert)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{(0,i.assert)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let n=e[t]-247;r(t+1+n);let i=eB(e,t+1,n);return r(t+1+n+i),eR(e,t,t+1+n,n+i)}if(e[t]>=192){let n=e[t]-192;return r(t+1+n),eR(e,t,t+1,n)}if(e[t]>=184){let i=e[t]-183;r(t+1+i);let a=eB(e,t+1,i);r(t+1+i+a);let s=(0,n.hexlify)(e.slice(t+1+i,t+1+i+a));return{consumed:1+i+a,result:s}}if(e[t]>=128){let i=e[t]-128;r(t+1+i);let a=(0,n.hexlify)(e.slice(t+1,t+1+i));return{consumed:1+i,result:a}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function eO(e){let t=(0,n.getBytes)(e,"data"),r=eC(t,0);return(0,i.assertArgument)(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}e.s(["decodeRlp",()=>eO],277171);let eD=BigInt(0),eU=BigInt(2),eF=BigInt(27),eM=BigInt(28),eL=BigInt(35),eK=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function eq(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=(0,k.sha256)(t).substring(4))}function eW(e){return"0x"===e?null:(0,h.getAddress)(e)}function eV(e,t){try{return(0,eh.accessListify)(e)}catch(r){(0,i.assertArgument)(!1,r.message,t,e)}}function eG(e,t){return"0x"===e?0:(0,x.getNumber)(e,t)}function ez(e,t){if("0x"===e)return eD;let r=(0,x.getBigInt)(e,t);return(0,i.assertArgument)(r<=eK,"value exceeds uint size",t,r),r}function ej(e,t){let r=(0,x.getBigInt)(e,"value"),n=(0,x.toBeArray)(r);return(0,i.assertArgument)(n.length<=32,"value too large",`tx.${t}`,r),n}function eH(e){return(0,eh.accessListify)(e).map(e=>[e.address,e.storageKeys])}function eQ(e,t){let r;try{if(r=eG(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){(0,i.assertArgument)(!1,"invalid yParity","yParity",t[0])}let a=(0,n.zeroPadValue)(t[1],32),s=(0,n.zeroPadValue)(t[2],32);e.signature=eP.Signature.from({r:a,s,yParity:r})}class eX{#el;#ec;#t;#ed;#ef;#ep;#eh;#em;#eg;#eo;#eb;#ey;#ex;#eA;#ew;#ev;#eS;get type(){return this.#el}set type(e){switch(e){case null:this.#el=null;break;case 0:case"legacy":this.#el=0;break;case 1:case"berlin":case"eip-2930":this.#el=1;break;case 2:case"london":case"eip-1559":this.#el=2;break;case 3:case"cancun":case"eip-4844":this.#el=3;break;case 4:case"pectra":case"eip-7702":this.#el=4;break;default:(0,i.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#ec;return null==e&&3===this.type?e_.ZeroAddress:e}set to(e){this.#ec=null==e?null:(0,h.getAddress)(e)}get nonce(){return this.#ed}set nonce(e){this.#ed=(0,x.getNumber)(e,"value")}get gasLimit(){return this.#ef}set gasLimit(e){this.#ef=(0,x.getBigInt)(e)}get gasPrice(){let e=this.#ep;return null==e&&(0===this.type||1===this.type)?eD:e}set gasPrice(e){this.#ep=null==e?null:(0,x.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#eh;return null==e?2===this.type||3===this.type?eD:null:e}set maxPriorityFeePerGas(e){this.#eh=null==e?null:(0,x.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#em;return null==e?2===this.type||3===this.type?eD:null:e}set maxFeePerGas(e){this.#em=null==e?null:(0,x.getBigInt)(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=(0,n.hexlify)(e)}get value(){return this.#eg}set value(e){this.#eg=(0,x.getBigInt)(e,"value")}get chainId(){return this.#eo}set chainId(e){this.#eo=(0,x.getBigInt)(e)}get signature(){return this.#eb||null}set signature(e){this.#eb=null==e?null:eP.Signature.from(e)}get accessList(){let e=this.#ey||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#ey=null==e?null:(0,eh.accessListify)(e)}get authorizationList(){let e=this.#eS||null;return null==e&&4===this.type?[]:e}set authorizationList(e){this.#eS=null==e?null:e.map(e=>eI(e))}get maxFeePerBlobGas(){let e=this.#ex;return null==e&&3===this.type?eD:e}set maxFeePerBlobGas(e){this.#ex=null==e?null:(0,x.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#eA;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,i.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,i.assertArgument)((0,n.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#eA=e}get blobs(){return null==this.#ev?null:this.#ev.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#ev=null;return}let t=[],r=[];for(let a=0;a<e.length;a++){let s=e[a];if((0,n.isBytesLike)(s)){(0,i.assert)(this.#ew,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,n.getBytes)(s);if((0,i.assertArgument)(e.length<=131072,"blob is too large",`blobs[${a}]`,s),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let o=this.#ew.blobToKzgCommitment(e),u=(0,n.hexlify)(this.#ew.computeBlobKzgProof(e,o));t.push({data:(0,n.hexlify)(e),commitment:(0,n.hexlify)(o),proof:u}),r.push(eq(1,o))}else{let e=(0,n.hexlify)(s.commitment);t.push({data:(0,n.hexlify)(s.data),commitment:e,proof:(0,n.hexlify)(s.proof)}),r.push(eq(1,e))}}this.#ev=t,this.#eA=r}get kzg(){return this.#ew}set kzg(e){if(null==e)this.#ew=null;else this.#ew={blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,n.getBytes)(e.blobToKzgCommitment((0,n.hexlify)(t)))}else if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,n.getBytes)(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"==typeof e.blobToKZGCommitment)return(0,n.getBytes)(e.blobToKZGCommitment((0,n.hexlify)(t)));(0,i.assertArgument)(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,r)=>"computeBlobProof"in e&&"function"==typeof e.computeBlobProof?(0,n.getBytes)(e.computeBlobProof((0,n.hexlify)(t),(0,n.hexlify)(r))):"computeBlobKzgProof"in e&&"function"==typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,r):"computeBlobKZGProof"in e&&"function"==typeof e.computeBlobKZGProof?(0,n.getBytes)(e.computeBlobKZGProof((0,n.hexlify)(t),(0,n.hexlify)(r))):void(0,i.assertArgument)(!1,"unsupported KZG library","kzg",e)}}constructor(){this.#el=null,this.#ec=null,this.#ed=0,this.#ef=eD,this.#ep=null,this.#eh=null,this.#em=null,this.#t="0x",this.#eg=eD,this.#eo=eD,this.#eb=null,this.#ey=null,this.#ex=null,this.#eA=null,this.#ew=null,this.#ev=null,this.#eS=null}get hash(){return null==this.signature?null:(0,r.keccak256)(this.#eE(!0,!1))}get unsignedHash(){return(0,r.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:b(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:m.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#eE(e,t){(0,i.assert)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[ej(e.nonce,"nonce"),ej(e.gasPrice||0,"gasPrice"),ej(e.gasLimit,"gasLimit"),e.to||"0x",ej(e.value,"value"),e.data],n=eD;if(e.chainId!=eD)n=(0,x.getBigInt)(e.chainId,"tx.chainId"),(0,i.assertArgument)(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==eD&&(r.push((0,x.toBeArray)(n)),r.push("0x"),r.push("0x")),(0,y.encodeRlp)(r);let a=BigInt(27+t.yParity);return n!==eD?a=eP.Signature.getChainIdV(n,t.v):BigInt(t.v)!==a&&(0,i.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",t),r.push((0,x.toBeArray)(a)),r.push((0,x.toBeArray)(t.r)),r.push((0,x.toBeArray)(t.s)),(0,y.encodeRlp)(r)}(this,r);case 1:let a;return a=[ej(this.chainId,"chainId"),ej(this.nonce,"nonce"),ej(this.gasPrice||0,"gasPrice"),ej(this.gasLimit,"gasLimit"),this.to||"0x",ej(this.value,"value"),this.data,eH(this.accessList||[])],r&&(a.push(ej(r.yParity,"recoveryParam")),a.push((0,x.toBeArray)(r.r)),a.push((0,x.toBeArray)(r.s))),(0,n.concat)(["0x01",(0,y.encodeRlp)(a)]);case 2:let s;return s=[ej(this.chainId,"chainId"),ej(this.nonce,"nonce"),ej(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ej(this.maxFeePerGas||0,"maxFeePerGas"),ej(this.gasLimit,"gasLimit"),this.to||"0x",ej(this.value,"value"),this.data,eH(this.accessList||[])],r&&(s.push(ej(r.yParity,"yParity")),s.push((0,x.toBeArray)(r.r)),s.push((0,x.toBeArray)(r.s))),(0,n.concat)(["0x02",(0,y.encodeRlp)(s)]);case 3:var o,u,l;let c;return o=this,u=r,l=t?this.blobs:null,c=[ej(o.chainId,"chainId"),ej(o.nonce,"nonce"),ej(o.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ej(o.maxFeePerGas||0,"maxFeePerGas"),ej(o.gasLimit,"gasLimit"),o.to||e_.ZeroAddress,ej(o.value,"value"),o.data,eH(o.accessList||[]),ej(o.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){(0,i.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)(0,i.assertArgument)((0,n.isHexString)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(o.blobVersionedHashes||[],"blobVersionedHashes")],u&&(c.push(ej(u.yParity,"yParity")),c.push((0,x.toBeArray)(u.r)),c.push((0,x.toBeArray)(u.s)),l)?(0,n.concat)(["0x03",(0,y.encodeRlp)([c,l.map(e=>e.data),l.map(e=>e.commitment),l.map(e=>e.proof)])]):(0,n.concat)(["0x03",(0,y.encodeRlp)(c)]);case 4:let d=[ej(this.chainId,"chainId"),ej(this.nonce,"nonce"),ej(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ej(this.maxFeePerGas||0,"maxFeePerGas"),ej(this.gasLimit,"gasLimit"),this.to||"0x",ej(this.value,"value"),this.data,eH(this.accessList||[]),(this.authorizationList||[]).map(e=>[ej(e.chainId,"chainId"),e.address,ej(e.nonce,"nonce"),ej(e.signature.yParity,"yParity"),(0,x.toBeArray)(e.signature.r),(0,x.toBeArray)(e.signature.s)])];return r&&(d.push(ej(r.yParity,"yParity")),d.push((0,x.toBeArray)(r.r)),d.push((0,x.toBeArray)(r.s))),(0,n.concat)(["0x04",(0,y.encodeRlp)(d)])}(0,i.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#eE(!0,!0)}get unsignedSerialized(){return this.#eE(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#ex||this.#eA;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,i.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,i.assert)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,i.assert)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let a=[];return null!=this.type?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(n&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return eX.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new eX;if("string"==typeof e){let t=(0,n.getBytes)(e);if(t[0]>=127)return eX.from(function(e){let t=eO(e);(0,i.assertArgument)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:eG(t[0],"nonce"),gasPrice:ez(t[1],"gasPrice"),gasLimit:ez(t[2],"gasLimit"),to:eW(t[3]),value:ez(t[4],"value"),data:(0,n.hexlify)(t[5]),chainId:eD};if(6===t.length)return r;let a=ez(t[6],"v"),s=ez(t[7],"r"),o=ez(t[8],"s");if(s===eD&&o===eD)r.chainId=a;else{let e=(a-eL)/eU;e<eD&&(e=eD),r.chainId=e,(0,i.assertArgument)(e!==eD||a===eF||a===eM,"non-canonical legacy v","v",t[6]),r.signature=eP.Signature.from({r:(0,n.zeroPadValue)(t[7],32),s:(0,n.zeroPadValue)(t[8],32),v:a})}return r}(t));switch(t[0]){case 1:let r,a;return eX.from((r=eO((0,n.getBytes)(t).slice(1)),(0,i.assertArgument)(Array.isArray(r)&&(8===r.length||11===r.length),"invalid field count for transaction type: 1","data",(0,n.hexlify)(t)),a={type:1,chainId:ez(r[0],"chainId"),nonce:eG(r[1],"nonce"),gasPrice:ez(r[2],"gasPrice"),gasLimit:ez(r[3],"gasLimit"),to:eW(r[4]),value:ez(r[5],"value"),data:(0,n.hexlify)(r[6]),accessList:eV(r[7],"accessList")},8===r.length||eQ(a,r.slice(8)),a));case 2:let s,o;return eX.from((s=eO((0,n.getBytes)(t).slice(1)),(0,i.assertArgument)(Array.isArray(s)&&(9===s.length||12===s.length),"invalid field count for transaction type: 2","data",(0,n.hexlify)(t)),o={type:2,chainId:ez(s[0],"chainId"),nonce:eG(s[1],"nonce"),maxPriorityFeePerGas:ez(s[2],"maxPriorityFeePerGas"),maxFeePerGas:ez(s[3],"maxFeePerGas"),gasPrice:null,gasLimit:ez(s[4],"gasLimit"),to:eW(s[5]),value:ez(s[6],"value"),data:(0,n.hexlify)(s[7]),accessList:eV(s[8],"accessList")},9===s.length||eQ(o,s.slice(9)),o));case 3:return eX.from(function(e){let t=eO((0,n.getBytes)(e).slice(1)),r="3",a=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],n=t[2],s=t[3];(0,i.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,i.assertArgument)(Array.isArray(n),"invalid network format: commitments not an array","fields[2]",n),(0,i.assertArgument)(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),(0,i.assertArgument)(e.length===n.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,i.assertArgument)(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),a=[];for(let r=0;r<t[1].length;r++)a.push({data:e[r],commitment:n[r],proof:s[r]});t=t[0]}(0,i.assertArgument)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",(0,n.hexlify)(e));let s={type:3,chainId:ez(t[0],"chainId"),nonce:eG(t[1],"nonce"),maxPriorityFeePerGas:ez(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ez(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ez(t[4],"gasLimit"),to:eW(t[5]),value:ez(t[6],"value"),data:(0,n.hexlify)(t[7]),accessList:eV(t[8],"accessList"),maxFeePerBlobGas:ez(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};a&&(s.blobs=a),(0,i.assertArgument)(null!=s.to,`invalid address for transaction type: ${r}`,"data",e),(0,i.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<s.blobVersionedHashes.length;t++)(0,i.assertArgument)((0,n.isHexString)(s.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||eQ(s,t.slice(11)),s}(t));case 4:let u,l;return eX.from((u=eO((0,n.getBytes)(t).slice(1)),(0,i.assertArgument)(Array.isArray(u)&&(10===u.length||13===u.length),"invalid field count for transaction type: 4","data",(0,n.hexlify)(t)),l={type:4,chainId:ez(u[0],"chainId"),nonce:eG(u[1],"nonce"),maxPriorityFeePerGas:ez(u[2],"maxPriorityFeePerGas"),maxFeePerGas:ez(u[3],"maxFeePerGas"),gasPrice:null,gasLimit:ez(u[4],"gasLimit"),to:eW(u[5]),value:ez(u[6],"value"),data:(0,n.hexlify)(u[7]),accessList:eV(u[8],"accessList"),authorizationList:function(e,t){try{if(!Array.isArray(e))throw Error("authorizationList: invalid array");let t=[];for(let r=0;r<e.length;r++){let i=e[r];if(!Array.isArray(i))throw Error(`authorization[${r}]: invalid array`);if(6!==i.length)throw Error(`authorization[${r}]: wrong length`);if(!i[1])throw Error(`authorization[${r}]: null address`);t.push({address:eW(i[1]),nonce:ez(i[2],"nonce"),chainId:ez(i[0],"chainId"),signature:eP.Signature.from({yParity:eG(i[3],"yParity"),r:(0,n.zeroPadValue)(i[4],32),s:(0,n.zeroPadValue)(i[5],32)})})}return t}catch(r){(0,i.assertArgument)(!1,r.message,t,e)}}(u[9],"authorizationList")},10===u.length||eQ(l,u.slice(10)),l))}(0,i.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new eX;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=eP.Signature.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,i.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,i.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,i.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,i.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}e.s(["Transaction",()=>eX],196003);var eJ=e.i(477808);let eY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",eZ=null,e$=BigInt(0),e0=BigInt(58);function e1(e){let t=(0,n.getBytes)(e),r=(0,x.toBigInt)(t),i="";for(;r;)i=eY[Number(r%e0)]+i,r/=e0;for(let e=0;e<t.length&&!t[e];e++)i=eY[0]+i;return i}function e2(e){let t=e$;for(let r=0;r<e.length;r++)t*=e0,t+=function(e){if(null==eZ){eZ={};for(let e=0;e<eY.length;e++)eZ[eY[e]]=BigInt(e)}let t=eZ[e];return(0,i.assertArgument)(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}function e4(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,i.assertArgument)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}e.s(["decodeBase58",()=>e2,"encodeBase58",()=>e1],168762);class e6{name;constructor(e){(0,R.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let e3=RegExp("^(ipfs)://(.*)$","i"),e5=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),e3,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class e8{provider;address;name;#ek;#eT;constructor(e,t,r){(0,R.defineProperties)(this,{provider:e,address:t,name:r}),this.#ek=null,this.#eT=new eN.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ek&&(this.#ek=(async()=>{try{return await this.#eT.supportsInterface("0x9061b923")}catch(e){if((0,i.isError)(e,"CALL_EXCEPTION"))return!1;throw this.#ek=null,e}})()),await this.#ek}async #eP(e,t){t=(t||[]).slice();let r=this.#eT.interface;t.unshift(f(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(e),(0,i.assert)(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[p(this.name,255),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await this.#eT[e](...t);if(n)return r.decodeFunctionResult(n,i)[0];return i}catch(e){if(!(0,i.isError)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#eP("addr(bytes32)");if(null==e||e===e_.ZeroAddress)return null;return e}catch(e){if((0,i.isError)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<0x80000000){let t=e+0x80000000,r=await this.#eP("addr(bytes32,uint)",[t]);if((0,n.isHexString)(r,20))return(0,h.getAddress)(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof e6&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#eP("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let a=await t.decodeAddress(e,r);if(null!=a)return a;(0,i.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#eP("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#eP("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${e1("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,i.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<e5.length;r++){let i=t.match(e5[r]);if(null==i)continue;let a=i[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=e4(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===a?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});let s=await this.getAddress();if(null==s)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let o=(i[2]||"").split("/");if(2!==o.length)return e.push({type:`!${a}caip`,value:i[2]||""}),{url:null,linkage:e};let u=o[1],l=new eN.Contract(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===a){let t=await l.ownerOf(u);if(s!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===a){let t=await l.balanceOf(s,u);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[r](u);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===a&&(c=c.replace("{id}",(0,x.toBeHex)(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=e4(c)),e.push({type:"metadata-url",value:c});let d={},f=await new el(c).send();f.assertOk();try{d=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(r){let t=f.body;t&&e.push({type:"!metadata",value:(0,n.hexlify)(t)})}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if("string"!=typeof p)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(p.match(/^(https:\/\/|data:)/i));else{let t=p.match(e3);if(null==t)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=e4(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,i.assert)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #eI(e,t){let r=await e8.getEnsAddress(e);try{let n=new eN.Contract(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(f(t),{enableCcipRead:!0});if(i===e_.ZeroAddress)return null;return i}catch(e){throw e}}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let n=await e8.#eI(e,r);if(null!=n){let i=new e8(e,n,t);if(r!==t&&!await i.supportsWildcard())return null;return i}r=r.split(".").slice(1).join(".")}}}e.s(["EnsResolver",()=>e8,"MulticoinProviderPlugin",()=>e6],258408);var e7=e.i(782045);let e9=BigInt(0);function te(e,t){return function(r){return null==r?t:e(r)}}function tt(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function tr(e,t){return r=>{let n={};for(let a in e){let s=a;if(t&&a in t&&!(s in r)){for(let e of t[a])if(e in r){s=e;break}}try{let t=e[a](r[s]);void 0!==t&&(n[a]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";(0,i.assert)(!1,`invalid value for value.${a} (${e})`,"BAD_DATA",{value:r})}}return n}}function tn(e){return(0,i.assertArgument)((0,n.isHexString)(e,!0),"invalid data","value",e),e}function ti(e){return(0,i.assertArgument)((0,n.isHexString)(e,32),"invalid hash","value",e),e}let ta=tr({address:h.getAddress,blockHash:ti,blockNumber:x.getNumber,data:tn,index:x.getNumber,removed:te(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,i.assertArgument)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:tt(ti),transactionHash:ti,transactionIndex:x.getNumber},{index:["logIndex"]}),ts=tr({hash:te(ti),parentHash:ti,parentBeaconBlockRoot:te(ti,null),number:x.getNumber,timestamp:x.getNumber,nonce:te(tn),difficulty:x.getBigInt,gasLimit:x.getBigInt,gasUsed:x.getBigInt,stateRoot:te(ti,null),receiptsRoot:te(ti,null),blobGasUsed:te(x.getBigInt,null),excessBlobGas:te(x.getBigInt,null),miner:te(h.getAddress),prevRandao:te(ti,null),extraData:tn,baseFeePerGas:te(x.getBigInt)},{prevRandao:["mixHash"]}),to=tr({transactionIndex:x.getNumber,blockNumber:x.getNumber,transactionHash:ti,address:h.getAddress,topics:tt(ti),data:tn,index:x.getNumber,blockHash:ti},{index:["logIndex"]}),tu=tr({to:te(h.getAddress,null),from:te(h.getAddress,null),contractAddress:te(h.getAddress,null),index:x.getNumber,root:te(n.hexlify),gasUsed:x.getBigInt,blobGasUsed:te(x.getBigInt,null),logsBloom:te(tn),blockHash:ti,hash:ti,logs:tt(function(e){return to(e)}),blockNumber:x.getNumber,cumulativeGasUsed:x.getBigInt,effectiveGasPrice:te(x.getBigInt),blobGasPrice:te(x.getBigInt,null),status:te(x.getNumber),type:te(x.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function tl(e){e.to&&(0,x.getBigInt)(e.to)===e9&&(e.to="0x0000000000000000000000000000000000000000");let t=tr({hash:ti,index:te(x.getNumber,void 0),type:e=>"0x"===e||null==e?0:(0,x.getNumber)(e),accessList:te(eh.accessListify,null),blobVersionedHashes:te(tt(ti,!0),null),authorizationList:te(tt(e=>{let t;if(e.signature)t=e.signature;else{let r=e.yParity;"0x1b"===r?r=0:"0x1c"===r&&(r=1),t=Object.assign({},e,{yParity:r})}return{address:(0,h.getAddress)(e.address),chainId:(0,x.getBigInt)(e.chainId),nonce:(0,x.getBigInt)(e.nonce),signature:eP.Signature.from(t)}},!1),null),blockHash:te(ti,null),blockNumber:te(x.getNumber,null),transactionIndex:te(x.getNumber,null),from:h.getAddress,gasPrice:te(x.getBigInt),maxPriorityFeePerGas:te(x.getBigInt),maxFeePerGas:te(x.getBigInt),maxFeePerBlobGas:te(x.getBigInt,null),gasLimit:x.getBigInt,to:te(h.getAddress,null),value:x.getBigInt,nonce:x.getNumber,data:tn,creates:te(h.getAddress,null),chainId:te(x.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=(0,e7.getCreateAddress)(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=eP.Signature.from(e.signature):t.signature=eP.Signature.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,x.getBigInt)(t.blockHash)===e9&&(t.blockHash=null),t}var tc=e.i(851047);function td(e){return JSON.parse(JSON.stringify(e))}class tf{#e_;#eN;#eB;#eR;constructor(e){this.#e_=e,this.#eN=null,this.#eB=4e3,this.#eR=-2}get pollingInterval(){return this.#eB}set pollingInterval(e){this.#eB=e}async #eC(){try{let e=await this.#e_.getBlockNumber();if(-2===this.#eR){this.#eR=e;return}if(e!==this.#eR){for(let t=this.#eR+1;t<=e;t++){if(null==this.#eN)return;await this.#e_.emit("block",t)}this.#eR=e}}catch(e){}null!=this.#eN&&(this.#eN=this.#e_._setTimeout(this.#eC.bind(this),this.#eB))}start(){this.#eN||(this.#eN=this.#e_._setTimeout(this.#eC.bind(this),this.#eB),this.#eC())}stop(){this.#eN&&(this.#e_._clearTimeout(this.#eN),this.#eN=null)}pause(e){this.stop(),e&&(this.#eR=-2)}resume(){this.start()}}class tp{#e_;#eC;#eO;constructor(e){this.#e_=e,this.#eO=!1,this.#eC=e=>{this._poll(e,this.#e_)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#eO||(this.#eO=!0,this.#eC(-2),this.#e_.on("block",this.#eC))}stop(){this.#eO&&(this.#eO=!1,this.#e_.off("block",this.#eC))}pause(e){this.stop()}resume(){this.start()}}class th extends tp{#eD;#eU;constructor(e,t){super(e),this.#eD=t,this.#eU=-2}pause(e){e&&(this.#eU=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#eD);null!=r&&(-2===this.#eU?this.#eU=r.number:r.number>this.#eU&&(t.emit(this.#eD,r.number),this.#eU=r.number))}}class tm extends tp{#T;constructor(e,t){super(e),this.#T=td(t)}async _poll(e,t){throw Error("@TODO")}}class tg extends tp{#eF;constructor(e,t){super(e),this.#eF=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eF);r&&t.emit(this.#eF,r)}}class tb{#e_;#T;#eN;#eO;#eR;constructor(e,t){this.#e_=e,this.#T=td(t),this.#eN=this.#eC.bind(this),this.#eO=!1,this.#eR=-2}async #eC(e){if(-2===this.#eR)return;let t=td(this.#T);t.fromBlock=this.#eR+1,t.toBlock=e;let r=await this.#e_.getLogs(t);if(0===r.length){this.#eR<e-60&&(this.#eR=e-60);return}for(let e of r)this.#e_.emit(this.#T,e),this.#eR=e.blockNumber}start(){this.#eO||(this.#eO=!0,-2===this.#eR&&this.#e_.getBlockNumber().then(e=>{this.#eR=e}),this.#e_.on("block",this.#eN))}stop(){this.#eO&&(this.#eO=!1,this.#e_.off("block",this.#eN))}pause(e){this.stop(),e&&(this.#eR=-2)}resume(){this.start()}}let ty=BigInt(2);function tx(e){return e&&"function"==typeof e.then}function tA(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class tw{name;constructor(e){(0,R.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function tv(e){return(e=Array.from(new Set(e).values())).sort(),e}async function tS(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,n.isHexString)(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:tA("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:tA("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,i={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?tv(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],a=[],s=r=>{(0,n.isHexString)(r)?e.push(r):a.push((async()=>{e.push(await (0,eT.resolveAddress)(r,t))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),a.length&&await Promise.all(a),i.address=tv(e.map(e=>e.toLowerCase()))}return{filter:i,tag:tA("event",i),type:"event"}}(0,i.assertArgument)(!1,"unknown ProviderEvent","event",e)}function tE(){return new Date().getTime()}let tk={cacheTimeout:250,pollingInterval:4e3};class tT{#eM;#eu;#eL;#eK;#eq;#eW;#eV;#eG;#ez;#ej;#eH;#c;constructor(e,t){if(this.#c=Object.assign({},tk,t||{}),"any"===e)this.#eW=!0,this.#eq=null;else if(e){const t=ew.from(e);this.#eW=!1,this.#eq=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#eW=!1,this.#eq=null;this.#eG=-1,this.#eV=new Map,this.#eM=new Map,this.#eu=new Map,this.#eL=null,this.#eK=!1,this.#ez=1,this.#ej=new Map,this.#eH=!1}get pollingInterval(){return this.#c.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.connect(this)),this}getPlugin(e){return this.#eu.get(e)||null}get disableCcipRead(){return this.#eH}set disableCcipRead(e){this.#eH=!!e}async #eQ(e){let t=this.#c.cacheTimeout;if(t<0)return await this._perform(e);let r=tA(e.method,e),n=this.#eV.get(r);return n||(n=this._perform(e),this.#eV.set(r,n),setTimeout(()=>{this.#eV.get(r)===n&&this.#eV.delete(r)},t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let n=e.to.toLowerCase(),a=t.toLowerCase(),s=[];for(let t=0;t<r.length;t++){let o,u=r[t],l=new el(u.replace("{sender}",n).replace("{data}",a));-1===u.indexOf("{data}")&&(l.body={data:a,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let c="unknown error";try{o=await l.send()}catch(e){s.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:e}});continue}try{let e=o.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}(0,i.assert)(o.statusCode<400||o.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:c}}),s.push(c)}(0,i.assert)(!1,`error encountered during CCIP fetch: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,t){let r;return new tc.Block(((r=ts(e)).transactions=e.transactions.map(e=>"string"==typeof e?e:tl(e)),r),this)}_wrapLog(e,t){return new tc.Log(ta(e),this)}_wrapTransactionReceipt(e,t){return new tc.TransactionReceipt(tu(e),this)}_wrapTransactionResponse(e,t){return new tc.TransactionResponse(tl(e),this)}_detectNetwork(){(0,i.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,i.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,x.getNumber)(await this.#eQ({method:"getBlockNumber"}),"%response");return this.#eG>=0&&(this.#eG=e),e}_getAddress(e){return(0,eT.resolveAddress)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,n.isHexString)(e)?(0,n.isHexString)(e,32)?e:(0,x.toQuantity)(e):("bigint"==typeof e&&(e=(0,x.getNumber)(e,"blockTag")),"number"==typeof e)?e>=0?(0,x.toQuantity)(e):this.#eG>=0?(0,x.toQuantity)(this.#eG+e):this.getBlockNumber().then(t=>(0,x.toQuantity)(t+e)):void(0,i.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r,n=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?tv(e.map(e=>e.toLowerCase())):e.toLowerCase()),i="blockHash"in e?e.blockHash:void 0,a=(e,t,r)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(i&&(null!=t||null!=r))throw Error("invalid filter");let s={};return a&&(s.address=a),n.length&&(s.topics=n),t&&(s.fromBlock=t),r&&(s.toBlock=r),i&&(s.blockHash=i),s},s=[];if(e.address)if(Array.isArray(e.address))for(let t of e.address)s.push(this._getAddress(t));else s.push(this._getAddress(e.address));return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),s.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(s),t,r]).then(e=>a(e[0],e[1],e[2])):a(s,t,r)}_getTransactionRequest(e){let t=(0,tc.copyRequest)(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let n=(0,eT.resolveAddress)(t[e],this);tx(n)?r.push(async function(){t[e]=await n}()):t[e]=n}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);tx(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eq){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eq===e&&(this.#eq=null),t}})();return this.#eq=e,(await e).clone()}let e=this.#eq,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#eW?(this.emit("network",r,t),this.#eq===e&&(this.#eq=Promise.resolve(r))):(0,i.assert)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:n}=await (0,R.resolveProperties)({_block:this.#eX("latest",!1),gasPrice:(async()=>{try{let e=await this.#eQ({method:"getGasPrice"});return(0,x.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#eQ({method:"getPriorityFee"});return(0,x.getBigInt)(e,"%response")}catch(e){}return null})()}),i=null,a=null,s=this._wrapBlock(t,e);return s&&s.baseFeePerGas&&(a=null!=n?n:BigInt("1000000000"),i=s.baseFeePerGas*ty+a),new tc.FeeData(r,i,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new el(r.url),n=await r.processFunc(t,this,e);return new tc.FeeData(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return tx(t)&&(t=await t),(0,x.getBigInt)(await this.#eQ({method:"estimateGas",transaction:t}),"%response")}async #eJ(e,t,r){(0,i.assert)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=(0,tc.copyRequest)(e);try{return(0,n.hexlify)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,i.isCallException)(e)&&e.data&&r>=0&&"latest"===t&&null!=s.to&&"0x556f1830"===(0,n.dataSlice)(e.data,0,4)){let o,u=e.data,l=await (0,eT.resolveAddress)(s.to,this);try{o=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,i.assert)((0,n.dataLength)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=(0,n.dataSlice)(e,0,32);(0,i.assert)((0,n.dataSlice)(r,0,12)===(0,n.dataSlice)(tN,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,n.dataSlice)(r,12);try{let r=[],i=(0,x.getNumber)((0,n.dataSlice)(e,32,64)),s=(0,x.getNumber)((0,n.dataSlice)(e,i,i+32)),o=(0,n.dataSlice)(e,i+32);for(let e=0;e<s;e++){let t=function(e,t){try{let r=tP(e,t);if(r)return(0,a.toUtf8String)(r)}catch(e){}return null}(o,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){(0,i.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=tP(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){(0,i.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,i.assert)((0,n.dataSlice)(e,100,128)===(0,n.dataSlice)(tN,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,n.dataSlice)(e,96,100);try{let r=tP(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){(0,i.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}((0,n.dataSlice)(e.data,4))}catch(e){(0,i.assert)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:u}})}(0,i.assert)(o.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:u,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});let c=await this.ccipReadFetch(s,o.calldata,o.urls);(0,i.assert)(null!=c,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:e.data,errorArgs:o.errorArgs}});let d={to:l,data:(0,n.concat)([o.selector,function(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(t_),r+=32;for(let i=0;i<e.length;i++){let a=(0,n.getBytes)(e[i]);t[i]=tI(r),t.push(tI(a.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(a)),r+=32+32*Math.ceil(a.length/32)}return(0,n.concat)(t)}([c,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{let e=await this.#eJ(d,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:e}),e}}throw e}}async #eY(e){let{value:t}=await (0,R.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await (0,R.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#eY(this.#eJ(t,r,e.enableCcipRead?0:-1))}async #eZ(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return("string"!=typeof n||"string"!=typeof i)&&([n,i]=await Promise.all([n,i])),await this.#eY(this.#eQ(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return(0,x.getBigInt)(await this.#eZ({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,x.getNumber)(await this.#eZ({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,n.hexlify)(await this.#eZ({method:"getCode"},e,t))}async getStorage(e,t,r){let i=(0,x.getBigInt)(t,"position");return(0,n.hexlify)(await this.#eZ({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:n}=await (0,R.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=eX.from(e);if(i.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async #eX(e,t){if((0,n.isHexString)(e,32))return await this.#eQ({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#eQ({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:n}=await (0,R.resolveProperties)({network:this.getNetwork(),params:this.#eX(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){let{network:t,params:r}=await (0,R.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await (0,R.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#eQ({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await (0,R.resolveProperties)({network:this.getNetwork(),result:this.#eQ({method:"getTransactionResult",hash:e})});return null==t?null:(0,n.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);tx(t)&&(t=await t);let{network:r,params:n}=await (0,R.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getLogs",filter:t})});return n.map(e=>this._wrapLog(e,r))}_getProvider(e){(0,i.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await e8.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=f((e=(0,h.getAddress)(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await e8.getEnsAddress(this),n=new eN.Contract(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===e_.ZeroAddress)return null;let a=new eN.Contract(i,["function name(bytes32) view returns (string)"],this),s=await a.name(t);if(await this.resolveName(s)!==e)return null;return s}catch(e){if((0,i.isError)(e,"BAD_DATA")&&"0x"===e.value||(0,i.isError)(e,"CALL_EXCEPTION"))return null;throw e}}async waitForTransaction(e,t,r){let n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise(async(t,a)=>{let s=null,o=async r=>{try{let i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n){t(i),s&&(clearTimeout(s),s=null);return}}catch(e){console.log("EEE",e)}this.once("block",o)};null!=r&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",o),a((0,i.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},r)),o(await this.getBlockNumber())})}async waitForBlock(e){(0,i.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#ej.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#ej.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#ez++,n=()=>{this.#ej.delete(r),e()};if(this.paused)this.#ej.set(r,{timer:null,func:n,time:t});else{let e=setTimeout(n,t);this.#ej.set(r,{timer:e,func:n,time:tE()})}return r}_forEachSubscriber(e){for(let t of this.#eM.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new tw(e.type);case"block":{let e=new tf(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new th(this,e.type);case"event":return new tb(this,e.filter);case"transaction":return new tg(this,e.hash);case"orphan":return new tm(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#eM.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#eL&&t.pause(this.#eL);break}}async #e$(e,t){let r=await tS(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await tS({orphan:"drop-log",log:t[0]},this)),this.#eM.get(r.tag)||null}async #e0(e){let t=await tS(e,this),r=t.tag,n=this.#eM.get(r);if(!n){let e=this._getSubscriber(t);n={subscriber:e,tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#eM.set(r,n)}return n}async on(e,t){let r=await this.#e0(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eL&&r.subscriber.pause(this.#eL)),this}async once(e,t){let r=await this.#e0(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eL&&r.subscriber.pause(this.#eL)),this}async emit(e,...t){let r=await this.#e$(e,t);if(!r||0===r.listeners.length)return!1;let n=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:n})=>{let i=new eJ.EventPayload(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#eM.delete(r.tag)),n>0}async listenerCount(e){if(e){let t=await this.#e$(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#eM.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#e$(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#eM.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#e$(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#eM.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:n}=await this.#e0(e);r&&n.stop(),this.#eM.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#eM)t&&r.stop(),this.#eM.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#eK}destroy(){for(let e of(this.removeAllListeners(),this.#ej.keys()))this._clearTimeout(e);this.#eK=!0}get paused(){return null!=this.#eL}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#eG=-1,null!=this.#eL){if(!!e==this.#eL)return;(0,i.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#eL=!!e,this.#ej.values()))t.timer&&clearTimeout(t.timer),t.time=tE()-t.time}resume(){if(null!=this.#eL)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#eL=null,this.#ej.values())){let t=e.time;t<0&&(t=0),e.time=tE(),setTimeout(e.func,t)}}}function tP(e,t){if("0x"===e)return null;try{let r=(0,x.getNumber)((0,n.dataSlice)(e,t,t+32)),i=(0,x.getNumber)((0,n.dataSlice)(e,r,r+32));return(0,n.dataSlice)(e,r+32,r+32+i)}catch(e){}return null}function tI(e){let t=(0,x.toBeArray)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let t_=new Uint8Array([]),tN="0x0000000000000000000000000000000000000000000000000000000000000000";function tB(e,t){if(e.provider)return e.provider;(0,i.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function tR(e,t){let r=(0,tc.copyRequest)(t);if(null!=r.to&&(r.to=(0,eT.resolveAddress)(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),(0,eT.resolveAddress)(t,e)]).then(([e,t])=>((0,i.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await (0,R.resolveProperties)(r)}e.s(["AbstractProvider",()=>tT,"UnmanagedSubscriber",()=>tw],248855);class tC{provider;constructor(e){(0,R.defineProperties)(this,{provider:e||null})}async getNonce(e){return tB(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await tR(this,e)}async populateTransaction(e){let t=tB(this,"populateTransaction"),r=await tR(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let n=await this.provider.getNetwork();if(null!=r.chainId){let t=(0,x.getBigInt)(r.chainId);(0,i.assertArgument)(t===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=n.chainId;let a=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||a)?(0,i.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&a&&(0,i.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();(0,i.assert)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,i.assert)(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):(0,i.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(2===r.type||3===r.type||4===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await (0,R.resolveProperties)(r)}async populateAuthorization(e){let t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await tB(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return tB(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return tB(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=tB(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=tB(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let n=eX.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}authorize(e){(0,i.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class tO extends tC{address;constructor(e,t){super(t),(0,R.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new tO(this.address,e)}#e1(e,t){(0,i.assert)(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e1("transactions","signTransaction")}async signMessage(e){this.#e1("messages","signMessage")}async signTypedData(e,t,r){this.#e1("typed-data","signTypedData")}}e.s(["AbstractSigner",()=>tC,"VoidSigner",()=>tO],558238);class tD{#e_;#e2;#eN;#eO;#e4;#e6;constructor(e){this.#e_=e,this.#e2=null,this.#eN=this.#eC.bind(this),this.#eO=!1,this.#e4=null,this.#e6=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #eC(e){try{null==this.#e2&&(this.#e2=this._subscribe(this.#e_));let e=null;try{e=await this.#e2}catch(e){if(!(0,i.isError)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#e2=null,this.#e_._recoverSubscriber(this,this._recover(this.#e_));return}let t=await this.#e_.getNetwork();if(this.#e4||(this.#e4=t),this.#e4.chainId!==t.chainId)throw Error("chaid changed");if(this.#e6)return;let r=await this.#e_.send("eth_getFilterChanges",[e]);await this._emitResults(this.#e_,r)}catch(e){console.log("@TODO",e)}this.#e_.once("block",this.#eN)}#e3(){let e=this.#e2;e&&(this.#e2=null,e.then(e=>{this.#e_.destroyed||this.#e_.send("eth_uninstallFilter",[e])}))}start(){this.#eO||(this.#eO=!0,this.#eC(-2))}stop(){this.#eO&&(this.#eO=!1,this.#e6=!0,this.#e3(),this.#e_.off("block",this.#eN))}pause(e){e&&this.#e3(),this.#e_.off("block",this.#eN)}resume(){this.start()}}class tU extends tD{#e5;constructor(e,t){super(e),this.#e5=JSON.parse(JSON.stringify(t))}_recover(e){return new tb(e,this.#e5)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e5])}async _emitResults(e,t){for(let r of t)e.emit(this.#e5,e._wrapLog(r,e._network))}}class tF extends tD{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let tM="bigint,boolean,function,number,string,symbol".split(/,/g);function tL(e){if(null==e||tM.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(tL);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function tK(e){return e?e.toLowerCase():e}function tq(e){return e&&"number"==typeof e.pollingInterval}let tW={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tV extends tC{address;constructor(e,t){super(e),t=(0,h.getAddress)(t),(0,R.defineProperties)(this,{address:t})}connect(e){(0,i.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=tL(e),r=[];if(t.from){let n=t.from;r.push((async()=>{let r=await (0,eT.resolveAddress)(n,this.provider);(0,i.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await (0,eT.resolveAddress)(e,this.provider)})())}r.length&&await Promise.all(r);let n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,n)=>{let a=[1e3,100],s=0,o=async()=>{try{let n=await this.provider.getTransaction(r);if(null!=n)return void e(n.replaceableTransaction(t))}catch(e){if((0,i.isError)(e,"CANCELLED")||(0,i.isError)(e,"BAD_DATA")||(0,i.isError)(e,"NETWORK_ERROR")||(0,i.isError)(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,n(e);return}if((0,i.isError)(e,"INVALID_ARGUMENT")&&(s++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,s>10))return void n(e);this.provider.emit("error",(0,i.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{o()},a.pop()||4e3)};o()})}async signTransaction(e){let t=tL(e);if(t.from){let r=await (0,eT.resolveAddress)(t.from,this.provider);(0,i.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?(0,a.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,n.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let n=tL(r),a=await Q.resolveNames(e,t,n,async e=>{let t=await (0,eT.resolveAddress)(e);return(0,i.assertArgument)(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Q.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?(0,a.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,n.hexlify)(t)])}}class tG extends tT{#c;#e8;#e7;#e9;#te;#e4;#tt;#tr(){if(this.#e9)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#e9=setTimeout(()=>{this.#e9=null;let e=this.#e7;for(this.#e7=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#c.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#c.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:n,payload:a}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){n((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));continue}let t=r.filter(e=>e.id===a.id)[0];if(null==t){let e=(0,i.makeError)("missing response for request","BAD_DATA",{value:r,info:{payload:a}});this.emit("error",e),n(e);continue}if("error"in t){n(this.getRpcError(a,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#e8=1,this.#c=Object.assign({},tW,t||{}),this.#e7=[],this.#e9=null,this.#e4=null,this.#tt=null;{let e=null;const t=new Promise(t=>{e=t});this.#te={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?((0,i.assertArgument)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#e4=ew.from(e))):r&&((0,i.assertArgument)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#e4=r)}_getOption(e){return this.#c[e]}get _network(){return(0,i.assert)(this.#e4,"network is not available yet","NETWORK_ERROR"),this.#e4}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,x.getBigInt)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;else if(this.#e4)return this.#e4}return this.#tt||(this.ready?this.#tt=(async()=>{try{let e=ew.from((0,x.getBigInt)(await this.send("eth_chainId",[])));return this.#tt=null,e}catch(e){throw this.#tt=null,e}})():this.#tt=(async()=>{let e,t={id:this.#e8++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#tt=null}catch(e){throw this.#tt=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return ew.from((0,x.getBigInt)(e.result));throw this.getRpcError(t,e)})()),await this.#tt}_start(){null!=this.#te&&null!=this.#te.resolve&&(this.#te.resolve(),this.#te=null,(async()=>{for(;null==this.#e4&&!this.destroyed;)try{this.#e4=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,i.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#tr()})())}async _waitUntilReady(){if(null!=this.#te)return await this.#te.promise}_getSubscriber(e){return"pending"===e.type?new tF(this):"event"===e.type?this._getOption("polling")?new tb(this,e.filter):new tU(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new tw("orphan"):super._getSubscriber(e)}get ready(){return null==this.#te}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=(0,x.toQuantity)((0,x.getBigInt)(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=(0,n.hexlify)(e[r]))}),e.accessList&&(t.accessList=(0,eh.accessListify)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{let t=eI(e);return{address:t.address,nonce:(0,x.toQuantity)(t.nonce),chainId:(0,x.toQuantity)(t.chainId),yParity:(0,x.toQuantity)(t.signature.yParity),r:(0,x.toQuantity)(t.signature.r),s:(0,x.toQuantity)(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[tK(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[tK(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[tK(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[tK(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(tK):e.filter.address=tK(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let r,{method:a}=e,{error:s}=t;if("eth_estimateGas"===a&&s.message){let t=s.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,i.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(t.match(/nonce/i)&&t.match(/too low/i))return(0,i.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if("eth_call"===a||"eth_estimateGas"===a){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&(0,n.isHexString)(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let n=e(t[r]);if(n)return n}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(s),r=ek.AbiCoder.getBuiltinCallException("eth_call"===a?"call":"estimateGas",e.params[0],t?t.data:null);return r.info={error:s,payload:e},r}let o=JSON.stringify((!function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let n in t)e(t[n],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(s,r=[]),r));if("string"==typeof s.message&&s.message.match(/user denied|ethers-user-denied/i))return(0,i.makeError)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:e,error:s}});if("eth_sendRawTransaction"===a||"eth_sendTransaction"===a){let t=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,i.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,i.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,i.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:s}});if(o.match(/only replay-protected/i))return(0,i.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:t,info:{error:s}}})}let u=!!o.match(/the method .* does not exist/i);return(!u&&s&&s.details&&s.details.startsWith("Unauthorized method:")&&(u=!0),u)?(0,i.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):(0,i.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#e8++,n=new Promise((n,i)=>{this.#e7.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#tr(),n}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new tV(this,r[e])}let{accounts:r}=await (0,R.resolveProperties)({network:this.getNetwork(),accounts:t});for(let t of(e=(0,h.getAddress)(e),r))if((0,h.getAddress)(t)===e)return new tV(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new tV(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#e9&&(clearTimeout(this.#e9),this.#e9=null),this.#e7))t((0,i.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#e7=[],super.destroy()}}class tz extends tG{#tn;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=tW.pollingInterval),this.#tn=r}_getSubscriber(e){let t=super._getSubscriber(e);return tq(t)&&(t.pollingInterval=this.#tn),t}get pollingInterval(){return this.#tn}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#tn=e,this._forEachSubscriber(e=>{tq(e)&&(e.pollingInterval=this.#tn)})}}class tj extends tz{#ti;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),"string"==typeof e?this.#ti=new el(e):this.#ti=e.clone()}_getConnection(){return this.#ti.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}}e.s(["JsonRpcApiPollingProvider",()=>tz,"JsonRpcApiProvider",()=>tG,"JsonRpcProvider",()=>tj,"JsonRpcSigner",()=>tV],972072);let tH="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class tQ extends tj{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tH),super(tQ.getRequest(r,t),r,{polling:!0,staticNetwork:r}),(0,R.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tQ(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=tH);let r=new el(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===tH&&(r.retryFunc=async(e,t,r)=>(ep("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===tH}}e.s(["AnkrProvider",()=>tQ],894282);let tX="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class tJ extends tj{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tX),super(tJ.getRequest(r,t),r,{staticNetwork:r}),(0,R.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tJ(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){let t,{trace:r,tx:n}=await (0,R.resolveProperties)({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==r||null==n)return null;let a=!1;try{t=r[0].result.output,a="Reverted"===r[0].error}catch(e){}if(t)return(0,i.assert)(!a,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:t,reason:null,transaction:n,invocation:null,revert:null}),t;(0,i.assert)(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===tX}static getRequest(e,t){null==t&&(t=tX);let r=new el(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===tX&&(r.retryFunc=async(e,t,r)=>(ep("alchemy"),!0)),r}}function tY(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,i.assertArgument)(!1,"unsupported network","network",e)}e.s(["AlchemyProvider",()=>tJ],483280);class tZ extends tj{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tY(r.name)),super(tZ.getRequest(r,t),r,{staticNetwork:r}),(0,R.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tZ(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===tY(this._network.name)}static getRequest(e,t){null==t&&(t=tY(e.name));let r=new el(`https://${function(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===tY(e.name)&&(r.retryFunc=async(e,t,r)=>(ep("ChainstackProvider"),!0)),r}}e.s(["ChainstackProvider",()=>tZ],374920);class t$ extends tj{constructor(e){null==e&&(e="mainnet");const t=ew.from(e);(0,i.assertArgument)("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}e.s(["CloudflareProvider",()=>t$],745533);let t0="org.ethers.plugins.provider.Etherscan";class t1 extends em{baseUrl;constructor(e){super(t0),(0,R.defineProperties)(this,{baseUrl:e})}clone(){return new t1(this.baseUrl)}}let t2=["enableCcipRead"],t4=1;class t6 extends tT{network;apiKey;#ta;constructor(e,t){super();const r=ew.from(e);this.#ta=r.getPlugin(t0),(0,R.defineProperties)(this,{apiKey:null!=t?t:null,network:r})}getBaseUrl(){if(this.#ta)return this.#ta.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,i.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){let n=t4++,s=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:s,payload:o});let u=new el(s);u.setThrottleParams({slotInterval:1e3}),u.retryFunc=(e,t,r)=>(this.isCommunityResource()&&ep("Etherscan"),Promise.resolve(!0)),u.processFunc=async(t,r)=>{let i=r.hasBody()?JSON.parse((0,a.toUtf8String)(r.body)):{},s=("string"==typeof i.result?i.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?i&&0==i.status&&"NOTOK"==i.message&&s&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:i}),r.throwThrottleError(i.result,2e3)):s&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:i.result}),r.throwThrottleError(i.result,2e3)),r},o&&(u.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),u.body=Object.keys(o).map(e=>`${e}=${o[e]}`).join("&"));let l=await u.send();try{l.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:n,error:e,reason:"assertOk"}),(0,i.assert)(!1,"response error","SERVER_ERROR",{request:u,response:l})}l.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),(0,i.assert)(!1,"missing response","SERVER_ERROR",{request:u,response:l}));let c=JSON.parse((0,a.toUtf8String)(l.body));return"proxy"===e?("2.0"!=c.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:c,reason:"invalid JSON-RPC"}),(0,i.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:u,response:l,info:{result:c}})),c.error&&(this.emit("debug",{action:"receiveError",id:n,result:c,reason:"JSON-RPC error"}),(0,i.assert)(!1,"error response","SERVER_ERROR",{request:u,response:l,info:{result:c}}))):0==c.status&&("No records found"===c.message||"No transactions found"===c.message)||1==c.status&&("string"!=typeof c.message||c.message.match(/^OK/))||(this.emit("debug",{action:"receiveError",id:n,result:c}),(0,i.assert)(!1,"error response","SERVER_ERROR",{request:u,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:n,result:c}),c.result}_getTransactionPostData(e){let t={};for(let r in e){if(t2.indexOf(r)>=0||null==e[r])continue;let a=e[r];if(("type"!==r||0!==a)&&("blockTag"!==r||"latest"!==a)){if(({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r])a=(0,x.toQuantity)(a);else if("accessList"===r)a="["+(0,eh.accessListify)(a).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]";else if("blobVersionedHashes"===r){if(0===a.length)continue;(0,i.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else a=(0,n.hexlify)(a);t[r]=a}}return t}_checkError(e,t,r){let n="";if((0,i.isError)(t,"SERVER_ERROR")){try{n=t.info.result.error.message}catch(e){}if(!n)try{n=t.info.message}catch(e){}}if("estimateGas"===e.method&&!n.match(/revert/i)&&n.match(/insufficient funds/i)&&(0,i.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&n.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(e){}let n=ek.AbiCoder.getBuiltinCallException(e.method,e.transaction,r);throw n.info={request:e,error:t},n}if(n&&"broadcastTransaction"===e.method){let t=eX.from(e.signedTransaction);n.match(/replacement/i)&&n.match(/underpriced/i)&&(0,i.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),n.match(/insufficient funds/)&&(0,i.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,i.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});(0,i.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){var t;let r=this._getAddress(e);(t=r)&&"function"==typeof t.then&&(r=await r);try{let e=await this.fetch("contract",{action:"getabi",address:r}),t=JSON.parse(e);return new eN.Contract(r,t,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}e.s(["EtherscanPlugin",()=>t1,"EtherscanProvider",()=>t6],357224);let t3=("undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).WebSocket;class t5{#e_;#T;get filter(){return JSON.parse(this.#T)}#ts;#to;#tu;constructor(e,t){this.#e_=e,this.#T=JSON.stringify(t),this.#ts=null,this.#to=null,this.#tu=null}start(){this.#ts=this.#e_.send("eth_subscribe",this.filter).then(e=>(this.#e_._register(e,this),e))}stop(){this.#ts.then(e=>{this.#e_.destroyed||this.#e_.send("eth_unsubscribe",[e])}),this.#ts=null}pause(e){(0,i.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#to=!!e}resume(){this.#to=null}_handleMessage(e){if(null!=this.#ts&&null===this.#to){let t=this.#tu;t=null==t?this._emit(this.#e_,e):t.then(async()=>{await this._emit(this.#e_,e)}),this.#tu=t.then(()=>{this.#tu===t&&(this.#tu=null)})}}async _emit(e,t){throw Error("sub-classes must implemente this; _emit")}}class t8 extends t5{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class t7 extends t5{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class t9 extends t5{#tl;get logFilter(){return JSON.parse(this.#tl)}constructor(e,t){super(e,["logs",t]),this.#tl=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class re extends tG{#tc;#eM;#td;constructor(e,t){const r=Object.assign({},null!=t?t:{});(0,i.assertArgument)(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#tc=new Map,this.#eM=new Map,this.#td=new Map}_getSubscriber(e){switch(e.type){case"close":return new tw("close");case"block":return new t8(this);case"pending":return new t7(this);case"event":return new t9(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new tw("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#eM.set(e,t);let r=this.#td.get(e);if(r){for(let e of r)t._handleMessage(e);this.#td.delete(e)}}async _send(e){(0,i.assertArgument)(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((t,r)=>{this.#tc.set(e.id,{payload:e,resolve:t,reject:r})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){let e=this.#tc.get(t.id);if(null==e)return void this.emit("error",(0,i.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#tc.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",(0,i.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));let e=t.params.subscription,r=this.#eM.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#td.get(e);null==r&&(r=[],this.#td.set(e,r)),r.push(t.params.result)}}}async _write(e){throw Error("sub-classes must override this")}}e.s(["SocketBlockSubscriber",()=>t8,"SocketEventSubscriber",()=>t9,"SocketPendingSubscriber",()=>t7,"SocketProvider",()=>re,"SocketSubscriber",()=>t5],787101);class rt extends re{#ti;#tf;get websocket(){if(null==this.#tf)throw Error("websocket closed");return this.#tf}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#ti=()=>new t3(e),this.#tf=this.#ti()):"function"==typeof e?(this.#ti=e,this.#tf=e()):(this.#ti=null,this.#tf=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#tf&&(this.#tf.close(),this.#tf=null),super.destroy()}}e.s(["WebSocketProvider",()=>rt],863475);let rr="84842078b09946638c03157f83405213";class rn extends rt{projectId;projectSecret;constructor(e,t){const r=new ri(e,t),n=r._getConnection();(0,i.assert)(!n.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),r._network),(0,R.defineProperties)(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===rr}}class ri extends tj{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=ew.from(e);null==t&&(t=rr),null==r&&(r=null),super(ri.getRequest(n,t,r),n,{staticNetwork:n}),(0,R.defineProperties)(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new ri(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===rr}static getWebSocketProvider(e,t){return new rn(e,t)}static getRequest(e,t,r){null==t&&(t=rr),null==r&&(r=null);let n=new el(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===rr&&(n.retryFunc=async(e,t,r)=>(ep("InfuraProvider"),!0)),n}}e.s(["InfuraProvider",()=>ri,"InfuraWebSocketProvider",()=>rn],306260);let ra="919b412a057b5e9c9b6dce193c5a60242d6efadb";class rs extends tj{token;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=ra),super(rs.getRequest(r,t),r,{staticNetwork:r}),(0,R.defineProperties)(this,{token:t})}_getProvider(e){try{return new rs(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===ra}static getRequest(e,t){null==t&&(t=ra);let r=new el(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===ra&&(r.retryFunc=async(e,t,r)=>(ep("QuickNodeProvider"),!0)),r}}e.s(["QuickNodeProvider",()=>rs],63738);let ro=BigInt("1"),ru=BigInt("2");function rl(){return new Date().getTime()}function rc(e){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t)}let rd={stallTimeout:400,priority:1,weight:1},rf={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function rp(e,t){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=(async()=>{try{let t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=rl()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}function rh(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(rh).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return rh(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{"+t.map(t=>`${JSON.stringify(t)}:${rh(e[t])}`).join(",")+"}"}}throw console.log("Could not serialize",e),Error("Hmm...")}function rm(e,t){if("error"in t){let e=t.error;return{tag:(0,i.isError)(e,"CALL_EXCEPTION")?rh(Object.assign({},e,{shortMessage:void 0,reason:void 0,info:void 0})):rh(e),value:e}}let r=t.result;return{tag:rh(r),value:r}}function rg(e,t){let r=new Map;for(let{value:e,tag:n,weight:i}of t){let t=r.get(n)||{value:e,weight:0};t.weight+=i,r.set(n,t)}let n=null;for(let t of r.values())t.weight>=e&&(!n||t.weight>n.weight)&&(n=t);if(n)return n.value}function rb(e,t){let r=0,n=new Map,i=null,a=[];for(let{value:e,tag:s,weight:o}of t)if(e instanceof Error){let t=n.get(s)||{value:e,weight:0};t.weight+=o,n.set(s,t),(null==i||t.weight>i.weight)&&(i=t)}else a.push(BigInt(e)),r+=o;if(r<e)return i&&i.weight>=e?i.value:void 0;a.sort((e,t)=>e<t?-1:+(t>e));let s=Math.floor(a.length/2);return a.length%2?a[s]:(a[s-1]+a[s]+ro)/ru}function ry(e,t){let r=rg(e,t);if(void 0!==r)return r;for(let e of t)if(e.value)return e.value}class rx extends tT{quorum;eventQuorum;eventWorkers;#tp;#th;#tm;constructor(e,t,r){super(t,r),this.#tp=e.map(e=>e instanceof tT?Object.assign({provider:e},rd,rf):Object.assign({},rd,e,rf)),this.#th=-2,this.#tm=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#tp.reduce((e,t)=>e+=t.weight,0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,i.assertArgument)(this.quorum<=this.#tp.reduce((e,t)=>e+t.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#tp.map(e=>{let t=Object.assign({},e);for(let e in t)"_"===e[0]&&delete t[e];return t})}async _detectNetwork(){return ew.from((0,x.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#tg(e){let t=Array.from(e).map(e=>e.config),r=this.#tp.slice();for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}for(let e of(r.sort((e,t)=>e.priority-t.priority),r))if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#tb(e,t){let r=this.#tg(e);if(null==r)return null;let n={config:r,result:null,didBump:!1,perform:null,staller:null},i=rl();return n.perform=(async()=>{try{r.requests++,n.result={result:await this._translatePerform(r.provider,t)}}catch(e){r.errorResponses++,n.result={error:e}}let e=rl()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await (e=r.stallTimeout,new Promise(t=>{setTimeout(t,e)})),n.staller=null})(),e.add(n),n}async #ty(){let e=this.#tm;if(!e){let t=[];this.#tp.forEach(e=>{t.push((async()=>{await rp(e,0),e._lastFatalError||(e._network=await e.provider.getNetwork())})())}),this.#tm=e=(async()=>{await Promise.all(t);let e=null;for(let t of this.#tp){if(t._lastFatalError)continue;let r=t._network;null==e?e=r.chainId:r.chainId!==e&&(0,i.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async #tx(e,t){let r=[];for(let n of e)if(null!=n.result){let{tag:e,value:i}=rm(t.method,n.result);r.push({tag:e,value:i,weight:n.config.weight})}if(!(r.reduce((e,t)=>e+t.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#th&&(this.#th=Math.ceil((0,x.getNumber)(rb(this.quorum,this.#tp.filter(e=>!e._lastFatalError).map(e=>({value:e.blockNumber,tag:(0,x.getNumber)(e.blockNumber).toString(),weight:e.weight}))))));let e=function(e,t){let r;if(1===e)return(0,x.getNumber)(rb(e,t),"%internal");let n=new Map,i=(e,t)=>{let r=n.get(e)||{result:e,weight:0};r.weight+=t,n.set(e,r)};for(let{weight:e,value:r}of t){let t=(0,x.getNumber)(r);i(t-1,e),i(t,e),i(t+1,e)}let a=0;for(let{weight:t,result:i}of n.values())t>=e&&(t>a||null!=r&&t===a&&i>r)&&(a=t,r=i);return r}(this.quorum,r);if(void 0===e)return;return e>this.#th&&(this.#th=e),this.#th}case"getGasPrice":case"getPriorityFee":case"estimateGas":return rb(this.quorum,r);case"getBlock":if("blockTag"in t&&"pending"===t.blockTag)return ry(this.quorum,r);return rg(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return rg(this.quorum,r);case"broadcastTransaction":return ry(this.quorum,r)}(0,i.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${rc(t.method)})`})}}async #tA(e,t){if(0===e.size)throw Error("no runners?!");let r=[],n=0;for(let t of e){if(t.perform&&r.push(t.perform),t.staller){r.push(t.staller);continue}!t.didBump&&(t.didBump=!0,n++)}let a=await this.#tx(e,t);if(void 0!==a){if(a instanceof Error)throw a;return a}for(let r=0;r<n;r++)this.#tb(e,t);return(0,i.assert)(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(e=>rc(e.result))}}),await Promise.race(r),await this.#tA(e,t)}async _perform(e){if("broadcastTransaction"===e.method){let t=this.#tp.map(e=>null),r=this.#tp.map(async({provider:r,weight:n},i)=>{try{let a=await r._perform(e);t[i]=Object.assign(rm(e.method,{result:a}),{weight:n})}catch(r){t[i]=Object.assign(rm(e.method,{error:r}),{weight:n})}});for(;;){for(let{value:e}of t.filter(e=>null!=e))if(!(e instanceof Error))return e;let e=rg(this.quorum,t.filter(e=>null!=e));if((0,i.isError)(e,"INSUFFICIENT_FUNDS"))throw e;let n=r.filter((e,r)=>null==t[r]);if(0===n.length)break;await Promise.race(n)}let n=ry(this.quorum,t);if((0,i.assert)(void 0!==n,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(rc)}}),n instanceof Error)throw n;return n}await this.#ty();let t=new Set,r=0;for(;;){let n=this.#tb(t,e);if(null==n||(r+=n.config.weight)>=this.quorum)break}let n=await this.#tA(t,e);for(let e of t)e.perform&&null==e.result&&e.config.lateResponses++;return n}async destroy(){for(let{provider:e}of this.#tp)e.destroy();super.destroy()}}e.s(["FallbackProvider",()=>rx],458752);let rA="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function rw(e,t){null==t&&(t={});let r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new tj(e);if("string"==typeof e&&e.match(/^wss?:/)||e&&"function"==typeof e.send&&"function"==typeof e.close)return new rt(e);let n=null;try{n=ew.from(e)}catch(e){}let a=[];if(r("publicPolygon")&&n&&("matic"===n.name?a.push(new tj("https://polygon-rpc.com/",n,{staticNetwork:n})):"matic-amoy"===n.name&&a.push(new tj("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),r("alchemy"))try{a.push(new tJ(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{a.push(new tQ(e,t.ankr))}catch(e){}if(r("chainstack"))try{a.push(new tZ(e,t.chainstack))}catch(e){}if(r("cloudflare"))try{a.push(new t$(e))}catch(e){}if(r("etherscan"))try{a.push(new t6(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,n=t.infura;"object"==typeof n&&(r=n.projectSecret,n=n.projectId),a.push(new ri(e,n,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;a.push(new rs(e,r))}catch(e){}if((0,i.assert)(a.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===a.length)return a[0];let s=Math.floor(a.length/2);return s>2&&(s=2),n&&-1!==rA.indexOf(n.name)&&(s=1),t&&t.quorum&&(s=t.quorum),new rx(a,void 0,{quorum:s})}e.s(["getDefaultProvider",()=>rw],678874);class rv extends tC{signer;#tw;#tv;constructor(e){super(e.provider),(0,R.defineProperties)(this,{signer:e}),this.#tw=null,this.#tv=0}async getAddress(){return this.signer.getAddress()}connect(e){return new rv(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#tw&&(this.#tw=super.getNonce("pending"));let e=this.#tv;return await this.#tw+e}return super.getNonce(e)}increment(){this.#tv++}reset(){this.#tv=0,this.#tw=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}e.s(["NonceManager",()=>rv],966339);class rS extends tz{#er;#tS;constructor(e,t,r){const n=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,i.assertArgument)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,n),this.#tS=null,r&&r.providerInfo&&(this.#tS=r.providerInfo),this.#er=async(t,r)=>{let n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{let t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#tS}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,i.assertArgument)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#er(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#er("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new rS(e.provider);let t=e.window?e.window:"undefined"!=typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new rS(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let n=e.timeout?e.timeout:300;return 0===n?null:await new Promise((a,s)=>{let o=[],u=e=>{o.push(e.detail),r&&l()},l=()=>{if(clearTimeout(c),o.length)if(e&&e.filter){let t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)a(null);else if(t instanceof rS)a(t);else{let e=null;if(t.uuid&&(e=o.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;a(new rS(t,void 0,{providerInfo:r}))}else s((0,i.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=o[0];a(new rS(e,void 0,{providerInfo:t}))}else a(null);t.removeEventListener("eip6963:announceProvider",u)},c=setTimeout(()=>{l()},n);t.addEventListener("eip6963:announceProvider",u),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}e.s(["BrowserProvider",()=>rS],655092);class rE extends tj{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=null),super(rE.getRequest(r),r,{staticNetwork:r}),(0,R.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new rE(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return null===this.apiKey}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&"eth_estimateGas"===t.method&&1==t.args.length&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&-32015===r.code&&!(0,n.isHexString)(r.data||"",!0)){let e={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},t="";"VM execution error."===r.message?t=e[r.data]||"":e[r.message||""]&&(t=e[r.message||""]),t&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+t)}else r&&-32e3===r.code&&"wrong transaction nonce"===r.message&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new el(function(e){switch(e){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name));return t.allowGzip=!0,t}}e.s(["BlockscoutProvider",()=>rE],190741);let rk="62e1ad51b37b8e00394bda3b";class rT extends tj{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=ew.from(e);null==t&&(t=rk),null==r&&(r=null),super(rT.getRequest(n,t,r),n,{staticNetwork:n}),(0,R.defineProperties)(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new rT(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=rk);let n=new el(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,i.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===rk&&(n.retryFunc=async(e,t,r)=>(ep("PocketProvider"),!0)),n}isCommunityResource(){return this.applicationId===rk}}e.s(["PocketProvider",()=>rT],233967);e.s(["IpcSocketProvider",()=>t],473587);let rP=BigInt(-1),rI=BigInt(0),r_=BigInt(1),rN=BigInt(5),rB={},rR="0000";for(;rR.length<80;)rR+=rR;function rC(e){let t=rR;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function rO(e,t,r){let n=BigInt(t.width);if(t.signed){let t=r_<<n-r_;(0,i.assert)(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>rI?(0,x.fromTwos)((0,x.mask)(e,n),n):-(0,x.fromTwos)((0,x.mask)(-e,n),n)}else{let t=r_<<n;(0,i.assert)(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-r_}return e}function rD(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,i.assertArgument)(a,"invalid fixed format","format",e),t="u"!==a[1],r=parseInt(a[2]),n=parseInt(a[3])}else if(e){let a=e,s=(e,t,r)=>null==a[e]?r:((0,i.assertArgument)(typeof a[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,a[e]),a[e]);t=s("signed","boolean",t),r=s("width","number",r),n=s("decimals","number",n)}(0,i.assertArgument)(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),(0,i.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let a=(t?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:t,width:r,decimals:n,name:a}}class rU{format;#tE;#tk;#tT;_value;constructor(e,t,r){(0,i.assertPrivate)(e,rB,"FixedNumber"),this.#tk=t,this.#tE=r;const n=function(e,t){let r="";e<rI&&(r="-",e*=rP);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=rR+n;let i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(t,r.decimals);(0,R.defineProperties)(this,{format:r.name,_value:n}),this.#tT=rC(r.decimals)}get signed(){return this.#tE.signed}get width(){return this.#tE.width}get decimals(){return this.#tE.decimals}get value(){return this.#tk}#tP(e){(0,i.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#tI(e,t){return new rU(rB,e=rO(e,this.#tE,t),this.#tE)}#t_(e,t){return this.#tP(e),this.#tI(this.#tk+e.#tk,t)}addUnsafe(e){return this.#t_(e)}add(e){return this.#t_(e,"add")}#tN(e,t){return this.#tP(e),this.#tI(this.#tk-e.#tk,t)}subUnsafe(e){return this.#tN(e)}sub(e){return this.#tN(e,"sub")}#tB(e,t){return this.#tP(e),this.#tI(this.#tk*e.#tk/this.#tT,t)}mulUnsafe(e){return this.#tB(e)}mul(e){return this.#tB(e,"mul")}mulSignal(e){this.#tP(e);let t=this.#tk*e.#tk;return(0,i.assert)(t%this.#tT===rI,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#tI(t/this.#tT,"mulSignal")}#tR(e,t){return(0,i.assert)(e.#tk!==rI,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tP(e),this.#tI(this.#tk*this.#tT/e.#tk,t)}divUnsafe(e){return this.#tR(e)}div(e){return this.#tR(e,"div")}divSignal(e){(0,i.assert)(e.#tk!==rI,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tP(e);let t=this.#tk*this.#tT;return(0,i.assert)(t%e.#tk===rI,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#tI(t/e.#tk,"divSignal")}cmp(e){let t=this.value,r=e.value,n=this.decimals-e.decimals;return(n>0?r*=rC(n):n<0&&(t*=rC(-n)),t<r)?-1:+(t>r)}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#tk;return this.#tk<rI&&(e-=this.#tT-r_),e=this.#tk/this.#tT*this.#tT,this.#tI(e,"floor")}ceiling(){let e=this.#tk;return this.#tk>rI&&(e+=this.#tT-r_),e=this.#tk/this.#tT*this.#tT,this.#tI(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=rN*rC(t-1),n=this.value+r,i=rC(t);return rO(n=n/i*i,this.#tE,"round"),new rU(rB,n,this.#tE)}isZero(){return this.#tk===rI}isNegative(){return this.#tk<rI}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return rU.fromString(this.toString(),e)}static fromValue(e,t,r){let n=null==t?0:(0,x.getNumber)(t),a=rD(r),s=(0,x.getBigInt)(e,"value"),o=n-a.decimals;if(o>0){let t=rC(o);(0,i.assert)(s%t===rI,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=rC(-o));return rO(s,a,"fromValue"),new rU(rB,s,a)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,i.assertArgument)(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let n=rD(t),a=r[2]||"0",s=r[3]||"";for(;s.length<n.decimals;)s+=rR;(0,i.assert)(s.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,n.decimals);let o=BigInt(r[1]+a+s);return rO(o,n,"fromString"),new rU(rB,o,n)}static fromBytes(e,t){let r=(0,x.toBigInt)((0,n.getBytes)(e,"value")),i=rD(t);return i.signed&&(r=(0,x.fromTwos)(r,i.width)),rO(r,i,"fromBytes"),new rU(rB,r,i)}}e.s(["FixedNumber",()=>rU],12227);let rF=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rM(e,t){let r=18;if("string"==typeof t){let e=rF.indexOf(t);(0,i.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,x.getNumber)(t,"unit"));return rU.fromValue(e,r,{decimals:r,width:512}).toString()}function rL(e,t){(0,i.assertArgument)("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){let e=rF.indexOf(t);(0,i.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,x.getNumber)(t,"unit"));return rU.fromString(e,{decimals:r,width:512}).value}function rK(e){return rM(e,18)}function rq(e){return rL(e,18)}function rW(e){let t=(0,n.getBytes)(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=(0,n.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}e.s(["formatEther",()=>rK,"formatUnits",()=>rM,"parseEther",()=>rq,"parseUnits",()=>rL],501058),e.s(["uuidV4",()=>rW],725941);var rV=e.i(767397);let rG=" !#$%&'()*+,-./<=>?@[]^_`{|}~",rz=/^[a-z]*$/i;function rj(e,t){let r=97;return e.reduce((e,n)=>(n===t?r++:n.match(rz)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e),[])}function rH(e){return(0,i.assertArgument)("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=rG.length-1;r>=0;r--)e=e.split(rG[r]).join(t.substring(2*r,2*r+2));let r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(n)throw Error(`leftovers: ${JSON.stringify(n)}`);return rj(rj(r,";"),":")}(e.substring(1+2*rG.length),e.substring(1,1+2*rG.length))}e.s(["decodeOwl",()=>rH],331415);class rQ{locale;constructor(e){(0,R.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}e.s(["Wordlist",()=>rQ],244308);class rX extends rQ{#t;#tC;constructor(e,t,r){super(e),this.#t=t,this.#tC=r,this.#tO=null}get _data(){return this.#t}_decodeWords(){return rH(this.#t)}#tO;#tD(){if(null==this.#tO){let e=this._decodeWords();if((0,C.id)(e.join("\n")+"\n")!==this.#tC)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#tO=e}return this.#tO}getWord(e){let t=this.#tD();return(0,i.assertArgument)(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#tD().indexOf(e)}}e.s(["WordlistOwl",()=>rX],978851);let rJ=null;class rY extends rX{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==rJ&&(rJ=new rY),rJ}}function rZ(e){return(1<<e)-1<<8-e&255}function r$(e,t){(0,i.assertNormalize)("NFKD"),null==t&&(t=rY.wordlist());let r=t.split(e);(0,i.assertArgument)(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let a=new Uint8Array(Math.ceil(11*r.length/8)),s=0;for(let e=0;e<r.length;e++){let n=t.getWordIndex(r[e].normalize("NFKD"));(0,i.assertArgument)(n>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)n&1<<10-e&&(a[s>>3]|=1<<7-s%8),s++}let o=32*r.length/3,u=rZ(r.length/3),l=(0,n.getBytes)((0,k.sha256)(a.slice(0,o/8)))[0]&u;return(0,i.assertArgument)(l===(a[a.length-1]&u),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,n.hexlify)(a.slice(0,o/8))}function r0(e,t){(0,i.assertArgument)(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=rY.wordlist());let r=[0],n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&((1<<8-n)-1&255)),n+=3);let a=e.length/4,s=parseInt((0,k.sha256)(e).substring(2,4),16)&rZ(a);return r[r.length-1]<<=a,r[r.length-1]|=s>>8-a,t.join(r.map(e=>t.getWord(e)))}e.s(["LangEn",()=>rY],84552);let r1={};class r2{phrase;password;wordlist;entropy;constructor(e,t,r,n,a){null==n&&(n=""),null==a&&(a=rY.wordlist()),(0,i.assertPrivate)(e,r1,"Mnemonic"),(0,R.defineProperties)(this,{phrase:r,password:n,wordlist:a,entropy:t})}computeSeed(){let e=(0,a.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,rV.pbkdf2)((0,a.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let i=r$(e,r);return e=r0((0,n.getBytes)(i),r),new r2(r1,i,e,t,r)}static fromEntropy(e,t,r){let i=(0,n.getBytes)(e,"entropy"),a=r0(i,r);return new r2(r1,(0,n.hexlify)(i),a,t,r)}static entropyToPhrase(e,t){return r0((0,n.getBytes)(e,"entropy"),t)}static phraseToEntropy(e,t){return r$(e,t)}static isValidMnemonic(e,t){try{return r$(e,t),!0}catch(e){}return!1}}e.s(["Mnemonic",()=>r2],149105);class r4 extends tC{address;#tU;constructor(e,t){super(t),(0,i.assertArgument)(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#tU=e;const r=g(this.signingKey.publicKey);(0,R.defineProperties)(this,{address:r})}get signingKey(){return this.#tU}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new r4(this.#tU,e)}async signTransaction(e){e=(0,tc.copyRequest)(e);let{to:t,from:r}=await (0,R.resolveProperties)({to:e.to?(0,eT.resolveAddress)(e.to,this):void 0,from:e.from?(0,eT.resolveAddress)(e.from,this):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&((0,i.assertArgument)((0,h.getAddress)(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let n=eX.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(S(e)).serialized}authorizeSync(e){(0,i.assertArgument)("string"==typeof e.address,"invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(A(e));return Object.assign({},{address:(0,h.getAddress)(e.address),nonce:(0,x.getBigInt)(e.nonce||0),chainId:(0,x.getBigInt)(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await (0,eT.resolveAddress)(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,r){let n=await Q.resolveNames(e,t,r,async e=>{(0,i.assert)(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return(0,i.assert)(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(Q.hash(n.domain,t,n.value)).serialized}}e.s(["BaseWallet",()=>r4],956342)},812052,447159,478312,836783,e=>{"use strict";var t,r,n,i,a,s,o,u,l=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],g=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],b=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],y=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],x=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],A=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],w=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],v=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],S=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],E=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],k=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],T=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function P(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class I{get key(){return l(this,t,"f").slice()}constructor(e){let i;if(t.set(this,void 0),r.set(this,void 0),n.set(this,void 0),!(this instanceof I))throw Error("AES must be instanitated with `new`");c(this,t,new Uint8Array(e),"f");const a=d[this.key.length];if(null==a)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");c(this,n,[],"f"),c(this,r,[],"f");for(let e=0;e<=a;e++)l(this,n,"f").push([0,0,0,0]),l(this,r,"f").push([0,0,0,0]);const s=(a+1)*4,o=this.key.length/4,u=P(this.key);for(let e=0;e<o;e++)i=e>>2,l(this,n,"f")[i][e%4]=u[e],l(this,r,"f")[a-i][e%4]=u[e];let h=0,m=o,g;for(;m<s;){if(g=u[o-1],u[0]^=p[g>>16&255]<<24^p[g>>8&255]<<16^p[255&g]<<8^p[g>>24&255]^f[h]<<24,h+=1,8!=o)for(let e=1;e<o;e++)u[e]^=u[e-1];else{for(let e=1;e<o/2;e++)u[e]^=u[e-1];g=u[o/2-1],u[o/2]^=p[255&g]^p[g>>8&255]<<8^p[g>>16&255]<<16^p[g>>24&255]<<24;for(let e=o/2+1;e<o;e++)u[e]^=u[e-1]}let e=0,t,i;for(;e<o&&m<s;)t=m>>2,i=m%4,l(this,n,"f")[t][i]=u[e],l(this,r,"f")[a-t][i]=u[e++],m++}for(let e=1;e<a;e++)for(let t=0;t<4;t++)g=l(this,r,"f")[e][t],l(this,r,"f")[e][t]=S[g>>24&255]^E[g>>16&255]^k[g>>8&255]^T[255&g]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=l(this,n,"f").length-1,r=[0,0,0,0],i=P(e);for(let e=0;e<4;e++)i[e]^=l(this,n,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=m[i[t]>>24&255]^g[i[(t+1)%4]>>16&255]^b[i[(t+2)%4]>>8&255]^y[255&i[(t+3)%4]]^l(this,n,"f")[e][t];i=r.slice()}let a=new Uint8Array(16),s=0;for(let e=0;e<4;e++)s=l(this,n,"f")[t][e],a[4*e]=(p[i[e]>>24&255]^s>>24)&255,a[4*e+1]=(p[i[(e+1)%4]>>16&255]^s>>16)&255,a[4*e+2]=(p[i[(e+2)%4]>>8&255]^s>>8)&255,a[4*e+3]=(p[255&i[(e+3)%4]]^s)&255;return a}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=l(this,r,"f").length-1,n=[0,0,0,0],i=P(e);for(let e=0;e<4;e++)i[e]^=l(this,r,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)n[t]=x[i[t]>>24&255]^A[i[(t+3)%4]>>16&255]^w[i[(t+2)%4]>>8&255]^v[255&i[(t+1)%4]]^l(this,r,"f")[e][t];i=n.slice()}let a=new Uint8Array(16),s=0;for(let e=0;e<4;e++)s=l(this,r,"f")[t][e],a[4*e]=(h[i[e]>>24&255]^s>>24)&255,a[4*e+1]=(h[i[(e+3)%4]>>16&255]^s>>16)&255,a[4*e+2]=(h[i[(e+2)%4]>>8&255]^s>>8)&255,a[4*e+3]=(h[255&i[(e+1)%4]]^s)&255;return a}}t=new WeakMap,r=new WeakMap,n=new WeakMap;class _{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new I(t)},name:{enumerable:!0,value:e}})}}var N=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},B=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class R extends _{constructor(e,t){if(super("ECC",e,R),i.set(this,void 0),a.set(this,void 0),t){if(t.length%16)throw TypeError("invalid iv size (must be 16 bytes)");N(this,i,new Uint8Array(t),"f")}else N(this,i,new Uint8Array(16),"f");N(this,a,this.iv,"f")}get iv(){return new Uint8Array(B(this,i,"f"))}encrypt(e){if(e.length%16)throw TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)B(this,a,"f")[t]^=e[r+t];N(this,a,this.aes.encrypt(B(this,a,"f")),"f"),t.set(B(this,a,"f"),r)}return t}decrypt(e){if(e.length%16)throw TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let n=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=n[i]^B(this,a,"f")[i],B(this,a,"f")[i]=e[r+i]}return t}}i=new WeakMap,a=new WeakMap,e.s(["CBC",()=>R],447159);new WeakMap,new WeakMap,new WeakSet;var C=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},O=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class D extends _{constructor(e,t){super("CTR",e,D),s.set(this,void 0),o.set(this,void 0),u.set(this,void 0),C(this,u,new Uint8Array(16),"f"),O(this,u,"f").fill(0),C(this,s,O(this,u,"f"),"f"),C(this,o,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(O(this,u,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)O(this,u,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");O(this,u,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===O(this,u,"f")[e])O(this,u,"f")[e]=0;else{O(this,u,"f")[e]++;break}}encrypt(e){var t,r;let n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===O(this,o,"f")&&(C(this,s,this.aes.encrypt(O(this,u,"f")),"f"),C(this,o,0,"f"),this.increment()),n[e]^=O(this,s,"f")[C(this,o,(r=O(this,o,"f"),t=r++,r),"f"),t];return n}decrypt(e){return this.encrypt(e)}}function U(e){if(e.length<16)throw TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw TypeError("PKCS#7 padding byte out of range");let r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}s=new WeakMap,o=new WeakMap,u=new WeakMap,e.s(["CTR",()=>D],478312),new WeakMap,new WeakMap,new WeakMap,e.s(["pkcs7Strip",()=>U],836783),e.s([],812052)},7836,e=>{"use strict";e.i(708351);var t=e.i(524265),r=e.i(580840),n=e.i(897567),i=e.i(440394),a=e.i(536275),s=e.i(222194),o=e.i(32843),u=e.i(737003),l=e.i(782045),c=e.i(93323),d=e.i(33725),f=e.i(420440),p=e.i(244010),h=e.i(193826),m=e.i(67881),g=e.i(372418),b=e.i(474112),y=e.i(485685),x=e.i(394944),A=e.i(998146),w=e.i(961018),v=e.i(63637),S=e.i(767397),E=e.i(73023),k=e.i(952871),T=e.i(257092),P=e.i(421227),I=e.i(170987),_=e.i(475228),N=e.i(32548),B=e.i(233501),R=e.i(421836),C=e.i(93615),O=e.i(678874),D=e.i(851047),U=e.i(558238),F=e.i(966339),M=e.i(248855),L=e.i(458752),K=e.i(972072),q=e.i(655092),W=e.i(483280),V=e.i(894282),G=e.i(190741),z=e.i(374920),j=e.i(745533),H=e.i(357224),Q=e.i(306260),X=e.i(233967),J=e.i(63738),Y=e.i(473587),Z=e.i(787101),$=e.i(863475),ee=e.i(258408),et=e.i(101468),er=e.i(750584),en=e.i(939086),ei=e.i(360738),ea=e.i(432526),es=e.i(97286),eo=e.i(196003),eu=e.i(168762),el=e.i(867025),ec=e.i(498138),ed=e.i(892537),ef=e.i(914218),ep=e.i(477808),eh=e.i(936002),em=e.i(12227),eg=e.i(107339),eb=e.i(501058),ey=e.i(438853),ex=e.i(277171),eA=e.i(798530),ew=e.i(725941),ev=e.i(149105),eS=e.i(956342),eE=U,ek=e.i(84552),eT=eS;e.i(812052);var eP=e.i(478312);function eI(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),(0,ec.getBytesCopy)(e)}function e_(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function eN(e){return"string"==typeof e?(0,ey.toUtf8Bytes)(e,"NFKC"):(0,ec.getBytesCopy)(e)}function eB(e,t){let r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,ef.assertArgument)(null!=r,"invalid path","path",t);let n=r[1],i=r[3],a="!"===r[4],s=e;for(let e of n.toLowerCase().split(".")){if(Array.isArray(s)){if(!e.match(/^[0-9]+$/))break;s=s[parseInt(e)]}else if("object"==typeof s){let t=null;for(let r in s)if(r.toLowerCase()===e){t=s[r];break}s=t}else s=null;if(null==s)break}if((0,ef.assertArgument)(!a||null!=s,"missing required value","path",n),i&&null!=s){if("int"===i){if("string"==typeof s&&s.match(/^-?[0-9]+$/))return parseInt(s);else if(Number.isSafeInteger(s))return s}if("number"===i&&"string"==typeof s&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if("data"===i&&"string"==typeof s)return eI(s);if("array"===i&&Array.isArray(s)||i===typeof s)return s;(0,ef.assertArgument)(!1,`wrong type found for ${i} `,"path",n)}return s}let eR="m/44'/60'/0'/0/0";function eC(e){try{let t=JSON.parse(e),r=null!=t.version?parseInt(t.version):0;if(3===r)return!0}catch(e){}return!1}function eO(e,t){let r=(0,ec.getBytes)(t),n=eB(e,"crypto.ciphertext:data!"),i=(0,ec.hexlify)((0,A.keccak256)((0,ec.concat)([r.slice(16,32),n]))).substring(2);(0,ef.assertArgument)(i===eB(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let a=function(e,t,r){if("aes-128-ctr"===eB(e,"crypto.cipher:string")){let n=eB(e,"crypto.cipherparams.iv:data!"),i=new eP.CTR(t,n);return(0,ec.hexlify)(i.decrypt(r))}(0,ef.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),n),s=(0,es.computeAddress)(a);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),(0,ef.assertArgument)((0,u.getAddress)(t)===s,"keystore address/privateKey mismatch","address",e.address)}let o={address:s,privateKey:a};if("0.1"===eB(e,"x-ethers.version:string")){let t=r.slice(32,64),n=eB(e,"x-ethers.mnemonicCiphertext:data!"),i=eB(e,"x-ethers.mnemonicCounter:data!"),a=new eP.CTR(t,i);o.mnemonic={path:eB(e,"x-ethers.path:string")||eR,locale:eB(e,"x-ethers.locale:string")||"en",entropy:(0,ec.hexlify)((0,ec.getBytes)(a.decrypt(n)))}}return o}function eD(e){let t=eB(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){let r=eB(e,"crypto.kdfparams.salt:data!"),n=eB(e,"crypto.kdfparams.n:int!"),i=eB(e,"crypto.kdfparams.r:int!"),a=eB(e,"crypto.kdfparams.p:int!");(0,ef.assertArgument)(n>0&&(n&n-1)==0,"invalid kdf.N","kdf.N",n),(0,ef.assertArgument)(i>0&&a>0,"invalid kdf","kdf",t);let s=eB(e,"crypto.kdfparams.dklen:int!");return(0,ef.assertArgument)(32===s,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:r,N:n,r:i,p:a,dkLen:64}}else if("pbkdf2"===t.toLowerCase()){let t=eB(e,"crypto.kdfparams.salt:data!"),r=eB(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();(0,ef.assertArgument)("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);let i=eB(e,"crypto.kdfparams.c:int!"),a=eB(e,"crypto.kdfparams.dklen:int!");return(0,ef.assertArgument)(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:n}}}(0,ef.assertArgument)(!1,"unsupported key-derivation function","kdf",t)}function eU(e,t){let r=JSON.parse(e),n=eN(t),i=eD(r);if("pbkdf2"===i.name){let{salt:e,count:t,dkLen:a,algorithm:s}=i;return eO(r,(0,S.pbkdf2)(n,e,t,a,s))}(0,ef.assert)("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:a,N:s,r:o,p:u,dkLen:l}=i;return eO(r,(0,E.scryptSync)(n,a,s,o,u,l))}function eF(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function eM(e,t,r){let n=JSON.parse(e),i=eN(t),a=eD(n);if("pbkdf2"===a.name){r&&(r(0),await eF(0));let{salt:e,count:t,dkLen:s,algorithm:o}=a,u=(0,S.pbkdf2)(i,e,t,s,o);return r&&(r(1),await eF(0)),eO(n,u)}(0,ef.assert)("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});let{salt:s,N:o,r:u,p:l,dkLen:c}=a;return eO(n,await (0,E.scrypt)(i,s,o,u,l,c,r))}function eL(e){let t=null!=e.salt?(0,ec.getBytes)(e.salt,"options.salt"):(0,x.randomBytes)(32),r=131072,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),(0,ef.assertArgument)("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),(0,ef.assertArgument)("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,ef.assertArgument)("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function eK(e,r,n,i){let a=(0,ec.getBytes)(n.privateKey,"privateKey"),s=null!=i.iv?(0,ec.getBytes)(i.iv,"options.iv"):(0,x.randomBytes)(16);(0,ef.assertArgument)(16===s.length,"invalid options.iv length","options.iv",i.iv);let o=null!=i.uuid?(0,ec.getBytes)(i.uuid,"options.uuid"):(0,x.randomBytes)(16);(0,ef.assertArgument)(16===o.length,"invalid options.uuid length","options.uuid",i.iv);let u=e.slice(0,16),l=e.slice(16,32),c=new eP.CTR(u,s),d=(0,ec.getBytes)(c.encrypt(a)),f=(0,A.keccak256)((0,ec.concat)([l,d])),p={address:n.address.substring(2).toLowerCase(),id:(0,ew.uuidV4)(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,ec.hexlify)(s).substring(2)},ciphertext:(0,ec.hexlify)(d).substring(2),kdf:"scrypt",kdfparams:{salt:(0,ec.hexlify)(r.salt).substring(2),n:r.N,dklen:32,p:r.p,r:r.r},mac:f.substring(2)}};if(n.mnemonic){let r=null!=i.client?i.client:`ethers/${t.version}`,a=n.mnemonic.path||eR,s=n.mnemonic.locale||"en",o=e.slice(32,64),u=(0,ec.getBytes)(n.mnemonic.entropy,"account.mnemonic.entropy"),l=(0,x.randomBytes)(16),c=new eP.CTR(o,l),d=(0,ec.getBytes)(c.encrypt(u)),f=new Date,h="UTC--"+(f.getUTCFullYear()+"-"+e_(f.getUTCMonth()+1,2)+"-"+e_(f.getUTCDate(),2)+"T"+e_(f.getUTCHours(),2)+"-"+e_(f.getUTCMinutes(),2)+"-"+e_(f.getUTCSeconds(),2))+".0Z--"+p.address;p["x-ethers"]={client:r,gethFilename:h,path:a,locale:s,mnemonicCounter:(0,ec.hexlify)(l).substring(2),mnemonicCiphertext:(0,ec.hexlify)(d).substring(2),version:"0.1"}}return JSON.stringify(p)}function eq(e,t,r){null==r&&(r={});let n=eN(t),i=eL(r),a=(0,E.scryptSync)(n,i.salt,i.N,i.r,i.p,64);return eK((0,ec.getBytes)(a),i,e,r)}async function eW(e,t,r){null==r&&(r={});let n=eN(t),i=eL(r),a=await (0,E.scrypt)(n,i.salt,i.N,i.r,i.p,64,r.progressCallback);return eK((0,ec.getBytes)(a),i,e,r)}let eV="m/44'/60'/0'/0/0",eG=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),ez=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function ej(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function eH(e){let t=(0,ec.getBytes)(e),r=(0,ec.dataSlice)((0,v.sha256)((0,v.sha256)(t)),0,4),n=(0,ec.concat)([t,r]);return(0,eu.encodeBase58)(n)}let eQ={};function eX(e,t,r,n){let i=new Uint8Array(37);0x80000000&e?((0,ef.assert)(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set((0,ec.getBytes)(n),1)):i.set((0,ec.getBytes)(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;let a=(0,ec.getBytes)((0,y.computeHmac)("sha512",t,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function eJ(e,t){let r=t.split("/");(0,ef.assertArgument)(r.length>0,"invalid path","path",t),"m"===r[0]&&((0,ef.assertArgument)(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));(0,ef.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),n=n.deriveChild(0x80000000+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);(0,ef.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else(0,ef.assertArgument)(!1,"invalid path component",`path[${e}]`,t)}return n}class eY extends eT.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,n,i,a,s,o,u){super(t,u),(0,ef.assertPrivate)(e,eQ,"HDNodeWallet"),(0,ed.defineProperties)(this,{publicKey:t.compressedPublicKey});const l=(0,ec.dataSlice)((0,w.ripemd160)((0,v.sha256)(this.publicKey)),0,4);(0,ed.defineProperties)(this,{parentFingerprint:r,fingerprint:l,chainCode:n,path:i,index:a,depth:s}),(0,ed.defineProperties)(this,{mnemonic:o})}connect(e){return new eY(eQ,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#tF(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await eW(this.#tF(),e,{progressCallback:t})}encryptSync(e){return eq(this.#tF(),e)}get extendedKey(){return(0,ef.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),eH((0,ec.concat)(["0x0488ADE4",ej(this.depth,1),this.parentFingerprint,ej(this.index,4),this.chainCode,(0,ec.concat)(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new eZ(eQ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=(0,eg.getNumber)(e,"index");(0,ef.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:n,IL:i}=eX(t,this.chainCode,this.publicKey,this.privateKey);return new eY(eQ,new P.SigningKey((0,eg.toBeHex)(((0,eg.toBigInt)(i)+BigInt(this.privateKey))%ez,32)),this.fingerprint,(0,ec.hexlify)(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return eJ(this,e)}static #tM(e,t){(0,ef.assertArgument)((0,ec.isBytesLike)(e),"invalid seed","seed","[REDACTED]");let r=(0,ec.getBytes)(e,"seed");(0,ef.assertArgument)(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let n=(0,ec.getBytes)((0,y.computeHmac)("sha512",eG,r));return new eY(eQ,new P.SigningKey((0,ec.hexlify)(n.slice(0,32))),"0x00000000",(0,ec.hexlify)(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=(0,eg.toBeArray)((0,eu.decodeBase58)(e));(0,ef.assertArgument)(82===t.length||eH(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],n=(0,ec.hexlify)(t.slice(5,9)),i=parseInt((0,ec.hexlify)(t.slice(9,13)).substring(2),16),a=(0,ec.hexlify)(t.slice(13,45)),s=t.slice(45,78);switch((0,ec.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=(0,ec.hexlify)(s);return new eZ(eQ,(0,es.computeAddress)(e),e,n,a,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new eY(eQ,new P.SigningKey(s.slice(1)),n,a,null,i,r,null,null)}(0,ef.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=eV),null==r&&(r=ek.LangEn.wordlist());let n=ev.Mnemonic.fromEntropy((0,x.randomBytes)(16),e,r);return eY.#tM(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=eV),eY.#tM(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=eV),null==n&&(n=ek.LangEn.wordlist());let i=ev.Mnemonic.fromPhrase(e,t,n);return eY.#tM(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return eY.#tM(e,null)}}class eZ extends eE.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,n,i,a,s,o,u){super(t,u),(0,ef.assertPrivate)(e,eQ,"HDNodeVoidWallet"),(0,ed.defineProperties)(this,{publicKey:r});const l=(0,ec.dataSlice)((0,w.ripemd160)((0,v.sha256)(r)),0,4);(0,ed.defineProperties)(this,{publicKey:r,fingerprint:l,parentFingerprint:n,chainCode:i,path:a,index:s,depth:o})}connect(e){return new eZ(eQ,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return(0,ef.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),eH((0,ec.concat)(["0x0488B21E",ej(this.depth,1),this.parentFingerprint,ej(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=(0,eg.getNumber)(e,"index");(0,ef.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:n,IL:i}=eX(t,this.chainCode,this.publicKey,null),a=P.SigningKey.addPoints(i,this.publicKey,!0);return new eZ(eQ,(0,es.computeAddress)(a),a,this.fingerprint,(0,ec.hexlify)(n),r,t,this.depth+1,this.provider)}derivePath(e){return eJ(this,e)}}function e$(e){let t=(0,eg.getNumber)(e,"index");return(0,ef.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function e0(e){let t=(0,eg.getNumber)(e,"index");return(0,ef.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}var e1=eS,e2=e.i(447159),e4=e.i(836783);function e6(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function e3(e,t){let r=JSON.parse(e),n=eN(t),i=(0,u.getAddress)(eB(r,"ethaddr:string!")),a=eI(eB(r,"encseed:string!"));(0,ef.assertArgument)(a&&a.length%16==0,"invalid encseed","json",e);let s=(0,ec.getBytes)((0,S.pbkdf2)(n,n,2e3,32,"sha256")).slice(0,16),o=a.slice(0,16),l=a.slice(16),c=new e2.CBC(s,o),d=(0,e4.pkcs7Strip)((0,ec.getBytes)(c.decrypt(l))),f="";for(let e=0;e<d.length;e++)f+=String.fromCharCode(d[e]);return{address:i,privateKey:(0,I.id)(f)}}function e5(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class e8 extends e1.BaseWallet{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new P.SigningKey(e):e,t)}connect(e){return new e8(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await eW(r,e,{progressCallback:t})}encryptSync(e){return eq({address:this.address,privateKey:this.privateKey},e)}static #tL(e){if((0,ef.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){let t=ev.Mnemonic.fromEntropy(e.mnemonic.entropy),r=eY.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new e8(e.privateKey);return(0,ef.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return eC(e)?n=await eM(e,t,r):e6(e)&&(r&&(r(0),await e5(0)),n=e3(e,t),r&&(r(1),await e5(0))),e8.#tL(n)}static fromEncryptedJsonSync(e,t){let r=null;return eC(e)?r=eU(e,t):e6(e)?r=e3(e,t):(0,ef.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),e8.#tL(r)}static createRandom(e){let t=eY.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=eY.fromPhrase(e);return t?r.connect(t):r}}var e7=e.i(244308),e9=e.i(978851),te=e9,tt=e.i(331415);class tr extends te.WordlistOwl{#tK;constructor(e,t,r,n){super(e,t,n),this.#tK=r}get _accent(){return this.#tK}_decodeWords(){var e,t;let r;return e=this._data,t=this._accent,r=(0,tt.decodeOwl)(e).join(","),t.split(/,/g).forEach(e=>{let n=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,ef.assertArgument)(null!==n,"internal error parsing accents","accents",t);let i=0,a=function(e,t){let r=(1<<e)-1,n=[],i=0,a=0,s=0;for(let o=0;o<t.length;o++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[o]),a+=6;a>=e;){let t=i>>a-e;i&=(1<<a-e)-1,a-=e,0===t?s+=r:(n.push(t+s),s=0)}return n}(parseInt(n[3]),n[4]),s=parseInt(n[2]),o=RegExp(`([${n[1]}])`,"g");r=r.replace(o,(e,t)=>(0==--a[i]&&(t=String.fromCharCode(t.charCodeAt(0),s),i++),t))}),r.split(",")}}let tn={en:ek.LangEn.wordlist()};e.s(["AbiCoder",()=>n.AbiCoder,"AbstractProvider",()=>M.AbstractProvider,"AbstractSigner",()=>U.AbstractSigner,"AlchemyProvider",()=>W.AlchemyProvider,"AnkrProvider",()=>V.AnkrProvider,"BaseContract",()=>m.BaseContract,"BaseWallet",()=>eS.BaseWallet,"Block",()=>D.Block,"BlockscoutProvider",()=>G.BlockscoutProvider,"BrowserProvider",()=>q.BrowserProvider,"ChainstackProvider",()=>z.ChainstackProvider,"CloudflareProvider",()=>j.CloudflareProvider,"ConstructorFragment",()=>i.ConstructorFragment,"Contract",()=>m.Contract,"ContractEventPayload",()=>b.ContractEventPayload,"ContractFactory",()=>g.ContractFactory,"ContractTransactionReceipt",()=>b.ContractTransactionReceipt,"ContractTransactionResponse",()=>b.ContractTransactionResponse,"ContractUnknownEventPayload",()=>b.ContractUnknownEventPayload,"EnsPlugin",()=>er.EnsPlugin,"EnsResolver",()=>ee.EnsResolver,"ErrorDescription",()=>s.ErrorDescription,"ErrorFragment",()=>i.ErrorFragment,"EtherSymbol",()=>h.EtherSymbol,"EtherscanPlugin",()=>H.EtherscanPlugin,"EtherscanProvider",()=>H.EtherscanProvider,"EventFragment",()=>i.EventFragment,"EventLog",()=>b.EventLog,"EventPayload",()=>ep.EventPayload,"FallbackFragment",()=>i.FallbackFragment,"FallbackProvider",()=>L.FallbackProvider,"FeeData",()=>D.FeeData,"FeeDataNetworkPlugin",()=>er.FeeDataNetworkPlugin,"FetchCancelSignal",()=>eh.FetchCancelSignal,"FetchRequest",()=>eh.FetchRequest,"FetchResponse",()=>eh.FetchResponse,"FetchUrlFeeDataNetworkPlugin",()=>er.FetchUrlFeeDataNetworkPlugin,"FixedNumber",()=>em.FixedNumber,"Fragment",()=>i.Fragment,"FunctionFragment",()=>i.FunctionFragment,"GasCostPlugin",()=>er.GasCostPlugin,"HDNodeVoidWallet",()=>eZ,"HDNodeWallet",()=>eY,"Indexed",()=>s.Indexed,"InfuraProvider",()=>Q.InfuraProvider,"InfuraWebSocketProvider",()=>Q.InfuraWebSocketProvider,"Interface",()=>s.Interface,"IpcSocketProvider",()=>Y.IpcSocketProvider,"JsonRpcApiProvider",()=>K.JsonRpcApiProvider,"JsonRpcProvider",()=>K.JsonRpcProvider,"JsonRpcSigner",()=>K.JsonRpcSigner,"LangEn",()=>ek.LangEn,"Log",()=>D.Log,"LogDescription",()=>s.LogDescription,"MaxInt256",()=>f.MaxInt256,"MaxUint256",()=>f.MaxUint256,"MessagePrefix",()=>h.MessagePrefix,"MinInt256",()=>f.MinInt256,"Mnemonic",()=>ev.Mnemonic,"MulticoinProviderPlugin",()=>ee.MulticoinProviderPlugin,"N",()=>f.N,"NamedFragment",()=>i.NamedFragment,"Network",()=>et.Network,"NetworkPlugin",()=>er.NetworkPlugin,"NonceManager",()=>F.NonceManager,"ParamType",()=>i.ParamType,"PocketProvider",()=>X.PocketProvider,"QuickNodeProvider",()=>J.QuickNodeProvider,"Result",()=>a.Result,"Signature",()=>T.Signature,"SigningKey",()=>P.SigningKey,"SocketBlockSubscriber",()=>Z.SocketBlockSubscriber,"SocketEventSubscriber",()=>Z.SocketEventSubscriber,"SocketPendingSubscriber",()=>Z.SocketPendingSubscriber,"SocketProvider",()=>Z.SocketProvider,"SocketSubscriber",()=>Z.SocketSubscriber,"StructFragment",()=>i.StructFragment,"Transaction",()=>eo.Transaction,"TransactionDescription",()=>s.TransactionDescription,"TransactionReceipt",()=>D.TransactionReceipt,"TransactionResponse",()=>D.TransactionResponse,"Typed",()=>o.Typed,"TypedDataEncoder",()=>C.TypedDataEncoder,"UndecodedEventLog",()=>b.UndecodedEventLog,"UnmanagedSubscriber",()=>M.UnmanagedSubscriber,"Utf8ErrorFuncs",()=>ey.Utf8ErrorFuncs,"VoidSigner",()=>U.VoidSigner,"Wallet",()=>e8,"WebSocketProvider",()=>$.WebSocketProvider,"WeiPerEther",()=>f.WeiPerEther,"Wordlist",()=>e7.Wordlist,"WordlistOwl",()=>e9.WordlistOwl,"WordlistOwlA",()=>tr,"ZeroAddress",()=>d.ZeroAddress,"ZeroHash",()=>p.ZeroHash,"accessListify",()=>ei.accessListify,"assert",()=>ef.assert,"assertArgument",()=>ef.assertArgument,"assertArgumentCount",()=>ef.assertArgumentCount,"assertNormalize",()=>ef.assertNormalize,"assertPrivate",()=>ef.assertPrivate,"authorizationify",()=>ea.authorizationify,"checkResultErrors",()=>a.checkResultErrors,"computeAddress",()=>es.computeAddress,"computeHmac",()=>y.computeHmac,"concat",()=>ec.concat,"copyRequest",()=>D.copyRequest,"dataLength",()=>ec.dataLength,"dataSlice",()=>ec.dataSlice,"decodeBase58",()=>eu.decodeBase58,"decodeBase64",()=>el.decodeBase64,"decodeBytes32String",()=>r.decodeBytes32String,"decodeRlp",()=>ex.decodeRlp,"decryptCrowdsaleJson",()=>e3,"decryptKeystoreJson",()=>eM,"decryptKeystoreJsonSync",()=>eU,"defaultPath",0,eV,"defineProperties",()=>ed.defineProperties,"dnsEncode",()=>_.dnsEncode,"encodeBase58",()=>eu.encodeBase58,"encodeBase64",()=>el.encodeBase64,"encodeBytes32String",()=>r.encodeBytes32String,"encodeRlp",()=>eA.encodeRlp,"encryptKeystoreJson",()=>eW,"encryptKeystoreJsonSync",()=>eq,"ensNormalize",()=>_.ensNormalize,"formatEther",()=>eb.formatEther,"formatUnits",()=>eb.formatUnits,"fromTwos",()=>eg.fromTwos,"getAccountPath",()=>e$,"getAddress",()=>u.getAddress,"getBigInt",()=>eg.getBigInt,"getBytes",()=>ec.getBytes,"getBytesCopy",()=>ec.getBytesCopy,"getCreate2Address",()=>l.getCreate2Address,"getCreateAddress",()=>l.getCreateAddress,"getDefaultProvider",()=>O.getDefaultProvider,"getIcapAddress",()=>u.getIcapAddress,"getIndexedAccountPath",()=>e0,"getNumber",()=>eg.getNumber,"getUint",()=>eg.getUint,"hashAuthorization",()=>N.hashAuthorization,"hashMessage",()=>B.hashMessage,"hexlify",()=>ec.hexlify,"id",()=>I.id,"isAddress",()=>c.isAddress,"isAddressable",()=>c.isAddressable,"isBytesLike",()=>ec.isBytesLike,"isCallException",()=>ef.isCallException,"isCrowdsaleJson",()=>e6,"isError",()=>ef.isError,"isHexString",()=>ec.isHexString,"isKeystoreJson",()=>eC,"isValidName",()=>_.isValidName,"keccak256",()=>A.keccak256,"lock",()=>k.lock,"makeError",()=>ef.makeError,"mask",()=>eg.mask,"namehash",()=>_.namehash,"parseEther",()=>eb.parseEther,"parseUnits",()=>eb.parseUnits,"pbkdf2",()=>S.pbkdf2,"randomBytes",()=>x.randomBytes,"recoverAddress",()=>es.recoverAddress,"resolveAddress",()=>c.resolveAddress,"resolveProperties",()=>ed.resolveProperties,"ripemd160",()=>w.ripemd160,"scrypt",()=>E.scrypt,"scryptSync",()=>E.scryptSync,"sha256",()=>v.sha256,"sha512",()=>v.sha512,"showThrottleMessage",()=>en.showThrottleMessage,"solidityPacked",()=>R.solidityPacked,"solidityPackedKeccak256",()=>R.solidityPackedKeccak256,"solidityPackedSha256",()=>R.solidityPackedSha256,"stripZerosLeft",()=>ec.stripZerosLeft,"toBeArray",()=>eg.toBeArray,"toBeHex",()=>eg.toBeHex,"toBigInt",()=>eg.toBigInt,"toNumber",()=>eg.toNumber,"toQuantity",()=>eg.toQuantity,"toTwos",()=>eg.toTwos,"toUtf8Bytes",()=>ey.toUtf8Bytes,"toUtf8CodePoints",()=>ey.toUtf8CodePoints,"toUtf8String",()=>ey.toUtf8String,"uuidV4",()=>ew.uuidV4,"verifyAuthorization",()=>N.verifyAuthorization,"verifyMessage",()=>B.verifyMessage,"verifyTypedData",()=>C.verifyTypedData,"version",()=>t.version,"wordlists",0,tn,"zeroPadBytes",()=>ec.zeroPadBytes,"zeroPadValue",()=>ec.zeroPadValue],77021);var ti=e.i(77021);e.s(["ethers",0,ti],7836)},705766,e=>{"use strict";let t,r;var n,i=e.i(271645);let a={data:""},s=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,l=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+s+";":n+="f"==a[1]?l(s,a):a+"{"+l(s,"k"==a[1]?"":t)+"}":"object"==typeof s?n+=l(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=l.p?l.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},c={},d=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+d(e[r]);return t}return e};function f(e){let t,r,n,i=this||{},f=e.call?e(i.p):e;return((e,t,r,n,i)=>{var a;let f=d(e),p=c[f]||(c[f]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(f));if(!c[p]){let t=f!==e?e:(e=>{let t,r,n=[{}];for(;t=s.exec(e.replace(o,""));)t[4]?n.shift():t[3]?(r=t[3].replace(u," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(u," ").trim();return n[0]})(e);c[p]=l(i?{["@keyframes "+p]:t}:t,r?"":"."+p)}let h=r&&c.g?c.g:null;return r&&(c.g=c[p]),a=c[p],h?t.data=t.data.replace(h,a):-1===t.data.indexOf(a)&&(t.data=n?a+t.data:t.data+a),p})(f.unshift?f.raw?(t=[].slice.call(arguments,1),r=i.p,f.reduce((e,n,i)=>{let a=t[i];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+n+(null==a?"":a)},"")):f.reduce((e,t)=>Object.assign(e,t&&t.call?t(i.p):t),{}):f,(n=i.target,"object"==typeof window?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||a),i.g,i.o,i.k)}f.bind({g:1});let p,h,m,g=f.bind({k:1});function b(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),u=o.className||i.className;r.p=Object.assign({theme:h&&h()},o),r.o=/ *go\d+/.test(u),o.className=f.apply(r,n)+(u?" "+u:""),t&&(o.ref=s);let l=e;return e[0]&&(l=o.as||e,delete o.as),m&&l[0]&&m(o),p(l,o)}return t?t(i):i}}var y=(e,t)=>"function"==typeof e?e(t):e,x=(t=0,()=>(++t).toString()),A=()=>{if(void 0===r&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r},w=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return w(e,{type:+!!e.toasts.find(e=>e.id===r.id),toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},v=[],S={toasts:[],pausedAt:void 0},E=e=>{S=w(S,e),v.forEach(e=>{e(S)})},k={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},T=e=>(t,r)=>{let n=((e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||x()}))(t,e,r);return E({type:2,toast:n}),n.id},P=(e,t)=>T("blank")(e,t);P.error=T("error"),P.success=T("success"),P.loading=T("loading"),P.custom=T("custom"),P.dismiss=e=>{E({type:3,toastId:e})},P.remove=e=>E({type:4,toastId:e}),P.promise=(e,t,r)=>{let n=P.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?y(t.success,e):void 0;return i?P.success(i,{id:n,...r,...null==r?void 0:r.success}):P.dismiss(n),e}).catch(e=>{let i=t.error?y(t.error,e):void 0;i?P.error(i,{id:n,...r,...null==r?void 0:r.error}):P.dismiss(n)}),e};var I=(e,t)=>{E({type:1,toast:{id:e,height:t}})},_=()=>{E({type:5,time:Date.now()})},N=new Map,B=1e3,R=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,C=g`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O=g`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D=b("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${C} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${O} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=g`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=b("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${U} 1s linear infinite;
`,M=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,L=g`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K=b("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${L} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,q=b("div")`
  position: absolute;
`,W=b("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V=g`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G=b("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,z=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return void 0!==t?"string"==typeof t?i.createElement(G,null,t):t:"blank"===r?null:i.createElement(W,null,i.createElement(F,{...n}),"loading"!==r&&i.createElement(q,null,"error"===r?i.createElement(D,{...n}):i.createElement(K,{...n})))},j=b("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H=b("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q=i.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,i]=A()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*r}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*r}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${g(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${g(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},s=i.createElement(z,{toast:e}),o=i.createElement(H,{...e.ariaProps},y(e.message,e));return i.createElement(j,{className:e.className,style:{...a,...r,...e.style}},"function"==typeof n?n({icon:s,message:o}):i.createElement(i.Fragment,null,s,o))});n=i.createElement,l.p=void 0,p=n,h=void 0,m=void 0;var X=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=i.useCallback(t=>{if(t){let r=()=>{n(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return i.createElement("div",{ref:s,className:t,style:r},a)},J=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Y=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:o})=>{let{toasts:u,handlers:l}=(e=>{let{toasts:t,pausedAt:r}=((e={})=>{let[t,r]=(0,i.useState)(S),n=(0,i.useRef)(S);(0,i.useEffect)(()=>(n.current!==S&&r(S),v.push(r),()=>{let e=v.indexOf(r);e>-1&&v.splice(e,1)}),[]);let a=t.toasts.map(t=>{var r,n,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||k[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...t,toasts:a}})(e);(0,i.useEffect)(()=>{if(r)return;let e=Date.now(),n=t.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(r<0){t.visible&&P.dismiss(t.id);return}return setTimeout(()=>P.dismiss(t.id),r)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[t,r]);let n=(0,i.useCallback)(()=>{r&&E({type:6,time:Date.now()})},[r]),a=(0,i.useCallback)((e,r)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:a}=r||{},s=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=s.findIndex(t=>t.id===e.id),u=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...n?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return(0,i.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)((e,t=B)=>{if(N.has(e))return;let r=setTimeout(()=>{N.delete(e),E({type:4,toastId:e})},t);N.set(e,r)})(e.id,e.removeDelay);else{let t=N.get(e.id);t&&(clearTimeout(t),N.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:I,startPause:_,endPause:n,calculateOffset:a}}})(r);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map(r=>{let s,o,u=r.position||t,c=l.calculateOffset(r,{reverseOrder:e,gutter:n,defaultPosition:t}),d=(s=u.includes("top"),o=u.includes("center")?{justifyContent:"center"}:u.includes("right")?{justifyContent:"flex-end"}:{},{left:0,right:0,display:"flex",position:"absolute",transition:A()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${c*(s?1:-1)}px)`,...s?{top:0}:{bottom:0},...o});return i.createElement(X,{id:r.id,key:r.id,onHeightUpdate:l.updateHeight,className:r.visible?J:"",style:d},"custom"===r.type?y(r.message,r):a?a(r):i.createElement(Q,{toast:r,position:u}))}))};e.s(["Toaster",()=>Y,"default",()=>P,"toast",()=>P],705766)},718646,e=>{"use strict";var t=e.i(268804),r=e.i(672464),n=e.i(265172);let i=(0,n.atomWithStorage)("notifications",[]),a=(0,n.atomWithStorage)("toast-position","top-center",void 0,{getOnInit:!0});(0,n.atomWithStorage)("toast-color","#FFFFFF",void 0,{getOnInit:!0});let s=(0,n.atomWithStorage)("notifications-enabled",!0),o=(0,n.atomWithStorage)("isTxToastSoundOn",!1),u=(0,n.atomWithStorage)("txNotificationVolume",50),l=(0,n.atomWithStorage)("txBuyNotificationSound","default"),c=(0,n.atomWithStorage)("txSellNotificationSound","default");function d(){let[e,n]=(0,r.useAtom)(i);return async r=>{e.find(e=>e.id===r)&&(n(e.filter(e=>e.id!==r)),await t.axiomApiV2.post("/delete-notification",{id:r}))}}function f(){let[e,n]=(0,r.useAtom)(i);return async()=>{let r=e.map(e=>e.id);for(let e of(n([]),r))await t.axiomApiV2.post("/delete-notification",{id:e})}}e.s(["buySoundAtom",0,l,"notificationsAtom",0,i,"notificationsEnabledAtom",0,s,"sellSoundAtom",0,c,"soundEnabledAtom",0,o,"soundVolumeAtom",0,u,"toastPositionAtom",0,a,"useClearAllNotifications",()=>f,"useDeleteNotification",()=>d])},994447,e=>{"use strict";e.s(["AXIOM_LST_APY_ESTIMATE",0,6.37,"AXIOM_LST_MINT",0,"axiom1dWfDXKn6r4pn3jjaYuLTExG5TdLuAqXQohNuG","AXIOM_STAKE_POOL",0,"9N69d9o5hqdfDLMiPdFT5VBXpEf4UXSTsbmYLKc9Njpa","MARGINFI_GROUP_ID",0,"4qp6Fx6tnZkY5Wropq9wUYgtFxXKwE6viZxFHg3rdAG8","MARGINFI_PROGRAM_ID",0,"MFv2hWf31Z9kbCa1snEPYctwafyhdvnV7FZnsebVacA","USDC_BANK_STATE",0,"2s37akK2eyBbp8DZgCm7RtsaEz8eJP3Nxd4urLHQv7yB","USDC_MINT",0,"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","USDC_PYTHNET_CUSTODY_PRICE_ACCOUNT",0,"Dpw1EAVrSB1ibxiDQyTAW6Zip3J4Btk2x4SgApQCeFbX"])},422876,e=>{"use strict";var t=e.i(127261);let r=new t.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n=new t.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),i=new t.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a=new t.PublicKey("So11111111111111111111111111111111111111112");new t.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,i,"NATIVE_MINT",0,a,"TOKEN_2022_PROGRAM_ID",0,n,"TOKEN_PROGRAM_ID",0,r])},151906,(e,t,r)=>{"use strict";var n=e.i(467034);Object.defineProperty(r,"__esModule",{value:!0}),r.toBigIntLE=function(e){{let t=n.Buffer.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},r.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},r.toBufferLE=function(e,t){{let r=e.toString(16),i=n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}},r.toBufferBE=function(e,t){{let r=e.toString(16);return n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}}},559136,107522,147618,80070,e=>{"use strict";let t=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var r=e.i(467034),n=e.i(444610),i=e.i(151906);let a=e=>a=>{let s=(0,n.blob)(e,a),{encode:o,decode:u}=t(s);return s.decode=(e,t)=>{let n=u(e,t);return(0,i.toBigIntLE)(r.Buffer.from(n))},s.encode=(t,r,n)=>o((0,i.toBufferLE)(t,e),r,n),s},s=e=>a=>{let s=(0,n.blob)(e,a),{encode:o,decode:u}=t(s);return s.decode=(e,t)=>{let n=u(e,t);return(0,i.toBigIntBE)(r.Buffer.from(n))},s.encode=(t,r,n)=>o((0,i.toBufferBE)(t,e),r,n),s},o=a(8);s(8);let u=a(16);s(16),a(24),s(24),a(32),s(32),e.s(["u128",0,u,"u64",0,o],107522),new(e.i(828073)).default("1e+18"),e.s(["bool",0,e=>{let r=(0,n.u8)(e),{encode:i,decode:a}=t(r);return r.decode=(e,t)=>!!a(e,t),r.encode=(e,t,r)=>i(Number(e),t,r),r}],147618);var l=e.i(127261);e.s(["publicKey",0,e=>{let r=(0,n.blob)(32,e),{encode:i,decode:a}=t(r);return r.decode=(e,t)=>{let r=a(e,t);return new l.PublicKey(r)},r.encode=(e,t,r)=>i(e.toBuffer(),t,r),r}],80070),e.s([],559136)},896198,e=>{"use strict";class t extends Error{constructor(e){super(e)}}class r extends t{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class n extends t{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class i extends t{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class a extends t{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class s extends t{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class o extends t{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class u extends t{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class l extends t{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class c extends t{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class d extends t{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class f extends t{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}class p extends t{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}class h extends t{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}class m extends t{constructor(){super(...arguments),this.name="TokenTransferHookInvalidPubkeyData"}}class g extends t{constructor(){super(...arguments),this.name="TokenTransferHookPubkeyDataTooSmall"}}e.s(["TokenAccountNotFoundError",()=>r,"TokenInvalidAccountError",()=>n,"TokenInvalidAccountOwnerError",()=>i,"TokenInvalidAccountSizeError",()=>a,"TokenInvalidInstructionDataError",()=>c,"TokenInvalidInstructionKeysError",()=>l,"TokenInvalidInstructionProgramError",()=>u,"TokenInvalidInstructionTypeError",()=>d,"TokenInvalidMintError",()=>s,"TokenOwnerOffCurveError",()=>o,"TokenTransferHookAccountDataNotFound",()=>h,"TokenTransferHookAccountNotFound",()=>f,"TokenTransferHookInvalidPubkeyData",()=>m,"TokenTransferHookInvalidSeed",()=>p,"TokenTransferHookPubkeyDataTooSmall",()=>g])},946865,20459,366886,842103,289492,e=>{"use strict";e.s(["MINT_SIZE",()=>Y,"MintLayout",()=>J,"getAssociatedTokenAddress",()=>$,"getAssociatedTokenAddressSync",()=>ee,"unpackMint",()=>Z],946865);var t,r,n,i,a,s,o,u=e.i(467034),l=e.i(444610);e.i(559136);var c=e.i(147618),d=e.i(80070),f=e.i(107522),p=e.i(127261),h=e.i(422876),m=e.i(896198);(t=a||(a={}))[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account",e.s(["ACCOUNT_SIZE",()=>y,"AccountLayout",()=>b],20459);let g=(0,l.struct)([(0,l.u8)("m"),(0,l.u8)("n"),(0,c.bool)("isInitialized"),(0,d.publicKey)("signer1"),(0,d.publicKey)("signer2"),(0,d.publicKey)("signer3"),(0,d.publicKey)("signer4"),(0,d.publicKey)("signer5"),(0,d.publicKey)("signer6"),(0,d.publicKey)("signer7"),(0,d.publicKey)("signer8"),(0,d.publicKey)("signer9"),(0,d.publicKey)("signer10"),(0,d.publicKey)("signer11")]).span;(r=s||(s={}))[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen";let b=(0,l.struct)([(0,d.publicKey)("mint"),(0,d.publicKey)("owner"),(0,f.u64)("amount"),(0,l.u32)("delegateOption"),(0,d.publicKey)("delegate"),(0,l.u8)("state"),(0,l.u32)("isNativeOption"),(0,f.u64)("isNative"),(0,f.u64)("delegatedAmount"),(0,l.u32)("closeAuthorityOption"),(0,d.publicKey)("closeAuthority")]),y=b.span;function x([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}(0,l.struct)([(0,c.bool)("lockCpi")]).span,(0,l.struct)([(0,l.u8)("state")]).span,e.i(247167);var A=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(x).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function w(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function v(e){return Object.freeze({...e,encode:t=>{let r=new Uint8Array(w(t,e));return e.write(t,r,0),r}})}function S(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function E(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function k(e,t){if(E(e)!==E(t))throw new A(8078004);if(E(e)&&E(t)&&e.fixedSize!==t.fixedSize)throw new A(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!E(e)&&!E(t)&&e.maxSize!==t.maxSize)throw new A(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function T(e,t,r,n=0){let i=r.length-n;if(i<t)throw new A(8078001,{bytesLength:i,codecDescription:e,expected:t})}function P(e,t){return k(v({fixedSize:t,write:(r,n,i)=>{let a=e.encode(r),s=a.length>t?a.slice(0,t):a;return n.set(s,i),i+t}}),S({fixedSize:t,read:(r,n)=>{let i,a;T("fixCodecSize",t,r,n),(n>0||r.length>t)&&(r=r.slice(n,n+t)),E(e)&&(i=r,a=e.fixedSize,r=((e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r})(i.length<=a?i:i.slice(0,a),a));let[s]=e.read(r,0);return[s,n+t]}}))}var I=((n=I||{})[n.Little=0]="Little",n[n.Big=1]="Big",n);function _(e){return e?.endian!==1}var N=(e={})=>k(((e={})=>{var t;return v({fixedSize:(t={config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}).size,write(e,r,n){t.range&&function(e,t,r,n){if(n<t||n>r)throw new A(8078011,{codecDescription:e,max:r,min:t,value:n})}(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,_(t.config)),r.set(new Uint8Array(i),n),n+t.size}})})(e),((e={})=>{var t;return S({fixedSize:(t={config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}).size,read(e,r=0){var n,i,a;let s,o;!function(e,t,r=0){if(t.length-r<=0)throw new A(8078e3,{codecDescription:e})}(t.name,e,r),T(t.name,t.size,e,r);let u=new DataView((n=e,i=r,a=t.size,s=n.byteOffset+(i??0),o=a??n.byteLength,n.buffer.slice(s,s+o)));return[t.get(u,_(t.config)),r+t.size]}})})(e));function B(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}function R(e){return E(e)?e.fixedSize:null}function C(e){return E(e)?e.fixedSize:e.maxSize??null}function O(){return k(v({getSizeFromValue:e=>e.length,write:(e,t,r)=>(t.set(e,r),r+e.length)}),S({read:(e,t)=>{let r=e.slice(t);return[r,t+r.length]}}))}function D(e){let t,r,n,i,a,s;return k((r=B((t=e.map(([,e])=>e)).map(R)),n=B(t.map(C))??void 0,v({...null===r?{getSizeFromValue:t=>e.map(([e,r])=>w(t[e],r)).reduce((e,t)=>e+t,0),maxSize:n}:{fixedSize:r},write:(t,r,n)=>(e.forEach(([e,i])=>{n=i.write(t[e],r,n)}),n)})),(a=B((i=e.map(([,e])=>e)).map(R)),s=B(i.map(C))??void 0,S({...null===a?{maxSize:s}:{fixedSize:a},read:(t,r)=>{let n={};return e.forEach(([e,i])=>{let[a,s]=i.read(t,r);r=s,n[e]=a}),[n,r]}})))}let U=D([["updateAuthority",P(O(),32)],["mint",P(O(),32)],["size",N()],["maxSize",N()]]).fixedSize;e.s(["TOKEN_GROUP_SIZE",0,U],366886);let F=D([["mint",P(O(),32)],["group",P(O(),32)],["memberNumber",N()]]).fixedSize;e.s(["TOKEN_GROUP_MEMBER_SIZE",0,F],842103),(0,l.struct)([(0,d.publicKey)("authority"),(0,d.publicKey)("memberAddress")]).span,(0,l.struct)([(0,d.publicKey)("authority"),(0,d.publicKey)("groupAddress")]).span,(0,l.struct)([]).span,(0,l.struct)([(0,d.publicKey)("rateAuthority"),(0,l.ns64)("initializationTimestamp"),(0,l.s16)("preUpdateAverageRate"),(0,l.ns64)("lastUpdateTimestamp"),(0,l.s16)("currentRate")]).span,(0,l.struct)([(0,c.bool)("requireIncomingTransferMemos")]).span,(0,l.struct)([(0,d.publicKey)("authority"),(0,d.publicKey)("metadataAddress")]).span,(0,l.struct)([(0,d.publicKey)("closeAuthority")]).span;let M=(0,l.struct)([]);M.span,M.span,(0,l.struct)([(0,d.publicKey)("authority"),(0,c.bool)("paused")]).span,(0,l.struct)([]).span,(0,l.struct)([(0,d.publicKey)("delegate")]).span,(0,l.struct)([(0,d.publicKey)("authority"),(0,l.f64)("multiplier"),(0,f.u64)("newMultiplierEffectiveTimestamp"),(0,l.f64)("newMultiplier")]).span,e.s(["MAX_FEE_BASIS_POINTS",()=>L,"TRANSFER_FEE_AMOUNT_SIZE",()=>j,"TRANSFER_FEE_CONFIG_SIZE",()=>G,"calculateFee",()=>W,"getEpochFee",()=>z,"getTransferFeeConfig",()=>H],289492);let L=1e4,K=BigInt(1e4);function q(e){return(0,l.struct)([(0,f.u64)("epoch"),(0,f.u64)("maximumFee"),(0,l.u16)("transferFeeBasisPoints")],e)}function W(e,t){let r=e.transferFeeBasisPoints;if(0===r||t===BigInt(0))return BigInt(0);{let n=(t*BigInt(r)+K-BigInt(1))/K;return BigInt(n>e.maximumFee?e.maximumFee:n)}}let V=(0,l.struct)([(0,d.publicKey)("transferFeeConfigAuthority"),(0,d.publicKey)("withdrawWithheldAuthority"),(0,f.u64)("withheldAmount"),q("olderTransferFee"),q("newerTransferFee")]),G=V.span;function z(e,t){return t>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}let j=(0,l.struct)([(0,f.u64)("withheldAmount")]).span;function H(e){let t=function(e,t){let r=0;for(;r+2+2<=t.length;){let n=t.readUInt16LE(r),i=t.readUInt16LE(r+2),a=r+2+2;if(n==e)return t.slice(a,a+i);r=a+i}return null}(o.TransferFeeConfig,e.tlvData);return null!==t?V.decode(t):null}(0,l.struct)([(0,d.publicKey)("authority"),(0,d.publicKey)("programId")]).span,(0,l.struct)([(0,c.bool)("transferring")]).span;let Q=(0,l.struct)([(0,l.u8)("discriminator"),(0,l.blob)(32,"addressConfig"),(0,c.bool)("isSigner"),(0,c.bool)("isWritable")]),X=(0,l.struct)([(0,l.u32)("count"),(0,l.seq)(Q,(0,l.greedy)(Q.span),"extraAccounts")]);(0,l.struct)([(0,f.u64)("instructionDiscriminator"),(0,l.u32)("length"),X.replicate("extraAccountsList")]),(i=o||(o={}))[i.Uninitialized=0]="Uninitialized",i[i.TransferFeeConfig=1]="TransferFeeConfig",i[i.TransferFeeAmount=2]="TransferFeeAmount",i[i.MintCloseAuthority=3]="MintCloseAuthority",i[i.ConfidentialTransferMint=4]="ConfidentialTransferMint",i[i.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",i[i.DefaultAccountState=6]="DefaultAccountState",i[i.ImmutableOwner=7]="ImmutableOwner",i[i.MemoTransfer=8]="MemoTransfer",i[i.NonTransferable=9]="NonTransferable",i[i.InterestBearingConfig=10]="InterestBearingConfig",i[i.CpiGuard=11]="CpiGuard",i[i.PermanentDelegate=12]="PermanentDelegate",i[i.NonTransferableAccount=13]="NonTransferableAccount",i[i.TransferHook=14]="TransferHook",i[i.TransferHookAccount=15]="TransferHookAccount",i[i.MetadataPointer=18]="MetadataPointer",i[i.TokenMetadata=19]="TokenMetadata",i[i.GroupPointer=20]="GroupPointer",i[i.TokenGroup=21]="TokenGroup",i[i.GroupMemberPointer=22]="GroupMemberPointer",i[i.TokenGroupMember=23]="TokenGroupMember",i[i.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",i[i.PausableConfig=26]="PausableConfig",i[i.PausableAccount=27]="PausableAccount";let J=(0,l.struct)([(0,l.u32)("mintAuthorityOption"),(0,d.publicKey)("mintAuthority"),(0,f.u64)("supply"),(0,l.u8)("decimals"),(0,c.bool)("isInitialized"),(0,l.u32)("freezeAuthorityOption"),(0,d.publicKey)("freezeAuthority")]),Y=J.span;function Z(e,t,r=h.TOKEN_PROGRAM_ID){if(!t)throw new m.TokenAccountNotFoundError;if(!t.owner.equals(r))throw new m.TokenInvalidAccountOwnerError;if(t.data.length<Y)throw new m.TokenInvalidAccountSizeError;let n=J.decode(t.data.slice(0,Y)),i=u.Buffer.alloc(0);if(t.data.length>Y){if(t.data.length<=y||t.data.length===g)throw new m.TokenInvalidAccountSizeError;if(t.data[y]!=a.Mint)throw new m.TokenInvalidMintError;i=t.data.slice(y+1)}return{address:e,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}async function $(e,t,r=!1,n=h.TOKEN_PROGRAM_ID,i=h.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!p.PublicKey.isOnCurve(t.toBuffer()))throw new m.TokenOwnerOffCurveError;let[a]=await p.PublicKey.findProgramAddress([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return a}function ee(e,t,r=!1,n=h.TOKEN_PROGRAM_ID,i=h.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!p.PublicKey.isOnCurve(t.toBuffer()))throw new m.TokenOwnerOffCurveError;let[a]=p.PublicKey.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return a}},123424,e=>{"use strict";var t=e.i(467034),r=e.i(127261),n=e.i(422876);function i(e,r,a,o,u=n.TOKEN_PROGRAM_ID,l=n.ASSOCIATED_TOKEN_PROGRAM_ID){return s(e,r,a,o,t.Buffer.alloc(0),u,l)}function a(e,r,i,o,u=n.TOKEN_PROGRAM_ID,l=n.ASSOCIATED_TOKEN_PROGRAM_ID){return s(e,r,i,o,t.Buffer.from([1]),u,l)}function s(e,t,i,a,o,u=n.TOKEN_PROGRAM_ID,l=n.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:c,programId:l,data:o})}e.i(946865),e.s(["createAssociatedTokenAccountIdempotentInstruction",()=>a,"createAssociatedTokenAccountInstruction",()=>i])},761405,717725,858010,e=>{"use strict";var t,r,n=e.i(467034),i=e.i(444610),a=e.i(127261),s=e.i(422876);function o(e,t,r){if(r.length)for(let n of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:n instanceof a.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}e.i(896198),e.s(["addSigners",()=>o],717725),(t=r||(r={}))[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension",e.s(["TokenInstruction",()=>r],858010);let u=(0,i.struct)([(0,i.u8)("instruction")]);function l(e,t,i,c=[],d=s.TOKEN_PROGRAM_ID){let f=o([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],i,c),p=n.Buffer.alloc(u.span);return u.encode({instruction:r.CloseAccount},p),new a.TransactionInstruction({keys:f,programId:d,data:p})}e.s(["createCloseAccountInstruction",()=>l],761405)},85026,769998,719387,e=>{"use strict";e.s(["AXIOM_ADDRESS_LOOKUP_TABLES_V2",()=>G,"BRIBE_PREFERED_RATIO",()=>W,"PSOL_PROGRAM_ADDRESS",()=>K,"PSOL_STATE_ADDRESS",()=>q,"PSOL_TOKEN_ADDRESS",()=>L,"addPriorityFeeInstructions",()=>Z,"addTokenAccountCloseInstruction",()=>em,"addTokenAccountInstructions",()=>eh,"calculateAxiomFee",()=>V,"calculateComputeUnits",()=>H,"calculateVanishLoanExtraLamports",()=>X,"compileTransaction",()=>ee,"customTxMonitor",()=>ef,"handleMassSwapTxCreation",()=>J,"isVanishSigner",()=>j,"makeCreateATAInstruction",()=>z,"monitorTransactionSignature",()=>ed,"sendAndMonitorSimpleTxBatched",()=>ep,"sendSimpleSolTransaction",()=>el,"sendSwapTransactionBatched",()=>eu],85026);var t=e.i(467034),r=e.i(127261),n=e.i(659341),i=e.i(123424),a=e.i(761405),s=e.i(946865),o=e.i(581949),u=e.i(103476),l=e.i(973444);e.i(465903);var c=e.i(767924),d=e.i(700479),f=e.i(268804),p=e.i(247317),h=e.i(40039),m=e.i(592e3),g=e.i(682382);e.s(["AXIOM_ROUTER_PROGRAM_ADDRESS",()=>P,"MEMO_V2_PROGRAM_ADDRESS",()=>F,"RAYDIUM_CLMM_PROGRAM_ADDRESS",()=>O,"buildAxiomRouterInstruction",()=>_,"buildUsdAxiomRouterInstruction",()=>B],719387);var b=e.i(672464),y=e.i(271645),x=e.i(43351);let A="usd1_tick_arrays",w=["DTgyhdzARWt8fiFrA5E2ECTdR5U3rpGho2AmaPWsieWg","B9MydCwPvBL6hWGR4MLUeUmzRC9y9SrNaJtubWuy1GSM","9JtS7quchTtWtprMs614GtpaKeyirgRvX84j9Zt1r1cU","HHKpb1m7QniBGBwJH8fopLnWrkUdxAY2gnTs38f8qvdc","EHLbGyhTj2PCKAtXp4jZo1ZTJM5h3xw5A9divafyMxC1"];function v(e,t){try{let r={data:t,timestamp:Date.now(),usdPerSol:e};localStorage.setItem(A,JSON.stringify(r))}catch(e){console.warn("Failed to cache USD1 tick arrays:",e)}}async function S(e){try{return(await f.axiomApi.post("/get-usd1-tick-accounts",{usdPerSol:e})).tickArrays||null}catch{return null}}let E=e=>5*Math.floor(e/5)+2.5;async function k(e){let t=function(){try{let e=localStorage.getItem(A);if(!e)return null;return JSON.parse(e)}catch{return null}}(),r=E(e),n=null;if(t&&t.usdPerSol===r){let e=Date.now()-t.timestamp;e<6e4&&(n=t.data),e<6e5&&(S(r).then(e=>{e&&e.length>0&&v(r,e)}).catch(),n=t.data)}let i=await S(r);return i&&i.length>0&&v(r,i),(n=i)&&0!==n.length||(n=w),n}let T=(0,y.memo)(function(){let e=(0,b.useAtomValue)(x.usdPerSolAtom),t=(0,y.useMemo)(()=>e?E(e):null,[e]);return(0,y.useEffect)(()=>{if(!t)return;k(t);let e=setInterval(()=>k(t),3e5);return()=>clearInterval(e)},[t]),null});e.s(["Usd1TickArrayCacheWarmer",0,T,"fetchUsd1TickArrays",()=>k],769998);let P="FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9",I={pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA:2,"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P":3,F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq:4,boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4:5,HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o:6,LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj:7,Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB:8,cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG:9,LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:10,MoonCVVNZFSYkqNXP6bxHLPL6QQJiMagDL3qcqUQTrG:11,whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:12,"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8":13,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:14,CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C:15,deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS:16,vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ:17,dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN:18,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY:19};function _(e){let{type:n,amountIn:i,minAmountOut:a,userWalletAddress:s,inputTokenAccount:o,solWrapperToken:u,steps:l}=e,d=[];d.push(N(0)),d.push(i.toArrayLike(t.Buffer,"le",8)),d.push(a.toArrayLike(t.Buffer,"le",8)),"buy"===n?d.push(N(0)):d.push(N(1));let f=l.length+ +!!u;d.push(N(f));let p=[{pubkey:new r.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey((0,c.getAxiomFeeAddress)()),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}];for(let e of l){for(let t of(p.push({pubkey:new r.PublicKey(e.programAddress.split("_")[0]),isSigner:!1,isWritable:!1}),e.accounts))p.push(t);p.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),d.push(N(I[e.programAddress])),e.extraData&&d.push(e.extraData)}return u&&("wsol"===u.type?(p.push({pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),p.push({pubkey:new r.PublicKey(u.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),p.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),d.push(N(0))):"psol"===u.type&&(p.push({pubkey:new r.PublicKey(K),isSigner:!1,isWritable:!1}),p.push({pubkey:new r.PublicKey(q),isSigner:!1,isWritable:!0}),p.push({pubkey:new r.PublicKey(L),isSigner:!1,isWritable:!0}),p.push({pubkey:new r.PublicKey(u.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),p.push({pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),p.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),d.push(N(1)))),new r.TransactionInstruction({keys:p,programId:new r.PublicKey(P),data:t.Buffer.concat(d)})}function N(e){return t.Buffer.from([e])}async function B(e){let t,n,i;if("buy"===e.type?t=(n=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.usdPerSol/e.priceInUsdc*10**(e.tokenDecimals-9))).mul((0,l.newSafeBN)(1e4)).div((0,l.newSafeBN)(1e4+100*e.slippage)):(n=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.priceInUsdc/e.usdPerSol*10**(9-e.tokenDecimals)),t=(0,l.newSafeBN)((0,l.fromSafeBN)(n)*(100-e.slippage)/100)),"usd1"===e.stableCoin)i={programAddress:C,accounts:await M({type:e.type,userAccountAddress:e.userAccountAddress,userWsolAccountAddress:e.userWsolAccountAddress,userUsd1AccountAddress:e.userUsdAccountAddress,usdPerSol:e.usdPerSol})};else if("usdc"===e.stableCoin){var a;i={programAddress:R,accounts:(a=e,[{pubkey:new r.PublicKey("HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("8Pm2kZpnxD3hoMmt4bjStX2Pw2Z9abpbHzZxMPqxPmie"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===a.type?a.userWsolAccountAddress:a.userUsdAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===a.type?a.userUsdAccountAddress:a.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("sx8hCMCauCdbZ7sVBGSJmH7b7JmtuN8d8YwYmBpuPLH"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("8S8HjmPZr8tNNEmMj5pcqS5RN73uF6DmcUDEDaoUQ1Ei"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.USDC_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(a.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("buy"===a.type?(0,c.getAxiomUsdcFeeAddress)():(0,c.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("3rmHSu74h1ZcmAisVcWerTCiRDQbUrBKmcwptYGjHfet"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(R),isSigner:!1,isWritable:!1}])}}else throw Error("Invalid stable coin");return{swapInstruction:_({type:e.type,amountIn:e.amountIn,minAmountOut:t,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userWsolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userWsolAccountAddress},steps:"buy"===e.type?[i,...e.steps]:[...e.steps,i]}),expectedAmountOut:n}}let R="cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG",C="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY",O="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK",D="5QpMZ6MuyKjg8Qa1X8gM5G3YMsd43rpHb2iQ6hdcRM7m",U="DHY2efKhMcZyAgmPw82C2Gez1e98Ab7oWcXfxz9frUCr",F="MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr";async function M(e){let t=[{pubkey:new r.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("AQAGYQsdU853WAKhXM79CgNdoyhrRwXvYHX6qrDyC1FS"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userWsolAccountAddress:e.userUsd1AccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userUsd1AccountAddress:e.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?D:U),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?U:D),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("2s8VC2vpZcoUCbvEqwUagvdyHfUeWYQZuKV376acx6iF"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let n of(await k(e.usdPerSol)))t.push({pubkey:new r.PublicKey(n),isSigner:!1,isWritable:!0});return t}let L="pSoL47GE52V2bgUUyQvs9LSdWQZsokarp2yNsWQaLYy",K="pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn",q="BaAw9xsjbixDxa5DqaXyyNFWcaqvwo3vuw5UzBqMbCfN",W=.95,V=e=>e.mul((0,l.newSafeBN)(c.AXIOM_FEE_BASIS_POINTS)).div((0,l.newSafeBN)(c.BASIS_POINTS_DIVISOR)),G=[new r.AddressLookupTableAccount({key:new r.PublicKey("GwME2SEvkgtiL5d2UeR2ZCsEecvg879majGF5pAA1aTS"),state:r.AddressLookupTableAccount.deserialize(t.Buffer.from("AQAAAP//////////hxwJFgAAAADaAR2Yv793Oc59BVPZLSsUuL9smVEZfewGPES9oLYyRE14AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGSxWjuCKhF9z0peIzwNcMUWyGrNE2AYuqUAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/yMlyWPTiSJ8bs9ECkUjg2DC1oTmdr/EIQEjnvY2+n4WQabiFf+q4GE+2h/Y0YYwDXaxDncGus7VZig8AAAAAABS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1BV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCA0HUagoLaYTBf4pnDe5mOWEcdsRNQNzEPi+EEWmCvbuhQ8tbgKkevgk0Jq2ncQtcMsoy/okn7fuV7nSVsEnYu+pKlqLTylZUoQlUKqT/VuVtazmqOuSDJOULkNpDCDsc+sA2fWykrQhSsfQN7TW8GRQuWRgDfNzBSu16E8vjppnsyE/uov5yH+pHkeBlijDg+AL6n6Yx6A+A7oQac/D9vMBVuD2k2Zaz0TbFWi/F1uqUYnLl/XS/ztlXSu2/W0YsDqGXmnuD1SAyrz2Y1fk3C8Y1Y1Fwep0ifs3I9l5PHKmrPE26wH8HE6IPSPItYRKtZo39mrdV8XprDtT4FnTXGQMFN78gl7GdpQlCBi7ZUBl9CmNMVbVcbTU+AkMGOmoY4kLpkT+H1WqGfEc0tLsFNMjO24KS+ru9ytphY4h4XDWCWAMpST3sbfWzLHDlzqgMw0ZA9pgHMm13uPGYrTK0UnM+ALUzMyE1/shtfc7SdgaFsW0yI7jI5ThyR01iMxAgJP/Zbm2NFCyLfXLlNjf5tNjSkF4Wbq8lwDsHrxHLWt0XhE7A3OtRTHRkX4UmSgsor5/Uyc0VOL7yw1ZkP1x6jozxRHBeLZAPcCT5m6HAci1RrRtumdDzLVm6eM34vF/jaz1R0Q2FSRDM3RlF/7BSYR3XQYMIyQT1rR5jeeMz44qjj5sOSRR2GqzgM8UF4rm7xXlbsH4F4NypGRC2xEPejeT/2W/8kf8Dh76zhcb0VYFJLdJisRke9Upy9O0i9m225P/ZcZ2dg2VUpvRPA7z8OzwCFAr/NHJxGzjZkq2iGE5CvHDQyGIyjpjUTWhOhiVG6g28J7c9ttfXVBaMnBQ/5nTdCF2uJxeFMlrdImYQh84EB4J5cWTMbFotiXNJxW7JvYXzUUQr3DHYZIEmfj+l9WyMRpp4ZoXaDyiqqSL7Jp92E4SkMGY54i6DhFPA4IUZ5YI2ij80goWMe/Dk/u/aSrgBMh865j6XOR/gDgG/Sx5RdKVJJWa7ADe2XgU8494RpwlJHx6/mh3nE583EE55WuEze54pO2bR06h+o7pPOIlSsL40N1cvJfjKJwZfLUGKlTz2Va5zm5RFfllZ6pcs+Z32RWVX4iAcxzrSnWgzJbBdPpAlcTh2ZZ6z8QoRa5nrv+Dg4GLqPoow807bV6T+fq48Jebw3IVrMWyRod7qMPJufBGo6LPTuIStPqS/Z0A+k+ws/z9Nh5ArlOR+WA16mNjg3MADqIssmTTSv9koEte+r+7dN3NBImXsZgVR9fREAe0ZyjFA6fIFZjsUWe5tjKg2nvc6Y8HxZZ7EO1veKHOYIzMHfzpYbQ7d5wZFQWm4tO/RdWk20YYrXbILWF1RTVdDjJtTGrX/32PUz/DCQhUvR/vMpEIQA9fVdeeS4eAUYOEdCkuZ1qUtDbssKmYiUIyioPdxiM4ApYSZ8XNYRfLomMXpTug/WjEyVPsMPDgm45zaHUcsoFUhsrj6Z0K+d2NGBoMhJ+pN6bzSt7TCB75VwCqywybs9kJpLkUdSek69QRe5ZGOuprDbyDGh4HnYHacr2qjLLmyH7CUkqIrVpVZR00PM+B28xdjsApZbKrB+dZJyNf5WA3ma+5NWP15b6B+1BsTuaV7jL+DS81TPQbJZCFQpzhg6+Pw3meqCDzcrcoj2zeZFoIvZhyRXD7EOz3W7ccl9haP98vcJgQY3F6MF3fYsrAK+AHlHYNjVtPWWl5U8Ym2zqd/skCGp1wmlhap6OruVZxcMYMa9QlDVImBJx+OhOdnKnLSfxNnAwfzO4kY2YDwqRaa5iqFy0IVpfZGFeUj508Wvm4bSFuhcWYc0wxonmwqxK2bfPe6Qx/t4e3W0fHYEy8XdvX2SC9BUg30iBa7GF4byTfEARd3aYtTkR3BkUh1k3sYHDfoXUwC3Wlt35kMeejmbGEjZxEd98uMxb+kWSgVEt9HIH5nF9saWonOMcQdIO//j2f5pcKaFmypPuEgP6U7gXKouLtg8+6qhEjB1wuRopYMluIN9h1/RcBbvTPHW9oIRM2VtfBtEBOXlWWz5xVDg1iXNFowULCYx1MAhF8zWVf6QkbGRpAul2i8XaZRGHiA6hd9z4V/vWd0YtrRRshEwwEd4kJvkz2oFXtZ9x9U3AypHWCvIrG6zxFuDDn9/eM3uvKiBXqnGjM3HqIl6SCrp5I4T1+3bDksdOq5ZFdcj/2UxwTObjbPjVymbg1TTK4VqVUhT+YwiuT6wP6jrp7KpbG+geEGvdi1tETPELhDus7WIVSwygPfqwTEPrl9RJtJGc3OBZ/wCzplpfRQ5QggCpoHW12+2oThgzAO24hluhENPsjisqR8RuS6vIu/Fm3za4ofOof2GiCaFhtodJXmUMxb/i5hyxRDHQZEOowcreVXJsF6vopOHtEHZ2NZW/cLI8sb4DK1+GbWBD7uTJU+l/NGElNhB/252ESB0q0sy4572WaF8J1FE+x6SNVfEVun+FLiGpGNy4cpnZPsVGtgUe6C7UqQ5MuTBREw6hZ2TKCIDc1ojMCx74rHexhw1PyPeVx5RFcLj6tSWQJNv7C387I+v/7cbWFsGsPRmF7bB15wYcIMkp/XtvJV9mW6ATsndRquMxw15FGqtcOBQoyQlf08G2FaRBSatssaNY0e74pkyXGAiy6OechyaJVv9d9DP6AjJx53URbBDOsolt+Yk4aZqMmYZ84/YWNGn+wCGtc12gXlBLSBSdxb+XbPwAx/6968oI1QXWQ2FhjPYPcgyIZUqLMBP2he7q9mL/Zz/3sgJYEREtQz3GwifgfXeVLkVoI83GEr5qr8H9JUST+pQg7uCHJnQf17VeI6S8NfbmomDtsmHB3wZdvXZJRAKA5ZeTH2qzh72iVW9z3kvJqck3mfXooGnRDtDdKCanVbuMLk+mL+1BigMWCJkDhK8PvZ1DLk6qYdGtfrMg2jKfbeDTWwRicZiUCYQFuSCscVdpYH/vQgEgDkTQSFEXYIlN/AzY41jK4bgOQftLsSbHU/kb1Fm9wrkmvckfbZvNBROyydTSu3M3v8X+/u3lmVWoWDk8ktytEmYsnVn4CJloaI3jtWUxtsKY9AIU6mBdBWcJlYlfxMDEzRwDM+I/s4oIraYzfhOgt3i+ml9G4S8wuISZNlja7My7WrlhnzyKZySv8KiBNdrWbZ0KqUKPVpO3r1ktRWiAbzdrCzDIvNvo4zqSNFhYvJrYqZKNBhDmad2MqKF9xVHZOKOe/9icq3P4HSaCcmqcGKJeeEiT4IFjiGro6AFqaQkJXWsOehFiVIkw757bP9oARAE9VjGhFnh/t7atOO5cWOUrrNVf/j2tStLI71M0ngqvXGnygA2oQH0wIncp30/DxOnVyhv/mEfo+OwFYxQ80r4I14XKo6G0SHS/YwiUry3ojuscWiy7U1dVWGWbKMLFhBvTN/AEE3eBr+vRgO+AktasxStiy+FooW4ow1LW0I6jnZSa5UVYmNUqw0v+hjefm9KFgSzpf1ovv2SE1RiH5yRwyY6BPWQ8EEFxITQ5ySAP1ZPy2D37BBT9jz2CosvW4e3ubO5Rkqhq1rmTOtHUYsjA8Dm4Cn5lLslQtD9oghtnDlm6/G1qAxjMDLd+XfJiRBHnVW/IxwG7udMVuzmgVB/2xst6j9I5RArHNola8E4+0P/on9df2SnTAmx8pWHneSwmrNt/J3VFLMhqns4zl6D1uRy5npG6mtL0Lq539NeK0xy8dbVnC6rlclCVzrSLxuHDhLdN5iRVh0un6jyZDGDTrc28vJPwqKk3/H9XcpN/yy7m3YO3bGFcGMDBjrTPXtXKW6gLU4DNeMc6vpMxC3cb6evO+2606PWXzaqvJdDGxu+TC0vbg5HymAgNFL11hBOnhL7yE6CbJMszp4mQMzhVZDBxic7CSVwi6O4UgsLwFSlNamSkhBk0k6HFg2jh8fDW13bySu4HkH6hAQQVEjbJw1n+pjFHPAhMFE1iWK681dCvtWcnZRF6cDQyFx82RISi5HN6xkJypDYUt7ezKW3M6OBbKhOZLKKgaJw39Df+jzQw0mBO/zaw+DLigjQnNb9pIR2DVi2p2E+24q9/GYSQSuPNbB23b+s5fWYYtUp9G9mod1ijTewUPlGc0vehHZiWKf/dNTgUjNaqUnNlegv7xwrI/SnaKZ33Fl4B+VszaY2gfcoa8yAZxniwrUKIBVyQ7/JZosRUgvFOEPtzbCAktITVlehWcK4fUtmpw246XUjif92qvIGztBjo4+VrtCvHDQyGIyjpjUTlQciQ1oBQH8ZdGjmI0c+GjtBBQ/5kK8cNDIYjKOmNRPP+qL9Ykf9jyj7Al6QmKcu01sFD/mQrxw0MhiMo6Y1FAruI7dqjrqfOIGb1v3qEENrdQUP+ZCvHDQyGIyjpjUUReGkcXLVd69ICDVPazt5WAOPBQ/5kK8cNDIYjKOmNRSA1SUrexw0v1eOzsfYjOJsm6kFD/mQrxw0MhiMo6Y1FLvIpeWDYvHPZxVoQEXeS4EzwwUP+ZCvHDQyGIyjpjUU9rwmn4uprt92nAG4sy+0lcvdBQ/5kK8cNDIYjKOmNRUxr6dZk/Br74YimzEggR2qY/cFD/mQrxw0MhiMo6Y1FWyjKBOcNyj/lak0qY3Shr78EQUP+ZCvHDQyGIyjpjUVp5aozaR95g+lL84h+yPv05QrBQ/5kK8cNDIYjKOmNRXiiimHrMSjH7S2Z5podVjoLEUFD/mQrxw0MhiMo6Y1Fh19qkG1C2AvxD0BEtXGwfzEXwUP+ZCvHDQyGIyjpjUWWHEq+71SHT/Tw5qLQxgrEVx5BQ/5kK8cNDIYjKOmNRaTZKu1xZjaT+NKNAOwaZQl9JMFD/mQrxw0MhiMo6Y1Fs5YLG/N35df8tDNfB26/TqMrQUP+ZCvHDQyGIyjpjUXCUutKdYmVHACV2b0iwxmTyTHBQ/5kK8cNDIYjKOmNRdEPy3j3m0RgBHeAGz4Xc9jvOEFD/mQrxw0MhiMo6Y1F38yrp3ms86QIWSZ5WWvOHhU+wUP+ZCvHDQyGIyjpjUXuiYvV+76i6Aw6zNd0wChjO0VBQ/5kK8cNDIYjKOmNRf1GbAR90FIsEBxzNZAUgqhhS8FD/mQrxw0MhiMo6Y1GDANMMv/iAXAT/hmTq2jc7YdSQUP+ZCvHDQyGIyjpjUYawCxhgfOwtBffv/HGvTcyrVjBQ/5kK8cNDIYjKOmNRil9DJAEBV/4G8FmT+IRkXfTX0FD/mQrxw0MhiMo6Y1GODnsvoYXDzwfowyt/WXrvPllwUP+ZCvHDQyGIyjpjUZG9sztCCi+gCOEswwYukYCH2xBQ/5kK8cNDIYjKOmNRlWzrRuKOm3EJ2ZZajQOoEdFcsFD/mQrxw0MhiMo6Y1GZHCNSgxMHQgrR//IT2L6jGt5QUP+ZCvHDQyGIyjpjUZzLW14jl3MTC8ppiZqt1TRkX/BQ/5kK8cNDIYjKOmNRoHqTacQb3uQMwtMhIYLrxa3hkFD/mQrxw0MhiMo6Y1GkKct1ZKBKtQ27PLioWAJW92MwUP+ZCvHDQyGIyjpjUafZA4EFJLaGDrOmUC8tGOhA5NBQ/5kK8cNDIYjKOmNRq4g7jKWpIlcPrA/ntgIveYpmcFD/mQrxw0MhiMo6Y1GvN3OYRi2OKBCkeX8810YK0+gQUP+ZCvHDQyGIyjpjUbLmq6Pmsfn5EZzjFsOsXJwdabBQ/5kK8cNDIYjKOmNRtpXjr4c2ZcoSlUyuSoFzLWbrUFD/mQrxw0MhiMo6Y1G6RRu7J7rRmxONtkXRVom+sGzwUP+ZCvHDQyGIyjpjUb30U8bIPz1sFIYf3VgroE/57pBQ/5kK8cNDIYjKOmNRwaOL0mjDqT0Vfol03wC24UNwMFD/mQrxw0MhiMo6Y1HFUsPeCUgVDhZ28wxl1c1yjPHQUP+ZCvHDQyGIyjpjUckB++mpzIDfF29co+yq5APWc3BQ/5nyzNU1rKXxc2rIIt0Hc+TZL72KWbKUA1AClakBHHOp5Sp257NEZAoc/FlMi8rQoJEBHKx90Va/g6gz+yII63etbdZfEtJQdH0sOjpm6c4Zzp4cc4hgSRZ3MV31cvhw/f8NDWEOc4CRcf0ZniAaqoBWr/zyJbnVcWuRAkykq5z0Rm5xkebepS5+j3xiPXwNO6u7PYic7466DkkzgOh4nnVjBUpTUPhdyILWFKVWcniKKW3fHqur0KYGeIhJMvTu9qAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAAtwZbHj0XxFOJ1Sf2sEw81YuGxzGqD9tUm20bwD+ClGyEnL/umMNixxf+itGY1D4m20llwoq2DxrrlZe80+/PQGRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHgzCgMtr4xksUDg4Ac9EMBgPnj+GYyI6yAEGlxDb99UHy5TnV0kQpGsm0Z4gxxeAvGHMIXL7Kqzlbkz+AdjWvvcC3bawd9bs9q7ZRSOZGoXbJ6f3dUqwEgyJ2ArU2LXaJHuJF/oaClnBFjOE5XvKU1JFFb+AcUun43vxMygROELv2LAP8nxBBRnK/Gee1Sg8PLkM6Yq7u4OJb4532qVutltN9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveW/DqLLNk6ppK2shiqH5DzBkJ+1MfvZX8AUjX8cB/DYG6agv+yzZVeCO5wr7F396fqIUJPTawCW9igBaVKhCCfWKy+EPXpPEmOxuCd7WQadA8IVKhrFRurZXVs8wVDdVg8FEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcJ/h1kZHXDyshRTJ1cBKA+75w9IwihSFNbCJrm2AsTU0lc7CqWkF/n8zcaywCNy9eCUJycfw+lJNiwAyBxqpxhC84xG5AQwJWjO+zZFzD36lzS0r3gpFiO1BIDbN9VhFgelx0mCP7+Q5JRzm+EE7QzkfNOD1W4t345aGXi0dhfHeBbmZjDDu3JNxZ5J9sxDBuYDpqrMoG+j404rQK1ZedjYXEs508VZ4LmiCcYmZAJ7qw5p9zFkdDwthi4IadiiahwnOkEPOaHXiIxRyjpUZScnkl1SZi/L29VIDs7GyT1T/KeszODNwtUne7liBz99xuNgD9mYPLnJ/5+pnkI4w9uuiYAlncWQ+j17PQrJyHi+0khtP+pRm/cXz9GXFpAlwf94Y8R2FV462vxjznlxpNHyyyowm5PpoLNsOndqAsIpgYqU87qGd9BoiPIo/FUcw+QszFrbtpttXgwSH4xgBKOKUHjTaJynKs1f3JXl/MkmSzh7M/D7QQqy6hflZC5vYT4PGQasNdev+evbTHb3VU+9xNT9v5v6jaQL0bSRxd5OUuNTprZNBdaVniAFR0GXWOBPuY5tJOktuU2JdmwuRuZVdnC8Upe5rlxQqVZ53/DfSySYRStpO5Cq2qvl8dk9b2fnsSZ5OJ/ouMcvZgkVmRBT5OsmYXOrOYXj9vw7Cs9ACmuXyZfergtQh0BL9r7XUHoNYPVeTb75Kf3h0sLjGOQ7ha2XDxzhe7NyJVt6kc6aehbNW7/TLcoKssJJ9DFDduvwMkKhXOGC0+xLadlmOwEYhmCdTRCky/7YydGycrB2nVWysJfziP+q9pmfhaEq6eKmmBNs3YRSzS09M/nlB+CP6cqaO1ZbkhizvYWsTAkpig1+yapoXijml/i/3OA/BXBj/kjhckpQvYvbmb2QBBxb8r4fVFMURSiPxnhqOk6YAH90bQI6YKmFUxbYIIy+fGFwaJKA+ekO5a7qqIns0bvJ7mS8eB5+Co8t6Jyyk0nkSkvdeJE0sza2YksjVrADA7J3qIe/R0KQxhEpprqtxpl5jCYoKRySbSQzYk2aeaYBoFBDubCYgzQgzFfh/lbqP0+plZwnEXuvXtP+VAECZyOi6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQeDqBUmIQ+UoOjoTSCHADs6QmDSnOedrP4hpOp3H6YoVxqOAcjfeCD51ms8c2W40eSvqBt4VMwu91zvWL0Ihn4HBy8FSrSNmH2k5ZaeYyzd843WQUE0naQbC2lbkdFcOouoBS+9oBDWaPF6ItfJsK05ti+YEl+Ao7jkfwWOT4U9QYimat7vgQTlXxHksRrrrf4DGkyml6mO9sl1F60vk0i2iJ66D0TR7BOkRTFRZAZUw0vRTuSQDQBUvpNvVQuQQxuzMR5wrJ8bgcURSUfILvEio8DlNEIAF54rKAjnMTy0YGmOoXt1QcckTBGkAg97HlOrFzG7LJ+jpunJLKMKzemWuTvTNM9f/Gn18t6R3KzQZQxHFOMa5fHW6ZgGXqHDGntyhlQi4JO2S5KIN4VP7PdWgTY2e53KDFpCcvDeBEiR8emQam3+qRKpvHtF1Fi0p2yuuW7lIB5hlxANBr6srC/Z43muccQHrOyvERB3Ee6vHb7tmq6FmYSy3N5CMGKU7gUEO5VNyibh75G1LE+Pia+Kb1rIxiFW8XHPDyGsUckiuSKMBfFUH3UunCy/ULpN/wL2FOZ/HjxlDj66rszAC5XFV1/isn/INyYA3xRahkj7bku0zutrXckReF/Pl6+lWg==","base64"))})],z=(e,t,n=c.TOKEN_PROGRAM_ADDRESS,a,o)=>{let u=(0,s.getAssociatedTokenAddressSync)(new r.PublicKey(t),e,o??!1,new r.PublicKey(n),new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS));return{ataInstruction:(0,i.createAssociatedTokenAccountIdempotentInstruction)(a??e,u,e,new r.PublicKey(t),new r.PublicKey(n),new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),ataAddress:u.toString()}};function j(e){return void 0!==e.vanishKey}function H({baseComputeUnits:e,isUsdc:t,isUsd1:r,isVanish:n}){let i=e;return(t||r)&&(i+=1e5),n&&(i+=5e4),i}function Q(e,t,r){return r?Math.min(9,Math.ceil((0,l.fromSafeBN)(e)/10**t/1e9*100/.5)):1}let X=e=>{let t=new n.default(1e4);e.extraLamports&&(t=t.add(e.extraLamports)),"buy"===e.type&&(t=t.add(e.amount.divn(99).add((0,l.newSafeBN)(1))));let r=1;return e.isWsol&&r++,e.isUsdc&&r++,e.isUsd1&&r++,"buy"===e.type&&(r+=Q(e.expectedAmountOut,e.tokenDecimals,!0)),t=t.add((0,l.newSafeBN)(c.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS*r))},J=async({instructions:e,wallet:n,swapSettings:i,blockhash:a,nonceInstruction:s,providers:o,lookupTables:d,computeUnits:f,rewardsPercentage:p,swapInfo:b})=>{let y,x;o=o??["jito"];let A=(y=Math.min(Math.floor(p/2.5),40),x=u.default.encode(t.Buffer.from([y])),`jitodontfront${x}1111111TradeWithAxiomDotTrade`),w=n.vanishKey;return await Promise.all(o.map(async o=>{let p=[...e],y=i;w&&(y={...i,bribeFeeSol:0,priorityFeeSol:0}),Y({instructions:p,walletAddress:n.publicKey,swapSettings:y,computeUnits:f??c.SWAP_COMPUTE_UNITS,provider:o});let x={pubkey:new r.PublicKey(A),isSigner:!1,isWritable:!1};if(!w&&i.priorityFeeSol&&p[0].keys.push(x),s&&p.unshift(s),w){if(!b)throw Error("Swap info not found");let e=new r.TransactionMessage({payerKey:new r.PublicKey(n.publicKey),recentBlockhash:a,instructions:p}),s=new r.VersionedTransaction(e.compileToV0Message(d)),o=t.Buffer.from(s.serialize()).toString("base64"),c=r.Keypair.fromSecretKey(u.default.decode(w)),f=(0,l.newSafeBN)((i.bribeFeeSol+i.priorityFeeSol)*1e9);if(f.lt((0,l.newSafeBN)(1e4)))throw Error("Total bribe + priority fee must be at least 0.00001 SOL for Vanish trades");(0,m.fetchAndSetVanishOneTimeWallet)().catch(()=>{});let y=Q(b.expectedAmountOut,b.tokenDecimals,b.sourceTokenAddress===g.NATIVE_SOL_TOKEN_ADDRESS);try{let e=await (0,h.executeVanishTrade)({userAddress:c.publicKey.toString(),privateKeyBase58:w,sourceTokenAddress:b.sourceTokenAddress,targetTokenAddress:b.targetTokenAddress,amount:b.amount.toString(),swapTransaction:o,loanAdditionalSol:b.loanExtraLamports.add(f).toString(),jitoTipAmount:f.toString(),splitRepay:y,oneTimeWallet:n.publicKey});return{base64Tx:"",signature:e.tx_id}}catch{throw Error("Error executing Vanish trade")}}let v=$(n)?n:r.Keypair.fromSecretKey(u.default.decode(n.privateKey));return await ee({instructions:p,blockhash:a,signer:v,lookupTables:d})}))},Y=({instructions:e,computeUnits:t,swapSettings:n,walletAddress:i,provider:a})=>{let s;a=a??"jito";let o=new r.PublicKey(i);if("jito"===a){if(n.bribeFeeSol>=1e-6){let e=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"];s=e[Math.floor(Math.random()*e.length)]}}else if("temporal"===a||"temporal-priority"===a||"temporal-bribe"===a){if(n.bribeFeeSol>=.001){let e=["axmMdWvgEnN3NFrxMfTqUURzj9NLhZL2DkHkWCdgiFV","axmQTWU68qZ4fuG7zzkCXCBmxxeHVZrNrLkgxEFCbRv","axmhpocX3hU7nT7KtsLBzNBR1Ur3HtU22Q5P313FREY","axmD4LFJopAcbRKCKsrrmovCZZzmKQCMEfs5qEXj8dG","axmWxBPqgRmcBN2cV12quqaQzsk16SazVXq8397KFKu","axmFmfqQwZGEUZeF3i3MqbRCDiGPfshtbdoBjk41k88","axmYVq9b1ABYqtyizMtyfJppPTPxZGXPLctB3hV6W5b","axm2JQY1FKEktAwgXWqjGYkkWsWPfwKzgbnGVt5kiP4"];s=e[Math.floor(Math.random()*e.length)]}}else if("0xslot"===a||"0xslot-bribe"===a){let e=["Eb2KpSC8uMt9GmzyAEm5Eb1AAAgTjRaXWFjKyFXHZxF3","FCjUJZ1qozm1e8romw216qyfQMaaWKxWsuySnumVCCNe","ENxTEjSQ1YabmUpXAdCgevnHQ9MHdLv8tzFiuiYJqa13","6rYLG55Q9RpsPGvqdPNJs4z5WTxJVatMB8zV3WJhs5EK","Cix2bHfqPcKcM233mzxbLk14kSggUUiz2A87fJtGivXr","6fQaVhYZA4w3MBSXjJ81Vf6W1EDYeUPXpgVQ6UQyU1Av","4HiwLEP2Bzqj3hM2ENxJuzhcPCdsafwiet3oGkMkuQY4","7toBU3inhmrARGngC7z6SjyP85HgGMmCTEwGNRAcYnEK","8mR3wB1nh4D6J9RUCugxUpc6ya8w38LPxZ3ZjcBhgzws","6SiVU5WEwqfFapRuYCndomztEwDjvS5xgtEof3PLEGm9","TpdxgNJBWZRL8UXF5mrEsyWxDWx9HQexA9P1eTWQ42p","D8f3WkQu6dCF33cZxuAsrKHrGsqGP2yvAHf8mX6RXnwf","GQPFicsy3P3NXxB5piJohoxACqTvWE9fKpLgdsMduoHE","Ey2JEr8hDkgN8qKJGrLf2yFjRhW7rab99HVxwi5rcvJE","4iUgjMT8q2hNZnLuhpqZ1QtiV8deFPy2ajvvjEpKKgsS","3Rz8uD83QsU8wKvZbgWAPvCNDU6Fy8TSZTMcPm3RB6zt","6MgjyQU7G988jgL6EGAgfHYoeesCnwYMyPeh1fpJ71FP","AumQWSLrWwDXRq1yDEYPiw8vT5NUBYzrbdWCprJ4ZUa8","ForLDu55GfA2U1aTUaitmjzjs92vvVn1MSqzY3D9HtAK","AsEF2SWSEZ1xpGZ5fdzDKaoka1XEtFSjGo39YUXkpvAh","2WoQNgmc4SEXrR3rKQypmeWmsxGqHHE6rApnVrP6Pt77","12pHu2j2DDShyCVFU7vtSLXga74et9y83VD38mw6XYhB"];s=e[Math.floor(Math.random()*e.length)]}else if("bloxroute"===a){let e=["HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY","95cfoy472fcQHaw4tPGBTKpn6ZQnfEPfBgDQx6gcRmRg","3UQUKjhMKaY2S6bjcQD6yHB7utcZt5bfarRCmctpRtUd","FogxVNs6Mm2w9rnGL1vkARSwJxvLE8mujTv3LK8RnUhF"];s=e[Math.floor(Math.random()*e.length)]}else if("helio"===a)s="HYseAPq3ZPYzA35hLsEgmdsKCZQ3P7FBCcCPPytRtyTz";else if("astralane"===a){let e=["ASTRa2mTtzDFyjDHdSTMGa5sGg7bdVZNqDCPWH6ZZXax","AsTrACB6f3qtnZ1jpwPUui9714sHsS9Jtgaiy1ay4gAx","ASTrARNVyyJrzDm8QxJ7p3BJF3BVB5vWDXjjVGQEuBAX","AstRaL1TEkvTHBWAYvgGRzq9ViBags5nZGQ5eguABJAX"];s=e[Math.floor(Math.random()*e.length)]}else if("nextblock"===a){let e=["NextbLoCkVtMGcV47JzewQdvBpLqT9TxQFozQkN98pE","NexTbLoCkWykbLuB1NkjXgFWkX9oAtcoagQegygXXA2","NeXTBLoCKs9F1y5PJS9CKrFNNLU1keHW71rfh7KgA1X","NexTBLockJYZ7QD7p2byrUa6df8ndV2WSd8GkbWqfbb","neXtBLock1LeC67jYd1QdAa32kbVeubsfPNTJC1V5At","nEXTBLockYgngeRmRrjDV31mGSekVPqZoMGhQEZtPVG","NEXTbLoCkB51HpLBLojQfpyVAMorm3zzKg7w9NFdqid","nextBLoCkPMgmG8ZgJtABeScP35qLa2AMCNKntAP7Xc"];s=e[Math.floor(Math.random()*e.length)]}else if("merkle"===a){let e=["TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","Eqd6r1pThnbYgtn6kLy4a7zFELFHkyiFesiYaC6eYg9v","9xSYXtWXX2Gv6x3QA8Ffv1mGeLzn2oV2Sh3ZLrcxF8EX","ARFWuFgvNjjAyw8Sb77JjZF2kQvduCh9uWyYU9wrdgNp","AKAikQvacoWtK3TC6Wx4TUappTw6NuTnPqWHBA6WymgP","5yhYeqTB7tNXJUEopfCMX43pcFdCaQFjdUxb3RqAg5yY","2NASvutUxvRWuvVygtVyT2vsNgFDbg5Gbe8K8mzZAkje","FGtPX6qVePUPwYJ29tENeDu7ucFVLQmkeNDthYjPYPeB","8B6Ayvfq2yNnAai3dkdmoExpxcyBbwhptTQTdndPZUUG","Aru6VYgVEvz2Bki6Sm4fjNuJAc1XVbD7gyRBLsNe3MoB","BgNWpV557p3fPUmHCREg1qwUdDRKtzKpndJijs4sWd3u","A9Hk5FtpHvED5TN49y4ahmBtc1sNWoFEnPiXXGPxAmNj","H5DNFugVFjFRkPhcTkVCRfTugVzGYa3jATa7zed4pbFg","8h2PSH4XaMp28JWRDEwDmXyQWMyLWT5RYA9WKkcCiPvZ","Hjaq8W4h4RBKx11YNRyQMRJtU7ccVoXv46cgLAbgMEjV","TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","G7bdAL1cykNJaSnfCZGGVfuBeKf3R1dx2H1JjQhhKsRf","3GHLrYyEPsfVnFwcPg1EJst1rkLhxRHaYuS7UL36kwtA","CPh9BMcZfzYd5NJf2ucDAAz5PWK32EgJY9qRGm2rQNAy","9YS3QR6o8JEfsvyNHNuG5NqxaFsJnRr6t6itM7b73YjD","6TbHNfUpLpGjn1R7PiPMsxsffivE3noMMJ8oCTyxiuPQ"];s=e[Math.floor(Math.random()*e.length)]}else if("flashblock"===a){let e=["FLaShB3iXXTWE1vu9wQsChUKq3HFtpMAhb8kAh1pf1wi","FLashhsorBmM9dLpuq6qATawcpqk1Y2aqaZfkd48iT3W","FLaSHJNm5dWYzEgnHJWWJP5ccu128Mu61NJLxUf7mUXU","FLaSHR4Vv7sttd6TyDF4yR1bJyAxRwWKbohDytEMu3wL","FLASHRzANfcAKDuQ3RXv9hbkBy4WVEKDzoAgxJ56DiE4","FLasHstqx11M8W56zrSEqkCyhMCCpr6ze6Mjdvqope5s","FLAShWTjcweNT4NSotpjpxAkwxUr2we3eXQGhpTVzRwy","FLasHXTqrbNvpWFB6grN47HGZfK6pze9HLNTgbukfPSk","FLAshyAyBcKb39KPxSzXcepiS8iDYUhDGwJcJDPX4g2B","FLAsHZTRcf3Dy1APaz6j74ebdMC6Xx4g6i9YxjyrDybR"];s=e[Math.floor(Math.random()*e.length)]}else if("helius"===a){let e=["4ACfpUFoaSD9bfPdeu6DBt89gB6ENTeHBXCAi87NhDEE","D2L6yPZ2FmmmTKPgzaMKdhu6EWZcTpLy1Vhx8uvZe7NZ","9bnz4RShgq1hAnLnZbP8kbgBg1kEmcJBYQq3gQbmnSta","5VY91ws6B2hMmBFRsXkoAAdsPHBJwRfBht4DXox3xkwn","2nyhqdwKcJZR2vcqCyrYsaPVdAnFoJjiksCXJ7hfEYgD","2q5pghRs6arqVjRvT5gfgWfWcHWmw1ZuCzphgd5KfWGJ","wyvPkWjVZz1M8fHQnMMCDTQDbkManefNNhweYk5WkcF","3KCKozbAaF75qEU33jtzozcJ29yJuaLJTy2jFdzUY8bT","4vieeGHPYPG2MmyPRcYjdiDmmhN3ww7hsFNap8pVN3Ey","4TQLFNWK8AovT1gFvda5jfw2oJeRMKEmw7aH6MGBJ3or"];s=e[Math.floor(Math.random()*e.length)]}let u=n.priorityFeeSol,c=n.bribeFeeSol,d=u+c;if("temporal-priority"===a||"0xslot-priority"===a?(u=.9*d,c=.09999999999999998*d):("temporal-bribe"===a||"0xslot-bribe"===a)&&(u=d*(1-W),c=d*W),s){let t=r.SystemProgram.transfer({fromPubkey:o,toPubkey:new r.PublicKey(s),lamports:BigInt((1e9*c).toFixed(0))});e.push(t)}let f=(0,l.newSafeBN)(1e9*u).mul((0,l.newSafeBN)(1e6)).div((0,l.newSafeBN)(t));u>0&&Z({instructions:e,computeUnits:t,microLamports:f})},Z=({instructions:e,computeUnits:t,microLamports:n,numPrefixInstructions:i=0})=>{let a=r.ComputeBudgetProgram.setComputeUnitLimit({units:t}),s=r.ComputeBudgetProgram.setComputeUnitPrice({microLamports:BigInt(String(Math.round(Number(n.toString()))))});e.splice(i,0,a,s)},$=e=>void 0!==e.signTransaction,ee=async({signer:e,instructions:n,blockhash:i,lookupTables:a})=>{let s=Array.isArray(e)?e:[e];if(0===s.length)throw Error("No signers provided");let o=$(s[0])?new r.PublicKey(s[0].publicKey):s[0].publicKey,l=new r.TransactionMessage({payerKey:o,recentBlockhash:i,instructions:n}),c=new r.VersionedTransaction(a?l.compileToV0Message(a):l.compileToLegacyMessage());if(s.some($)){let e=await Promise.all(s.map(async(e,t)=>$(e)?(await e.signTransaction(c)).signatures[t]:(c.sign([e]),c.signatures[t])));for(let t=0;t<e.length;t++)c.signatures[t]=e[t]}else c.sign(s);let d=c.serialize();return{base64Tx:t.Buffer.from(d).toString("base64"),signature:u.default.encode(c.signatures[0])}},et=e=>{let n=t.Buffer.from(e,"base64");try{let e=r.VersionedTransaction.deserialize(n);return u.default.encode(e.signatures[0])}catch(t){console.error("getSignatureFromBase64",t);let e=r.Transaction.from(n);return u.default.encode(e.signatures[0].signature??[])}},er=async(e,t,r={})=>{try{if(t.mevProtection)return;let n={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:0,...r}]},i=await o.default.post(d.HELIUS_FRONTEND_RPC_URL,n);if(i.data?.result)return i.data.result;return}catch{return}},en=async(e,t)=>{let r,n=t?"bundles":"transactions",i=`https://slc.mainnet.block-engine.jito.wtf/api/v1/${n}`,a=`https://frankfurt.mainnet.block-engine.jito.wtf/api/v1/${n}`,s=`https://ny.mainnet.block-engine.jito.wtf/api/v1/${n}`,u=`https://tokyo.mainnet.block-engine.jito.wtf/api/v1/${n}`,l=`https://amsterdam.mainnet.block-engine.jito.wtf/api/v1/${n}`,c=`https://london.mainnet.block-engine.jito.wtf/api/v1/${n}`;r="bundles"===n?{jsonrpc:"2.0",id:1,method:"sendBundle",params:[[e,t],{encoding:"base64"}]}:{jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",maxRetries:5}]};let d=[i,a,s,u,l,c];for(let e=0;e<d.length;e++)o.default.post(d[e],r).catch(()=>{})},ei=async(e,t,r)=>{let n=r?"d0815c33-5d16-468e-8413-8101482faacc":t?"9acaf288-e73b-4133-a5f3-12fa5d31205b":"0ce8ae77-b0e2-4e12-81af-00cd2bfb974b";for(let t of[`https://nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://lax1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://ash1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://ewr1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://fra2.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://pit1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://ams1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://sgp1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`,`https://tyo1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${n}`])o.default.post(t,e,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},ea=async(e,t,r)=>{let n=r?"&secure=true":t?"&anti-mev=true":"",i={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64"}]};for(let e of[`https://la1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://ny3.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://ash1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://dal1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://ams1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://de1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`,`https://jp1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${n}`])o.default.post(e,i,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},es=async(e,t)=>{if(t)return;let r={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0}]};for(let e of["https://quicksol.merkle.io/"])o.default.post(e,r).catch(()=>{})},eo=async(e,t)=>{if(t)return;let r="AxiomozyNSTbBlP88VY35BvSdDVS3du1be8Q1VMmconPgpWFVWnpmfnpUrhRj97F",n={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0}]};for(let e of[`https://axiom-fra.gateway.astralane.io/iris?api-key=${r}`,`https://axiom-ca.gateway.astralane.io/iris?api-key=${r}`,`https://fr.gateway.astralane.io/iris?api-key=${r}`,`https://ams.gateway.astralane.io/iris?api-key=${r}`,`https://jp.gateway.astralane.io/iris?api-key=${r}`])o.default.post(e,n).catch(()=>{})},eu=(e,t,r,n)=>{let i={mevProtection:t.mevProtection,enhancedMevProtection:t.enhancedMevProtection,wallets:e.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}))};if(0!==i.wallets.length){if(f.axiomApi.post("/batched-send-tx-v2",i).catch(()=>{}),f.axiomApiV2.post("/batched-send-tx-v2",i,{urlOverride:"https://tx-pro.axiom.trade"}).catch(()=>{}),!n){for(let e of i.wallets.slice(0,3))for(let r of e.transactions)"0xslot"===r.provider&&ea(r.base64Tx,t.mevProtection,t.enhancedMevProtection);if(!t.enhancedMevProtection)for(let e of i.wallets.slice(0,3))o.default.post("https://tx.axiomext.net",{message:e.transactions[0]?.base64Tx},{headers:{"Content-Type":"text/plain"}}).catch(()=>{});for(let e of i.wallets.slice(0,3))for(let r of e.transactions)"temporal"===r.provider&&ei(r.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of i.wallets[0].transactions)"temporal-bribe"===e.provider?ei(e.base64Tx,t.mevProtection,t.enhancedMevProtection):"0xslot-bribe"===e.provider&&ea(e.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of(er(i.wallets[0].transactions[0].base64Tx,t),i.wallets.slice(0,3)))for(let r of e.transactions)"jito"===r.provider?en(r.base64Tx):"merkle"===r.provider?es(r.base64Tx,t.mevProtection):"astralane"===r.provider&&eo(r.base64Tx,t.mevProtection)}if(t.customRpcUrl&&!t.mevProtection){let e={customRpcUrl:t.customRpcUrl,transactions:i.wallets.map(e=>({base64Tx:e.transactions[0].base64Tx}))};f.axiomApiV2.post("/batched-send-custom-tx",e,{urlOverride:"https://tx-custom.axiom.trade"}).catch(()=>{})}}},el=async e=>{let t={mevProtection:!1},r={skipPreflight:!0,preflightCommitment:"confirmed"},n=ec(e,t,r),i=er(e,t,r);try{let e=await n;if(e)return e;throw Error("Unexpected Error")}catch(t){let e=await i;if(e)return e;throw t}},ec=async(e,t,r={})=>{let n={isSmartMEV:t.mevProtection,jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:5,...r}]};return(await o.default.post("/api/swap",n)).data.result};function ed(e){let{signature:t,callback:n,commitment:i,protocol:a,pairAddress:s}=e;return(e.connection??new r.Connection(d.HELIUS_FRONTEND_RPC_URL)).onSignature(t,e=>{if(e.err){let t=e.err?.InstructionError?.[1],r=t?.Custom;if(30===r)n(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(100===r)n(!1,"Transaction failed and priority fees were consumed: Insufficient input tokens");else if(17===r)n(!1,"Transaction failed and priority fees were consumed: token creator froze your tokens");else if(29===r)n(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(6005===r)n(!1,"Transaction failed and priority fees were consumed: slippage exceeded or bonding curve complete");else if(a===c.PROTOCOL_HEAVEN&&6013===r)n(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(a===c.PROTOCOL_HEAVEN)n(!1,"Transaction failed and priority fees were consumed: Trading is not enabled yet, wait for an official announcement.");else if(6027===r||6013===r||6006===r)n(!1,"Transaction failed and priority fees were consumed: bonding curve complete");else if(6001===r||6002===r||6003===r||6004===r||6005===r||103===r||6040===r)n(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(6e3===r)n(!1,"Transaction failed and priority fees were consumed: pool not open yet");else if(2505===r)n(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(3012===r)n(!1,"Transaction failed and priority fees were consumed: Cannot find your token account, refreshing");else if(1===r||40===r||6023===r)n(!1,"Transaction failed and priority fees were consumed: Insufficient tokens");else if(38===r)n(!1,"Transaction failed and priority fees were consumed: token account closed, refresh and retry");else if(0===r)n(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(3003===r)n(!1,"Transaction failed and priority fees were consumed: Account not extended, place a buy of any size in order to sell");else if(6015===r)n(!1,"Transaction failed and priority fees were consumed: Price out of allowed range of the pool, try a different pool");else if(2001===r)n(!1,"Transaction failed and priority fees were consumed: Did you change primary wallets after creating a yield account?");else if(2006===r){if(n(!1,"Transaction failed and priority fees were consumed: Coin CTO'd, refreshing data..., refresh the page and try again."),(a===c.PROTOCOL_PUMP||a===c.PROTOCOL_PUMP_AMM)&&s){let e=a===c.PROTOCOL_PUMP?"bondingCurve":"pool";f.axiomApiV2.post("/update-pump-creator",{pairAddress:s,type:e}).catch(()=>{})}}else"UnbalancedInstruction"===t?n(!1,"Transaction failed and priority fees were consumed: The Pump program has a bug, place a buy of any size in order to sell"):"ComputationalBudgetExceeded"===t?n(!1,"Transaction failed and priority fees were consumed: Transaction too large, contact support"):"ProgramFailedToComplete"===t?n(!1,"Transaction failed and priority fees were consumed: Invalid swap data, contact support"):n(!1,`Transaction failed and priority fees were consumed: ${JSON.stringify(e.err)}`)}else n(!0,"Transaction confirmed!")},i??"confirmed")}let ef=(e,t,r,n,i)=>{let a=()=>{r.send(JSON.stringify({action:"join",room:e}))};r.readyState===WebSocket.OPEN?a():n.push(a),i.push(r=>{try{JSON.parse(r.data).room===e&&t(!0,"Transaction confirmed!")}catch{}})};async function ep(e){let t=[],n=0,i=new r.Connection(d.HELIUS_FRONTEND_RPC_URL),a=[];try{let r=[];for(let t of e)ec(t,{mevProtection:!1},{skipPreflight:!0}).catch(console.error),r.push(et(t));let s=new Promise(e=>{setTimeout(()=>{e()},6e4)}),o=await Promise.race([Promise.all(r.map(e=>new Promise(r=>{let s=ed({signature:e,callback:(e,i)=>{e?n++:t.push(i),r()},connection:i});a.push(s)}))),s]);return Array.isArray(o)||t.push("Transaction(s) timed out"),{numSuccess:n,numFailed:e.length-n,errorMessages:t}}catch(r){return t.push((0,p.getErrorMessage)(r)),{numSuccess:n,numFailed:e.length-n,errorMessages:t}}finally{for(let e of a)i.removeSignatureListener(e).catch(()=>{})}}async function eh(e){let n,i,a,s,{userWalletAddress:o,tokenAddress:u,tokenProgramAddress:l}=e;if(e.userTokenAccountAddress)n=e.userTokenAccountAddress;else{let{ataInstruction:t,ataAddress:i}=z(new r.PublicKey(o),u,l);n=i,e.instructions.push(t)}if(e.usdc){let{ataInstruction:t,ataAddress:n}=z(new r.PublicKey(o),c.USDC_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);i=n,e.instructions.push(t)}if(e.usd1){let{ataInstruction:t,ataAddress:n}=z(new r.PublicKey(o),c.USD1_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);a=n,e.instructions.push(t)}return e.wsolAmount&&(s=e.psol?eg(new r.PublicKey(o),e.wsolAmount,e.instructions).toBase58():function(e,n,i){let[a,s]=r.PublicKey.findProgramAddressSync([t.Buffer.from("wrapped_sol_account"),e.toBuffer()],new r.PublicKey(P)),o=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(c.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],u=n.toArrayLike(t.Buffer,"le",8),l=new r.TransactionInstruction({keys:o,programId:new r.PublicKey(P),data:t.Buffer.concat([t.Buffer.from([1]),u,t.Buffer.from([s])])});return i.push(l),a.toBase58()}(new r.PublicKey(o),e.wsolAmount,e.instructions)),{userTokenAccountAddress:n,userUsdcAccountAddress:i,userUsd1AccountAddress:a,userWsolAccountAddress:s}}let em=(e,t,n,i=c.TOKEN_PROGRAM_ADDRESS)=>{n.push((0,a.createCloseAccountInstruction)(new r.PublicKey(t),new r.PublicKey(e),new r.PublicKey(e),void 0,new r.PublicKey(i)))},eg=(e,i,a)=>{let{ataInstruction:s,ataAddress:o}=z(e,L);if(a.push(s),i.lte(new n.default(0)))return new r.PublicKey(o);let u=[{pubkey:new r.PublicKey(q),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(L),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("71J1bTThWGXD9qVxsyYwxZbGG5GbdUzV7t7ohkuGxt5a"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.RENT_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],l=i.toArrayLike(t.Buffer,"le",8),d=new r.TransactionInstruction({keys:u,programId:new r.PublicKey(K),data:t.Buffer.concat([t.Buffer.from("2f3e9bac83cd25c9","hex"),l])});return a.push(d),new r.PublicKey(o)}},592e3,114175,e=>{"use strict";e.s(["fetchAndSetVanishOneTimeWallet",()=>x,"processVanishDeposit",()=>v,"processVanishWithdrawal",()=>w,"safeCommitVanishAction",()=>A,"vanishOneTimeWalletAddress",()=>y],592e3);var t=e.i(467034),r=e.i(682382),n=e.i(40039),i=e.i(85026),a=e.i(127261),s=e.i(103476);e.i(465903);var o=e.i(767924),u=e.i(91204),l=e.i(247317),c=e.i(973444),d=e.i(444610);e.i(559136);var f=e.i(107522),p=e.i(422876);e.i(896198);var h=e.i(717725),m=e.i(858010);let g=(0,d.struct)([(0,d.u8)("instruction"),(0,f.u64)("amount")]);function b(e,r,n,i,s=[],o=p.TOKEN_PROGRAM_ID){let u=(0,h.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,s),l=t.Buffer.alloc(g.span);return g.encode({instruction:m.TokenInstruction.Transfer,amount:BigInt(i)},l),new a.TransactionInstruction({keys:u,programId:o,data:l})}e.s(["createTransferInstruction",()=>b],114175);let y=null;async function x(){let e=await (0,n.getVanishOneTimeWallet)();return y=e.address,e.address}async function A(e){let t=null;try{t=await (0,n.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending")try{t=await (0,n.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending"){await (0,u.sleep)(1e3);try{t=await (0,n.commitVanishAction)({txId:e})}catch{}}return t?.status==="pending"&&((0,u.sleep)(3e4),t=await (0,n.commitVanishAction)({txId:e})),t?.status==="pending"&&((0,u.sleep)(35e3),t=await (0,n.commitVanishAction)({txId:e})),t}async function w({selectedToken:e,amountRaw:u,primaryWalletAddress:c,primaryWalletKey:d}){(0,i.addPriorityFeeInstructions)({instructions:[],computeUnits:e===r.NATIVE_SOL_TOKEN_ADDRESS?1e4:75e3,microLamports:25e5});let f=await (0,n.withdrawFromVanish)({userAddress:c,tokenAddress:e,amount:u.toString(),additionalSol:e===r.NATIVE_SOL_TOKEN_ADDRESS?"0":o.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS.toString(),privateKeyBase58:d}),p=a.VersionedTransaction.deserialize(t.Buffer.from(f.transaction,"base64"));p.sign([a.Keypair.fromSecretKey(s.default.decode(d))]);let h=s.default.encode(p.signatures[0]);try{let{numFailed:e,errorMessages:r}=await (0,i.sendAndMonitorSimpleTxBatched)([t.Buffer.from(p.serialize()).toString("base64")]);if(e>0)throw Error(`Error withdrawing from Vanish: ${r.join(", ")}`)}catch(e){throw Error(`Error withdrawing from Vanish: ${(0,l.getErrorMessage)(e)}`)}finally{try{await A(h)}catch(e){throw Error(`Error committing Vanish withdraw: ${(0,l.getErrorMessage)(e)}`)}}}async function v({selectedToken:e,amountRaw:t,primaryWalletAddress:o,primaryWalletKey:u,sourceTokenAccountAddress:l,tokenProgram:d,safeBlockhash:f}){let p=await (0,n.getVanishDepositAddress)({tokenAddress:e}),h=[];if(e===r.NATIVE_SOL_TOKEN_ADDRESS){h.push(a.ComputeBudgetProgram.setComputeUnitLimit({units:450})),h.push(a.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1e7}));let e=a.SystemProgram.transfer({fromPubkey:new a.PublicKey(o),toPubkey:new a.PublicKey(p.address),lamports:(0,c.fromSafeBN)(t)});h.push(e)}else{if(!l||!d)throw Error("Source token account address or token program not found");h.push(a.ComputeBudgetProgram.setComputeUnitLimit({units:55e3})),h.push(a.ComputeBudgetProgram.setComputeUnitPrice({microLamports:25e5}));let{ataInstruction:r,ataAddress:n}=(0,i.makeCreateATAInstruction)(new a.PublicKey(p.address),e,d,new a.PublicKey(o),!0);h.push(r);let s=b(new a.PublicKey(l),new a.PublicKey(n),new a.PublicKey(o),BigInt(t.toString()),void 0,new a.PublicKey(d));h.push(s)}let{base64Tx:m,signature:g}=await (0,i.compileTransaction)({signer:a.Keypair.fromSecretKey(s.default.decode(u)),instructions:h,blockhash:f}),{numFailed:y,errorMessages:x}=await (0,i.sendAndMonitorSimpleTxBatched)([m]);if(y>0)throw Error(`Error depositing to Vanish: ${x.join(", ")}`);await (0,n.commitVanishAction)({txId:g})}},863568,e=>{"use strict";e.i(490156);var t=e.i(542119);e.i(258291);var r=e.i(874107),n=e.i(285942),i=e.i(672464),a=e.i(271645);let s=[7,16];function o(e){if(!e)return!1;if(e instanceof n.TurnkeyRequestError)return!0;if(!(e instanceof Error)||"TurnkeyRequestError"!==e.name||"number"!=typeof e.code)return!1;let t=e.details;return"object"==typeof t&&null!==t&&!!Array.isArray(t)}function u(e){return!!o(e)&&s.includes(e.code)}async function l(e){try{return await e.getWhoami(),!1}catch{return!0}}e.s(["isTurnkeyError",()=>o,"isTurnkeySessionExpired",()=>l,"isTurnkeySessionExpiryError",()=>u,"useTurnkeyClient",0,()=>{let e=(0,i.useAtomValue)(t.turnkeyPrivateKeyAtom),n=(0,i.useAtomValue)(t.turnkeyPublicKeyAtom),s=(0,i.useAtomValue)(t.turnkeyOrgIdAtom);return(0,a.useMemo)(()=>e&&n&&s?new r.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:e,apiPublicKey:n,defaultOrganizationId:s,activityPoller:{intervalMs:250,numRetries:20}}).apiClient():null,[e,n,s])}])},401597,e=>{"use strict";var t=e.i(659341),r=e.i(973444);function n(e,t,r){let n=t.size;if(!Number.isInteger(e))throw Error("totalAmount must be an integer.");if(n<=0)throw Error("walletCount must be >= 1.");if(e<=0)throw Error("totalAmount must be > 0.");if(r<0||r>100)throw Error("buyDistribution must be between 0 and 100.");let i=Math.floor(e/n),a=r/100,s=Math.floor((1-a)*i),o=Math.ceil((1+a)*i),u=Array.from(t.keys()),l=e-n*s;if(a>0&&(e<n*s||e>n*o))throw Error("No feasible distribution for the given constraints.");let c=new Map,d=n;for(let e of u){if(0===r){c.set(e,s+l),l=0;continue}if(l<=0)break;if(1===d){c.set(e,s+l),l=0;break}let t=o-s,n=Math.max(0,l-(d-1)*t),i=Math.min(l,t);if(n>i)throw Error("Feasibility broke mid-distribution.");let a=Math.floor(n+Math.random()*(i-n+1));c.set(e,s+a),l-=a,d--}let f=Array.from(c.values()).reduce((e,t)=>e+t,0);if(f!==e)throw Error(`Distribution error: sum does not match totalAmount. ${f} !== ${e}`);return c}function i(e,n,a=20){if(a<0||a>100)throw Error("Variance must be between 0 and 100.");if(n<=0)throw Error("walletCount must be >= 1.");if(e.lte(new t.default(0)))throw Error("totalAmount must be > 0.");let s=e.div(new t.default(n)),o=s.mul(new t.default(100-a)).div(new t.default(100)),u=s.mul(new t.default(100+a)).div(new t.default(100)),l=u.sub(o),c=o.mul(new t.default(n)),d=u.mul(new t.default(n));if(e.lt(c)||e.gt(d))throw Error("No feasible distribution for the given constraints.");let f=Array(n).fill(null).map(()=>o.clone()),p=e.sub(o.mul(new t.default(n)));for(let e=0;e<n-1&&!p.lte(new t.default(0));e++){let i=n-e,a=l.mul(new t.default(i-1)),s=p.gt(a)?p.sub(a):new t.default(0),o=t.default.min(p,l);if(s.gt(o))throw Error("Feasibility broke mid-distribution.");let u=o.sub(s).add(new t.default(1)),c=(0,r.newSafeBN)(1e5*Math.random()).mul(u).div((0,r.newSafeBN)(1e5)),d=s.add(c);f[e]=f[e].add(d),p=p.sub(d)}if(f[n-1]=f[n-1].add(p),!f.reduce((e,t)=>e.add(t),new t.default(0)).eq(e))throw Error("Distribution error: sum does not match totalAmount.");return f}e.s(["distributeAmount",()=>n,"distributeAmountBN",()=>i])},361884,(e,t,r)=>{var n=e.r(377684),i=e.r(877289);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},9903,(e,t,r)=>{var n=e.r(45350),i=e.r(361884),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||i(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},657588,(e,t,r)=>{var n=e.r(587547);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},688832,(e,t,r)=>{var n=e.r(657588);t.exports=function(e){var t=n(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},902677,(e,t,r)=>{var n=e.r(688832),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;t.exports=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)}),t})},892708,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},372537,(e,t,r)=>{var n=e.r(630353),i=e.r(892708),a=e.r(45350),s=e.r(361884),o=1/0,u=n?n.prototype:void 0,l=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-o?"-0":r}},702922,(e,t,r)=>{var n=e.r(372537);t.exports=function(e){return null==e?"":n(e)}},186287,(e,t,r)=>{var n=e.r(45350),i=e.r(9903),a=e.r(902677),s=e.r(702922);t.exports=function(e,t){return n(e)?e:i(e,t)?[e]:a(s(e))}},2054,(e,t,r)=>{var n=e.r(361884),i=1/0;t.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},333141,(e,t,r)=>{var n=e.r(186287),i=e.r(2054);t.exports=function(e,t){t=n(t,e);for(var r=0,a=t.length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},482820,(e,t,r)=>{var n=e.r(333141);t.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},524251,(e,t,r)=>{var n=e.r(841920);t.exports=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},674548,(e,t,r)=>{var n=e.r(524251);t.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},4300,(e,t,r)=>{var n=e.r(674548),i=e.r(25172),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var s=e[t];a.call(e,t)&&i(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},942173,(e,t,r)=>{var n=e.r(4300),i=e.r(186287),a=e.r(66397),s=e.r(12447),o=e.r(2054);t.exports=function(e,t,r,u){if(!s(e))return e;t=i(t,e);for(var l=-1,c=t.length,d=c-1,f=e;null!=f&&++l<c;){var p=o(t[l]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(l!=d){var m=f[p];void 0===(h=u?u(m,p,f):void 0)&&(h=s(m)?m:a(t[l+1])?[]:{})}n(f,p,h),f=f[p]}return e}},348707,(e,t,r)=>{var n=e.r(942173);t.exports=function(e,t,r){return null==e?e:n(e,t,r)}},983607,(e,t,r)=>{t.exports&&(t.exports=function(e){return e.prototype.toFormat=function(e,t,r){if(!this.e&&0!==this.e)return this.toString();var n,i,a,s,o,u,l,c,d,f,p,h,m,g,b,y=this.format||{},x=this.constructor.format||{};if(e!=o?"object"==typeof e?(r=e,e=o):t!=o?"object"==typeof t?(r=t,t=o):"object"!=typeof r&&(r={}):r={}:r={},c=(n=this.toFixed(e,t).split("."))[0],d=n[1],u=(l=this.s<0?c.slice(1):c).length,(f=r.decimalSeparator)==o&&(f=y.decimalSeparator)==o&&(f=x.decimalSeparator)==o&&(f="."),(p=r.groupSeparator)==o&&(p=y.groupSeparator)==o&&(p=x.groupSeparator),p&&((h=r.groupSize)==o&&(h=y.groupSize)==o&&(h=x.groupSize)==o&&(h=0),(m=r.secondaryGroupSize)==o&&(m=y.secondaryGroupSize)==o&&(m=x.secondaryGroupSize)==o&&(m=0),m?(i=+m,u-=a=+h):(i=+h,a=+m),i>0&&u>0)){for(s=u%i||i,c=l.substr(0,s);s<u;s+=i)c+=p+l.substr(s,i);a>0&&(c+=p+l.slice(s)),this.s<0&&(c="-"+c)}return d?((g=r.fractionGroupSeparator)==o&&(g=y.fractionGroupSeparator)==o&&(g=x.fractionGroupSeparator),g&&((b=r.fractionGroupSize)==o&&(b=y.fractionGroupSize)==o&&(b=x.fractionGroupSize)==o&&(b=0),(b*=1)&&(d=d.replace(RegExp("\\d{"+b+"}\\B","g"),"$&"+g))),c+f+d):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},651655,(e,t,r)=>{!function(r){"use strict";var n,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,s="[DecimalError] ",o=s+"Invalid argument: ",u=s+"Exponent out of range: ",l=Math.floor,c=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=l(1286742750677284.5),p={};function h(e,t){var r,n,i,s,o,u,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),a?E(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i){for(s<0?(n=l,s=-s,u=c.length):(n=c,i=o,u=l.length),s>(u=(o=Math.ceil(f/7))>u?o+1:u+1)&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((u=l.length)-(s=c.length)<0&&(s=u,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/1e7|0,l[s]%=1e7;for(r&&(l.unshift(r),++i),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=i,a?E(t,f):t}function m(e,t,r){if(e!==~~e||e<t||e>r)throw Error(o+e)}function g(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=w(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=w(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},p.comparedTo=p.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},p.decimalPlaces=p.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},p.dividedBy=p.div=function(e){return b(this,new this.constructor(e))},p.dividedToIntegerBy=p.idiv=function(e){var t=this.constructor;return E(b(this,new t(e),0,1),t.precision)},p.equals=p.eq=function(e){return!this.cmp(e)},p.exponent=function(){return x(this)},p.greaterThan=p.gt=function(e){return this.cmp(e)>0},p.greaterThanOrEqualTo=p.gte=function(e){return this.cmp(e)>=0},p.isInteger=p.isint=function(){return this.e>this.d.length-2},p.isNegative=p.isneg=function(){return this.s<0},p.isPositive=p.ispos=function(){return this.s>0},p.isZero=function(){return 0===this.s},p.lessThan=p.lt=function(e){return 0>this.cmp(e)},p.lessThanOrEqualTo=p.lte=function(e){return 1>this.cmp(e)},p.logarithm=p.log=function(e){var t,r=this.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(n))throw Error(s+"NaN");if(this.s<1)throw Error(s+(this.s?"NaN":"-Infinity"));return this.eq(n)?new r(0):(a=!1,t=b(v(this,o),v(e,o),o),a=!0,E(t,i))},p.minus=p.sub=function(e){return e=new this.constructor(e),this.s==e.s?k(this,e):h(this,(e.s=-e.s,e))},p.modulo=p.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(s+"NaN");return this.s?(a=!1,t=b(this,e,0,1).times(e),a=!0,this.minus(t)):E(new r(this),n)},p.naturalExponential=p.exp=function(){return y(this)},p.naturalLogarithm=p.ln=function(){return v(this)},p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},p.plus=p.add=function(e){return e=new this.constructor(e),this.s==e.s?h(this,e):k(this,(e.s=-e.s,e))},p.precision=p.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(o+e);if(t=x(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},p.squareRoot=p.sqrt=function(){var e,t,r,n,i,o,u,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(s+"NaN")}for(e=x(this),a=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=g(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=l((e+1)/2)-(e<0||e%2),n=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new c(i.toString()),i=u=(r=c.precision)+3;;)if(n=(o=n).plus(b(this,o,u+2)).times(.5),g(o.d).slice(0,u)===(t=g(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),i==u&&"4999"==t){if(E(o,r+1,0),o.times(o).eq(this)){n=o;break}}else if("9999"!=t)break;u+=4}return a=!0,E(n,r)},p.times=p.mul=function(e){var t,r,n,i,s,o,u,l,c,d=this.constructor,f=this.d,p=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,r=this.e+e.e,(l=f.length)<(c=p.length)&&(s=f,f=p,p=s,o=l,l=c,c=o),s=[],n=o=l+c;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)u=s[i]+p[n]*f[i-n-1]+t,s[i--]=u%1e7|0,t=u/1e7|0;s[i]=(s[i]+t)%1e7|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,a?E(e,d.precision):e},p.toDecimalPlaces=p.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),E(r,e+x(r)+1,t))},p.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=T(n,!0):(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),r=T(n=E(new i(n),e+1,t),!0,e+1)),r},p.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?T(this):(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),r=T((n=E(new i(this),e+x(this)+1,t)).abs(),!1,e+x(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},p.toInteger=p.toint=function(){var e=this.constructor;return E(new e(this),x(this)+1,e.rounding)},p.toNumber=function(){return+this},p.toPower=p.pow=function(e){var t,r,i,o,u,c,d=this,f=d.constructor,p=+(e=new f(e));if(!e.s)return new f(n);if(!(d=new f(d)).s){if(e.s<1)throw Error(s+"Infinity");return d}if(d.eq(n))return d;if(i=f.precision,e.eq(n))return E(d,i);if(c=(t=e.e)>=(r=e.d.length-1),u=d.s,c){if((r=p<0?-p:p)<=0x1fffffffffffff){for(o=new f(n),t=Math.ceil(i/7+4),a=!1;r%2&&P((o=o.times(d)).d,t),0!==(r=l(r/2));)P((d=d.times(d)).d,t);return a=!0,e.s<0?new f(n).div(o):E(o,i)}}else if(u<0)throw Error(s+"NaN");return u=u<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,a=!1,o=e.times(v(d,i+12)),a=!0,(o=y(o)).s=u,o},p.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=x(i),n=T(i,r<=a.toExpNeg||r>=a.toExpPos)):(m(e,1,1e9),void 0===t?t=a.rounding:m(t,0,8),r=x(i=E(new a(i),e,t)),n=T(i,e<=r||r<=a.toExpNeg,e)),n},p.toSignificantDigits=p.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(m(e,1,1e9),void 0===t?t=r.rounding:m(t,0,8)),E(new r(this),e,t)},p.toString=p.valueOf=p.val=p.toJSON=function(){var e=x(this),t=this.constructor;return T(this,e<=t.toExpNeg||e>=t.toExpPos)};var b=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var u,l,c,d,f,p,h,m,g,b,y,A,w,v,S,k,T,P,I=n.constructor,_=n.s==i.s?1:-1,N=n.d,B=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(s+"Division by zero");for(c=0,l=n.e-i.e,T=B.length,S=N.length,m=(h=new I(_)).d=[];B[c]==(N[c]||0);)++c;if(B[c]>(N[c]||0)&&--l,(A=null==a?a=I.precision:o?a+(x(n)-x(i))+1:a)<0)return new I(0);if(A=A/7+2|0,c=0,1==T)for(d=0,B=B[0],A++;(c<S||d)&&A--;c++)w=1e7*d+(N[c]||0),m[c]=w/B|0,d=w%B|0;else{for((d=1e7/(B[0]+1)|0)>1&&(B=e(B,d),N=e(N,d),T=B.length,S=N.length),v=T,b=(g=N.slice(0,T)).length;b<T;)g[b++]=0;(P=B.slice()).unshift(0),k=B[0],B[1]>=1e7/2&&++k;do d=0,(u=t(B,g,T,b))<0?(y=g[0],T!=b&&(y=1e7*y+(g[1]||0)),(d=y/k|0)>1?(d>=1e7&&(d=1e7-1),p=(f=e(B,d)).length,b=g.length,1==(u=t(f,g,p,b))&&(d--,r(f,T<p?P:B,p))):(0==d&&(u=d=1),f=B.slice()),(p=f.length)<b&&f.unshift(0),r(g,f,b),-1==u&&(b=g.length,(u=t(B,g,T,b))<1&&(d++,r(g,T<b?P:B,b))),b=g.length):0===u&&(d++,g=[0]),m[c++]=d,u&&g[0]?g[b++]=N[v]||0:(g=[N[v]],b=1);while((v++<S||void 0!==g[0])&&A--)}return m[0]||m.shift(),h.e=l,E(h,o?a+x(h)+1:a)}}();function y(e,t){var r,i,s,o,l,d=0,f=0,p=e.constructor,h=p.precision;if(x(e)>16)throw Error(u+x(e));if(!e.s)return new p(n);for(null==t?(a=!1,l=h):l=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(l+=Math.log(c(2,f))/Math.LN10*2+5|0,r=i=s=new p(n),p.precision=l;;){if(i=E(i.times(e),l),r=r.times(++d),g((o=s.plus(b(i,r,l))).d).slice(0,l)===g(s.d).slice(0,l)){for(;f--;)s=E(s.times(s),l);return p.precision=h,null==t?(a=!0,E(s,h)):s}s=o}}function x(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function A(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(s+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function v(e,t){var r,i,o,u,l,c,d,f,p,h=1,m=e,y=m.d,w=m.constructor,S=w.precision;if(m.s<1)throw Error(s+(m.s?"NaN":"-Infinity"));if(m.eq(n))return new w(0);if(null==t?(a=!1,f=S):f=t,m.eq(10))return null==t&&(a=!0),A(w,f);if(w.precision=f+=10,i=(r=g(y)).charAt(0),!(15e14>Math.abs(u=x(m))))return d=A(w,f+2,S).times(u+""),m=v(new w(i+"."+r.slice(1)),f-10).plus(d),w.precision=S,null==t?(a=!0,E(m,S)):m;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=g((m=m.times(e)).d)).charAt(0),h++;for(u=x(m),i>1?(m=new w("0."+r),u++):m=new w(i+"."+r.slice(1)),c=l=m=b(m.minus(n),m.plus(n),f),p=E(m.times(m),f),o=3;;){if(l=E(l.times(p),f),g((d=c.plus(b(l,new w(o),f))).d).slice(0,f)===g(c.d).slice(0,f))return c=c.times(2),0!==u&&(c=c.plus(A(w,f+2,S).times(u+""))),c=b(c,new w(h),f),w.precision=S,null==t?(a=!0,E(c,S)):c;c=d,o+=2}}function S(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=l((r=r-n-1)/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),a&&(e.e>f||e.e<-f))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,r){var n,i,s,o,d,p,h,m,g=e.d;for(o=1,s=g[0];s>=10;s/=10)o++;if((n=t-o)<0)n+=7,i=t,h=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(s=g.length))return e;for(o=1,h=s=g[m];s>=10;s/=10)o++;n%=7,i=n-7+o}if(void 0!==r&&(d=h/(s=c(10,o-i-1))%10|0,p=t<0||void 0!==g[m+1]||h%s,p=r<4?(d||p)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||p||6==r&&(n>0?i>0?h/c(10,o-i):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return p?(s=x(e),g.length=1,t=t-s-1,g[0]=c(10,(7-t%7)%7),e.e=l(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,s=1,m--):(g.length=m+1,s=c(10,7-n),g[m]=i>0?(h/c(10,o-i)%c(10,i)|0)*s:0),p)for(;;)if(0==m){1e7==(g[0]+=s)&&(g[0]=1,++e.e);break}else{if(g[m]+=s,1e7!=g[m])break;g[m--]=0,s=1}for(n=g.length;0===g[--n];)g.pop();if(a&&(e.e>f||e.e<-f))throw Error(u+x(e));return e}function k(e,t){var r,n,i,s,o,u,l,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),a?E(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((d=o<0)?(r=l,o=-o,u=f.length):(r=f,n=c,u=l.length),o>(i=Math.max(Math.ceil(h/7),u)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((d=(i=l.length)<(u=f.length))&&(u=i),i=0;i<u;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),u=l.length,i=f.length-u;i>0;--i)l[u++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&0===l[--s];)l[s]=1e7-1;--l[s],l[i]+=1e7}l[i]-=f[i]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,a?E(t,h):t):new p(0)}function T(e,t,r){var n,i=x(e),a=g(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+w(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+w(-i-1)+a,r&&(n=r-s)>0&&(a+=w(n))):i>=s?(a+=w(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+w(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=w(n))),e.s<0?"-"+a:a}function P(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!=typeof e)throw Error(s+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(l(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(o+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(o+r+": "+n);return this}if((i=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(o+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return S(this,e.toString())}if("string"!=typeof e)throw Error(o+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,d.test(e))S(this,e);else throw Error(o+e)}if(a.prototype=p,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(i)).default=i.Decimal=i,n=new i(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=i)&&e.v(t)}else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=i)}(e.e)},858352,(e,t,r)=>{var n=e.r(674548),i=e.r(25172);t.exports=function(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},536755,(e,t,r)=>{t.exports=function(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var u=s[e?o:++i];if(!1===r(a[u],u,a))break}return t}}},98728,(e,t,r)=>{t.exports=e.r(536755)()},622781,(e,t,r)=>{var n=e.r(139088),i=r&&!r.nodeType&&r,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n}},425393,(e,t,r)=>{var n=e.r(263750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},514712,(e,t,r)=>{var n=e.r(425393);t.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},776736,(e,t,r)=>{t.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},646352,(e,t,r)=>{var n=e.r(12447),i=Object.create;t.exports=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}()},962413,(e,t,r)=>{t.exports=e.r(825717)(Object.getPrototypeOf,Object)},992433,(e,t,r)=>{var n=e.r(646352),i=e.r(962413),a=e.r(763996);t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(i(e))}},791072,(e,t,r)=>{var n=e.r(351095),i=e.r(877289);t.exports=function(e){return i(e)&&n(e)}},101320,(e,t,r)=>{var n=e.r(377684),i=e.r(962413),a=e.r(877289),s=Object.prototype,o=Function.prototype.toString,u=s.hasOwnProperty,l=o.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&o.call(r)==l}},484305,(e,t,r)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},372351,(e,t,r)=>{var n=e.r(4300),i=e.r(674548);t.exports=function(e,t,r,a){var s=!r;r||(r={});for(var o=-1,u=t.length;++o<u;){var l=t[o],c=a?a(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),s?i(r,l,c):n(r,l,c)}return r}},513730,(e,t,r)=>{t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},385689,(e,t,r)=>{var n=e.r(12447),i=e.r(763996),a=e.r(513730),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return a(e);var t=i(e),r=[];for(var o in e)"constructor"==o&&(t||!s.call(e,o))||r.push(o);return r}},689695,(e,t,r)=>{var n=e.r(458877),i=e.r(385689),a=e.r(351095);t.exports=function(e){return a(e)?n(e,!0):i(e)}},837153,(e,t,r)=>{var n=e.r(372351),i=e.r(689695);t.exports=function(e){return n(e,i(e))}},720346,(e,t,r)=>{var n=e.r(858352),i=e.r(622781),a=e.r(514712),s=e.r(776736),o=e.r(992433),u=e.r(473250),l=e.r(45350),c=e.r(791072),d=e.r(356956),f=e.r(771223),p=e.r(12447),h=e.r(101320),m=e.r(3023),g=e.r(484305),b=e.r(837153);t.exports=function(e,t,r,y,x,A,w){var v=g(e,r),S=g(t,r),E=w.get(S);if(E)return void n(e,r,E);var k=A?A(v,S,r+"",e,t,w):void 0,T=void 0===k;if(T){var P=l(S),I=!P&&d(S),_=!P&&!I&&m(S);k=S,P||I||_?l(v)?k=v:c(v)?k=s(v):I?(T=!1,k=i(S,!0)):_?(T=!1,k=a(S,!0)):k=[]:h(S)||u(S)?(k=v,u(v)?k=b(v):(!p(v)||f(v))&&(k=o(S))):T=!1}T&&(w.set(S,k),x(k,S,y,A,w),w.delete(S)),n(e,r,k)}},5702,(e,t,r)=>{var n=e.r(901551),i=e.r(858352),a=e.r(98728),s=e.r(720346),o=e.r(12447),u=e.r(689695),l=e.r(484305);t.exports=function e(t,r,c,d,f){t!==r&&a(r,function(a,u){if(f||(f=new n),o(a))s(t,r,u,c,e,d,f);else{var p=d?d(l(t,u),a,u+"",t,r,f):void 0;void 0===p&&(p=a),i(t,u,p)}},u)}},653336,(e,t,r)=>{t.exports=function(e){return e}},987160,(e,t,r)=>{t.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},172953,(e,t,r)=>{var n=e.r(987160),i=Math.max;t.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,o=i(a.length-t,0),u=Array(o);++s<o;)u[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=r(u),n(e,this,l)}}},556751,(e,t,r)=>{t.exports=function(e){return function(){return e}}},801647,(e,t,r)=>{var n=e.r(556751),i=e.r(524251),a=e.r(653336);t.exports=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a},851994,(e,t,r)=>{var n=Date.now;t.exports=function(e){var t=0,r=0;return function(){var i=n(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},184665,(e,t,r)=>{var n=e.r(801647);t.exports=e.r(851994)(n)},395059,(e,t,r)=>{var n=e.r(653336),i=e.r(172953),a=e.r(184665);t.exports=function(e,t){return a(i(e,t,n),e+"")}},170237,(e,t,r)=>{var n=e.r(25172),i=e.r(351095),a=e.r(66397),s=e.r(12447);t.exports=function(e,t,r){if(!s(r))return!1;var o=typeof t;return("number"==o?!!(i(r)&&a(t,r.length)):"string"==o&&t in r)&&n(r[t],e)}},483495,(e,t,r)=>{var n=e.r(395059),i=e.r(170237);t.exports=function(e){return n(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,o&&i(r[0],r[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var u=r[n];u&&e(t,u,n,s)}return t})}},411595,(e,t,r)=>{var n=e.r(5702);t.exports=e.r(483495)(function(e,t,r){n(e,t,r)})},49498,e=>{"use strict";let t,r,n,i,a,s,o,u,l,c;var d,f=e.i(467034),p=e.i(581949),h=e.i(127261),m=e.i(482820),g=e.i(348707),b=e.i(946865),y=e.i(422876),x=e.i(289492),A=e.i(659341),w="[big.js] ",v=w+"Invalid ",S=v+"decimal places",E=v+"rounding mode",k=w+"Division by zero",T={},P=void 0,I=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _(e,t,r,n){var i=e.c;if(r===P&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(E);if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==P))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||i[t+1]!==P||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t,n){for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function N(e,t,r){var n=e.e,i=e.c.join(""),a=i.length;if(t)i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>a)for(n-=a;n--;)i+="0";else n<a&&(i=i.slice(0,n)+"."+i.slice(n));else a>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}T.abs=function(){var e=new this.constructor(this);return e.s=1,e},T.cmp=function(e){var t,r=this.c,n=(e=new this.constructor(e)).c,i=this.s,a=e.s,s=this.e,o=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-a:0;if(i!=a)return i;if(t=i<0,s!=o)return s>o^t?1:-1;for(i=-1,a=(s=r.length)<(o=n.length)?s:o;++i<a;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return s==o?0:s>o^t?1:-1},T.div=function(e){var t=this.constructor,r=this.c,n=(e=new t(e)).c,i=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(S);if(!n[0])throw Error(k);if(!r[0])return e.s=i,e.c=[e.e=0],e;var s,o,u,l,c,d=n.slice(),f=s=n.length,p=r.length,h=r.slice(0,s),m=h.length,g=e,b=g.c=[],y=0,x=a+(g.e=this.e-e.e)+1;for(g.s=i,i=x<0?0:x,d.unshift(0);m++<s;)h.push(0);do{for(u=0;u<10;u++){if(s!=(m=h.length))l=s>m?1:-1;else for(c=-1,l=0;++c<s;)if(n[c]!=h[c]){l=n[c]>h[c]?1:-1;break}if(l<0){for(o=m==s?n:d;m;){if(h[--m]<o[m]){for(c=m;c&&!h[--c];)h[c]=9;--h[c],h[m]+=10}h[m]-=o[m]}for(;!h[0];)h.shift()}else break}b[y++]=l?u:++u,h[0]&&l?h[m]=r[f]||0:h=[r[f]]}while((f++<p||h[0]!==P)&&i--)return!b[0]&&1!=y&&(b.shift(),g.e--,x--),y>x&&_(g,x,t.RM,h[0]!==P),g},T.eq=function(e){return 0===this.cmp(e)},T.gt=function(e){return this.cmp(e)>0},T.gte=function(e){return this.cmp(e)>-1},T.lt=function(e){return 0>this.cmp(e)},T.lte=function(e){return 1>this.cmp(e)},T.minus=T.sub=function(e){var t,r,n,i,a=this.constructor,s=this.s,o=(e=new a(e)).s;if(s!=o)return e.s=-o,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?e.s=-o:u[0]?e=new a(this):e.s=1,e;if(s=l-d){for((i=s<0)?(s=-s,n=u):(d=l,n=c),n.reverse(),o=s;o--;)n.push(0);n.reverse()}else for(r=((i=u.length<c.length)?u:c).length,s=o=0;o<r;o++)if(u[o]!=c[o]){i=u[o]<c[o];break}if(i&&(n=u,u=c,c=n,e.s=-e.s),(o=(r=c.length)-(t=u.length))>0)for(;o--;)u[t++]=0;for(o=t;r>s;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--o];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},T.mod=function(e){var t,r=this,n=r.constructor,i=r.s,a=(e=new n(e)).s;if(!e.c[0])throw Error(k);return(r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=a,t)?new n(r):(i=n.DP,a=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=a,this.minus(r.times(e)))},T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},T.plus=T.add=function(e){var t,r,n,i=this.constructor;if(e=new i(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,s=this.c,o=e.e,u=e.c;if(!s[0]||!u[0])return u[0]||(s[0]?e=new i(this):e.s=this.s),e;if(s=s.slice(),t=a-o){for(t>0?(o=a,n=u):(t=-t,n=s),n.reverse();t--;)n.push(0);n.reverse()}for(s.length-u.length<0&&(n=u,u=s,s=n),t=u.length,r=0;t;s[t]%=10)r=(s[--t]=s[t]+u[t]+r)/10|0;for(r&&(s.unshift(r),++o),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=o,e},T.pow=function(e){var t=this,r=new t.constructor("1"),n=r,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(v+"exponent");for(i&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return i?r.div(n):n},T.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(v+"precision");return _(new this.constructor(this),e,t)},T.round=function(e,t){if(e===P)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(S);return _(new this.constructor(this),e+this.e+1,t)},T.sqrt=function(){var e,t,r,n=this.constructor,i=this.s,a=this.e,s=new n("0.5");if(!this.c[0])return new n(this);if(i<0)throw Error(w+"No square root");0===(i=Math.sqrt(+N(this,!0,!0)))||i===1/0?((t=this.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new n(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+a)):e=new n(i+""),a=e.e+(n.DP+=4);do r=e,e=s.times(r.plus(this.div(r)));while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""))return _(e,(n.DP-=4)+e.e+1,n.RM)},T.times=T.mul=function(e){var t,r=this.constructor,n=this.c,i=(e=new r(e)).c,a=n.length,s=i.length,o=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!n[0]||!i[0])return e.c=[e.e=0],e;for(e.e=o+u,a<s&&(t=n,n=i,i=t,u=a,a=s,s=u),t=Array(u=a+s);u--;)t[u]=0;for(o=s;o--;){for(s=0,u=a+o;u>o;)s=t[u]+i[o]*n[u-o-1]+s,t[u--]=s%10,s=s/10|0;t[u]=s}for(s?++e.e:t.shift(),o=t.length;!t[--o];)t.pop();return e.c=t,e},T.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==P){if(e!==~~e||e<0||e>1e6)throw Error(S);for(r=_(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return N(r,!0,!!n)},T.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==P){if(e!==~~e||e<0||e>1e6)throw Error(S);for(r=_(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return N(r,!1,!!n)},T[Symbol.for("nodejs.util.inspect.custom")]=T.toJSON=T.toString=function(){var e=this.constructor;return N(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},T.toNumber=function(){var e=+N(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(w+"Imprecise conversion");return e},T.toPrecision=function(e,t){var r=this,n=r.constructor,i=r.c[0];if(e!==P){if(e!==~~e||e<1||e>1e6)throw Error(v+"precision");for(r=_(new n(r),e,t);r.c.length<e;)r.c.push(0)}return N(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},T.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(w+"valueOf disallowed");return N(this,this.e<=e.NE||this.e>=e.PE,!0)};var B=function e(){function t(r){if(!(this instanceof t))return r===P?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(v+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,i;if(!I.test(t))throw Error(v+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),i=t.length,n=0;n<i&&"0"==t.charAt(n);)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}}(this,r)}this.constructor=t}return t.prototype=T,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),R=e.i(983607),C=e.i(651655),O=(e.i(411595),e.i(20459)),D=e.i(123424),U=e.i(761405),F=e.i(444610);e.i(896198);e.i(858010);(0,F.struct)([(0,F.u8)("instruction")]);var M=e.i(114175),L=Object.defineProperty,K=Object.defineProperties,q=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,z=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,j=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&z(e,r,t[r]);if(W)for(var r of W(t))G.call(t,r)&&z(e,r,t[r]);return e},H=(e,t)=>K(e,q(t)),Q=(e,t)=>{var r={};for(var n in e)V.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&W)for(var n of W(e))0>t.indexOf(n)&&G.call(e,n)&&(r[n]=e[n]);return r},X=((t=X||{})[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Debug=3]="Debug",t),J=class{constructor(e){this.logLevel=void 0!==e.logLevel?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)&&console.error(this.time,this.name,"sdk logger error",...e),this}logWithError(...e){throw Error(e.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "))}warning(...e){return this.isLogLevel(1)&&console.warn(this.time,this.name,"sdk logger warning",...e),this}info(...e){return this.isLogLevel(2)&&console.info(this.time,this.name,"sdk logger info",...e),this}debug(...e){return this.isLogLevel(3)&&console.debug(this.time,this.name,"sdk logger debug",...e),this}},Y={},Z={};function $(e){let t=(0,m.default)(Y,e);if(!t){let r=(0,m.default)(Z,e);t=new J({name:e,logLevel:r}),(0,g.default)(Y,e,t)}return t}var ee=$("Raydium_accountInfo_util");async function et(e,t,r){let{batchRequest:n,commitment:i="confirmed",chunkCount:a=100}=j({batchRequest:!1},r),s=t7(t,a),o=Array(s.length).fill([]);if(n){let t=t7(s.map(t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t.map(e=>e.toBase58())],i,"base64")})),10);o=(await (await Promise.all(t.map(async t=>await e._rpcBatchRequest(t)))).flat()).map(e=>(e.error&&ee.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.error.message}`),e.result.value.map(e=>{if(e){let{data:t,executable:r,lamports:n,owner:i,rentEpoch:a}=e;return 2!==t.length&&"base64"!==t[1]&&ee.logWithError("info must be base64 encoded, RPC_ERROR"),{data:f.Buffer.from(t[0],"base64"),executable:r,lamports:n,owner:new h.PublicKey(i),rentEpoch:a}}return null})))}else try{o=await Promise.all(s.map(t=>e.getMultipleAccountsInfo(t,i)))}catch(e){e instanceof Error&&ee.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.message}`)}return o.flat()}async function er(e,t,r){let n=await et(e,t.map(e=>e.pubkey),r);return t.map((e,t)=>H(j({},e),{accountInfo:n[t]}))}var en=((r=en||{})[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account",r),ei,ea,es="0123456789abcdef",eo="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",eu="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",el={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},ec=!0,ed="[DecimalError] ",ef=ed+"Invalid argument: ",ep=ed+"Precision limit exceeded",eh=ed+"crypto unavailable",em="[object Decimal]",eg=Math.floor,eb=Math.pow,ey=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,eA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ew=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ev=eo.length-1,eS=eu.length-1,eE={toStringTag:em};function ek(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=eU(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=eU(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function eT(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ef+e)}function eP(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=eb(10,7-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==eb(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==eb(10,t-3)-1,s}function eI(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=es.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}eE.absoluteValue=eE.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),eN(e)},eE.ceil=function(){return eN(new this.constructor(this),this.e+1,2)},eE.clampedTo=eE.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(ef+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},eE.comparedTo=eE.cmp=function(e){var t,r,n,i,a=this.d,s=(e=new this.constructor(e)).d,o=this.s,u=e.s;if(!a||!s)return o&&u?o!==u?o:a===s?0:!a^o<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?o:s[0]?-u:0;if(o!==u)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(n=a.length,i=s.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==s[t])return a[t]>s[t]^o<0?1:-1;return n===i?0:n>i^o<0?1:-1},eE.cosine=eE.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/ez(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=eG(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,ej(n,r)),n.precision=e,n.rounding=t,eN(2==ea||3==ea?r.neg():r,e,t,!0)):new n(1):new n(NaN)},eE.cubeRoot=eE.cbrt=function(){var e,t,r,n,i,a,s,o,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(ec=!1,(a=this.s*eb(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new c(a.toString()):(r=ek(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=eb(r,1/3),e=eg((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),s=(e=c.precision)+3;;)if(n=e_((l=(u=(o=n).times(o).times(o)).plus(this)).plus(this).times(o),l.plus(u),s+2,1),ek(o.d).slice(0,s)===(r=ek(n.d)).slice(0,s))if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(eN(n,e+1,1),t=!n.times(n).times(n).eq(this));break}else{if(!i&&(eN(o,e+1,0),o.times(o).times(o).eq(this))){n=o;break}s+=4,i=1}return ec=!0,eN(n,e,c.rounding,t)},eE.decimalPlaces=eE.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-eg(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},eE.dividedBy=eE.div=function(e){return e_(this,new this.constructor(e))},eE.dividedToIntegerBy=eE.divToInt=function(e){var t=this.constructor;return eN(e_(this,new t(e),0,1,1),t.precision,t.rounding)},eE.equals=eE.eq=function(e){return 0===this.cmp(e)},eE.floor=function(){return eN(new this.constructor(this),this.e+1,3)},eE.greaterThan=eE.gt=function(e){return this.cmp(e)>0},eE.greaterThanOrEqualTo=eE.gte=function(e){var t=this.cmp(e);return 1==t||0===t},eE.hyperbolicCosine=eE.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/ez(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eG(s,1,a.times(t),new s(1),!0);for(var u,l=e,c=new s(8);l--;)u=a.times(a),a=o.minus(u.times(c.minus(u.times(c))));return eN(a,s.precision=r,s.rounding=n,!0)},eE.hyperbolicSine=eE.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=eG(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=eG(a,2,i=i.times(1/ez(5,e)),i,!0);for(var s,o=new a(5),u=new a(16),l=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(u.times(s).plus(l))))}return a.precision=t,a.rounding=r,eN(i,t,r,!0)},eE.hyperbolicTangent=eE.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,e_(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},eE.inverseCosine=eE.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return -1!==n?0===n?t.isNeg()?eO(r,i,a):new r(0):new r(NaN):t.isZero()?eO(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=eO(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))},eE.inverseHyperbolicCosine=eE.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ec=!1,r=r.times(r).minus(1).sqrt().plus(r),ec=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},eE.inverseHyperbolicSine=eE.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ec=!1,r=r.times(r).plus(1).sqrt().plus(r),ec=!0,n.precision=e,n.rounding=t,r.ln())},eE.inverseHyperbolicTangent=eE.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?eN(new a(i),e,t,!0):(a.precision=r=n-i.e,i=e_(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},eE.inverseSine=eE.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=eO(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},eE.inverseTangent=eE.atan=function(){var e,t,r,n,i,a,s,o,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=eS)return(s=eO(c,d+4,f).times(.25)).s=l.s,s}else{if(!l.s)return new c(NaN);if(d+4<=eS)return(s=eO(c,d+4,f).times(.5)).s=l.s,s}for(c.precision=o=d+10,c.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ec=!1,t=Math.ceil(o/7),n=1,u=l.times(l),s=new c(l),i=l;-1!==e;)if(i=i.times(u),a=s.minus(i.div(n+=2)),i=i.times(u),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),ec=!0,eN(s,c.precision=d,c.rounding=f,!0)},eE.isFinite=function(){return!!this.d},eE.isInteger=eE.isInt=function(){return!!this.d&&eg(this.e/7)>this.d.length-2},eE.isNaN=function(){return!this.s},eE.isNegative=eE.isNeg=function(){return this.s<0},eE.isPositive=eE.isPos=function(){return this.s>0},eE.isZero=function(){return!!this.d&&0===this.d[0]},eE.lessThan=eE.lt=function(e){return 0>this.cmp(e)},eE.lessThanOrEqualTo=eE.lte=function(e){return 1>this.cmp(e)},eE.logarithm=eE.log=function(e){var t,r,n,i,a,s,o,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(ec=!1,eP((o=e_(a=eq(this,s=l+5),t?eC(u,s+10):eq(e,s),s,1)).d,n=l,c))do if(s+=10,o=e_(a=eq(this,s),t?eC(u,s+10):eq(e,s),s,1),!i){+ek(o.d).slice(n+1,n+15)+1==1e14&&(o=eN(o,l+1,0));break}while(eP(o.d,n+=10,c))return ec=!0,eN(o,l,c)},eE.minus=eE.sub=function(e){var t,r,n,i,a,s,o,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,o=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return ec?eN(e,o,u):e}if(r=eg(e.e/7),c=eg(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,s=f.length):(t=f,r=c,s=l.length),a>(n=Math.max(Math.ceil(o/7),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=l.length)<(s=f.length))&&(s=n),n=0;n<s;n++)if(l[n]!=f[n]){d=l[n]<f[n];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),s=l.length,n=f.length-s;n>0;--n)l[s++]=0;for(n=f.length;n>a;){if(l[--n]<f[n]){for(i=n;i&&0===l[--i];)l[i]=1e7-1;--l[i],l[n]+=1e7}l[n]-=f[n]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=eR(l,r),ec?eN(e,o,u):e):new p(3===u?-0:0)},eE.modulo=eE.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(ec=!1,9==r.modulo?(t=e_(this,e.abs(),0,3,1),t.s*=e.s):t=e_(this,e,0,r.modulo,1),t=t.times(e),ec=!0,this.minus(t)):eN(new r(this),r.precision,r.rounding):new r(NaN)},eE.naturalExponential=eE.exp=function(){return eK(this)},eE.naturalLogarithm=eE.ln=function(){return eq(this)},eE.negated=eE.neg=function(){var e=new this.constructor(this);return e.s=-e.s,eN(e)},eE.plus=eE.add=function(e){var t,r,n,i,a,s,o,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,o=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),ec?eN(e,o,u):e;if(a=eg(this.e/7),n=eg(e.e/7),l=l.slice(),i=a-n){for(i<0?(r=l,i=-i,s=c.length):(r=c,n=a,s=l.length),i>(s=(a=Math.ceil(o/7))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/1e7|0,l[i]%=1e7;for(t&&(l.unshift(t),++n),s=l.length;0==l[--s];)l.pop();return e.d=l,e.e=eR(l,n),ec?eN(e,o,u):e},eE.precision=eE.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ef+e);return this.d?(t=eD(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},eE.round=function(){var e=this.constructor;return eN(new e(this),this.e+1,e.rounding)},eE.sine=eE.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:eG(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=eG(e,2,t=t.times(1/ez(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}(n,ej(n,r)),n.precision=e,n.rounding=t,eN(ea>2?r.neg():r,e,t,!0)):new n(NaN)},eE.squareRoot=eE.sqrt=function(){var e,t,r,n,i,a,s=this.d,o=this.e,u=this.s,l=this.constructor;if(1!==u||!s||!s[0])return new l(!u||u<0&&(!s||s[0])?NaN:s?this:1/0);for(ec=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=ek(s)).length+o)%2==0&&(t+="0"),u=Math.sqrt(t),o=eg((o+1)/2)-(o<0||o%2),n=new l(t=u==1/0?"5e"+o:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+o)):n=new l(u.toString()),r=(o=l.precision)+3;;)if(n=(a=n).plus(e_(this,a,r+2,1)).times(.5),ek(a.d).slice(0,r)===(t=ek(n.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(eN(n,o+1,1),e=!n.times(n).eq(this));break}else{if(!i&&(eN(a,o+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return ec=!0,eN(n,o,l.rounding,e)},eE.tangent=eE.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=e_(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,eN(2==ea||4==ea?r.neg():r,e,t,!0)):new n(NaN)},eE.times=eE.mul=function(e){var t,r,n,i,a,s,o,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=eg(this.e/7)+eg(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,s=u,u=l,l=s),a=[],n=s=u+l;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)o=a[i]+f[n]*d[i-n-1]+t,a[i--]=o%1e7|0,t=o/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=eR(a,r),ec?eN(e,c.precision,c.rounding):e},eE.toBinary=function(e,t){return eH(this,2,e,t)},eE.toDecimalPlaces=eE.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(eT(e,0,1e9),void 0===t?t=n.rounding:eT(t,0,8),eN(r,e+r.e+1,t))},eE.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=eB(n,!0):(eT(e,0,1e9),void 0===t?t=i.rounding:eT(t,0,8),r=eB(n=eN(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},eE.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=eB(this):(eT(e,0,1e9),void 0===t?t=i.rounding:eT(t,0,8),r=eB(n=eN(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},eE.toFraction=function(e){var t,r,n,i,a,s,o,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),n=u=new h(0),s=(a=(t=new h(n)).e=eD(p)-this.e-1)%7,t.d[0]=eb(10,s<0?7+s:s),null==e)e=a>0?t:l;else{if(!(o=new h(e)).isInt()||o.lt(l))throw Error(ef+o);e=o.gt(t)?a>0?t:l:o}for(ec=!1,o=new h(ek(p)),c=h.precision,h.precision=a=7*p.length*2;d=e_(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(d.times(i)),u=i,i=t,t=o.minus(d.times(i)),o=i;return i=e_(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=this.s,f=1>e_(l,n,a,1).minus(this).abs().cmp(e_(u,r,a,1).minus(this).abs())?[l,n]:[u,r],h.precision=c,ec=!0,f},eE.toHexadecimal=eE.toHex=function(e,t){return eH(this,16,e,t)},eE.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:eT(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ec=!1,r=e_(r,e,0,t,1).times(e),ec=!0,eN(r)):(e.s=r.s,r=e),r},eE.toNumber=function(){return+this},eE.toOctal=function(e,t){return eH(this,8,e,t)},eE.toPower=eE.pow=function(e){var t,r,n,i,a,s,o=this,u=o.constructor,l=+(e=new u(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new u(eb(+o,l));if((o=new u(o)).eq(1))return o;if(n=u.precision,a=u.rounding,e.eq(1))return eN(o,n,a);if((t=eg(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return i=eF(u,o,r,n),e.s<0?new u(1).div(i):eN(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=eb(+o,l))&&isFinite(r)?new u(r+"").e:eg(l*(Math.log("0."+ek(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(ec=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=eK(e.times(eq(o,n+r)),n)).d&&eP((i=eN(i,n+5,1)).d,n,a)&&(t=n+10,+ek((i=eN(eK(e.times(eq(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=eN(i,n+1,0))),i.s=s,ec=!0,u.rounding=a,eN(i,n,a))},eE.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=eB(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(eT(e,1,1e9),void 0===t?t=i.rounding:eT(t,0,8),r=eB(n=eN(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},eE.toSignificantDigits=eE.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(eT(e,1,1e9),void 0===t?t=r.rounding:eT(t,0,8)),eN(new r(this),e,t)},eE.toString=function(){var e=this.constructor,t=eB(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},eE.truncated=eE.trunc=function(){return eN(new this.constructor(this),this.e+1,1)},eE.valueOf=eE.toJSON=function(){var e=this.constructor,t=eB(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var e_=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,u){var l,c,d,f,p,h,m,g,b,y,x,A,w,v,S,E,k,T,P,I,_=n.constructor,N=n.s==i.s?1:-1,B=n.d,R=i.d;if(!B||!B[0]||!R||!R[0])return new _(!n.s||!i.s||(B?R&&B[0]==R[0]:!R)?NaN:B&&0==B[0]||!R?0*N:N/0);for(u?(p=1,c=n.e-i.e):(u=1e7,p=7,c=eg(n.e/p)-eg(i.e/p)),P=R.length,k=B.length,y=(b=new _(N)).d=[],d=0;R[d]==(B[d]||0);d++);if(R[d]>(B[d]||0)&&c--,null==a?(v=a=_.precision,s=_.rounding):v=o?a+(n.e-i.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,R=R[0],v++;(d<k||f)&&v--;d++)S=f*u+(B[d]||0),y[d]=S/R|0,f=S%R|0;h=f||d<k}else{for((f=u/(R[0]+1)|0)>1&&(R=e(R,f,u),B=e(B,f,u),P=R.length,k=B.length),E=P,A=(x=B.slice(0,P)).length;A<P;)x[A++]=0;(I=R.slice()).unshift(0),T=R[0],R[1]>=u/2&&++T;do f=0,(l=t(R,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/T|0)>1?(f>=u&&(f=u-1),g=(m=e(R,f,u)).length,A=x.length,1==(l=t(m,x,g,A))&&(f--,r(m,P<g?I:R,g,u))):(0==f&&(l=f=1),m=R.slice()),(g=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(R,x,P,A))<1&&(f++,r(x,P<A?I:R,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=B[E]||0:(x=[B[E]],A=1);while((E++<k||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)b.e=c,ei=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;b.e=d+c*p-1,eN(b,o?a+b.e+1:a,s,h)}return b}}();function eN(e,t,r,n){var i,a,s,o,u,l,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=7,s=t,u=(c=d[f=0])/eb(10,i-s-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(o=d.length))if(n){for(;o++<=f;)d.push(0);c=u=0,i=1,a%=7,s=a-7+1}else break e;else{for(c=o=d[f],i=1;o>=10;o/=10)i++;a%=7,u=(s=a-7+i)<0?0:c/eb(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[f+1]||(s<0?c:c%eb(10,i-s-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?s>0?c/eb(10,i-s):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=eb(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,o=1,f--):(d.length=f+1,o=eb(10,7-a),d[f]=s>0?(c/eb(10,i-s)%eb(10,s)|0)*o:0),l)for(;;)if(0==f){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=o,1e7!=d[f])break;d[f--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return ec&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function eB(e,t,r){if(!e.isFinite())return eW(e);var n,i=e.e,a=ek(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+eU(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+eU(-i-1)+a,r&&(n=r-s)>0&&(a+=eU(n))):i>=s?(a+=eU(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+eU(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=eU(n))),a}function eR(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function eC(e,t,r){if(t>ev)throw ec=!0,r&&(e.precision=r),Error(ep);return eN(new e(eo),t,1,!0)}function eO(e,t,r){if(t>eS)throw Error(ep);return eN(new e(eu),t,r,!0)}function eD(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function eU(e){for(var t="";e--;)t+="0";return t}function eF(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/7+4);for(ec=!1;;){if(r%2&&eQ((a=a.times(t)).d,s)&&(i=!0),0===(r=eg(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}eQ((t=t.times(t)).d,s)}return ec=!0,a}function eM(e){return 1&e.d[e.d.length-1]}function eL(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;)if((n=new e(t[a])).s)i[r](n)&&(i=n);else{i=n;break}return i}function eK(e,t){var r,n,i,a,s,o,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(ec=!1,u=h):u=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(u+=n=Math.log(eb(2,d))/Math.LN10*2+5|0,r=a=s=new f(1),f.precision=u;;){if(a=eN(a.times(e),u,1),r=r.times(++c),ek((o=s.plus(e_(a,r,u,1))).d).slice(0,u)===ek(s.d).slice(0,u)){for(i=d;i--;)s=eN(s.times(s),u,1);if(null!=t)return f.precision=h,s;if(!(l<3&&eP(s.d,u-n,p,l)))return eN(s,f.precision=h,p,ec=!0);f.precision=u+=10,r=a=o=new f(1),c=0,l++}s=o}}function eq(e,t){var r,n,i,a,s,o,u,l,c,d,f,p=1,h=e,m=h.d,g=h.constructor,b=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(ec=!1,c=y):c=t,g.precision=c+=10,n=(r=ek(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=eC(g,c+2,y).times(a+""),h=eq(new g(n+"."+r.slice(1)),c-10).plus(l),g.precision=y,null==t?eN(h,y,b,ec=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=ek((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1)),d=h,u=s=h=e_(h.minus(1),h.plus(1),c,1),f=eN(h.times(h),c,1),i=3;;){if(s=eN(s.times(f),c,1),ek((l=u.plus(e_(s,new g(i),c,1))).d).slice(0,c)===ek(u.d).slice(0,c))if(u=u.times(2),0!==a&&(u=u.plus(eC(g,c+2,y).times(a+""))),u=e_(u,new g(p),c,1),null!=t)return g.precision=y,u;else{if(!eP(u.d,c-10,b,o))return eN(u,g.precision=y,b,ec=!0);g.precision=c+=10,l=s=h=e_(d.minus(1),d.plus(1),c,1),f=eN(h.times(h),c,1),i=o=1}u=l,i+=2}}function eW(e){return String(e.s*e.s/0)}function eV(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),ec&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eG(e,t,r,n,i){var a,s,o,u,l=e.precision,c=Math.ceil(l/7);for(ec=!1,u=r.times(r),o=new e(n);;){if(s=e_(o.times(u),new e(t++*t++),l,1),o=i?n.plus(s):n.minus(s),n=e_(s.times(u),new e(t++*t++),l,1),void 0!==(s=o.plus(n)).d[c]){for(a=c;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return ec=!0,s.d.length=c+1,s}function ez(e,t){for(var r=e;--t;)r*=e;return r}function ej(e,t){var r,n=t.s<0,i=eO(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return ea=n?4:1,t;if((r=t.divToInt(i)).isZero())ea=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return ea=eM(r)?n?2:3:n?4:1,t;ea=eM(r)?n?1:4:n?3:2}return t.minus(i).abs()}function eH(e,t,r,n){var i,a,s,o,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?(eT(r,1,1e9),void 0===n?n=p.rounding:eT(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(s=(c=eB(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-s,f.d=eI(eB(f),10,i),f.e=f.d.length),a=u=(d=eI(c,10,i)).length;0==d[--u];)d.pop();if(d[0]){if(s<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=e_(e,f,r,n,0,i)).d,a=e.e,l=ei),s=d[r],o=i/2,l=l||void 0!==d[r+1],l=n<4?(void 0!==s||l)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||l||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(s=0,c="";s<u;s++)c+=es.charAt(d[s]);if(h){if(u>1)if(16==t||8==t){for(s=16==t?4:3,--u;u%s;u++)c+="0";for(u=(d=eI(c,i,t)).length;!d[u-1];--u);for(s=1,c="1.";s<u;s++)c+=es.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eW(e);return e.s<0?"-"+c:c}function eQ(e,t){if(e.length>t)return e.length=t,!0}function eX(e){return new this(e).abs()}function eJ(e){return new this(e).acos()}function eY(e){return new this(e).acosh()}function eZ(e,t){return new this(e).plus(t)}function e$(e){return new this(e).asin()}function e0(e){return new this(e).asinh()}function e1(e){return new this(e).atan()}function e2(e){return new this(e).atanh()}function e4(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?eO(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=eO(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(e_(e,t,a,1)),t=eO(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(e_(e,t,a,1)):(r=eO(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function e6(e){return new this(e).cbrt()}function e3(e){return eN(e=new this(e),e.e+1,2)}function e5(e,t,r){return new this(e).clamp(t,r)}function e8(e){if(!e||"object"!=typeof e)throw Error(ed+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=el[r]),void 0!==(n=e[r]))if(eg(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ef+r+": "+n);if(r="crypto",i&&(this[r]=el[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(eh);else this[r]=!1;else throw Error(ef+r+": "+n);return this}function e7(e){return new this(e).cos()}function e9(e){return new this(e).cosh()}function te(e,t){return new this(e).div(t)}function tt(e){return new this(e).exp()}function tr(e){return eN(e=new this(e),e.e+1,3)}function tn(){var e,t,r=new this(0);for(ec=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ec=!0,new this(1/0);r=t}return ec=!0,r.sqrt()}function ti(e){return e instanceof tk||e&&e.toStringTag===em||!1}function ta(e){return new this(e).ln()}function ts(e,t){return new this(e).log(t)}function to(e){return new this(e).log(2)}function tu(e){return new this(e).log(10)}function tl(){return eL(this,arguments,"lt")}function tc(){return eL(this,arguments,"gt")}function td(e,t){return new this(e).mod(t)}function tf(e,t){return new this(e).mul(t)}function tp(e,t){return new this(e).pow(t)}function th(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:eT(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(eh);else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=7,n&&e&&(i=eb(10,7-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return s.e=r,s.d=o,s}function tm(e){return eN(e=new this(e),e.e+1,this.rounding)}function tg(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function tb(e){return new this(e).sin()}function ty(e){return new this(e).sinh()}function tx(e){return new this(e).sqrt()}function tA(e,t){return new this(e).sub(t)}function tw(){var e=0,t=arguments,r=new this(t[0]);for(ec=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ec=!0,eN(r,this.precision,this.rounding)}function tv(e){return new this(e).tan()}function tS(e){return new this(e).tanh()}function tE(e){return eN(e=new this(e),e.e+1,1)}eE[Symbol.for("nodejs.util.inspect.custom")]=eE.toString,eE[Symbol.toStringTag]="Decimal";var tk=eE.constructor=function e(t){var r,n,i;function a(e){var t,r,n;if(!(this instanceof a))return new a(e);if(this.constructor=a,ti(e)){this.s=e.s,ec?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;ec?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eV(this,e.toString())}if("string"!==n)throw Error(ef+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),ew.test(e)?eV(this,e):function(e,t){var r,n,i,a,s,o,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ew.test(t))return eV(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ex.test(t))r=16,t=t.toLowerCase();else if(ey.test(t))r=2;else if(eA.test(t))r=8;else throw Error(ef+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=eF(n,new n(r),a,2*a)),a=c=(l=eI(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new n(0*e.s):(e.e=eR(l,c),e.d=l,ec=!1,s&&(e=e_(e,i,4*o)),u&&(e=e.times(54>Math.abs(u)?eb(2,u):tk.pow(2,u))),ec=!0,e)}(this,e)}if(a.prototype=eE,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=e8,a.clone=e,a.isDecimal=ti,a.abs=eX,a.acos=eJ,a.acosh=eY,a.add=eZ,a.asin=e$,a.asinh=e0,a.atan=e1,a.atanh=e2,a.atan2=e4,a.cbrt=e6,a.ceil=e3,a.clamp=e5,a.cos=e7,a.cosh=e9,a.div=te,a.exp=tt,a.floor=tr,a.hypot=tn,a.ln=ta,a.log=ts,a.log10=tu,a.log2=to,a.max=tl,a.min=tc,a.mod=td,a.mul=tf,a.pow=tp,a.random=th,a.round=tm,a.sign=tg,a.sin=tb,a.sinh=ty,a.sqrt=tx,a.sub=tA,a.sum=tw,a.tan=tv,a.tanh=tS,a.trunc=tE,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(el);eo=new tk(eo),eu=new tk(eu);var tT=R.default,tP=((n=tP||{})[n.ROUND_DOWN=0]="ROUND_DOWN",n[n.ROUND_HALF_UP=1]="ROUND_HALF_UP",n[n.ROUND_UP=2]="ROUND_UP",n);function tI(e){let t=$("Raydium_parseBigNumberish");if(e instanceof A.default)return e;if("string"==typeof e){if(e.match(/^-?[0-9]+$/))return new A.default(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return"number"==typeof e?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&t.logWithError(`BigNumberish number overflow: ${e}`),new A.default(String(e))):"bigint"==typeof e?new A.default(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new A.default(0))}var t_=$("module/fraction"),tN=tT(B),tB=tT(C.default),tR={0:tB.ROUND_DOWN,1:tB.ROUND_HALF_UP,2:tB.ROUND_UP},tC={0:B.roundDown,1:B.roundHalfUp,2:B.roundUp},tO=class{constructor(e,t=new A.default(1)){this.numerator=tI(e),this.denominator=tI(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new tO(this.denominator,this.numerator)}add(e){let t=e instanceof tO?e:new tO(tI(e));return this.denominator.eq(t.denominator)?new tO(this.numerator.add(t.numerator),this.denominator):new tO(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof tO?e:new tO(tI(e));return this.denominator.eq(t.denominator)?new tO(this.numerator.sub(t.numerator),this.denominator):new tO(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof tO?e:new tO(tI(e));return new tO(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof tO?e:new tO(tI(e));return new tO(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||t_.logWithError(`${e} is not an integer.`),e<=0&&t_.logWithError(`${e} is not positive.`),tB.set({precision:e+1,rounding:tR[r]});let n=new tB(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return n.toFormat(n.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||t_.logWithError(`${e} is not an integer.`),e<0&&t_.logWithError(`${e} is negative.`),tN.DP=e,tN.RM=tC[r]||1,new tN(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}},tD=$("Raydium_amount"),tU=tT(B),tF=class extends tO{constructor(e,t,r=!0,n){let i=new A.default(0),a=t5.pow(new A.default(e.decimals));if(r)i=tI(t);else{let r=new A.default(0),n=new A.default(0);if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){let[i,a]=function(e,t){let r="0",n="0";if(e.includes(".")){let i=e.split(".");2===i.length?([r,n]=i,n=n.padEnd(t,"0")):tD.logWithError(`invalid number string, num: ${e}`)}else r=e;return[r,n.slice(0,t)||n]}(t.toString(),e.decimals);r=tI(i),n=tI(a)}i=(r=r.mul(a)).add(n)}super(i,a),this.logger=$(n||"TokenAmount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new tF(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new tF(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,t,r=0){return super.toSignificant(e,t,r)}toFixed(e=this.token.decimals,t,r=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,t,r)}toExact(e={groupSeparator:""}){return tU.DP=this.token.decimals,new tU(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},tM={chainId:101,address:h.PublicKey.default.toBase58(),programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},tL={chainId:101,address:"So11111111111111111111111111111111111111112",programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};function tK({pubkey:e,isSigner:t=!1,isWritable:r=!0}){return{pubkey:e,isWritable:r,isSigner:t}}tK({pubkey:y.TOKEN_PROGRAM_ID,isWritable:!1}),tK({pubkey:h.SystemProgram.programId,isWritable:!1}),tK({pubkey:h.SYSVAR_RENT_PUBKEY,isWritable:!1});function tq({publicKey:e,transformSol:t}){let r=tW(e.toString());if(r instanceof h.PublicKey)return t&&r.equals(tJ)?tX:r;if(t&&r.toString()===tJ.toBase58())return tX;if("string"==typeof r){if(r===h.PublicKey.default.toBase58())return h.PublicKey.default;try{return new h.PublicKey(r)}catch{}}throw Error("invalid public key")}function tW(e){try{return new h.PublicKey(e)}catch{return e}}var tV=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tG=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tz=new h.PublicKey("SysvarRent111111111111111111111111111111111"),tj=new h.PublicKey("SysvarC1ock11111111111111111111111111111111"),tH=new h.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),tQ=(new h.PublicKey("Sysvar1nstructions1111111111111111111111111"),h.SystemProgram.programId),tX=(new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),new h.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),new h.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),new h.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new h.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new h.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),new h.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),new h.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),new h.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),new h.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),new h.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),new h.PublicKey("So11111111111111111111111111111111111111112")),tJ=h.PublicKey.default;function tY(e){return tq({publicKey:e,transformSol:!0})}var tZ=class{constructor({mint:e,decimals:t,symbol:r,name:n,skipMint:i=!1,isToken2022:a=!1}){if(e===tJ.toBase58()||e instanceof h.PublicKey&&tJ.equals(e)){this.decimals=tL.decimals,this.symbol=tL.symbol,this.name=tL.name,this.mint=new h.PublicKey(tL.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=n||e.toString().substring(0,6),this.mint=i?h.PublicKey.default:tq({publicKey:e}),this.isToken2022=a}equals(e){return this===e||this.mint.equals(e.mint)}};tZ.WSOL=new tZ(H(j({},tL),{mint:tL.address}));var t$=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}};t$.SOL=new t$(tM);var t0=new tO(new A.default(100)),t1=class extends tO{toSignificant(e=5,t,r){return this.mul(t0).toSignificant(e,t,r)}toFixed(e=2,t,r){return this.mul(t0).toFixed(e,t,r)}},t2=$("Raydium_price"),t4=class extends tO{constructor(e){var t,r;let{baseToken:n,quoteToken:i,numerator:a,denominator:s}=e;super(a,s),this.baseToken=n,this.quoteToken=i,this.scalar=new tO((t=n.decimals,t5.pow(tI(t))),(r=i.decimals,t5.pow(tI(r))))}get raw(){return new tO(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new t4({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&t2.logWithError("mul token not equals");let t=super.mul(e);return new t4({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:t.denominator,numerator:t.numerator})}toSignificant(e=this.quoteToken.decimals,t,r){return this.adjusted.toSignificant(e,t,r)}toFixed(e=this.quoteToken.decimals,t,r){return this.adjusted.toFixed(e,t,r)}},t6=new A.default(0),t3=new A.default(1),t5=(new A.default(2),new A.default(3),new A.default(5),new A.default(10));function t8(e,t,r){return e.mul(t).add(r).sub(new A.default(1)).div(r)}function t7(e,t=1,r=[]){let n=[...e];if(t<=0)return r;for(;n.length;)r.push(n.splice(0,t));return r}new A.default(100),new A.default(1e3),new A.default(1e4);var t9=((i=t9||{})[i.V0=0]="V0",i[i.LEGACY=1]="LEGACY",i),re="CreateAccount",rt="ClmmOpenPosition",rr="ClmmIncreasePosition",rn="ClmmDecreasePosition",ri="ClmmSwapBaseIn",ra=$("Raydium_txUtil");function rs(e){let t=[],r=[];return e.microLamports&&(t.push(h.ComputeBudgetProgram.setComputeUnitPrice({microLamports:e.microLamports})),r.push("SetComputeUnitPrice")),e.units&&(t.push(h.ComputeBudgetProgram.setComputeUnitLimit({units:e.units})),r.push("SetComputeUnitLimit")),{instructions:t,instructionTypes:r}}async function ro(e,t){var r,n;return null==(n=await (null==(r=e.getLatestBlockhash)?void 0:r.call(e,{commitment:null!=t?t:"confirmed"})))?void 0:n.blockhash}async function ru(e,t){return e.getSignatureStatuses([t]),new Promise((r,n)=>{let i=setTimeout(n,6e4);e.onSignature(t,e=>{(clearTimeout(i),e.err)?n(Object.assign(e.err,{txId:t})):r("")},"confirmed")})}function rl(e,t){e.length<1&&ra.logWithError(`no instructions provided: ${e.toString()}`),t.length<1&&ra.logWithError(`no signers provided:, ${t.toString()}`);let r=new h.Transaction;r.recentBlockhash="11111111111111111111111111111111",r.feePayer=t[0],r.add(...e);try{return f.Buffer.from(r.serialize({verifySignatures:!1})).toString("base64").length<1644}catch{return!1}}function rc(e,t){let[r,n]=h.PublicKey.findProgramAddressSync(e,t);return{publicKey:r,nonce:n}}function rd({instructions:e,payer:t,signers:r}){return rl(e,[t,...r])}function rf({instructions:e,payer:t,lookupTableAddressAccount:r,recentBlockhash:n=h.Keypair.generate().publicKey.toString()}){let i=new h.TransactionMessage({payerKey:t,recentBlockhash:n,instructions:e}).compileToV0Message(Object.values(null!=r?r:{}));try{return f.Buffer.from(new h.VersionedTransaction(i).serialize()).toString("base64").length<1644}catch{return!1}}function rp(e){let t=[];return e.forEach(e=>{e instanceof h.Transaction&&(e.recentBlockhash||(e.recentBlockhash=y.TOKEN_PROGRAM_ID.toBase58()),e.feePayer||(e.feePayer=h.Keypair.generate().publicKey)),t.push((e=>{let t,r=e.serialize({requireAllSignatures:!1,verifySignatures:!1});e instanceof h.VersionedTransaction&&(t=r,r=f.Buffer.isBuffer(t)?t:t instanceof Uint8Array?f.Buffer.from(t.buffer,t.byteOffset,t.byteLength):f.Buffer.from(t));try{return r instanceof f.Buffer?r.toString("base64"):f.Buffer.from(r).toString("base64")}catch{return r.toString("base64")}})(e))}),console.log("simulate tx string:",t),t}function rh(e,t,r){return rc([e.toBuffer(),(null!=r?r:y.TOKEN_PROGRAM_ID).toBuffer(),t.toBuffer()],new h.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var rm=new h.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),rg=new h.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),rb=new h.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),ry=new h.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),rx=(new h.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new h.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX")),rA=new h.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),rw=new h.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),rv=(new h.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo")),rS=new h.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),rE=new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),rk=new h.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),rT=(new h.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),new h.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")),rP=new h.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),rI=new h.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),r_=new h.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),rN=new h.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),rB=new h.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),rR=new h.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),rC=(new h.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),new h.PublicKey("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),new h.PublicKey("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),new h.PublicKey("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE")),rO=(new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH")),rD=(new h.PublicKey("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),new h.PublicKey("LanMkFSVSncjWqWAM8MUHenZzt9xTcT3DcAp949ZwbF"));function rU(e,t,r,n){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};let i=H(j({},t),{olderTransferFee:{epoch:BigInt(t.olderTransferFee.epoch),maximumFee:BigInt(t.olderTransferFee.maximumFee),transferFeeBasisPoints:t.olderTransferFee.transferFeeBasisPoints},newerTransferFee:{epoch:BigInt(t.newerTransferFee.epoch),maximumFee:BigInt(t.newerTransferFee.maximumFee),transferFeeBasisPoints:t.newerTransferFee.transferFeeBasisPoints}}),a=r.epoch<i.newerTransferFee.epoch?i.olderTransferFee:i.newerTransferFee,s=new A.default(a.maximumFee.toString()),o=r.epoch<i.newerTransferFee.epoch?(Number(i.newerTransferFee.epoch)*r.slotsInEpoch-r.absoluteSlot)*400/1e3:void 0;if(n)if(1e4===a.transferFeeBasisPoints){let t=new A.default(a.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:o}}else{let t=rM(e.mul(new A.default(1e4)),new A.default(1e4-a.transferFeeBasisPoints)),r=new A.default(a.maximumFee.toString()),n=t.sub(e).gt(r)?e.add(r):t,i=rM(n.mul(new A.default(a.transferFeeBasisPoints)),new A.default(1e4));return{amount:n,fee:i.gt(s)?s:i,expirationTime:o}}{let t=rM(e.mul(new A.default(a.transferFeeBasisPoints)),new A.default(1e4));return{amount:e,fee:t.gt(s)?s:t,expirationTime:o}}}function rF(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}function rM(e,t){let{div:r,mod:n}=e.divmod(t);return n.gt(new A.default(0))?r.add(new A.default(1)):r}function rL(e,t){if(e.isZero())return new A.default(0);let r=e.div(t);return r.isZero()?new A.default(1):e.mod(t).gt(new A.default(0))?r.add(new A.default(1)):r}async function rK({connection:e,address:t}){let r=await et(e,[...new Set(t.map(e=>e.toString()))].map(e=>new h.PublicKey(e))),n={};for(let e=0;e<t.length;e++){let i=r[e],a=t[e];if(!i)continue;let s=new h.AddressLookupTableAccount({key:a,state:h.AddressLookupTableAccount.deserialize(i.data)});n[a.toString()]=s,rq[a.toString()]=s}return n}new h.PublicKey("495mQpkX8mHAv18yGsfubCXbFQ9Jok1L1BvMrV9KvCHr"),new h.PublicKey("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),new h.PublicKey("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ"),h.PublicKey.default,new h.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),h.PublicKey.default,new h.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new h.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new h.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new h.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new h.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new h.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),new h.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),new h.PublicKey("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR");var rq={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new h.AddressLookupTableAccount({key:new h.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:h.AddressLookupTableAccount.deserialize(f.Buffer.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})},rW=class{constructor(e){this.instructions=[],this.endInstructions=[],this.lookupTableAddress=[],this.signers=[],this.instructionTypes=[],this.endInstructionTypes=[],this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var e;let t=(await p.default.get("https://solanacompass.com/api/fees?cacheFreshTime=300000")).data,{avg:r}=null!=(e=null==t?void 0:t[15])?e:{};if(r)return{units:6e5,microLamports:Math.min(Math.ceil(1e6*r/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:r}=rs(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){var t;return!!e&&(this.endInstructions.push(h.SystemProgram.transfer({fromPubkey:null!=(t=e.feePayer)?t:this.feePayer,toPubkey:new h.PublicKey(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push("TransferTip"),!0)}async calComputeBudget({config:e,defaultIns:t}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:r=[],instructionTypes:n=[],endInstructionTypes:i=[],lookupTableAddress:a=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...r),this.instructionTypes.push(...n),this.endInstructionTypes.push(...i),this.lookupTableAddress.push(...a.filter(e=>e!==h.PublicKey.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return 0===e?await this.buildV0(j({},t||{})):this.build(t)}build(e){var t;let r=new h.Transaction;return this.allInstructions.length&&r.add(...this.allInstructions),r.feePayer=this.feePayer,(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:r,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{recentBlockHash:n,skipPreflight:i=!0,sendAndConfirm:a,notSendToRpc:s}=e||{};if(r.recentBlockhash=null!=n?n:await ro(this.connection,this.blockhashCommitment),this.signers.length&&r.sign(...this.signers),rp([r]),null!=(t=this.owner)&&t.isKeyPair)return{txId:a?await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:i}):await this.connection.sendRawTransaction(r.serialize(),{skipPreflight:i}),signedTx:r};if(this.signAllTransactions){let e=await this.signAllTransactions([r]);if(this.signers.length)for(let t of e)try{t.sign(...this.signers)}catch{}return{txId:s?"":await this.connection.sendRawTransaction(e[0].serialize(),{skipPreflight:i}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var t;let{extraPreBuildData:r=[],extInfo:n}=e,{transaction:i}=this.build(n),a=r.filter(e=>e.transaction.instructions.length>0),s=[i,...a.map(e=>e.transaction)],o=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&o.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:s,signers:o,instructionTypes:u,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:a,skipPreflight:u=!0}=e||{},l=null!=a?a:await ro(this.connection,this.blockhashCommitment);if(null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[],t=0;for(let r of s){if(++t<=i)continue;let n=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:u});e.push(n)}return{txIds:e,signedTxs:s}}return{txIds:await await Promise.all(s.map(async e=>(e.recentBlockhash=l,await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:u})))),signedTxs:s}}if(this.signAllTransactions){let e=s.map((e,t)=>(e.recentBlockhash=l,o[t].length&&e.sign(...o[t]),e));rp(e);let t=await this.signAllTransactions(e);if(r){let e=0,r=[],i=async()=>{if(!t[e])return;let a=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:u});r.push({txId:a,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let s=!1,o=null,l=null,c=e=>{null!==o&&clearInterval(o),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===a);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||i()};this.loopMultiTxStatus&&(o=setInterval(async()=>{var e;if(s)return void clearInterval(o);try{let t=await this.connection.getTransaction(a,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(s=!0,clearInterval(o),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",a))}catch(e){s=!0,clearInterval(o),console.error("getTransaction timeout:",e,a)}},2e3)),l=this.connection.onSignature(a,e=>{s?this.connection.removeSignatureListener(l):(s=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(a)};return await i(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:u});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:n||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:r}){return 0===t?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e){var t;let r=e||{},{lookupTableCache:n={},lookupTableAddress:i=[],forerunCreate:a,recentBlockhash:s}=r,o=Q(r,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),u=j(j({},"devnet"===this.cluster?{}:rq),n),l=Array.from(new Set([...i,...this.lookupTableAddress])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rK({connection:this.connection,address:c})))u[e]=t;let d=a?h.PublicKey.default.toBase58():null!=s?s:await ro(this.connection,this.blockhashCommitment),f=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:d,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(u));(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let p=new h.VersionedTransaction(f);return p.sign(this.signers),{builder:this,transaction:p,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{skipPreflight:r=!0,sendAndConfirm:n,notSendToRpc:i}=e||{};if(rp([p]),null!=(t=this.owner)&&t.isKeyPair){let e=await this.connection.sendTransaction(p,{skipPreflight:r});return n&&await ru(this.connection,e),{txId:e,signedTx:p}}if(this.signAllTransactions){let e=await this.signAllTransactions([p]);if(this.signers.length)for(let t of e)try{t.sign(this.signers)}catch{}return{txId:i?"":await this.connection.sendTransaction(e[0],{skipPreflight:r}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:o||{}}}async buildV0MultiTx(e){var t;let{extraPreBuildData:r=[],buildProps:n}=e,{transaction:i}=await this.buildV0(n),a=r.filter(e=>e.builder.instructions.length>0),s=[i,...a.map(e=>e.transaction)],o=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&o.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),s.forEach(async(e,t)=>{e.sign(o[t])}),{builder:this,transactions:s,signers:o,instructionTypes:u,buildProps:n,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,recentBlockHash:i,skipPreflight:a=!0}=e||{};if(i&&s.forEach(e=>e.message.recentBlockhash=i),rp(s),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[];for(let t of s){let r=await this.connection.sendTransaction(t,{skipPreflight:a});await ru(this.connection,r),e.push(r)}return{txIds:e,signedTxs:s}}return{txIds:await Promise.all(s.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:a}))),signedTxs:s}}if(this.signAllTransactions){let e=await this.signAllTransactions(s);if(r){let t=0,r=[],i=async()=>{if(!e[t])return;let s=await this.connection.sendTransaction(e[t],{skipPreflight:a});r.push({txId:s,status:"sent",signedTx:e[t]}),null==n||n([...r]),t++;let o=!1,u=null,l=null,c=e=>{null!==u&&clearInterval(u),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||i()};this.loopMultiTxStatus&&(u=setInterval(async()=>{var e;if(o)return void clearInterval(u);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(o=!0,clearInterval(u),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){o=!0,clearInterval(u),console.error("getTransaction timeout:",e,s)}},2e3)),l=this.connection.onSignature(s,e=>{o?this.connection.removeSignatureListener(l):(o=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(s)};return i(),{txIds:[],signedTxs:e}}{let t=[];for(let r=0;r<e.length;r+=1){let n=await this.connection.sendTransaction(e[r],{skipPreflight:a});t.push(n)}return{txIds:t,signedTxs:e}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:n||{}}}async sizeCheckBuild(e){var t;let r=e||{},{splitIns:n=[],computeBudgetConfig:i}=r,a=Q(r,["splitIns","computeBudgetConfig"]),s=i?rs(i):{instructions:[],instructionTypes:[]},o=this.signers.reduce((e,t)=>H(j({},e),{[t.publicKey.toBase58()]:t}),{}),u=[],l=[],c=[],d=0;if(this.allInstructions.forEach(e=>{let t=[...c,e],r=i?[...s.instructions,...t]:t,a=[...new Set(t.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>new h.PublicKey(e));if(e!==n[d]&&c.length<12&&(rd({instructions:r,payer:this.feePayer,signers:a})||rd({instructions:t,payer:this.feePayer,signers:a})))c.push(e);else{if(0===c.length)throw Error("item ins too big");d+=+(e===n[d]),rd({instructions:i?[...s.instructions,...c]:[...c],payer:this.feePayer,signers:a})?u.push(new h.Transaction().add(...s.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(Array.from(new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>o[e]).filter(e=>void 0!==e)),c=[e]}}),c.length>0){let e=[...new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>o[e]).filter(e=>void 0!==e);rd({instructions:i?[...s.instructions,...c]:[...c],payer:this.feePayer,signers:e.map(e=>e.publicKey)})?u.push(new h.Transaction().add(...s.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(e)}return u.forEach(e=>e.feePayer=this.feePayer),null!=(t=this.owner)&&t.signer&&l.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:u,signers:l,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:a,skipPreflight:s=!0}=e||{},o=null!=a?a:await ro(this.connection,this.blockhashCommitment);if(u.forEach(async(e,t)=>{e.recentBlockhash=o,l[t].length&&e.sign(...l[t])}),rp(u),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of u){if(++e<=i){t.push("tx skipped");continue}let n=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:s});t.push(n)}return{txIds:t,signedTxs:u}}return{txIds:await Promise.all(u.map(async e=>await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:s}))),signedTxs:u}}if(this.signAllTransactions){let e=await this.signAllTransactions(u.slice(i,u.length)),t=[...u.slice(0,i),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;e<i&&(r.push({txId:"",status:"success",signedTx:t[e]}),null==n||n([...r]),e++,a());let o=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:s});r.push({txId:o,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===o);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,o)}},2e3)),c=this.connection.onSignature(o,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(o)};return await a(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:s});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:a||{}}}async sizeCheckBuildV0(e){var t;let r=e||{},{computeBudgetConfig:n,splitIns:i=[],lookupTableCache:a={},lookupTableAddress:s=[]}=r,o=Q(r,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),u=j(j({},"devnet"===this.cluster?{}:rq),a),l=Array.from(new Set([...this.lookupTableAddress,...s])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rK({connection:this.connection,address:c})))u[e]=t;let d=n?rs(n):{instructions:[],instructionTypes:[]},f=await ro(this.connection,this.blockhashCommitment),p=this.signers.reduce((e,t)=>H(j({},e),{[t.publicKey.toBase58()]:t}),{}),m=[],g=[],b=[],y=0;if(this.allInstructions.forEach(e=>{let t=[...b,e],r=n?[...d.instructions,...t]:t;if(e!==i[y]&&b.length<12&&(rf({instructions:r,payer:this.feePayer,lookupTableAddressAccount:u})||rf({instructions:t,payer:this.feePayer,lookupTableAddressAccount:u})))b.push(e);else{if(0===b.length)throw Error("item ins too big");y+=+(e===i[y]);let t={};for(let e of[...new Set(l)])void 0!==u[e]&&(t[e]=u[e]);if(n&&rf({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}g.push(Array.from(new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>p[e]).filter(e=>void 0!==e)),b=[e]}}),b.length>0){let e=[...new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>p[e]).filter(e=>void 0!==e);if(n&&rf({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}g.push(e)}return null!=(t=this.owner)&&t.signer&&g.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:m,buildProps:e,signers:g,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:n,skipTxCount:i=0,recentBlockHash:a,skipPreflight:s=!0}=e||{};if(m.map(async(e,t)=>{g[t].length&&e.sign(g[t]),a&&(e.message.recentBlockhash=a)}),rp(m),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of m){if(++e<=i){console.log("skip tx: ",e),t.push("tx skipped");continue}let n=await this.connection.sendTransaction(r,{skipPreflight:s});await ru(this.connection,n),t.push(n)}return{txIds:t,signedTxs:m}}return{txIds:await Promise.all(m.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:s}))),signedTxs:m}}if(this.signAllTransactions){let e=await this.signAllTransactions(m.slice(i,m.length)),t=[...m.slice(0,i),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;if(e<i){r.push({txId:"",status:"success",signedTx:t[e]}),null==n||n([...r]),e++,a();return}let o=await this.connection.sendTransaction(t[e],{skipPreflight:s});r.push({txId:o,status:"sent",signedTx:t[e]}),null==n||n([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===o);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==n||n([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,o)}},2e3)),c=this.connection.onSignature(o,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(o)};return a(),{txIds:[],signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let n=await this.connection.sendTransaction(t[r],{skipPreflight:s});e.push(n)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:o||{}}}},rV=new A.default(1e6),rG=((a=rG||{}).ALL="all",a.Strict="strict",a),rz=((s=rz||{}).All="all",s.Standard="standard",s.Concentrated="concentrated",s.AllFarm="allFarm",s.StandardFarm="standardFarm",s.ConcentratedFarm="concentratedFarm",s),rj={BASE_HOST:"https://api-v3.raydium.io",OWNER_BASE_HOST:"https://owner-v1.raydium.io",SERVICE_BASE_HOST:"https://service.raydium.io",MONITOR_BASE_HOST:"https://monitor.raydium.io",SERVICE_1_BASE_HOST:"https://service-v1.raydium.io",SEND_TRANSACTION:"/send-transaction",FARM_ARP:"/main/farm/info",FARM_ARP_LINE:"/main/farm-apr-tv",CLMM_CONFIG:"/main/clmm-config",CPMM_CONFIG:"/main/cpmm-config",VERSION:"/main/version",CHECK_AVAILABILITY:"/v3/main/AvailabilityCheckAPI",RPCS:"/main/rpcs",INFO:"/main/info",STAKE_POOLS:"/main/stake-pools",CHAIN_TIME:"/main/chain-time",TOKEN_LIST:"/mint/list",MINT_INFO_ID:"/mint/ids",JUP_TOKEN_LIST:"https://tokens.jup.ag/tokens?tags=lst,community",POOL_LIST:"/pools/info/list",POOL_SEARCH_BY_ID:"/pools/info/ids",POOL_SEARCH_MINT:"/pools/info/mint",POOL_SEARCH_LP:"/pools/info/lps",POOL_KEY_BY_ID:"/pools/key/ids",POOL_LIQUIDITY_LINE:"/pools/line/liquidity",POOL_POSITION_LINE:"/pools/line/position",FARM_INFO:"/farms/info/ids",FARM_LP_INFO:"/farms/info/lp",FARM_KEYS:"/farms/key/ids",OWNER_CREATED_FARM:"/create-pool/{owner}",OWNER_IDO:"/main/ido/{owner}",OWNER_STAKE_FARMS:"/position/stake/{owner}",OWNER_LOCK_POSITION:"/position/clmm-lock/{owner}",IDO_KEYS:"/ido/key/ids",SWAP_HOST:"https://transaction-v1.raydium.io",SWAP_COMPUTE:"/compute/",SWAP_TX:"/transaction/",MINT_PRICE:"/mint/price",MIGRATE_CONFIG:"/main/migrate-lp",PRIORITY_FEE:"/main/auto-fee",CPMM_LOCK:"https://dynamic-ipfs.raydium.io/lock/cpmm/position"};j({},rj);var rH="ray_tab_hash",rQ="ray_req_hash",rX=async e=>{let t;var{logCount:r=1e3,removeLastLog:n}=e,i=Q(e,["logCount","removeLastLog"]);let a=JSON.parse(localStorage.getItem(rQ)||"[]").slice(0,r-1);n&&a.pop(),new Blob([JSON.stringify(i.data)]).size>1024&&(i.data=JSON.stringify(i.data).substring(0,200)+"..."),a.unshift(H(j({},i),{time:Date.now(),session:((t=sessionStorage.getItem(rH))||(t=`ray-${Date.now()}`,sessionStorage.setItem(rH,t)),t)}));try{localStorage.setItem(rQ,JSON.stringify(a))}catch{if(n){let e=!1,t=JSON.stringify(i.data).substring(0,100);for(a[0].data=t+(t.length>100?"...":"");!e;){a.pop();let t=JSON.stringify(i.data).substring(0,100);a[0].data=t+(t.length>100?"...":"");try{localStorage.setItem(rQ,JSON.stringify(a)),e=!0}catch{e=!1}}return new Promise(e=>e())}return rX(H(j({},i),{logCount:r,removeLastLog:!0}))}},rJ=$("Raydium_Api"),rY=new Map,rZ=(...e)=>e.map(e=>{try{return"object"==typeof e?JSON.stringify(e):e}catch{return e}}).join(", "),r$=class{constructor({scope:e,moduleName:t}){this.disabled=!1,this.scope=e,this.logger=$(t)}createTxBuilder(e){return this.scope.checkOwner(),new rW({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(rZ(e))}logInfo(...e){this.logger.info(rZ(e))}logAndCreateError(...e){throw Error(rZ(e))}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};function r0(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function r1(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}var r2=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),r4=(e,t)=>e<<32-t|e>>>t;function r6(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),r0(e),e}new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];var r3=class{clone(){return this._cloneInto()}},r5=(e,t,r)=>e&t^~e&r,r8=(e,t,r)=>e&t^e&r^t&r,r7=class extends r3{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=r2(this.buffer)}update(e){r1(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=r6(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=r2(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r1(this),function(e,t){r0(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),u=4*!!n,l=4*!n;e.setUint32(t+u,s,n),e.setUint32(t+l,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=r2(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=o/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}},r9=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),ne=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),nt=new Uint32Array(64),nr=class extends r7{constructor(){super(64,32,8,!1),this.A=0|ne[0],this.B=0|ne[1],this.C=0|ne[2],this.D=0|ne[3],this.E=0|ne[4],this.F=0|ne[5],this.G=0|ne[6],this.H=0|ne[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)nt[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=nt[e-15],r=nt[e-2],n=r4(t,7)^r4(t,18)^t>>>3,i=r4(r,17)^r4(r,19)^r>>>10;nt[e]=i+nt[e-7]+n+nt[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(r4(s,6)^r4(s,11)^r4(s,25))+r5(s,o,u)+r9[e]+nt[e]|0,c=(r4(r,2)^r4(r,13)^r4(r,22))+r8(r,n,i)|0;l=u,u=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,a,s,o,u,l)}roundClean(){nt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},nn=(d=()=>new nr,(o=e=>d().update(r6(e)).digest()).outputLen=(u=d()).outputLen,o.blockLen=u.blockLen,o.create=()=>d(),o),ni=F.Layout,na=F.Structure,ns=(F.Union,F.BitStructure,F.UInt),no=(F.Blob,F.greedy,F.u8),nu=F.u16,nl=(F.u24,F.u32),nc=(F.u40,F.u48,F.nu64),nd=(F.u16be,F.u24be,F.u32be,F.u40be,F.u48be,F.nu64be,F.s8,F.s16,F.s24,F.s32);F.s40,F.s48,F.ns64,F.s16be,F.s24be,F.s32be,F.s40be,F.s48be,F.ns64be,F.f32,F.f32be,F.f64,F.f64be;var nf=F.seq,np=(F.union,F.unionLayoutDiscriminator,F.blob),nh=(F.cstr,F.utf8,F.bits),nm=F.offset,ng=class extends ni{constructor(e,t,r){super(e,r),this.blob=np(e),this.signed=t}decode(e,t=0){let r=new A.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return"number"==typeof e&&(e=new A.default(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(f.Buffer,"le",this.span),t,r)}},nb=class extends ni{constructor(e){super(8,e),this._lower=nh(nl(),!1),this._upper=nh(nl(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let r=this._lower.decode(e,t),n=this._upper.decode(e,t+this._lower.span);return j(j({},r),n)}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}};function ny(e){return new ns(1,e)}function nx(e){return new ns(4,e)}function nA(e){return new ng(8,!1,e)}function nw(e){return new ng(16,!1,e)}function nv(e){return new ng(8,!0,e)}var nS=class extends ni{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}};function nE(e){return new nS(np(32),e=>new h.PublicKey(e),e=>e.toBuffer(),e)}function nk(e){return new nS(no(),nT,nP,e)}function nT(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function nP(e){return+!!e}var nI=class extends na{decode(e,t){return super.decode(e,t)}};function n_(e,t,r){return new nI(e,t,r)}function nN(e,t,r){let n;return nf(e,"number"==typeof t?t:(0,A.isBN)(t)?t.toNumber():new Proxy(t,{get(e,t){if(!n){let t=Reflect.get(e,"count");Reflect.set(e,"count",n=(0,A.isBN)(t)?t.toNumber():t)}return Reflect.get(e,t)},set:(e,t,r)=>("count"===t&&(n=r),Reflect.set(e,t,r))}),r)}n_([nE("mint"),nE("owner"),nA("amount"),nx("delegateOption"),nE("delegate"),ny("state"),nx("isNativeOption"),nA("isNative"),nA("delegatedAmount"),nx("closeAuthorityOption"),nE("closeAuthority")]);$("Raydium_Util");var nB=n_([ny("instruction")]),nR=n_([ny("instruction")]),nC=n_([nA("rewardState"),nA("rewardOpenTime"),nA("rewardEndTime"),nA("rewardLastUpdateTime"),nA("totalReward"),nA("totalRewardEmissioned"),nA("rewardClaimed"),nA("rewardPerSecond"),nw("accRewardPerShare"),nE("rewardVault"),nE("rewardMint"),nE("rewardSender"),nA("rewardType"),nN(nA(),15,"padding")]),nO=n_([nA("state"),nA("nonce"),nE("lpVault"),nE("rewardVault"),nE(),nE(),nA(),nA(),nA("totalReward"),nw("perShareReward"),nA("lastSlot"),nA("perSlotReward")]),nD=n_([nA("state"),nA("nonce"),nE("lpVault"),nE("rewardVaultA"),nA("totalRewardA"),nw("perShareRewardA"),nA("perSlotRewardA"),ny("option"),nE("rewardVaultB"),np(7),nA("totalRewardB"),nw("perShareRewardB"),nA("perSlotRewardB"),nA("lastSlot"),nE()]),nU=n_([nA(),nA("state"),nA("nonce"),nA("validRewardTokenNum"),nw("rewardMultiplier"),nA("rewardPeriodMax"),nA("rewardPeriodMin"),nA("rewardPeriodExtend"),nE("lpMint"),nE("lpVault"),nN(nC,5,"rewardInfos"),nE("creator"),nE(),nN(nA(),32,"padding")]),nF=(new Proxy(nO,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return H(j({},r),{version:3,rewardInfos:[{rewardVault:r.rewardVault,totalReward:r.totalReward,perSlotReward:r.perSlotReward,perShareReward:r.perShareReward}]})}:Reflect.get(e,t,r)}),new Proxy(nD,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return H(j({},r),{version:5,rewardInfos:[{rewardVault:r.rewardVaultA,totalReward:r.totalRewardA,perSlotReward:r.perSlotRewardA,perShareReward:r.perShareRewardA},{rewardVault:r.rewardVaultB,totalReward:r.totalRewardB,perSlotReward:r.perSlotRewardB,perShareReward:r.perShareRewardB}]})}:Reflect.get(e,t,r)}),new Proxy(nU,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return H(j({},r),{version:6,rewardInfos:r.rewardInfos.map(e=>{var t;return H(j({},e),{rewardType:(null!=(t=Object.entries(nY).find(t=>String(t[1])===e.rewardType.toString()))?t:["Standard SPL"])[0]})})})}:Reflect.get(e,t,r)})),nM=n_([nA("isSet"),nA("rewardPerSecond"),nA("rewardOpenTime"),nA("rewardEndTime"),nA("rewardType")]),nL=n_([ny("instruction"),nA("nonce"),nN(nM,5,"rewardTimeInfo")]),nK=n_([ny("instruction"),nA("rewardReopenTime"),nA("rewardEndTime"),nA("rewardPerSecond")]),nq=n_([ny("instruction"),nA("isSet"),nA("rewardPerSecond"),nA("rewardOpenTime"),nA("rewardEndTime"),nA("rewardType")]),nW=(n_([nA("state"),nE("id"),nE("owner"),nA("deposited"),nN(nA(),1,"rewardDebts")]),n_([nA("state"),nE("id"),nE("owner"),nA("deposited"),nN(nw(),1,"rewardDebts"),nA(""),nA("voteLockedBalance"),nN(nA(),15)])),nV=(n_([nA("state"),nE("id"),nE("owner"),nA("deposited"),nN(nA(),2,"rewardDebts")]),n_([nA("state"),nE("id"),nE("owner"),nA("deposited"),nN(nw(),2,"rewardDebts"),nN(nA(),17)])),nG=n_([nA(),nA("state"),nE("id"),nE("owner"),nA("deposited"),nN(nw(),5,"rewardDebts"),nN(nA(),16)]),nz=n_([ny("instruction"),nA("amount")]),nj=n_([nE("mint"),nE("grantAuthority"),nA("baselineVoteWeightScaledFactor"),nA("maxExtraLockupVoteWeightScaledFactor"),nA("lockupSaturationSecs"),new ng(1,!0,"digitShift"),nN(ny(),7,"reserved1"),nN(nA(),7,"reserved2")]),nH=(n_([np(8),nE("governanceProgramId"),nE("realm"),nE("realmGoverningTokenMint"),nE("realmAuthority"),nN(ny(),32,"reserved1"),nN(nj,4,"votingMints"),nv("timeOffset"),ny("bump"),nN(ny(),7,"reserved2"),nN(nA(),11,"reserved3")]),n_([nv("startTime"),nv("endTime"),ny("kind"),nN(ny(),15,"reserved")])),nQ=n_([nN(nH,1,"lockup"),nA("amountDeposited_native"),nA("amountInitiallyLockedNative"),nk("isUsed"),nk("allowClawback"),ny("votingMintConfigIdx"),nN(ny(),29,"reserved")]);n_([np(8),nE("voterAuthority"),nE("registrar"),nN(nQ,32,"deposits"),ny("voterBump"),ny("voterWweightRecordBump"),nN(ny(),94,"reserved")]),$("Raydium_farm_config");var nX=new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),nJ=new h.PublicKey("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1"),nY={"Standard SPL":0,"Option tokens":1},nZ={[rm.toString()]:3,[rg.toString()]:4,[rb.toString()]:5,[ry.toString()]:6},n$=$("Raydium.farm.util");$("Raydium_farm_instruction");f.Buffer.from([6,24,245,52,243,255,148,25]),f.Buffer.from([185,131,167,186,159,125,19,67]),f.Buffer.from([242,35,198,137,82,225,242,182]),f.Buffer.from([183,18,70,156,148,109,161,34]),f.Buffer.from([45,185,3,36,109,190,115,169]);var n0=new A.default(0),n1=new A.default(1),n2=new A.default(-1),n4=new A.default(1).shln(64),n6=new A.default(1).shln(128),n3=n4.sub(n1),n5=n6.subn(1),n8=new A.default("4295048016"),n7=new A.default("79226673521066979257578248091"),n9=new A.default("4295048017"),ie=new A.default("79226673521066979257578248090"),it=new A.default(10).pow(new A.default(6)),ir=((l=ir||{})[l.rate_500=500]="rate_500",l[l.rate_3000=3e3]="rate_3000",l[l.rate_10000=1e4]="rate_10000",l),ii={tvl:0,volumeQuote:0,mintAmountA:0,mintAmountB:0,rewardDefaultInfos:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,day:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},week:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},month:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},pooltype:[]};function ia(e){let t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!1),new Uint8Array(t)}function is(e,t){let r=0;for(let n=e-1;n>=0&&!t.testn(n);n--)r++;return r}function io(e,t){let r=0;for(let n=0;n<e&&!t.testn(n);n++)r++;return r}function iu(e,t){for(let r=0;r<e;r++)if(t.testn(r))return!1;return!0}new A.default("18446744073700000000"),f.Buffer.from("amm_config","utf8");var il=f.Buffer.from("pool","utf8"),ic=f.Buffer.from("pool_vault","utf8"),id=f.Buffer.from("pool_reward_vault","utf8"),ip=f.Buffer.from("position","utf8"),ih=f.Buffer.from("tick_array","utf8"),im=f.Buffer.from("operation","utf8"),ig=f.Buffer.from("pool_tick_array_bitmap_extension","utf8"),ib=f.Buffer.from("observation","utf8");function iy(e,t,r){return rc([ic,t.toBuffer(),r.toBuffer()],e)}function ix(e,t,r){return rc([ih,t.toBuffer(),ia(r)],e)}function iA(e,t,r,n){return rc([ip,t.toBuffer(),ia(r),ia(n)],e)}function iw(e,t){return rc([ip,t.toBuffer()],e)}function iv(e){return rc([f.Buffer.from("metadata","utf8"),tH.toBuffer(),e.toBuffer()],tH)}function iS(e,t){return rc([ig,t.toBuffer()],e)}var iE=f.Buffer.from("locked_position","utf8");function ik(e,t){return rc([iE,t.toBuffer()],e)}function iT(e,t){return rc([iE,t.toBuffer()],e)}f.Buffer.from("support_mint","utf8");var iP=class{static getfeeGrowthInside(e,t,r){let n=new A.default(0),i=new A.default(0);e.tickCurrent>=t.tick?(n=t.feeGrowthOutsideX64A,i=t.feeGrowthOutsideX64B):(n=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),i=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let a=new A.default(0),s=new A.default(0);return e.tickCurrent<r.tick?(a=r.feeGrowthOutsideX64A,s=r.feeGrowthOutsideX64B):(a=e.feeGrowthGlobalX64A.sub(r.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(r.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:iR.wrappingSubU128(iR.wrappingSubU128(e.feeGrowthGlobalX64A,n),a),feeGrowthInsideBX64:iR.wrappingSubU128(iR.wrappingSubU128(e.feeGrowthGlobalX64B,i),s)}}static GetPositionFees(e,t,r,n){let{feeGrowthInsideX64A:i,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,n),s=iR.mulDivFloor(iR.wrappingSubU128(i,t.feeGrowthInsideLastX64A),t.liquidity,n4),o=t.tokenFeesOwedA.add(s),u=iR.mulDivFloor(iR.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,n4);return{tokenFeeAmountA:o,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionFeesV2(e,t,r,n){let{feeGrowthInsideX64A:i,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,n),s=iR.mulDivFloor(iR.wrappingSubU128(i,t.feeGrowthInsideLastX64A),t.liquidity,n4),o=t.tokenFeesOwedA.add(s),u=iR.mulDivFloor(iR.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,n4);return{tokenFeeAmountA:o,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionRewardsV2(e,t,r,n){let i=[],a=this.getRewardGrowthInsideV2(e.tickCurrent,r,n,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],n=t.rewardInfos[e],s=iR.wrappingSubU128(r,n.growthInsideLastX64),o=iR.mulDivFloor(s,t.liquidity,n4),u=n.rewardAmountOwed.add(o);i.push(u)}return i}static GetPositionRewards(e,t,r,n){let i=[],a=this.getRewardGrowthInside(e.tickCurrent,r,n,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],n=t.rewardInfos[e],s=iR.wrappingSubU128(r,n.growthInsideLastX64),o=iR.mulDivFloor(s,t.liquidity,n4),u=n.rewardAmountOwed.add(o);i.push(u)}return i}static getRewardGrowthInside(e,t,r,n){let i=[];for(let a=0;a<n.length;a++){let s=new A.default(0);s=t.liquidityGross.eqn(0)?n[a].rewardGrowthGlobalX64:e<t.tick?n[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let o=new A.default(0);r.liquidityGross.eqn(0)||(o=e<r.tick?r.rewardGrowthsOutsideX64[a]:n[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),i.push(iR.wrappingSubU128(iR.wrappingSubU128(n[a].rewardGrowthGlobalX64,s),o))}return i}static getRewardGrowthInsideV2(e,t,r,n){let i=[];for(let a=0;a<n.length;a++){let s=new A.default(0);s=t.liquidityGross.eqn(0)?n[a].rewardGrowthGlobalX64:e<t.tick?n[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let o=new A.default(0);r.liquidityGross.eqn(0)||(o=e<r.tick?r.rewardGrowthsOutsideX64[a]:n[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),i.push(iR.wrappingSubU128(iR.wrappingSubU128(n[a].rewardGrowthGlobalX64,s),o))}return i}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:r,slippage:n,add:i,epochInfo:a}){var s,o,u,l;let c=iD.priceToSqrtPriceX64(new tk(e.price),e.mintA.decimals,e.mintB.decimals),d=iD.getSqrtPriceX64FromTick(t.tickLower),f=iD.getSqrtPriceX64FromTick(t.tickUpper),p=i?1+n:1-n,h=iF.getAmountsFromLiquidity(c,d,f,r,i),[m,g]=[rU(h.amountA,null==(s=e.mintA.extensions)?void 0:s.feeConfig,a,!0),rU(h.amountB,null==(o=e.mintB.extensions)?void 0:o.feeConfig,a,!0)],[b,y]=[rU(new A.default(new tk(h.amountA.toString()).mul(p).toFixed(0)),null==(u=e.mintA.extensions)?void 0:u.feeConfig,a,!0),rU(new A.default(new tk(h.amountB.toString()).mul(p).toFixed(0)),null==(l=e.mintB.extensions)?void 0:l.feeConfig,a,!0)];return{liquidity:r,amountA:m,amountB:g,amountSlippageA:b,amountSlippageB:y,expirationTime:rF(m.expirationTime,g.expirationTime)}}},iI=class{static async getTickArrays(e,t,r,n,i,a,s){let o=[],u=iq.getTickArrayStartIndexByTick(n,i),l=iq.getInitializedTickArrayInRange(a,s,i,u,Math.floor(7.5));for(let e=0;e<l.length;e++){let{publicKey:n}=ix(t,r,l[e]);o.push(n)}let c=(await et(e,o)).map(e=>null!==e?iJ.decode(e.data):null),d={};for(let e=0;e<o.length;e++){let t=c[e];null!==t&&(d[t.startTickIndex]=H(j({},t),{address:o[e]}))}return d}static nextInitializedTick(e,t,r,n,i,a){let{initializedTick:s,tickArrayAddress:o,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,r,n,i,a);for(;null==s||s.liquidityGross.lten(0);){if(u=iq.getNextTickArrayStartIndex(u,i,a),this.checkIsValidStartIndex(u,i))throw Error("No enough initialized tickArray");let n=r[u];if(void 0===n)continue;let{nextTick:l,tickArrayAddress:c,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,n,a);[s,o,u]=[l,c,d]}if(null==s)throw Error("No invaild tickArray cache");return{nextTick:s,tickArrayAddress:o,tickArrayStartTickIndex:u}}static nextInitializedTickArray(e,t,r,n,i){let a=Math.floor(e/iI.tickCount(t)),s=r?iq.searchLowBitFromStart(n,i,a-1,1,t):iq.searchHightBitFromStart(n,i,a+1,1,t);return s.length>0?{isExist:!0,nextStartIndex:s[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,r,n){let i;if(n){let e=iL-1;for(;e>=0;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){i=t;break}e-=1}}else{let e=0;for(;e<iL;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){i=t;break}e+=1}}let{publicKey:a}=ix(e,t,r.startTickIndex);return{nextTick:i,tickArrayAddress:a,tickArrayStartTickIndex:r.startTickIndex}}static nextInitializedTickInOneArray(e,t,r,n,i,a){let s,o=iq.getTickArrayStartIndexByTick(n,i),u=Math.floor((n-o)/i),l=r[o];if(null==l)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:o};if(a)for(;u>=0;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){s=e;break}u-=1}else for(u+=1;u<iL;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){s=e;break}u+=1}let{publicKey:c}=ix(e,t,o);return{initializedTick:s,tickArrayAddress:c,tickArrayStartTickIndex:l.startTickIndex}}static getArrayStartIndex(e,t){let r=this.tickCount(t);return Math.floor(e/r)*r}static checkIsValidStartIndex(e,t){return iq.checkIsOutOfBoundary(e)?!(e>443636)&&e==iq.getTickArrayStartIndexByTick(-443636,t):e%this.tickCount(t)==0}static tickCount(e){return iL*e}},i_=class{static maxTickInTickarrayBitmap(e){return e*iL*iK}static getBitmapTickBoundary(e,t){let r=this.maxTickInTickarrayBitmap(t),n=Math.floor(Math.abs(e)/r);e<0&&Math.abs(e)%r!=0&&(n+=1);let i=r*n;return e<0?{minValue:-i,maxValue:-i+r}:{minValue:i,maxValue:i+r}}static nextInitializedTickArrayStartIndex(e,t,r,n){var i,a;if(!iI.checkIsValidStartIndex(t,r))throw Error("nextInitializedTickArrayStartIndex check error");let s=this.maxTickInTickarrayBitmap(r),o=n?t-iI.tickCount(r):t+iI.tickCount(r);if(o<-s||o>=s)return{isInit:!1,tickIndex:t};let u=r*iL,l=o/u+512;o<0&&o%u!=0&&l--;let c=Math.abs(l);if(n){let t=iu(1024,i=e.shln(1024-c-1))?null:is(1024,i);return null!==t?{isInit:!0,tickIndex:(c-t-512)*u}:{isInit:!1,tickIndex:-s}}{let t=iu(1024,a=e.shrn(c))?null:io(1024,a);return null!==t?{isInit:!0,tickIndex:(c+t-512)*u}:{isInit:!1,tickIndex:s-iI.tickCount(r)}}}},iN=class{static getBitmapOffset(e,t){if(!iI.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);let r=i_.maxTickInTickarrayBitmap(t),n=Math.floor(Math.abs(e)/r)-1;return e<0&&Math.abs(e)%r==0&&n--,n}static getBitmap(e,t,r){let n=this.getBitmapOffset(e,t);return e<0?{offset:n,tickarrayBitmap:r.negativeTickArrayBitmap[n]}:{offset:n,tickarrayBitmap:r.positiveTickArrayBitmap[n]}}static checkExtensionBoundary(e,t){let{positiveTickBoundary:r,negativeTickBoundary:n}=this.extensionTickBoundary(t);if(e>=n&&e<r)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let t=i_.maxTickInTickarrayBitmap(e),r=-t;if(443636<=t)throw Error(`extensionTickBoundary check error: 443636, ${t}`);if(r<=-443636)throw Error(`extensionTickBoundary check error: ${r}, -443636`);return{positiveTickBoundary:t,negativeTickBoundary:r}}static checkTickArrayIsInit(e,t,r){let{tickarrayBitmap:n}=this.getBitmap(e,t,r),i=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:iq.mergeTickArrayBitmap(n).testn(i),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,r,n){let i=iI.tickCount(t),a=r?e-i:e+i,{tickarrayBitmap:s}=this.getBitmap(a,t,n);return this.nextInitializedTickArrayInBitmap(s,a,t,r)}static nextInitializedTickArrayInBitmap(e,t,r,n){let{minValue:i,maxValue:a}=i_.getBitmapTickBoundary(t,r),s=this.tickArrayOffsetInBitmap(t,r);if(n){let n=iq.mergeTickArrayBitmap(e).shln(iK-1-s),a=iu(512,n)?null:is(512,n);return null!==a?{isInit:!0,tickIndex:t-a*iI.tickCount(r)}:{isInit:!1,tickIndex:i}}{let n=iq.mergeTickArrayBitmap(e).shrn(s),i=iu(512,n)?null:io(512,n);return null!==i?{isInit:!0,tickIndex:t+i*iI.tickCount(r)}:{isInit:!1,tickIndex:a-iI.tickCount(r)}}}static tickArrayOffsetInBitmap(e,t){let r=Math.abs(e)%i_.maxTickInTickarrayBitmap(t),n=Math.floor(r/iI.tickCount(t));return e<0&&0!=r&&(n=iK-n),n}},iB=class{static getOutputAmountAndRemainAccounts(e,t,r,n,i,a=!1){let s=r.toBase58()===e.mintA.address,o=[],{isExist:u,startIndex:l,nextAccountMeta:c}=this.getFirstInitializedTickArray(e,s);if(!u||void 0===l||!c)throw Error("Invalid tick array");o.push(c);let{allTrade:d,amountCalculated:f,accounts:p,sqrtPriceX64:h,feeAmount:m}=iM.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,s,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,n,l,i,a);return o.push(...p),{allTrade:d,expectedAmountOut:f.mul(n2),remainingAccounts:o,executionPrice:h,feeAmount:m}}static getInputAmountAndRemainAccounts(e,t,r,n,i){let a=r.toBase58()===e.mintB.address,s=[],{isExist:o,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,a);if(!o||void 0===u||!l)throw Error("Invalid tick array");try{let t=this.preInitializedTickArrayStartIndex(e,a);if(t.isExist){let{publicKey:r}=ix(e.programId,e.id,t.nextStartIndex);s.push(r)}}catch{}s.push(l);let{amountCalculated:c,accounts:d,sqrtPriceX64:f,feeAmount:p}=iM.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,n.mul(n2),u,i);return s.push(...d),{expectedAmountIn:c,remainingAccounts:s,executionPrice:f,feeAmount:p}}static getFirstInitializedTickArray(e,t){let{isInitialized:r,startIndex:n}=iB.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?iN.checkTickArrayIsInit(iI.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):iq.checkTickArrayIsInitialized(iq.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(r){let{publicKey:t}=ix(e.programId,e.id,n);return{isExist:!0,startIndex:n,nextAccountMeta:t}}let{isExist:i,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,iI.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(i){let{publicKey:t}=ix(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){let r=Math.floor(e.tickCurrent/iI.tickCount(e.tickSpacing)),n=t?iq.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r+1,1,e.tickSpacing):iq.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r-1,1,e.tickSpacing);return n.length>0?{isExist:!0,nextStartIndex:n[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,r){for(t=iI.getArrayStartIndex(e.tickCurrent,e.tickSpacing);;){let{isInit:n,tickIndex:i}=i_.nextInitializedTickArrayStartIndex(iq.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,r);if(n)return{isExist:!0,nextStartIndex:i};t=i;let{isInit:a,tickIndex:s}=iN.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,r,e.exBitmapInfo);if(a)return{isExist:!0,nextStartIndex:s};if((t=s)<-443636||t>443636)return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:r,poolLiquidity:n,rewardInfos:i}){var a,s,o;let u=[];for(let l=0;l<i.length;l++){let c=i[l],d=null!=(o=null==(a=t.rewardDefaultInfos[l])?void 0:a.mint.programId)?o:null==(s=await e.getAccountInfo(c.tokenMint))?void 0:s.owner;if(void 0===d)throw Error("get new reward mint info error");let f=H(j({},c),{perSecond:iR.x64ToDecimal(c.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new h.PublicKey(d)});if(f.tokenMint.equals(h.PublicKey.default))continue;if(r<=f.openTime.toNumber()||n.eq(n0)){u.push(f);continue}let p=new A.default(Math.min(f.endTime.toNumber(),r)),m=p.sub(f.lastUpdateTime),g=iR.mulDivFloor(m,f.emissionsPerSecondX64,n),b=f.rewardGrowthGlobalX64.add(g),y=iR.mulDivFloor(m,f.emissionsPerSecondX64,n4),x=f.rewardTotalEmissioned.add(y);u.push(H(j({},f),{rewardGrowthGlobalX64:b,rewardTotalEmissioned:x,lastUpdateTime:p}))}return u}static isOverflowDefaultTickarrayBitmap(e,t){let{maxTickBoundary:r,minTickBoundary:n}=this.tickRange(e);for(let i of t){let t=iq.getTickArrayStartIndexByTick(i,e);if(t>=r||t<n)return!0}return!1}static tickRange(e){let t=i_.maxTickInTickarrayBitmap(e),r=-t;return t>443636&&(t=iI.getArrayStartIndex(443636,e)+iI.tickCount(e)),r<-443636&&(r=iI.getArrayStartIndex(-443636,e)),{maxTickBoundary:t,minTickBoundary:r}}static get_tick_array_offset(e,t){if(!iI.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");return e/iI.tickCount(t)*iK}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:r}){let n=await er(e,t.map(e=>({pubkey:e})),{batchRequest:r}),i={};for(let e of n)null!==e.accountInfo&&(i[e.pubkey.toString()]=iZ.decode(e.accountInfo.data));return i}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:r}){let n={},i=[];for(let e of t){let t=iq.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let r of iq.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,t,7)){let{publicKey:t}=ix(e.programId,e.id,r);i.push({pubkey:t}),n[t.toString()]=e.id}}let a=await er(e,i,{batchRequest:r}),s={};for(let e of a){if(!e.accountInfo)continue;let t=n[e.pubkey.toString()];if(!t)continue;void 0===s[t.toString()]&&(s[t.toString()]={});let r=iJ.decode(e.accountInfo.data);s[t.toString()][r.startTickIndex]=H(j({},r),{address:e.pubkey})}return s}static async fetchPoolsAccountPosition({pools:e,connection:t,ownerInfo:r,batchRequest:n=!1,updateOwnerRewardAndFee:i=!0}){var a;let s=[];for(let t=0;t<e.length;t++){let r=e[t];null!==r&&(s.find(e=>e.equals(r.state.programId))||s.push(r.state.programId))}if(r){let o=r.tokenAccounts.map(e=>e.accountInfo.mint),u=[];for(let e of o)for(let t of s)u.push(iw(t,e).publicKey);let l=await et(t,u,{batchRequest:n}),c={};for(let t of l){if(null===t)continue;let r=iQ.decode(t.data),n=r.poolId.toString(),i=e.find(e=>e.state.id.toBase58()===n);if(void 0===i)continue;let s=i.state,o=iq._getTickPriceLegacy({poolInfo:s,tick:r.tickLower,baseIn:!0}),u=iq._getTickPriceLegacy({poolInfo:s,tick:r.tickUpper,baseIn:!0}),{amountA:l,amountB:d}=iF.getAmountsFromLiquidity(s.sqrtPriceX64,o.tickSqrtPriceX64,u.tickSqrtPriceX64,r.liquidity,!1),f=1/(1-Math.sqrt(Math.sqrt(o.price.div(u.price).toNumber())));i.positionAccount=[...null!=(a=i.positionAccount)?a:[],{poolId:r.poolId,nftMint:r.nftMint,priceLower:o.price,priceUpper:u.price,amountA:l,amountB:d,tickLower:r.tickLower,tickUpper:r.tickUpper,liquidity:r.liquidity,feeGrowthInsideLastX64A:r.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:r.feeGrowthInsideLastX64B,tokenFeesOwedA:r.tokenFeesOwedA,tokenFeesOwedB:r.tokenFeesOwedB,rewardInfos:r.rewardInfos.map(e=>H(j({},e),{pendingReward:new A.default(0)})),leverage:f,tokenFeeAmountA:new A.default(0),tokenFeeAmountB:new A.default(0)}];let p=await iq.getTickArrayAddressByTick(i.state.programId,r.poolId,r.tickLower,i.state.tickSpacing),h=await iq.getTickArrayAddressByTick(i.state.programId,r.poolId,r.tickUpper,i.state.tickSpacing);c[`${i.state.programId.toString()}-${r.poolId.toString()}-${r.tickLower}`]=p,c[`${i.state.programId.toString()}-${r.poolId.toString()}-${r.tickUpper}`]=h}if(i){let r=Object.values(c),i=await et(t,r,{batchRequest:n}),a={};for(let e=0;e<r.length;e++){let t=i[e];null!==t&&(a[r[e].toString()]=iJ.decode(t.data))}for(let{state:t,positionAccount:r}of e)if(r)for(let e of r){let r=`${t.programId.toString()}-${t.id.toString()}-${e.tickLower}`,n=`${t.programId.toString()}-${t.id.toString()}-${e.tickUpper}`,i=a[c[r].toString()],s=a[c[n].toString()],o=i.ticks[iq.getTickOffsetInArray(e.tickLower,t.tickSpacing)],u=s.ticks[iq.getTickOffsetInArray(e.tickUpper,t.tickSpacing)],{tokenFeeAmountA:l,tokenFeeAmountB:d}=await iP.GetPositionFees(t,e,o,u),f=await iP.GetPositionRewards(t,e,o,u);e.tokenFeeAmountA=l.gte(new A.default(0))?l:new A.default(0),e.tokenFeeAmountB=d.gte(new A.default(0))?d:new A.default(0);for(let t=0;t<f.length;t++)e.rewardInfos[t].pendingReward=f[t].gte(new A.default(0))?f[t]:new A.default(0)}}}return e}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:n,amountIn:i,slippage:a,priceLimit:s=new tk(0),catchLiquidityInsufficient:o=!1}){var u;let l,c=r.toBase58()===e.mintA.address,[d,f]=c?[e.mintA.extensions.feeConfig,e.mintB.extensions.feeConfig]:[e.mintB.extensions.feeConfig,e.mintA.extensions.feeConfig];l=s.equals(new tk(0))?c?n8.add(new A.default(1)):n7.sub(new A.default(1)):iD.priceToSqrtPriceX64(s,e.mintA.decimals,e.mintB.decimals);let p=rU(i,d,n,!1),{allTrade:h,expectedAmountOut:m,remainingAccounts:g,executionPrice:b,feeAmount:y}=iB.getOutputAmountAndRemainAccounts(e,t,r,p.amount.sub(null!=(u=p.fee)?u:n0),l,o),x=rU(m,f,n,!1),w=iD.sqrtPriceX64ToPrice(b,e.mintA.decimals,e.mintB.decimals),v=c?w:new tk(1).div(w),S=rU(m.mul(new A.default(Math.floor((1-a)*1e10))).div(new A.default(1e10)),f,n,!1),E=c?e.currentPrice:new tk(1).div(e.currentPrice),k=new tk(v).sub(E).abs(),T=new t1(new tk(k).mul(1e15).toFixed(0),new tk(E).mul(1e15).toFixed(0));return{allTrade:h,realAmountIn:p,amountOut:x,minAmountOut:S,expirationTime:rF(p.expirationTime,x.expirationTime),currentPrice:e.currentPrice,executionPrice:v,priceImpact:T,fee:y,remainingAccounts:g,executionPriceX64:b}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:r,tokenOut:n,slippage:i,epochInfo:a,catchLiquidityInsufficient:s=!1}){let[o,u]=n.address===e.mintB.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],[l,c]=[new tZ(H(j({},o),{mint:o.address,isToken2022:o.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()})),new tZ(H(j({},u),{mint:u.address,isToken2022:u.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()}))],{allTrade:d,realAmountIn:f,amountOut:p,minAmountOut:m,expirationTime:g,currentPrice:b,executionPrice:x,priceImpact:w,fee:v,remainingAccounts:S,executionPriceX64:E}=iB.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:new h.PublicKey(o.address),amountIn:r,slippage:i,epochInfo:a,catchLiquidityInsufficient:s});return{allTrade:d,realAmountIn:H(j({},f),{amount:new tF(l,f.amount),fee:void 0===f.fee?void 0:new tF(l,f.fee)}),amountOut:H(j({},p),{amount:new tF(c,p.amount),fee:void 0===p.fee?void 0:new tF(c,p.fee)}),minAmountOut:H(j({},m),{amount:new tF(c,m.amount),fee:void 0===m.fee?void 0:new tF(c,m.fee)}),expirationTime:g,currentPrice:new t4({baseToken:l,denominator:new A.default(10).pow(new A.default(20+l.decimals)),quoteToken:c,numerator:b.mul(new tk(10**(20+c.decimals))).toFixed(0)}),executionPrice:new t4({baseToken:l,denominator:new A.default(10).pow(new A.default(20+l.decimals)),quoteToken:c,numerator:x.mul(new tk(10**(20+c.decimals))).toFixed(0)}),priceImpact:w,fee:new tF(l,v),remainingAccounts:S,executionPriceX64:E}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:n,amountOut:i,slippage:a,priceLimit:s=new tk(0)}){var o;let u=r.toBase58()===e.mintA.address,l={[e.mintA.address]:e.mintA.extensions.feeConfig,[e.mintB.address]:e.mintB.extensions.feeConfig},c;c=s.equals(new tk(0))?u?n7.sub(new A.default(1)):n8.add(new A.default(1)):iD.priceToSqrtPriceX64(s,e.mintA.decimals,e.mintB.decimals);let d=rU(i,l[r.toString()],n,!0),{expectedAmountIn:f,remainingAccounts:p,executionPrice:h,feeAmount:m}=iB.getInputAmountAndRemainAccounts(e,t,r,d.amount.sub(null!=(o=d.fee)?o:n0),c),g=u?e.mintB.address:e.mintA.address,b=rU(f,l[g],n,!1),y=iD.sqrtPriceX64ToPrice(h,e.mintA.decimals,e.mintB.decimals),x=u?y:new tk(1).div(y),w=rU(f.mul(new A.default(Math.floor((1+a)*1e10))).div(new A.default(1e10)),l[g],n,!0),v=u?e.currentPrice:new tk(1).div(e.currentPrice),S=new tk(x).sub(v).abs(),E=new t1(new tk(S).mul(1e15).toFixed(0),new tk(v).mul(1e15).toFixed(0));return{amountIn:b,maxAmountIn:w,realAmountOut:d,expirationTime:rF(b.expirationTime,d.expirationTime),currentPrice:e.currentPrice,executionPrice:x,priceImpact:E,fee:m,remainingAccounts:p}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:r,positionTickUpperIndex:n}){var i,a,s;let o=e[t],u=iq.getTickPrice({poolInfo:e,tick:r,baseIn:!0}).price.toNumber(),l=iq.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),c=Math.max(u,o.priceMin),d=Math.min(l,o.priceMax)-c,f=l-u,p=o.priceMax-o.priceMin,h;return h=d<=0?0:f===d?p/d:p===d?d/f:d/p*(d/f),{feeApr:o.feeApr*h,rewardsApr:[(null!=(i=o.rewardApr[0])?i:0)*h,(null!=(a=o.rewardApr[1])?a:0)*h,(null!=(s=o.rewardApr[2])?s:0)*h],apr:o.apr*h}}static estimateAprsForPriceRangeDelta({poolInfo:e,poolLiquidity:t,aprType:r,mintPrice:n,liquidity:i,positionTickLowerIndex:a,positionTickUpperIndex:s,chainTime:o}){let u=e[r],l=n[tY(e.mintA.address).toString()],c=n[tY(e.mintB.address).toString()],d=e.mintA.decimals,f=e.mintB.decimals;if(!u||!l||!c)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=iD.priceToSqrtPriceX64(new tk(e.price),e.mintA.decimals,e.mintB.decimals),h=iD.getSqrtPriceX64FromTick(a),m=iD.getSqrtPriceX64FromTick(s),{amountSlippageA:g,amountSlippageB:b}=iF.getAmountsFromLiquidityWithSlippage(p,h,m,t,!1,!1,0),{amountSlippageA:y,amountSlippageB:x}=iF.getAmountsFromLiquidityWithSlippage(p,h,m,i,!1,!1,0),A=new tk(g.toString()).div(new tk(10).pow(d)).mul(l.value).add(new tk(b.toString()).div(new tk(10).pow(f)).mul(c.value)),w=new tk(y.toString()).div(new tk(10).pow(d)).mul(l.value).add(new tk(x.toString()).div(new tk(10).pow(f)).mul(c.value)),v=new tk(1).div(A.add(w)),S=new tk(u.volumeFee).mul(365).div("day"===r?1:"week"===r?7:30*("month"===r)).mul(v).mul(100).toNumber(),E=e.rewardDefaultInfos.map(e=>{var t,r;let i=e.mint.decimals,a=n[e.mint.address];return o<(null!=(t=e.startTime)?t:0)||o>(null!=(r=e.endTime)?r:0)||!e.perSecond||!a||void 0===i?0:new tk(a.value).mul(new tk(e.perSecond).mul(31536e3)).div(new tk(10).pow(i)).mul(v).mul(100).toNumber()});return{feeApr:S,rewardsApr:E,apr:S+E.reduce((e,t)=>e+t,0)}}static async getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:r,tickUpper:n,amount:i,slippage:a,add:s,epochInfo:o,amountHasFee:u}){var l,c;let d=iD.priceToSqrtPriceX64(new tk(e.price),e.mintA.decimals,e.mintB.decimals),f=iD.getSqrtPriceX64FromTick(r),p=iD.getSqrtPriceX64FromTick(n),h=rU(i,null==(l=e[t?"mintA":"mintB"].extensions)?void 0:l.feeConfig,o,!u),m=new A.default(new tk(h.amount.sub(null!=(c=h.fee)?c:n0).toString()).toFixed(0)),g;if(d.lte(f))g=t?iF.getLiquidityFromTokenAmountA(f,p,m,!s):new A.default(0);else if(d.lte(p)){let e=iF.getLiquidityFromTokenAmountA(d,p,m,!s),r=iF.getLiquidityFromTokenAmountB(f,d,m);g=t?e:r}else g=t?new A.default(0):iF.getLiquidityFromTokenAmountB(f,p,m);let b=await iB.getAmountsFromLiquidity({epochInfo:o,poolInfo:e,tickLower:r,tickUpper:n,liquidity:g,slippage:a,add:s});return{liquidity:g,amountA:t?h:b.amountA,amountB:t?b.amountB:h,amountSlippageA:t?h:b.amountSlippageA,amountSlippageB:t?b.amountSlippageB:h,expirationTime:b.expirationTime}}static async getAmountsFromLiquidity({epochInfo:e,poolInfo:t,tickLower:r,tickUpper:n,liquidity:i,slippage:a,add:s}){var o,u,l,c;let d=iD.getSqrtPriceX64FromTick(r),f=iD.getSqrtPriceX64FromTick(n),p=s?1+a:1-a,h=iF.getAmountsFromLiquidity(iD.priceToSqrtPriceX64(new tk(t.price),t.mintA.decimals,t.mintB.decimals),d,f,i,s),[m,g]=[rU(h.amountA,null==(o=t.mintA.extensions)?void 0:o.feeConfig,e,!0),rU(h.amountB,null==(u=t.mintB.extensions)?void 0:u.feeConfig,e,!0)],[b,y]=[rU(h.amountA.muln(p),null==(l=t.mintA.extensions)?void 0:l.feeConfig,e,!0),rU(h.amountB.muln(p),null==(c=t.mintB.extensions)?void 0:c.feeConfig,e,!0)];return{liquidity:i,amountA:m,amountB:g,amountSlippageA:b,amountSlippageB:y,expirationTime:rF(m.expirationTime,g.expirationTime)}}static async fetchComputeMultipleClmmInfo({connection:e,poolList:t,rpcDataMap:r={}}){let n=t.filter(e=>!r[e.id]).map(e=>new h.PublicKey(e.id));(await et(e,n)).forEach((e,t)=>{e&&(r[n[t].toBase58()]=ij.decode(e.data))});let i=t.map(e=>iS(new h.PublicKey(e.programId),new h.PublicKey(e.id)).publicKey),a=await iB.fetchExBitmaps({connection:e,exBitmapAddress:i,batchRequest:!1});return t.reduce((e,t)=>H(j({},e),{[t.id]:H(j({},r[t.id]),{id:new h.PublicKey(t.id),version:6,programId:new h.PublicKey(t.programId),mintA:t.mintA,mintB:t.mintB,ammConfig:H(j({},t.config),{id:new h.PublicKey(t.config.id),fundOwner:""}),currentPrice:new tk(t.price),exBitmapAccount:iS(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey,exBitmapInfo:a[iS(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey.toBase58()],startTime:r[t.id].startTime.toNumber(),rewardInfos:r[t.id].rewardInfos})}),{})}static async fetchComputeClmmInfo({connection:e,poolInfo:t,rpcData:r}){return(await this.fetchComputeMultipleClmmInfo({connection:e,rpcDataMap:r?{[t.id]:r}:void 0,poolList:[t]}))[t.id]}},iR=class{static mulDivRoundingUp(e,t,r){let n=e.mul(t),i=n.div(r);return n.mod(r).eq(n0)||(i=i.add(n1)),i}static mulDivFloor(e,t,r){if(r.eq(n0))throw Error("division by 0");return e.mul(t).div(r)}static mulDivCeil(e,t,r){if(r.eq(n0))throw Error("division by 0");return e.mul(t).add(r.sub(n1)).div(r)}static x64ToDecimal(e,t){return new tk(e.toString()).div(tk.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new A.default(e.mul(tk.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(n6).sub(t).mod(n6)}};function iC(e,t){return iO(e.mul(t),64,256)}function iO(e,t,r){let n=e.toTwos(r).shrn(t);return n.imaskn(r-t+1),n.fromTwos(r-t)}var iD=class{static sqrtPriceX64ToPrice(e,t,r){return iR.x64ToDecimal(e).pow(2).mul(tk.pow(10,t-r))}static priceToSqrtPriceX64(e,t,r){return iR.decimalToX64(e.mul(tk.pow(10,r-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,r,n){if(!e.gt(n0))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(n0))throw Error("liquidity must greater than 0");return n?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!0)}static getNextSqrtPriceX64FromOutput(e,t,r,n){if(!e.gt(n0))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(n0))throw Error("liquidity must greater than 0");return n?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,n){if(r.eq(n0))return e;let i=t.shln(64);if(n){let t=i.add(r.mul(e));return t.gte(i)?iR.mulDivCeil(i,e,t):iR.mulDivRoundingUp(i,n1,i.div(e).add(r))}{let t=r.mul(e);if(!i.gt(t))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let n=i.sub(t);return iR.mulDivCeil(i,e,n)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,n){let i=r.shln(64);if(n)return e.add(i.div(t));{let r=iR.mulDivRoundingUp(i,n1,t);if(!e.gt(r))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?-1*e:e,r=new A.default((1&t)!=0?"18445821805675395072":"18446744073709551616");return(2&t)!=0&&(r=iC(r,new A.default("18444899583751176192"))),(4&t)!=0&&(r=iC(r,new A.default("18443055278223355904"))),(8&t)!=0&&(r=iC(r,new A.default("18439367220385607680"))),(16&t)!=0&&(r=iC(r,new A.default("18431993317065453568"))),(32&t)!=0&&(r=iC(r,new A.default("18417254355718170624"))),(64&t)!=0&&(r=iC(r,new A.default("18387811781193609216"))),(128&t)!=0&&(r=iC(r,new A.default("18329067761203558400"))),(256&t)!=0&&(r=iC(r,new A.default("18212142134806163456"))),(512&t)!=0&&(r=iC(r,new A.default("17980523815641700352"))),(1024&t)!=0&&(r=iC(r,new A.default("17526086738831433728"))),(2048&t)!=0&&(r=iC(r,new A.default("16651378430235570176"))),(4096&t)!=0&&(r=iC(r,new A.default("15030750278694412288"))),(8192&t)!=0&&(r=iC(r,new A.default("12247334978884435968"))),(16384&t)!=0&&(r=iC(r,new A.default("8131365268886854656"))),(32768&t)!=0&&(r=iC(r,new A.default("3584323654725218816"))),(65536&t)!=0&&(r=iC(r,new A.default("696457651848324352"))),(131072&t)!=0&&(r=iC(r,new A.default("26294789957507116"))),(262144&t)!=0&&(r=iC(r,new A.default("37481735321082"))),e>0&&(r=n5.div(r)),r}static getTickFromPrice(e,t,r){return iD.getTickFromSqrtPriceX64(iD.priceToSqrtPriceX64(e,t,r))}static getTickFromSqrtPriceX64(e){let t;if(e.gt(n7)||e.lt(n8))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let r=e.bitLength()-1,n=((t=new A.default(r-64).toTwos(128).shln(32)).imaskn(129),t.fromTwos(128)),i=new A.default("8000000000000000","hex"),a=0,s=new A.default(0),o=r>=64?e.shrn(r-63):e.shln(63-r);for(;i.gt(new A.default(0))&&a<16;){let e=(o=o.mul(o)).shrn(127);o=o.shrn(63+e.toNumber()),s=s.add(i.mul(e)),i=i.shrn(1),a+=1}let u=s.shrn(32),l=n.add(u).mul(new A.default("59543866431248")),c=iO(l.sub(new A.default("184467440737095516")),64,128).toNumber(),d=iO(l.add(new A.default("15793534762490258745")),64,128).toNumber();return c==d?c:iD.getSqrtPriceX64FromTick(d).lte(e)?d:c}},iU=class{static getTickWithPriceAndTickspacing(e,t,r,n){let i=iD.getTickFromSqrtPriceX64(iD.priceToSqrtPriceX64(e,r,n))/t;return(i=i<0?Math.floor(i):Math.ceil(i))*t}static roundPriceWithTickspacing(e,t,r,n){let i=iU.getTickWithPriceAndTickspacing(e,t,r,n),a=iD.getSqrtPriceX64FromTick(i);return iD.sqrtPriceX64ToPrice(a,r,n)}},iF=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,r,n){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(n0))throw Error("sqrtPriceX64A must greater than 0");let i=r.ushln(64),a=t.sub(e);return n?iR.mulDivRoundingUp(iR.mulDivCeil(i,a,t),n1,e):iR.mulDivFloor(i,a,t).div(e)}static getTokenAmountBFromLiquidity(e,t,r,n){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(n0))throw Error("sqrtPriceX64A must greater than 0");return n?iR.mulDivCeil(r,t.sub(e),n4):iR.mulDivFloor(r,t.sub(e),n4)}static getLiquidityFromTokenAmountA(e,t,r,n){e.gt(t)&&([e,t]=[t,e]);let i=r.mul(e).mul(t),a=t.sub(e),s=i.div(a);return n?iR.mulDivRoundingUp(s,n1,n3):s.shrn(64)}static getLiquidityFromTokenAmountB(e,t,r){return e.gt(t)&&([e,t]=[t,e]),iR.mulDivFloor(r,n3,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,r,n,i){if(t.gt(r)&&([t,r]=[r,t]),e.lte(t))return iF.getLiquidityFromTokenAmountA(t,r,n,!1);if(!e.lt(r))return iF.getLiquidityFromTokenAmountB(t,r,i);{let a=iF.getLiquidityFromTokenAmountA(e,r,n,!1),s=iF.getLiquidityFromTokenAmountB(t,e,i);return a.lt(s)?a:s}}static getAmountsFromLiquidity(e,t,r,n,i){return(t.gt(r)&&([t,r]=[r,t]),e.lte(t))?{amountA:iF.getTokenAmountAFromLiquidity(t,r,n,i),amountB:new A.default(0)}:e.lt(r)?{amountA:iF.getTokenAmountAFromLiquidity(e,r,n,i),amountB:iF.getTokenAmountBFromLiquidity(t,e,n,i)}:{amountA:new A.default(0),amountB:iF.getTokenAmountBFromLiquidity(t,r,n,i)}}static getAmountsFromLiquidityWithSlippage(e,t,r,n,i,a,s){let{amountA:o,amountB:u}=iF.getAmountsFromLiquidity(e,t,r,n,a),l=i?1+s:1-s;return{amountSlippageA:new A.default(new tk(o.toString()).mul(l).toFixed(0)),amountSlippageB:new A.default(new tk(u.toString()).mul(l).toFixed(0))}}static getAmountsOutFromLiquidity({poolInfo:e,tickLower:t,tickUpper:r,liquidity:n,slippage:i,add:a,epochInfo:s,amountAddFee:o}){var u,l,c,d;let f=iD.priceToSqrtPriceX64(new tk(e.price),e.mintA.decimals,e.mintB.decimals),p=iD.getSqrtPriceX64FromTick(t),h=iD.getSqrtPriceX64FromTick(r),m=a?1+i:1-i,g=iF.getAmountsFromLiquidity(f,p,h,n,a),[b,y]=[rU(g.amountA,null==(u=e.mintA.extensions)?void 0:u.feeConfig,s,o),rU(g.amountB,null==(l=e.mintB.extensions)?void 0:l.feeConfig,s,o)],[x,w]=[rU(new A.default(new tk(g.amountA.toString()).mul(m).toFixed(0)),null==(c=e.mintA.extensions)?void 0:c.feeConfig,s,o),rU(new A.default(new tk(g.amountB.toString()).mul(m).toFixed(0)),null==(d=e.mintB.extensions)?void 0:d.feeConfig,s,o)];return{liquidity:n,amountA:b,amountB:y,amountSlippageA:x,amountSlippageB:w,expirationTime:rF(b.expirationTime,y.expirationTime)}}},iM=class{static swapCompute(e,t,r,n,i,a,s,o,u,l,c,d,f,p,h=!1){if(d.eq(n0))throw Error("amountSpecified must not be 0");if(p||(p=a?n8.add(n1):n7.sub(n1)),a){if(p.lt(n8))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(p.gte(c))throw Error("sqrtPriceX64 must smaller than current")}else{if(p.gt(n7))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(p.lte(c))throw Error("sqrtPriceX64 must greater than current")}let m=d.gt(n0),g={amountSpecifiedRemaining:d,amountCalculated:n0,sqrtPriceX64:c,tick:u>f?Math.min(f+iI.tickCount(l)-1,u):f,accounts:[],liquidity:o,feeAmount:new A.default(0)},b=f,y=r[f],x=!a&&y.startTickIndex===g.tick;for(;!g.amountSpecifiedRemaining.eq(n0)&&!g.sqrtPriceX64.eq(p);){let o,u={};u.sqrtPriceStartX64=g.sqrtPriceX64;let c=iq.nextInitTick(y,g.tick,l,a,x)||null,d=null;if(!(null!=c&&c.liquidityGross.gtn(0))){let s=iB.nextInitializedTickArrayStartIndex({tickCurrent:g.tick,tickSpacing:l,tickArrayBitmap:n,exBitmapInfo:i},b,a);if(!s.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:g.amountSpecifiedRemaining,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:o}=ix(e,t,b=s.nextStartIndex);d=o,y=r[b];try{c=iq.firstInitializedTick(y,a)}catch{throw Error("not found next tick info")}}if(u.tickNext=c.tick,u.initialized=c.liquidityGross.gtn(0),f!==b&&d&&(g.accounts.push(d),f=b),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=iD.getSqrtPriceX64FromTick(u.tickNext),o=a&&u.sqrtPriceNextX64.lt(p)||!a&&u.sqrtPriceNextX64.gt(p)?p:u.sqrtPriceNextX64,[g.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=iM.swapStepCompute(g.sqrtPriceX64,o,g.liquidity,g.amountSpecifiedRemaining,s,a),g.feeAmount=g.feeAmount.add(u.feeAmount),m?(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),g.amountCalculated=g.amountCalculated.sub(u.amountOut)):(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.add(u.amountOut),g.amountCalculated=g.amountCalculated.add(u.amountIn.add(u.feeAmount))),g.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=c.liquidityNet;a&&(e=e.mul(n2)),g.liquidity=iF.addDelta(g.liquidity,e)}x=u.tickNext!=g.tick&&!a&&y.startTickIndex===u.tickNext,g.tick=a?u.tickNext-1:u.tickNext}else if(g.sqrtPriceX64!=u.sqrtPriceStartX64){let e=iD.getTickFromSqrtPriceX64(g.sqrtPriceX64);x=e!=g.tick&&!a&&y.startTickIndex===e,g.tick=e}}try{let{nextStartIndex:r,isExist:s}=iI.nextInitializedTickArray(g.tick,l,a,n,i);s&&f!==r&&(g.accounts.push(ix(e,t,r).publicKey),f=r)}catch{}return{allTrade:!0,amountSpecifiedRemaining:n0,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts}}static swapStepCompute(e,t,r,n,i,a){let s={sqrtPriceX64Next:new A.default(0),amountIn:new A.default(0),amountOut:new A.default(0),feeAmount:new A.default(0)},o=n.gte(n0);if(o){let o=iR.mulDivFloor(n,it.sub(new A.default(i.toString())),it);s.amountIn=a?iF.getTokenAmountAFromLiquidity(t,e,r,!0):iF.getTokenAmountBFromLiquidity(e,t,r,!0),o.gte(s.amountIn)?s.sqrtPriceX64Next=t:s.sqrtPriceX64Next=iD.getNextSqrtPriceX64FromInput(e,r,o,a)}else s.amountOut=a?iF.getTokenAmountBFromLiquidity(t,e,r,!1):iF.getTokenAmountAFromLiquidity(e,t,r,!1),n.mul(n2).gte(s.amountOut)?s.sqrtPriceX64Next=t:s.sqrtPriceX64Next=iD.getNextSqrtPriceX64FromOutput(e,r,n.mul(n2),a);let u=t.eq(s.sqrtPriceX64Next);return a?(u&&o||(s.amountIn=iF.getTokenAmountAFromLiquidity(s.sqrtPriceX64Next,e,r,!0)),u&&!o||(s.amountOut=iF.getTokenAmountBFromLiquidity(s.sqrtPriceX64Next,e,r,!1))):(s.amountIn=u&&o?s.amountIn:iF.getTokenAmountBFromLiquidity(e,s.sqrtPriceX64Next,r,!0),s.amountOut=u&&!o?s.amountOut:iF.getTokenAmountAFromLiquidity(e,s.sqrtPriceX64Next,r,!1)),!o&&s.amountOut.gt(n.mul(n2))&&(s.amountOut=n.mul(n2)),o&&!s.sqrtPriceX64Next.eq(t)?s.feeAmount=n.sub(s.amountIn):s.feeAmount=iR.mulDivCeil(s.amountIn,new A.default(i),it.sub(new A.default(i))),[s.sqrtPriceX64Next,s.amountIn,s.amountOut,s.feeAmount]}},iL=60,iK=512,iq=class{static getTickArrayAddressByTick(e,t,r,n){let{publicKey:i}=ix(e,t,iq.getTickArrayStartIndexByTick(r,n));return i}static getTickOffsetInArray(e,t){if(e%t!=0)throw Error("tickIndex % tickSpacing not equal 0");let r=iq.getTickArrayStartIndexByTick(e,t),n=Math.floor((e-r)/t);if(n<0||n>=iL)throw Error("tick offset in array overflow");return n}static getTickArrayBitIndex(e,t){let r=iI.tickCount(t),n=e/r;return e<0&&e%r!=0?Math.ceil(n)-1:Math.floor(n)}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*iI.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){return Math.abs(Math.floor(e/(t*iL))+512)}static checkTickArrayIsInitialized(e,t,r){let n=r*iL,i=Math.abs(Math.floor(t/n)+512);return{isInitialized:e.testn(i),startIndex:(i-512)*n}}static getNextTickArrayStartIndex(e,t,r){return r?e-t*iL:e+t*iL}static mergeTickArrayBitmap(e){let t=new A.default(0);for(let r=0;r<e.length;r++)t=t.add(e[r].shln(64*r));return t}static getInitializedTickArrayInRange(e,t,r,n,i){let a=Math.floor(n/(r*iL));return[...iq.searchLowBitFromStart(e,t,a-1,i,r),...iq.searchHightBitFromStart(e,t,a,i,r)]}static getAllInitializedTickArrayStartIndex(e,t,r){return iq.searchHightBitFromStart(e,t,-7680,iK,r)}static getAllInitializedTickArrayInfo(e,t,r,n,i){let a=[];for(let s of iq.getAllInitializedTickArrayStartIndex(r,n,i)){let{publicKey:r}=ix(e,t,s);a.push({tickArrayStartIndex:s,tickArrayAddress:r})}return a}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,r,n,i){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>iq.mergeTickArrayBitmap(e)),s=[];for(;r>=-7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&s.push(r),r--,s.length===n)break}let o=iI.tickCount(i);return s.map(e=>e*o)}static searchHightBitFromStart(e,t,r,n,i){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>iq.mergeTickArrayBitmap(e)),s=[];for(;r<7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&s.push(r),r++,s.length===n)break}let o=iI.tickCount(i);return s.map(e=>e*o)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,t,r,n,i){if(iI.getArrayStartIndex(t,r)!=e.startTickIndex)return null;let a=Math.floor((t-e.startTickIndex)/r);if(n)for(;a>=0;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a-=1}else for(i||(a+=1);a<iL;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a+=1}return null}static firstInitializedTick(e,t){if(t){let t=iL-1;for(;t>=0;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;for(;t<iL;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}static _getTickPriceLegacy({poolInfo:e,tick:t,baseIn:r}){let n=iD.getSqrtPriceX64FromTick(t),i=iD.sqrtPriceX64ToPrice(n,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:i,tickSqrtPriceX64:n}:{tick:t,price:new tk(1).div(i),tickSqrtPriceX64:n}}static _getPriceAndTickLegacy({poolInfo:e,price:t,baseIn:r}){let n=r?t:new tk(1).div(t),i=iU.getTickWithPriceAndTickspacing(n,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=iD.getSqrtPriceX64FromTick(i),s=iD.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:i,price:s}:{tick:i,price:new tk(1).div(s)}}static getTickPrice({poolInfo:e,tick:t,baseIn:r}){let n=iD.getSqrtPriceX64FromTick(t),i=iD.sqrtPriceX64ToPrice(n,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:i,tickSqrtPriceX64:n}:{tick:t,price:new tk(1).div(i),tickSqrtPriceX64:n}}static getPriceAndTick({poolInfo:e,price:t,baseIn:r}){let n=r?t:new tk(1).div(t),i=iU.getTickWithPriceAndTickspacing(n,e.config.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=iD.getSqrtPriceX64FromTick(i),s=iD.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:i,price:s}:{tick:i,price:new tk(1).div(s)}}},iW=n_([np(8),ny("bump"),nu("index"),nE(""),nx("protocolFeeRate"),nx("tradeFeeRate"),nu("tickSpacing"),nN(nA(),8,"")]),iV=n_([nx("blockTimestamp"),nv("tickCumulative"),nN(nA(),4)]),iG=n_([np(8),nk("initialized"),nA("recentEpoch"),nu("observationIndex"),nE("poolId"),nN(iV,100,"observations"),nN(nA(),4)]),iz=n_([ny("rewardState"),nA("openTime"),nA("endTime"),nA("lastUpdateTime"),nw("emissionsPerSecondX64"),nA("rewardTotalEmissioned"),nA("rewardClaimed"),nE("tokenMint"),nE("tokenVault"),nE("creator"),nw("rewardGrowthGlobalX64")]),ij=n_([np(8),ny("bump"),nE("ammConfig"),nE("creator"),nE("mintA"),nE("mintB"),nE("vaultA"),nE("vaultB"),nE("observationId"),ny("mintDecimalsA"),ny("mintDecimalsB"),nu("tickSpacing"),nw("liquidity"),nw("sqrtPriceX64"),nd("tickCurrent"),nx(),nw("feeGrowthGlobalX64A"),nw("feeGrowthGlobalX64B"),nA("protocolFeesTokenA"),nA("protocolFeesTokenB"),nw("swapInAmountTokenA"),nw("swapOutAmountTokenB"),nw("swapInAmountTokenB"),nw("swapOutAmountTokenA"),ny("status"),nN(ny(),7,""),nN(iz,3,"rewardInfos"),nN(nA(),16,"tickArrayBitmap"),nA("totalFeesTokenA"),nA("totalFeesClaimedTokenA"),nA("totalFeesTokenB"),nA("totalFeesClaimedTokenB"),nA("fundFeesTokenA"),nA("fundFeesTokenB"),nA("startTime"),nN(nA(),57,"padding")]),iH=n_([nw("growthInsideLastX64"),nA("rewardAmountOwed")]),iQ=n_([np(8),ny("bump"),nE("nftMint"),nE("poolId"),nd("tickLower"),nd("tickUpper"),nw("liquidity"),nw("feeGrowthInsideLastX64A"),nw("feeGrowthInsideLastX64B"),nA("tokenFeesOwedA"),nA("tokenFeesOwedB"),nN(iH,3,"rewardInfos"),nN(nA(),8,"")]),iX=(n_([np(8),ny("bump"),nE("poolId"),nd("tickLowerIndex"),nd("tickUpperIndex"),nw("liquidity"),nw("feeGrowthInsideLastX64A"),nw("feeGrowthInsideLastX64B"),nA("tokenFeesOwedA"),nA("tokenFeesOwedB"),nN(nw(),3,"rewardGrowthInside"),nN(nA(),8,"")]),n_([nd("tick"),new ng(16,!0,"liquidityNet"),nw("liquidityGross"),nw("feeGrowthOutsideX64A"),nw("feeGrowthOutsideX64B"),nN(nw(),3,"rewardGrowthsOutsideX64"),nN(nx(),13,"")])),iJ=n_([np(8),nE("poolId"),nd("startTickIndex"),nN(iX,iL,"ticks"),ny("initializedTickCount"),nN(ny(),115,"")]),iY=n_([np(329),nN(nE(),100,"whitelistMints")]),iZ=n_([np(8),nE("poolId"),nN(nN(nA(),8),14,"positiveTickArrayBitmap"),nN(nN(nA(),8),14,"negativeTickArrayBitmap")]);n_([nA(),ny("bump"),nE("owner"),nE("poolId"),nE("positionId"),nE("nftAccount"),nN(nA(),8)]),n_([np(8),ny("bump"),nE("lockOwner"),nE("poolId"),nE("positionId"),nE("nftAccount"),nE("lockNftMint"),nA("recentEpoch"),nN(nA(),8)]),iG.span;var i$=$("Raydium_Clmm"),i0=[233,146,209,142,207,104,64,188],i1=[95,135,192,196,242,129,230,68],i2=[112,52,167,75,32,201,211,137],i4=[77,184,74,214,112,86,241,199],i6=[77,255,174,82,125,29,201,46],i3=[123,134,81,0,49,68,98,98],i5=[133,29,89,223,69,238,176,10],i8=[58,127,188,62,79,82,196,96],i7=[43,4,237,11,26,201,30,98],i9=[18,237,166,197,34,16,213,144],ae=[188,37,179,131,82,150,84,73],at=[16,72,250,198,14,162,212,19],ar=class{static createPoolInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m){let g=n_([nw("sqrtPriceX64"),nA("zero")]),b=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tz,isSigner:!1,isWritable:!1},...(null==m?void 0:m.map(e=>({pubkey:e,isSigner:!1,isWritable:!1})))||[]],y=f.Buffer.alloc(g.span);g.encode({sqrtPriceX64:p,zero:n0},y);let x=f.Buffer.from([...i0,...y]);return new h.TransactionInstruction({keys:b,programId:e,data:x})}static async createPoolInstructions(e){let{programId:t,owner:r,mintA:n,mintB:i,ammConfigId:a,initialPriceX64:s,extendMintAccount:o}=e,[u,l]=[new h.PublicKey(n.address),new h.PublicKey(i.address)],{publicKey:c}=rc([il,a.toBuffer(),u.toBuffer(),l.toBuffer()],t),{publicKey:d}=rc([ib,c.toBuffer()],t),{publicKey:f}=iy(t,c,u),{publicKey:p}=iy(t,c,l),m=iS(t,c).publicKey;return{signers:[],instructions:[this.createPoolInstruction(t,c,r,a,d,u,f,new h.PublicKey(n.programId||y.TOKEN_PROGRAM_ID),l,p,new h.PublicKey(i.programId||y.TOKEN_PROGRAM_ID),m,s,o)],instructionTypes:[re,"ClmmCreatePool"],address:{poolId:c,observationId:d,exBitmapAccount:m,mintAVault:f,mintBVault:p},lookupTableAddress:[]}}static openPositionFromLiquidityInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,A,w,v,S,E,k,T,P,I){let _=n_([nd("tickLowerIndex"),nd("tickUpperIndex"),nd("tickArrayLowerStartIndex"),nd("tickArrayUpperStartIndex"),nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),nk("withMetadata"),ny("optionBaseFlag"),nk("baseFlag")]),N=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],B=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:tz,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tH,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...N],R=f.Buffer.alloc(_.span);_.encode({tickLowerIndex:A,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:E,amountMaxA:k,amountMaxB:T,withMetadata:"create"===P,baseFlag:!1,optionBaseFlag:0},R);let C=f.Buffer.from([...i4,...R]);return new h.TransactionInstruction({keys:B,programId:e,data:C})}static openPositionFromLiquidityInstruction22(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,A,w,v,S,E,k,T,P){let I=n_([nd("tickLowerIndex"),nd("tickUpperIndex"),nd("tickArrayLowerStartIndex"),nd("tickArrayUpperStartIndex"),nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),nk("withMetadata"),ny("optionBaseFlag"),nk("baseFlag")]),_=[...P?[{pubkey:P,isSigner:!1,isWritable:!0}]:[]],N=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tz,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},..._],B=f.Buffer.alloc(I.span);I.encode({tickLowerIndex:x,tickUpperIndex:A,tickArrayLowerStartIndex:w,tickArrayUpperStartIndex:v,liquidity:S,amountMaxA:E,amountMaxB:k,withMetadata:"create"===T,baseFlag:!1,optionBaseFlag:0},B);let R=f.Buffer.from([...i6,...B]);return new h.TransactionInstruction({keys:N,programId:e,data:R})}static async openPositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,liquidity:a,amountMaxA:s,amountMaxB:o,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let g=iq.getTickArrayStartIndexByTick(n,e.config.tickSpacing),b=iq.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:x}=ix(f,p,g),{publicKey:A}=ix(f,p,b),{publicKey:w}=c?rh(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):rh(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=iv(m),{publicKey:S}=iw(f,m),{publicKey:E}=iA(f,p,n,i);return{signers:d,instructions:[c?this.openPositionFromLiquidityInstruction22(f,r.feePayer,p,r.wallet,m,w,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,i,g,b,a,s,o,u,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(f,p).publicKey:void 0):this.openPositionFromLiquidityInstruction(f,r.feePayer,p,r.wallet,m,w,v,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,i,g,b,a,s,o,u,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(f,p).publicKey:void 0)],instructionTypes:[rt],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:E}}}static async openPositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,base:a,baseAmount:s,otherAmountMax:o,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let g=iq.getTickArrayStartIndexByTick(n,e.config.tickSpacing),b=iq.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:x}=ix(f,p,g),{publicKey:A}=ix(f,p,b),{publicKey:w}=c?rh(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):rh(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=iv(m),{publicKey:S}=iw(f,m),{publicKey:E}=iA(f,p,n,i),k=c?this.openPositionFromBaseInstruction22(f,r.feePayer,p,r.wallet,m,w,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,i,g,b,u,a,s,o,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(f,p).publicKey:void 0):this.openPositionFromBaseInstruction(f,r.feePayer,p,r.wallet,m,w,v,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,i,g,b,u,a,s,o,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(f,p).publicKey:void 0);return{address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:E},instructions:[k],signers:d,instructionTypes:[rt],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static openPositionFromBaseInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,w,v,S,E,k,T,P,I,_){let N=n_([nd("tickLowerIndex"),nd("tickUpperIndex"),nd("tickArrayLowerStartIndex"),nd("tickArrayUpperStartIndex"),nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),nk("withMetadata"),ny("optionBaseFlag"),nk("baseFlag")]),B=[..._?[{pubkey:_,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:tz,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tH,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...B],C=f.Buffer.alloc(N.span);N.encode({tickLowerIndex:w,tickUpperIndex:v,tickArrayLowerStartIndex:S,tickArrayUpperStartIndex:E,liquidity:new A.default(0),amountMaxA:"MintA"===T?P:I,amountMaxB:"MintA"===T?I:P,withMetadata:"create"===k,baseFlag:"MintA"===T,optionBaseFlag:1},C);let O=f.Buffer.from([...i4,...C]);return new h.TransactionInstruction({keys:R,programId:e,data:O})}static openPositionFromBaseInstruction22(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,w,v,S,E,k,T,P,I){let _=n_([nd("tickLowerIndex"),nd("tickUpperIndex"),nd("tickArrayLowerStartIndex"),nd("tickArrayUpperStartIndex"),nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),nk("withMetadata"),ny("optionBaseFlag"),nk("baseFlag")]),N=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],B=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tz,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},...N],R=f.Buffer.alloc(_.span);_.encode({tickLowerIndex:x,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:new A.default(0),amountMaxA:"MintA"===k?T:P,amountMaxB:"MintA"===k?P:T,withMetadata:"create"===E,baseFlag:"MintA"===k,optionBaseFlag:1},R);let C=f.Buffer.from([...i6,...R]);return new h.TransactionInstruction({keys:B,programId:e,data:C})}static async openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:n,tickUpper:i,liquidity:a,amountMaxA:s,amountMaxB:o,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d,f=[];if(l)d=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();f.push(e),d=e.publicKey}let[p,m]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],g=iq.getTickArrayStartIndexByTick(n,e.config.tickSpacing),b=iq.getTickArrayStartIndexByTick(i,e.config.tickSpacing),{publicKey:x}=ix(p,m,g),{publicKey:A}=ix(p,m,b),{publicKey:w}=c?rh(r.wallet,d,y.TOKEN_2022_PROGRAM_ID):rh(r.wallet,d,y.TOKEN_PROGRAM_ID),{publicKey:v}=iv(d),{publicKey:S}=iw(p,d),{publicKey:E}=iA(p,m,n,i),k=c?this.openPositionFromLiquidityInstruction22(p,r.wallet,m,r.wallet,d,w,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),n,i,g,b,a,s,o,u,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(p,m).publicKey:void 0):this.openPositionFromLiquidityInstruction(p,r.wallet,m,r.wallet,d,w,v,E,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),n,i,g,b,a,s,o,u,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?iS(p,m).publicKey:void 0);return{address:{nftMint:d,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:E},instructions:[k],signers:f,instructionTypes:[rt],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static closePositionInstruction(e,t,r,n,i,a){let s=n_([]),o=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],u=f.Buffer.alloc(s.span);s.encode({},u);let l=f.Buffer.from([...i3,...u]);return new h.TransactionInstruction({keys:o,programId:e,data:l})}static closePositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,ownerPosition:n,nft2022:i}){let a=new h.PublicKey(e.programId),s=i?rh(r.wallet,n.nftMint,y.TOKEN_2022_PROGRAM_ID).publicKey:rh(r.wallet,n.nftMint,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:o}=iw(a,n.nftMint),u=[];return u.push(this.closePositionInstruction(a,r.wallet,n.nftMint,s,o,i)),{address:{positionNftAccount:s,personalPosition:o},signers:[],instructions:u,instructionTypes:["ClmmClosePosition"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromLiquidityInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,A){let w=n_([nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),ny("optionBaseFlag"),nk("baseFlag")]),v=[...A?[{pubkey:A,isSigner:!1,isWritable:!0}]:[]],S=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...v],E=f.Buffer.alloc(w.span);w.encode({liquidity:g,amountMaxA:b,amountMaxB:x,optionBaseFlag:0,baseFlag:!1},E);let k=f.Buffer.from([...i5,...E]);return new h.TransactionInstruction({keys:S,programId:e,data:k})}static increasePositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,liquidity:i,amountMaxA:a,amountMaxB:s,nft2022:o}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=iq.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=iq.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=ix(u,l,c),{publicKey:p}=ix(u,l,d),{publicKey:m}=o?rh(n.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rh(n.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:g}=iw(u,r.nftMint),{publicKey:b}=iA(u,l,r.tickLower,r.tickUpper),x=this.increasePositionFromLiquidityInstruction(u,n.wallet,m,g,l,b,f,p,n.tokenAccountA,n.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,a,s,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?iS(u,l).publicKey:void 0);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:g,protocolPosition:b},signers:[],instructions:[x],instructionTypes:[rr],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,base:i,baseAmount:a,otherAmountMax:s,nft2022:o}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=iq.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=iq.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=ix(u,l,c),{publicKey:p}=ix(u,l,d),{publicKey:m}=o?rh(n.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rh(n.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:g}=iw(u,r.nftMint),{publicKey:b}=iA(u,l,r.tickLower,r.tickUpper);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:g,protocolPosition:b},instructions:[this.increasePositionFromBaseInstruction(u,n.wallet,m,g,l,b,f,p,n.tokenAccountA,n.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,a,s,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?iS(u,l).publicKey:void 0)],signers:[],instructionTypes:[rr],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,w){let v=n_([nw("liquidity"),nA("amountMaxA"),nA("amountMaxB"),ny("optionBaseFlag"),nk("baseFlag")]),S=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[]],E=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...S],k=f.Buffer.alloc(v.span);v.encode({liquidity:new A.default(0),amountMaxA:"MintA"===g?b:x,amountMaxB:"MintA"===g?x:b,baseFlag:"MintA"===g,optionBaseFlag:1},k);let T=f.Buffer.from([...i5,...k]);return new h.TransactionInstruction({keys:E,programId:e,data:T})}static decreaseLiquidityInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x,A,w){let v=n_([nw("liquidity"),nA("amountMinA"),nA("amountMinB")]),S=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[],...g.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],E=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tV,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...S],k=f.Buffer.alloc(v.span);v.encode({liquidity:b,amountMinA:x,amountMinB:A},k);let T=f.Buffer.from([...i8,...k]);return new h.TransactionInstruction({keys:E,programId:e,data:T})}static decreaseLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:n,liquidity:i,amountMinA:a,amountMinB:s,programId:o,nft2022:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],d=iq.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),f=iq.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:p}=ix(l,c,d),{publicKey:m}=ix(l,c,f),{publicKey:g}=u?rh(n.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rh(n.wallet,r.nftMint,o),{publicKey:b}=iw(l,r.nftMint),{publicKey:x}=iA(l,c,r.tickLower,r.tickUpper),A=[];for(let r=0;r<e.rewardDefaultInfos.length;r++)A.push({poolRewardVault:new h.PublicKey(t.rewardInfos[r].vault),ownerRewardVault:n.rewardAccounts[r],rewardMint:new h.PublicKey(e.rewardDefaultInfos[r].mint.address)});let w=[];return w.push(this.decreaseLiquidityInstruction(l,n.wallet,g,b,c,x,p,m,n.tokenAccountA,n.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),A,i,a,s,iB.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[d,f])?iS(l,c).publicKey:void 0)),{address:{tickArrayLower:p,tickArrayUpper:m,positionNftAccount:g,personalPosition:b,protocolPosition:x},signers:[],instructions:w,instructionTypes:[rn],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static swapInstruction(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,x){let A=n_([nA("amount"),nA("otherAmountThreshold"),nw("sqrtPriceLimitX64"),nk("isBaseInput")]),w=[...x?[{pubkey:x,isSigner:!1,isWritable:!0}]:[],...c.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tV,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...w],S=f.Buffer.alloc(A.span);A.encode({amount:p,otherAmountThreshold:m,sqrtPriceLimitX64:g,isBaseInput:b},S);let E=f.Buffer.from([...i7,...S]);return new h.TransactionInstruction({keys:v,programId:e,data:E})}static makeSwapBaseInInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:n,inputMint:i,amountIn:a,amountOutMin:s,sqrtPriceLimitX64:o,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],g=e.mintA.address===i.toString();return{signers:[],instructions:[this.swapInstruction(l,n.wallet,c,new h.PublicKey(e.config.id),g?n.tokenAccountA:n.tokenAccountB,g?n.tokenAccountB:n.tokenAccountA,g?d:f,g?f:d,g?p:m,g?m:p,u,r,a,s,o,!0,iS(l,c).publicKey)],instructionTypes:[ri],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:n,outputMint:i,amountOut:a,amountInMax:s,sqrtPriceLimitX64:o,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],g=e.mintA.address===i.toBase58();return{signers:[],instructions:[this.swapInstruction(l,n.wallet,c,new h.PublicKey(e.config.id),g?n.tokenAccountB:n.tokenAccountA,g?n.tokenAccountA:n.tokenAccountB,g?f:d,g?d:f,g?m:p,g?p:m,u,r,a,s,o,!1,iS(l,c).publicKey)],instructionTypes:["ClmmSwapBaseOut"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static initRewardInstruction(e,t,r,n,i,a,s,o,u,l,c,d){let p=n_([nA("openTime"),nA("endTime"),nw("emissionsPerSecondX64")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tz,isSigner:!1,isWritable:!1}],g=f.Buffer.alloc(p.span);p.encode({openTime:tI(l),endTime:tI(c),emissionsPerSecondX64:d},g);let b=f.Buffer.from([...i1,...g]);return new h.TransactionInstruction({keys:m,programId:e,data:b})}static initRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:n}){var i;let[a,s]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],o=(i=n.mint,rc([id,s.toBuffer(),i.toBuffer()],a)).publicKey,u=rc([im],a).publicKey,l=[this.initRewardInstruction(a,r.wallet,s,u,new h.PublicKey(e.config.id),r.tokenAccount,n.programId,n.mint,o,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{address:{poolRewardVault:o,operationId:u},signers:[],instructions:l,instructionTypes:["ClmmInitReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static setRewardInstruction(e,t,r,n,i,a,s,o,u,l,c,d){let p=n_([ny("rewardIndex"),nw("emissionsPerSecondX64"),nA("openTime"),nA("endTime")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0}],g=f.Buffer.alloc(p.span);p.encode({rewardIndex:u,emissionsPerSecondX64:d,openTime:tI(l),endTime:tI(c)},g);let b=f.Buffer.from([...i2,...g]);return new h.TransactionInstruction({keys:m,programId:e,data:b})}static setRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:n}){let[i,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],s,o,u;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===n.mint.toString()&&(s=r,o=new h.PublicKey(t.rewardInfos[r].vault),u=new h.PublicKey(t.rewardInfos[r].mint.address));(void 0===s||void 0===o)&&i$.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let l=rc([im],i).publicKey,c=[this.setRewardInstruction(i,r.wallet,a,l,new h.PublicKey(e.config.id),r.tokenAccount,o,u,s,n.openTime,n.endTime,n.emissionsPerSecondX64)];return{address:{rewardVault:o,operationId:l},signers:[],instructions:c,instructionTypes:["ClmmSetReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static collectRewardInstruction(e,t,r,n,i,a,s){let o=n_([ny("rewardIndex")]),u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tV,isSigner:!1,isWritable:!1}],l=f.Buffer.alloc(o.span);o.encode({rewardIndex:s},l);let c=f.Buffer.from([...i9,...l]);return new h.TransactionInstruction({keys:u,programId:e,data:c})}static collectRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardMint:n}){let[i,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],s,o;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===n.toString()&&(s=r,o=new h.PublicKey(t.rewardInfos[r].vault));(void 0===s||void 0===o)&&i$.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let u=[this.collectRewardInstruction(i,r.wallet,a,r.tokenAccount,o,n,s)];return{address:{rewardVault:o},signers:[],instructions:u,instructionTypes:["ClmmCollectReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static async makeLockPositions({programId:e,authProgramId:t,poolProgramId:r,payer:n,wallet:i,nftMint:a,nft2022:s,getEphemeralSigners:o}){let u=[],l;if(o)l=new h.PublicKey((await o(1))[0]);else{let e=h.Keypair.generate();u.push(e),l=e.publicKey}let c=s?rh(i,a,y.TOKEN_2022_PROGRAM_ID).publicKey:rh(i,a,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:d}=iw(r,a),f=iT(e,l).publicKey,p=rh(i,l,y.TOKEN_PROGRAM_ID).publicKey,m=iv(l).publicKey,g=ar.lockPositionInstructionV2({programId:e,auth:t,payer:n,positionOwner:i,lockOwner:i,positionNftAccount:c,positionId:d,lockPositionId:f,lockNftMint:l,lockNftAccount:p,metadataAccount:m,withMetadata:!0,nft2022:s,positionNftMint:a,authPositionNftAccount:rh(t,a,s?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID).publicKey,positionNftProgram:s?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID});return{address:{positionId:d,lockPositionId:f,lockNftAccount:p,lockNftMint:l,positionNftAccount:c,metadataAccount:m},instructions:[g],signers:u,instructionTypes:["ClmmLockPosition"],lookupTableAddress:[]}}static lockPositionInstructionV2({programId:e,auth:t,payer:r,positionOwner:n,lockOwner:i,positionNftAccount:a,positionId:s,positionNftMint:o,authPositionNftAccount:u,positionNftProgram:l,lockPositionId:c,lockNftMint:d,lockNftAccount:p,metadataAccount:m,withMetadata:g}){let b=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tH,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tz,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}],x=n_([nk("withMetadata")]),A=f.Buffer.alloc(x.span);x.encode({withMetadata:g},A);let w=f.Buffer.from([...ae,...A]);return new h.TransactionInstruction({keys:b,programId:e,data:w})}static lockPositionInstruction({programId:e,authProgramId:t,poolProgramId:r,owner:n,positionNft:i}){let{publicKey:a}=rh(n,i,y.TOKEN_PROGRAM_ID),{publicKey:s}=iw(r,i),o=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:ik(e,s).publicKey,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:o,programId:e,data:f.Buffer.from(ae)})}static harvestLockPositionInstruction(e){let[t,r]=[new h.PublicKey(e.poolKeys.programId),new h.PublicKey(e.poolKeys.id)],n=iq.getTickArrayStartIndexByTick(e.ownerPosition.tickLower,e.poolKeys.config.tickSpacing),i=iq.getTickArrayStartIndexByTick(e.ownerPosition.tickUpper,e.poolKeys.config.tickSpacing),{publicKey:a}=ix(t,r,n),{publicKey:s}=ix(t,r,i),{publicKey:o}=rh(e.owner,e.ownerPosition.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:u}=iw(t,e.ownerPosition.nftMint),{publicKey:l}=iA(t,r,e.ownerPosition.tickLower,e.ownerPosition.tickUpper),c=[];for(let t=0;t<e.poolKeys.rewardInfos.length;t++)c.push({poolRewardVault:new h.PublicKey(e.poolKeys.rewardInfos[t].vault),ownerRewardVault:e.ownerRewardAccounts[t],rewardMint:new h.PublicKey(e.poolKeys.rewardInfos[t].mint.address)});let d=[...c.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],p=[{pubkey:e.authProgramId,isSigner:!1,isWritable:!1},{pubkey:ik(e.programId,u).publicKey,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.A),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.B),isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.userVaultA,isSigner:!1,isWritable:!0},{pubkey:e.userVaultB,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tG,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintA.address),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintB.address),isSigner:!1,isWritable:!1},...d];return new h.TransactionInstruction({keys:p,programId:e.programId,data:f.Buffer.from(at)})}static harvestLockPositionInstructionV2({programId:e,auth:t,lockPositionId:r,clmmProgram:n,lockOwner:i,lockNftMint:a,lockNftAccount:s,positionNftAccount:o,positionId:u,poolId:l,protocolPosition:c,vaultA:d,vaultB:p,tickArrayLower:m,tickArrayUpper:g,userVaultA:b,userVaultB:x,mintA:A,mintB:w,rewardAccounts:v,exTickArrayBitmap:S}){let E=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[],...v.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],k=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tG,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},...E];return new h.TransactionInstruction({keys:k,programId:e,data:f.Buffer.from(at)})}};n_([nx("mintAuthorityOption"),nE("mintAuthority"),nA("supply"),ny("decimals"),ny("isInitialized"),nx("freezeAuthorityOption"),nE("freezeAuthority")]);var an=new A.default(25),ai=new A.default(1e4),aa=n_([ny("instruction"),nA("amountIn"),nA("minAmountOut")]),as=n_([ny("instruction"),nA("maxAmountIn"),nA("amountOut")]),ao=(n_([ny("instruction"),ny("nonce")]),n_([ny("instruction"),ny("nonce"),nA("startTime")]),n_([nA("status"),nA("nonce"),nA("maxOrder"),nA("depth"),nA("baseDecimal"),nA("quoteDecimal"),nA("state"),nA("resetFlag"),nA("minSize"),nA("volMaxCutRatio"),nA("amountWaveRatio"),nA("baseLotSize"),nA("quoteLotSize"),nA("minPriceMultiplier"),nA("maxPriceMultiplier"),nA("systemDecimalValue"),nA("minSeparateNumerator"),nA("minSeparateDenominator"),nA("tradeFeeNumerator"),nA("tradeFeeDenominator"),nA("pnlNumerator"),nA("pnlDenominator"),nA("swapFeeNumerator"),nA("swapFeeDenominator"),nA("baseNeedTakePnl"),nA("quoteNeedTakePnl"),nA("quoteTotalPnl"),nA("baseTotalPnl"),nA("poolOpenTime"),nA("punishPcAmount"),nA("punishCoinAmount"),nA("orderbookToInitTime"),nw("swapBaseInAmount"),nw("swapQuoteOutAmount"),nA("swapBase2QuoteFee"),nw("swapQuoteInAmount"),nw("swapBaseOutAmount"),nA("swapQuote2BaseFee"),nE("baseVault"),nE("quoteVault"),nE("baseMint"),nE("quoteMint"),nE("lpMint"),nE("openOrders"),nE("marketId"),nE("marketProgramId"),nE("targetOrders"),nE("withdrawQueue"),nE("lpVault"),nE("owner"),nA("lpReserve"),nN(nA(),3,"padding")])),au=(n_([nA("accountType"),nA("status"),nA("nonce"),nA("maxOrder"),nA("depth"),nA("baseDecimal"),nA("quoteDecimal"),nA("state"),nA("resetFlag"),nA("minSize"),nA("volMaxCutRatio"),nA("amountWaveRatio"),nA("baseLotSize"),nA("quoteLotSize"),nA("minPriceMultiplier"),nA("maxPriceMultiplier"),nA("systemDecimalsValue"),nA("abortTradeFactor"),nA("priceTickMultiplier"),nA("priceTick"),nA("minSeparateNumerator"),nA("minSeparateDenominator"),nA("tradeFeeNumerator"),nA("tradeFeeDenominator"),nA("pnlNumerator"),nA("pnlDenominator"),nA("swapFeeNumerator"),nA("swapFeeDenominator"),nA("baseNeedTakePnl"),nA("quoteNeedTakePnl"),nA("quoteTotalPnl"),nA("baseTotalPnl"),nA("poolOpenTime"),nA("punishPcAmount"),nA("punishCoinAmount"),nA("orderbookToInitTime"),nw("swapBaseInAmount"),nw("swapQuoteOutAmount"),nw("swapQuoteInAmount"),nw("swapBaseOutAmount"),nA("swapQuote2BaseFee"),nA("swapBase2QuoteFee"),nE("baseVault"),nE("quoteVault"),nE("baseMint"),nE("quoteMint"),nE("lpMint"),nE("modelDataAccount"),nE("openOrders"),nE("marketId"),nE("marketProgramId"),nE("targetOrders"),nE("owner"),nN(nA(),64,"padding")]),n_([ny("instruction"),nA("baseAmountIn"),nA("quoteAmountIn"),nA("fixedSide"),nA("otherAmountMin")])),al=n_([ny("instruction"),nA("lpAmount"),nA("baseAmountMin"),nA("quoteAmountMin")]),ac=n_([nA("fee")]),ad=new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),af=n_([nA("x"),nA("y"),nA("price")]),ap=n_([nA("accountType"),nA("status"),nA("multiplier"),nA("validDataCount"),nN(af,5e4,"DataElement")]);$("Raydium_liquidity_instruction");$("Raydium_liquidity_serum");n_([np(5),function(e="accountFlags"){let t=new nb(e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}("accountFlags"),nE("ownAddress"),nA("vaultSignerNonce"),nE("baseMint"),nE("quoteMint"),nE("baseVault"),nA("baseDepositsTotal"),nA("baseFeesAccrued"),nE("quoteVault"),nA("quoteDepositsTotal"),nA("quoteFeesAccrued"),nA("quoteDustThreshold"),nE("requestQueue"),nE("eventQueue"),nE("bids"),nE("asks"),nA("baseLotSize"),nA("quoteLotSize"),nA("feeRateBps"),nA("referrerRebatesAccrued"),np(7)]);var ah=new A.default(0),am=((c=am||{})[c.Floor=0]="Floor",c[c.Ceiling=1]="Ceiling",c),ag=f.Buffer.from("vault_and_lp_mint_auth_seed","utf8"),ab=(f.Buffer.from("amm_config","utf8"),f.Buffer.from("pool","utf8")),ay=f.Buffer.from("pool_lp_mint","utf8"),ax=f.Buffer.from("pool_vault","utf8"),aA=f.Buffer.from("observation","utf8");f.Buffer.from("locked_liquidity","utf8");$("Raydium_cpmm");var aw=n_([np(8),ny("bump"),nk("disableCreatePool"),nu("index"),nA("tradeFeeRate"),nA("protocolFeeRate"),nA("fundFeeRate"),nA("createPoolFee"),nE("protocolOwner"),nE("fundOwner"),nN(nA(),16)]),av=n_([np(8),nE("configId"),nE("poolCreator"),nE("vaultA"),nE("vaultB"),nE("mintLp"),nE("mintA"),nE("mintB"),nE("mintProgramA"),nE("mintProgramB"),nE("observationId"),ny("bump"),ny("status"),ny("lpDecimals"),ny("mintDecimalA"),ny("mintDecimalB"),nA("lpAmount"),nA("protocolFeesMintA"),nA("protocolFeesMintB"),nA("fundFeesMintA"),nA("fundFeesMintB"),nA("openTime"),nN(nA(),32)]),aS={[rA.toBase58()]:3},aE=n_([np(5),np(8),nE("ownAddress"),nA("vaultSignerNonce"),nE("baseMint"),nE("quoteMint"),nE("baseVault"),nA("baseDepositsTotal"),nA("baseFeesAccrued"),nE("quoteVault"),nA("quoteDepositsTotal"),nA("quoteFeesAccrued"),nA("quoteDustThreshold"),nE("requestQueue"),nE("eventQueue"),nE("bids"),nE("asks"),nA("baseLotSize"),nA("quoteLotSize"),nA("feeRateBps"),nA("referrerRebatesAccrued"),np(7)]),ak=$("Serum"),aT=new A.default(0),aP=class extends r${static getPdaPoolId(e,t){return rc([aP.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,r,n){return rc([aP.SEED_CONFIG.owner.id,t.toBuffer(),r.toBuffer(),f.Buffer.from(new A.default(n).toArray())],e)}static async getAllInfo({connection:e,programId:t,poolIds:r,wallet:n,chainTime:i}){if(0===r.length)return[];let a=r.map(e=>aP.getPdaPoolId(t,e).publicKey),s=[];for(let e=0;e<aP.VERSION_PROJECT.length;e++)s.push(...a.map(r=>aP.getPdaOwnerId(t,r,n,e).publicKey));let o=await et(e,[...a,...s]),u=[];for(let e=0;e<o.length;e++){let n=Math.floor(e/r.length),l=e%r.length,c=a[l],d=s[e],f=o[l],p=o[r.length+e];if(!(f&&p)||f.data.length!==aP.POOL_LAYOUT.span||p.data.length!==aP.OWNER_LAYOUT.span)continue;let h=aP.POOL_LAYOUT.decode(f.data),m=aP.OWNER_LAYOUT.decode(p.data),g=h.openTime.toNumber(),b=h.endTime.toNumber(),y=3!==m.tokenInfo.map(e=>e.debtAmount.gt(new A.default(0))).filter(e=>!e).length,x=i>g&&i<b&&1===h.status,w=y&&x;u.push({programId:t,poolId:c,ammId:h.ammId,ownerAccountId:d,snapshotLpAmount:m.lpAmount,project:aP.VERSION_PROJECT[n],openTime:g,endTime:b,canClaim:w,canClaimErrorType:y?x?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:m.tokenInfo[t].debtAmount.add(m.tokenInfo[t].claimedAmount)}))})}return u}async makeClaimTransaction({poolInfo:e,ownerInfo:t,feePayer:r}){t.wallet||this.scope.checkOwner();let n=this.createTxBuilder(r),i=t.wallet||this.scope.ownerPubKey,a=[];for(let r of e.tokenInfo){let{account:e,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({mint:r.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:r.mintAddress.equals(tZ.WSOL.mint),createInfo:{payer:i,amount:0},skipCloseAccount:!r.mintAddress.equals(tZ.WSOL.mint),associatedOnly:!r.mintAddress.equals(tZ.WSOL.mint)&&t.associatedOnly});s&&n.addInstruction(s),a.push(e)}n.addInstruction({instructions:[aP.makeClaimInstruction({programId:e.programId,poolInfo:e,ownerInfo:{wallet:i,ownerPda:e.ownerAccountId,claimAddress:a}})]});let{transaction:s,signers:o}=n.build();return[{transaction:s,signer:o}]}async makeClaimAllTransaction({poolInfos:e,ownerInfo:t,feePayer:r}){let n=this.createTxBuilder(r),i=t.wallet||this.scope.ownerPubKey,a={};for(let r of e){let e=[];for(let s of r.tokenInfo){let{account:r,instructionParams:o}=await this.scope.account.getOrCreateTokenAccount({mint:s.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:s.mintAddress.equals(tZ.WSOL.mint),createInfo:{payer:i,amount:0},skipCloseAccount:!s.mintAddress.equals(tZ.WSOL.mint),associatedOnly:!s.mintAddress.equals(tZ.WSOL.mint)&&t.associatedOnly});o&&n.addInstruction(o),r&&(a[s.mintAddress.toString()]=r,e.push(r))}n.addInstruction({instructions:[aP.makeClaimInstruction({programId:r.programId,poolInfo:r,ownerInfo:{wallet:i,ownerPda:r.ownerAccountId,claimAddress:e}})]})}let{transaction:s,signers:o}=n.build(),u=n.allInstructions;return rl(u,[i,...o.map(e=>e.publicKey)])?[{transaction:s,signer:o}]:[{transaction:new h.Transaction().add(...u.slice(0,n.AllTxData.instructions.length-1)),signer:o},{transaction:new h.Transaction().add(...u.slice(n.AllTxData.instructions.length-1)),signer:[]},{transaction:new h.Transaction().add(...n.AllTxData.endInstructions),signer:[]}]}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:r}){let n=n_([]),i=[{pubkey:r.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:r.ownerPda,isSigner:!1,isWritable:!0},...r.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],a=f.Buffer.alloc(n.span);n.encode({},a);let s=f.Buffer.from([10,66,208,184,161,6,191,98,...a]);return new h.TransactionInstruction({keys:i,programId:e,data:s})}};aP.CLAIMED_NUM=3,aP.POOL_LAYOUT=n_([np(8),ny("bump"),ny("status"),nA("openTime"),nA("endTime"),nE("ammId"),nN(n_([ny("mintDecimals"),nE("mintAddress"),nE("mintVault"),nA("perLpLoss"),nA("totalClaimedAmount")]),aP.CLAIMED_NUM,"tokenInfo"),nN(nA(),10,"padding")]),aP.OWNER_LAYOUT=n_([np(8),ny("bump"),ny("version"),nE("poolId"),nE("owner"),nA("lpAmount"),nN(n_([nE("mintAddress"),nA("debtAmount"),nA("claimedAmount")]),aP.CLAIMED_NUM,"tokenInfo"),nN(nA(),4,"padding")]),aP.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new h.PublicKey(e)),aP.SEED_CONFIG={pool:{id:f.Buffer.from("pool_seed","utf8")},owner:{id:f.Buffer.from("user_claim_seed","utf8")}},aP.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],n_([ny("instruction"),nc("amount")]);n_([ny("instruction")]);var aI={[rP.toString()]:1,[rI.toString()]:2,[r_.toString()]:3,[rN.toString()]:4},a_=f.Buffer.from("vault_auth_seed","utf8"),aN=(f.Buffer.from("global_config","utf8"),f.Buffer.from("pool","utf8")),aB=f.Buffer.from("pool_vault","utf8"),aR=(f.Buffer.from("pool_vesting","utf8"),f.Buffer.from("platform_config","utf8"));function aC(e){return rc([a_],e)}function aO(e){return rc([f.Buffer.from("__event_authority","utf8")],e)}var aD={initialize:f.Buffer.from([175,175,109,31,13,152,155,237]),buyExactIn:f.Buffer.from([250,234,13,123,213,156,19,236]),buyExactOut:f.Buffer.from([24,211,116,40,105,3,153,56]),sellExactIn:f.Buffer.from([149,39,222,155,211,124,152,26]),sellExactOut:f.Buffer.from([95,200,71,34,8,9,11,166]),createVestingAccount:f.Buffer.from([129,178,2,13,217,172,230,218]),claimVestedToken:f.Buffer.from([49,33,104,30,189,157,79,35]),createPlatformConfig:f.Buffer.from([176,90,196,175,253,113,220,20]),claimPlatformFee:f.Buffer.from([156,39,208,135,76,237,61,72]),updatePlaformConfig:f.Buffer.from([195,60,76,129,146,45,67,143])};function aU(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,y,x){let w=n_([nA("amountB"),nA("minAmountA"),nA("shareFeeRate")]),v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aO(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&v.push({pubkey:x,isSigner:!1,isWritable:!0}),console.log({amountB:g.toString(),minAmountA:b.toString()});let S=f.Buffer.alloc(w.span);return w.encode({amountB:g,minAmountA:b,shareFeeRate:null!=y?y:new A.default(0)},S),new h.TransactionInstruction({keys:v,programId:e,data:f.Buffer.from([...aD.buyExactIn,...S])})}function aF(e,t,r,n,i,a,s,o,u,l,c,d,p,m,g,b,y,x){let w=n_([nA("amountA"),nA("minAmountB"),nA("shareFeeRate")]),v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aO(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&v.push({pubkey:x,isSigner:!1,isWritable:!0});let S=f.Buffer.alloc(w.span);return w.encode({amountA:g,minAmountB:b,shareFeeRate:null!=y?y:new A.default(0)},S),new h.TransactionInstruction({keys:v,programId:e,data:f.Buffer.from([...aD.sellExactIn,...S])})}var aM=n_([nA(),nA("epoch"),ny("curveType"),nu("index"),nA("migrateFee"),nA("tradeFeeRate"),nA("maxShareFeeRate"),nA("minSupplyA"),nA("maxLockRate"),nA("minSellRateA"),nA("minMigrateRateA"),nA("minFundRaisingB"),nE("mintB"),nE("protocolFeeOwner"),nE("migrateFeeOwner"),nE("migrateToAmmWallet"),nE("migrateToCpmmWallet"),nN(nA(),16)]),aL=n_([nA("totalLockedAmount"),nA("cliffPeriod"),nA("unlockPeriod"),nA("startTime"),nA("totalAllocatedShare")]),aK=n_([nA(),nA("epoch"),ny("bump"),ny("status"),ny("mintDecimalsA"),ny("mintDecimalsB"),ny("migrateType"),nA("supply"),nA("totalSellA"),nA("virtualA"),nA("virtualB"),nA("realA"),nA("realB"),nA("totalFundRaisingB"),nA("protocolFee"),nA("platformFee"),nA("migrateFee"),aL.replicate("vestingSchedule"),nE("configId"),nE("platformId"),nE("mintA"),nE("mintB"),nE("vaultA"),nE("vaultB"),nE("creator"),nN(nA(),8)]),aq=(n_([nA(),nA("epoch"),nE("poolId"),nE("beneficiary"),nA("claimedAmount"),nA("tokenShareAmount"),nN(nA(),8)]),n_([nA(),nA("epoch"),nE("platformClaimFeeWallet"),nE("platformLockNftWallet"),nA("platformScale"),nA("creatorScale"),nA("burnScale"),nA("feeRate"),nN(ny(),64,"name"),nN(ny(),256,"web"),nN(ny(),256,"img"),nN(ny(),256)])),aW=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:a,decimalB:s}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}},aV=class extends aW{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tk(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new tk(t.toString()).div(e.toString()).mul(10**(r-n))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tk(e.virtualB.add(e.realB).toString()).div(e.virtualA.sub(e.realA).toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:a,decimalB:s}){return new tk(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-s))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new tk(e.virtualB.add(e.realB.add(i)).toString()).div(e.virtualA.sub(e.realA.add(n)).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){if(e.lte(r))throw Error("supply need gt total sell");let a=e.sub(r).sub(n);if(a.lte(new A.default(0)))throw Error("supplyMinusSellLocked <= 0");let s=t.sub(i);if(s.lte(new A.default(0)))throw Error("tfMinusMf <= 0");let o=s.mul(n4).div(a),u=o.mul(r).mul(r).div(n4),l=o.mul(r).div(n4).sub(t);if(l.lt(new A.default(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let c=u.div(l),d=t.mul(t).div(l);if(c.lt(new A.default(0))||d.lt(new A.default(0)))throw Error("invalid input 0");return{a:c,b:d,c:r}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static getAmountOut({amountIn:e,inputReserve:t,outputReserve:r}){let n=e.mul(r),i=t.add(e);return n.div(i)}static getAmountIn({amountOut:e,inputReserve:t,outputReserve:r}){return rL(t.mul(e),r.sub(e))}},aG=class extends aW{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tk(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new tk(t.toString()).div(e.toString()).mul(10**(r-n))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tk(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:a,decimalB:s}){return new tk(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-s))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new tk(e.virtualB.add(e.realB).add(i).toString()).div(e.virtualA.sub(e.realA).add(n).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){let a=e.sub(n);if(a.lte(new A.default(0)))throw Error("invalid input 1");let s=new A.default(2).mul(t).sub(i),o=t.mul(a).div(s);return{a:o,b:t,c:o}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualB,initOutput:e.virtualA})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualB,initOutput:e.virtualA})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualA,initOutput:e.virtualB})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualA,initOutput:e.virtualB})}static getAmountOut({amountIn:e,initInput:t,initOutput:r}){return r.mul(e).div(t)}static getAmountIn({amountOut:e,initInput:t,initOutput:r}){return rL(t.mul(e),r)}},az=class{static _multipler(e){return new tk(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:r}){return new tk(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(r))}static getPriceX64({price:e,decimalA:t,decimalB:r}){let n=e.mul(this._multipler(r)).div(this._multipler(t));return new A.default(n.mul(this._Q64).toFixed(0))}};az._Q64=new tk(new A.default(1).shln(64).toString());var aj=class extends aW{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tk(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n}){return new tk(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tk(e.virtualA.mul(e.realA).toString()).div(az._Q64).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:n,migrateFee:i,decimalA:a,decimalB:s}){return new tk(n.sub(i).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-s))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let n=e.totalSellA.sub(e.realA),i=e.totalFundRaisingB.sub(e.realB);return new tk(e.virtualB.add(e.realB).add(i).toString()).div(e.virtualA.sub(e.realA).add(n).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,migrateFee:i}){let a=e.sub(n);if(a.lte(new A.default(0)))throw Error("supplyMinusLocked need gt 0");let s=t.mul(new A.default(3)).sub(i),o=t.mul(new A.default(2)).mul(a).div(s),u=o.mul(o),l=t.mul(new A.default(2)).mul(n4).div(u);if(!l.gt(new A.default(0)))throw Error("a need gt 0");if(!n3.gt(l))throw Error("a need lt u64 max");return{a:l,b:new A.default(0),c:o}}static buyExactIn({poolInfo:e,amount:t}){let r=e.realB.add(t),n=new A.default(2).mul(r).mul(n4).div(e.virtualA);return new A.default(new tk(n.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let r=e.realA.add(t),n=r.mul(r),{div:i,mod:a}=e.virtualA.mul(n).divmod(new A.default(2).mul(n4));return(a.isZero()?i:i.add(new A.default(1))).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let r=e.realA.sub(t),n=r.mul(r),{div:i,mod:a}=e.virtualA.mul(n).divmod(new A.default(2).mul(n4)),s=a.isZero()?i:i.add(new A.default(1));return e.realB.sub(s)}static sellExactOut({poolInfo:e,amount:t}){let r=e.realB.sub(t),n=new A.default(2).mul(r).mul(n4).div(e.virtualA),i=new A.default(new tk(n.toString()).sqrt().toFixed(0));return e.realA.sub(i)}},aH=class{static getPoolCurvePointByPoolInfo({curveType:e,pointCount:t,poolInfo:r}){return this.getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r.supply,totalFundRaising:r.totalFundRaisingB,totalSell:r.totalSellA,totalLockedAmount:r.vestingSchedule.totalLockedAmount,migrateFee:r.migrateFee,decimalA:r.mintDecimalsA,decimalB:r.mintDecimalsB})}static getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r,totalFundRaising:n,totalSell:i,totalLockedAmount:a,migrateFee:s,decimalA:o,decimalB:u}){if(t<3)throw Error("point count < 3");let l=this.getCurve(e),c=l.getInitParam({supply:r,totalFundRaising:n,totalSell:i,totalLockedAmount:a,migrateFee:s}),d=l.getPoolInitPriceByInit(H(j({},c),{decimalA:o,decimalB:u})),f=n.div(new A.default(t-1)),p=new A.default(0),h=[{price:d,totalSellSupply:0}],{a:m,b:g}=c,b=p,y=p;for(let r=1;r<t;r++){let a=r!==t-1?f:n.sub(y),s=this.buyExactIn({poolInfo:{virtualA:m,virtualB:g,realA:b,realB:y,totalFundRaisingB:n,totalSellA:i},amountB:a,protocolFeeRate:p,platformFeeRate:p,curveType:e,shareFeeRate:p});b=b.add(s.amountA),y=y.add(s.amountB);let l=this.getPrice({poolInfo:{virtualA:m,virtualB:g,realA:b,realB:y},decimalA:o,decimalB:u,curveType:e});h.push({price:l,totalSellSupply:new tk(b.toString()).div(10**o).toNumber()})}return h}static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r,curveType:n}){return this.getCurve(n).getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r})}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n,curveType:i}){return this.getCurve(i).getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:n})}static getPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:n})}static getEndPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:n})}static getPoolEndPriceReal({poolInfo:e,curveType:t,decimalA:r,decimalB:n}){return this.getCurve(t).getPoolEndPriceReal({poolInfo:e,decimalA:r,decimalB:n})}static checkParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:n,decimals:i,config:a,migrateType:s}){if(6!==Number(i))throw Error("decimals = 6");if(e.mul(a.maxLockRate).div(rV).lt(n))throw Error("total lock amount gte max lock amount");if(e.lt(a.minSupplyA.mul(new A.default(10**i))))throw Error("supply lt min supply");let o=e.mul(a.minSellRateA).div(rV);if(r.lt(o))throw Error("invalid input");if(t.lt(a.minFundRaisingB))throw Error("total fund raising lt min fund raising");let u=e.sub(r).sub(n),l=e.mul(a.minMigrateRateA).div(rV);if(u.lt(l))throw Error("migrate lt min migrate amount");let c=e.sub(r).sub(n),d=new A.default(new tk(c.mul(t).toString()).sqrt().toFixed(0));if("amm"===s){let e=new A.default(10).pow(new A.default(i));if(d.lte(e))throw Error("check migrate lp error")}else if("cpmm"===s){let e=new A.default(100);if(d.lte(e))throw Error("check migrate lp error")}else throw Error("migrate type error")}static buyExactIn({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:a}){let s=r.add(a).add(n),o=this.calculateFee({amount:t,feeRate:s}),u=t.sub(o),l=this.getCurve(i).buyExactIn({poolInfo:e,amount:u}),c=e.totalSellA.sub(e.realA),d,f,p;if(l.gt(c)){d=c;let t=e.totalFundRaisingB.sub(e.realB);p=(f=this.calculatePreFee({postFeeAmount:t,feeRate:s})).sub(t)}else d=l,f=t,p=o;return{amountA:d,amountB:f,splitFee:this.splitFee({totalFee:p,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:a})}}static buyExactOut({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:a}){let s=e.totalSellA.sub(e.realA),o=t,u;t.gte(s)?(o=s,u=e.totalFundRaisingB.sub(e.realB)):u=this.getCurve(i).buyExactOut({poolInfo:e,amount:t});let l=r.add(a).add(n),c=this.calculatePreFee({postFeeAmount:u,feeRate:l}),d=c.sub(u);return{amountA:o,amountB:c,splitFee:this.splitFee({totalFee:d,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:a})}}static sellExactIn({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:a}){let s=this.getCurve(i).sellExactIn({poolInfo:e,amount:t}),o=this.calculateFee({amount:s,feeRate:r.add(a).add(n)}),u=this.splitFee({totalFee:o,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:a});return{amountA:t,amountB:s.sub(o),splitFee:u}}static sellExactOut({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:n,curveType:i,shareFeeRate:a}){let s=r.add(a).add(n),o=this.calculatePreFee({postFeeAmount:t,feeRate:s});if(e.realB.lt(o))throw Error("Insufficient liquidity");let u=o.sub(t),l=aH.getCurve(i).sellExactOut({poolInfo:e,amount:t});if(l.gt(e.realA))throw Error();return{amountA:l,amountB:t,splitFee:this.splitFee({totalFee:u,protocolFeeRate:r,platformFeeRate:n,shareFeeRate:a})}}static splitFee({totalFee:e,protocolFeeRate:t,platformFeeRate:r,shareFeeRate:n}){let i=t.add(r).add(n),a=i.isZero()?new A.default(0):e.mul(r).div(i),s=i.isZero()?new A.default(0):e.mul(n).div(i),o=e.sub(a).sub(s);return{platformFee:a,shareFee:s,protocolFee:o}}static calculateFee({amount:e,feeRate:t}){return t8(e,t,rV)}static calculatePreFee({postFeeAmount:e,feeRate:t}){if(t.isZero())return e;let r=e.mul(rV),n=rV.sub(t);return r.add(n).sub(new A.default(1)).div(n)}static getCurve(e){switch(e){case 0:return aV;case 1:return aG;case 2:return aj}throw Error("find curve error")}},aQ={initPriceX64:new A.default("515752397214619"),supply:new A.default(1e15),totalSellA:new A.default(7931e11),totalFundRaisingB:new A.default(85e9),totalLockedAmount:new A.default("0"),cliffPeriod:new A.default("0"),unlockPeriod:new A.default("0"),decimals:6,virtualA:new A.default("1073471847374405"),virtualB:new A.default("30050573465"),realA:new A.default(0),realB:new A.default(0),protocolFee:new A.default(0),platformId:new h.PublicKey("2vSBJMh4zLm2tij3BjBcbvTogbfST9oAzSsk4HTFcRok"),vestingSchedule:{totalLockedAmount:new A.default(0),cliffPeriod:new A.default(0),unlockPeriod:new A.default(0),startTime:new A.default(0),totalAllocatedShare:new A.default(0)}},aX=new A.default(1e4);e.s(["Curve",()=>aH,"ZERO",()=>n0,"buyExactInInstruction",()=>aU,"getPdaLaunchpadAuth",()=>aC,"sellExactInInstruction",()=>aF],49498)},517207,986216,704290,459094,100191,199098,284456,412129,408136,e=>{"use strict";var t,r=e.i(467034),n=e.i(268804);e.i(465903);var i=e.i(767924),a=e.i(973444),s=e.i(127261);function o(e){function t(t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return(0,a.newSafeBN)(r).add((0,a.newSafeBN)(n).shln(32))}function r(t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4),i=e.readUInt32LE(t+8),s=e.readUInt32LE(t+12);return(0,a.newSafeBN)(r).add((0,a.newSafeBN)(n).shln(32)).add((0,a.newSafeBN)(i).shln(64)).add((0,a.newSafeBN)(s).shln(96))}function n(t){return new s.PublicKey(e.subarray(t,t+32))}let i={cliffFeeNumerator:t(0),baseFeeMode:e.readUInt8(8),firstFactor:e.readUInt16LE(14),secondFactor:[e.readUInt8(16),e.readUInt8(17),e.readUInt8(18),e.readUInt8(19),e.readUInt8(20),e.readUInt8(21),e.readUInt8(22),e.readUInt8(23)],thirdFactor:t(24)},o=e.readUInt8(40),u=e.readUInt8(41),l=e.readUInt8(42),c={initialized:e.readUInt8(48),maxVolatilityAccumulator:e.readUInt32LE(56),variableFeeControl:e.readUInt32LE(60),binStep:e.readUInt16LE(64),filterPeriod:e.readUInt16LE(66),decayPeriod:e.readUInt16LE(68),reductionFactor:e.readUInt16LE(70),lastUpdateTimestamp:t(72),binStepU128:r(80),sqrtPriceReference:r(96),volatilityAccumulator:r(112),volatilityReference:r(128)},d=n(160),f=n(192),p=n(224),h=n(256),m=n(288),g=n(320),b=r(352),y=r(416),x=r(432),A=r(448),w=t(464),v=e.readUInt8(472),S=e.readUInt8(473),E=e.readUInt8(476);return{poolFees:{baseFee:i,protocolFeePercent:o,partnerFeePercent:u,referralFeePercent:l,dynamicFee:c},tokenAMint:d,tokenBMint:f,tokenAVault:p,tokenBVault:h,whitelistedVault:m,partner:g,liquidity:b,sqrtMinPrice:y,sqrtMaxPrice:x,sqrtPrice:A,activationPoint:w,activationType:v,poolStatus:S,collectFeeMode:E,poolType:e.readUInt8(477),version:e.readUInt8(478)}}var u=((v={})[v.Up=0]="Up",v[v.Down=1]="Down",v);(S={})[S.Timestamp=0]="Timestamp",S[S.Slot=1]="Slot";var l=((E={})[E.FeeSchedulerLinear=0]="FeeSchedulerLinear",E[E.FeeSchedulerExponential=1]="FeeSchedulerExponential",E[E.RateLimiter=2]="RateLimiter",E),c=((k={})[k.BothToken=0]="BothToken",k[k.OnlyB=1]="OnlyB",k),d=((T={})[T.AtoB=0]="AtoB",T[T.BtoA=1]="BtoA",T),f=((P={})[P.Slot=0]="Slot",P[P.Timestamp=1]="Timestamp",P),p=((I={})[I.V0=0]="V0",I[I.V1=1]="V1",I);(_={})[_.Enable=0]="Enable",_[_.Disable=1]="Disable",(N={})[N.ExactIn=0]="ExactIn",N[N.PartialFill=1]="PartialFill",N[N.ExactOut=2]="ExactOut";var h=e.i(659341);new s.PublicKey("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG");let m=new h.default(1).shln(64),g=new h.default(524288),b=new h.default(2).pow(new h.default(128)).sub(new h.default(1));new h.default("4295048016"),new h.default("79226673521066979257578248091");let y=new h.default(1e11),x=new h.default(0x174876e7ff);new h.default("1844674407370955");let A=new h.default("340282366920938463463374607431768211455"),w=new h.default("18446744073709551615");p.V0,e.s(["BASIS_POINT_MAX",0,1e4,"DYNAMIC_FEE_ROUNDING_OFFSET",0,x,"DYNAMIC_FEE_SCALING_FACTOR",0,y,"FEE_DENOMINATOR",0,1e9,"MAX",0,b,"MAX_EXPONENTIAL",0,g,"MAX_FEE_BPS_V0",0,5e3,"MAX_FEE_BPS_V1",0,9900,"MAX_FEE_NUMERATOR_V0",0,5e8,"MAX_FEE_NUMERATOR_V1",0,99e7,"MAX_RATE_LIMITER_DURATION_IN_SECONDS",0,43200,"MAX_RATE_LIMITER_DURATION_IN_SLOTS",0,108e3,"MIN_FEE_NUMERATOR",0,1e5,"ONE_Q64",0,m,"SCALE_OFFSET",0,64,"U128_MAX",0,A,"U16_MAX",0,65535,"U64_MAX",0,w],986216);var v,S,E,k,T,P,I,_,N,B,R,C="0123456789abcdef",O="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",D="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",U={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},F=!0,M="[DecimalError] ",L=M+"Invalid argument: ",K=M+"Precision limit exceeded",q=M+"crypto unavailable",W="[object Decimal]",V=Math.floor,G=Math.pow,z=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,H=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Q=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,X=O.length-1,J=D.length-1,Y={toStringTag:W};function Z(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=el(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=el(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function $(e,t,r){if(e!==~~e||e<t||e>r)throw Error(L+e)}function ee(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=G(10,7-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==G(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==G(10,t-3)-1,s}function et(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=C.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),en(e)},Y.ceil=function(){return en(new this.constructor(this),this.e+1,2)},Y.clampedTo=Y.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(L+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},Y.comparedTo=Y.cmp=function(e){var t,r,n,i,a=this.d,s=(e=new this.constructor(e)).d,o=this.s,u=e.s;if(!a||!s)return o&&u?o!==u?o:a===s?0:!a^o<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?o:s[0]?-u:0;if(o!==u)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(t=0,r=(n=a.length)<(i=s.length)?n:i;t<r;++t)if(a[t]!==s[t])return a[t]>s[t]^o<0?1:-1;return n===i?0:n>i^o<0?1:-1},Y.cosine=Y.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/ey(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=eb(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,ex(n,r)),n.precision=e,n.rounding=t,en(2==R||3==R?r.neg():r,e,t,!0)):new n(1):new n(NaN)},Y.cubeRoot=Y.cbrt=function(){var e,t,r,n,i,a,s,o,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(F=!1,(a=this.s*G(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new c(a.toString()):(r=Z(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=G(r,1/3),e=V((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),s=(e=c.precision)+3;;)if(n=er((l=(u=(o=n).times(o).times(o)).plus(this)).plus(this).times(o),l.plus(u),s+2,1),Z(o.d).slice(0,s)===(r=Z(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(en(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(en(o,e+1,0),o.times(o).times(o).eq(this))){n=o;break}s+=4,i=1}return F=!0,en(n,e,c.rounding,t)},Y.decimalPlaces=Y.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-V(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},Y.dividedBy=Y.div=function(e){return er(this,new this.constructor(e))},Y.dividedToIntegerBy=Y.divToInt=function(e){var t=this.constructor;return en(er(this,new t(e),0,1,1),t.precision,t.rounding)},Y.equals=Y.eq=function(e){return 0===this.cmp(e)},Y.floor=function(){return en(new this.constructor(this),this.e+1,3)},Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0},Y.greaterThanOrEqualTo=Y.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Y.hyperbolicCosine=Y.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/ey(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eb(s,1,a.times(t),new s(1),!0);for(var u,l=e,c=new s(8);l--;)u=a.times(a),a=o.minus(u.times(c.minus(u.times(c))));return en(a,s.precision=r,s.rounding=n,!0)},Y.hyperbolicSine=Y.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=eb(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=eb(a,2,i=i.times(1/ey(5,e)),i,!0);for(var s,o=new a(5),u=new a(16),l=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(u.times(s).plus(l))))}return a.precision=t,a.rounding=r,en(i,t,r,!0)},Y.hyperbolicTangent=Y.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,er(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},Y.inverseCosine=Y.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?eo(t,n,i):new t(0):new t(NaN):e.isZero()?eo(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},Y.inverseHyperbolicCosine=Y.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,F=!1,r=r.times(r).minus(1).sqrt().plus(r),F=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},Y.inverseHyperbolicSine=Y.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,F=!1,r=r.times(r).plus(1).sqrt().plus(r),F=!0,n.precision=e,n.rounding=t,r.ln())},Y.inverseHyperbolicTangent=Y.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?en(new a(i),e,t,!0):(a.precision=r=n-i.e,i=er(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5)):new a(NaN)},Y.inverseSine=Y.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t)?0===t?((e=eo(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2))},Y.inverseTangent=Y.atan=function(){var e,t,r,n,i,a,s,o,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);else if(l.abs().eq(1)&&d+4<=J)return(s=eo(c,d+4,f).times(.25)).s=l.s,s}else{if(!l.s)return new c(NaN);if(d+4<=J)return(s=eo(c,d+4,f).times(.5)).s=l.s,s}for(c.precision=o=d+10,c.rounding=1,e=r=Math.min(28,o/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(F=!1,t=Math.ceil(o/7),n=1,u=l.times(l),s=new c(l),i=l;-1!==e;)if(i=i.times(u),a=s.minus(i.div(n+=2)),i=i.times(u),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),F=!0,en(s,c.precision=d,c.rounding=f,!0)},Y.isFinite=function(){return!!this.d},Y.isInteger=Y.isInt=function(){return!!this.d&&V(this.e/7)>this.d.length-2},Y.isNaN=function(){return!this.s},Y.isNegative=Y.isNeg=function(){return this.s<0},Y.isPositive=Y.isPos=function(){return this.s>0},Y.isZero=function(){return!!this.d&&0===this.d[0]},Y.lessThan=Y.lt=function(e){return 0>this.cmp(e)},Y.lessThanOrEqualTo=Y.lte=function(e){return 1>this.cmp(e)},Y.logarithm=Y.log=function(e){var t,r,n,i,a,s,o,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(F=!1,ee((o=er(a=eh(this,s=l+5),t?es(u,s+10):eh(e,s),s,1)).d,n=l,c))do if(s+=10,o=er(a=eh(this,s),t?es(u,s+10):eh(e,s),s,1),!i){+Z(o.d).slice(n+1,n+15)+1==1e14&&(o=en(o,l+1,0));break}while(ee(o.d,n+=10,c))return F=!0,en(o,l,c)},Y.minus=Y.sub=function(e){var t,r,n,i,a,s,o,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,o=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return F?en(e,o,u):e}if(r=V(e.e/7),c=V(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,s=f.length):(t=f,r=c,s=l.length),a>(n=Math.max(Math.ceil(o/7),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=l.length)<(s=f.length))&&(s=n),n=0;n<s;n++)if(l[n]!=f[n]){d=l[n]<f[n];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),s=l.length,n=f.length-s;n>0;--n)l[s++]=0;for(n=f.length;n>a;){if(l[--n]<f[n]){for(i=n;i&&0===l[--i];)l[i]=1e7-1;--l[i],l[n]+=1e7}l[n]-=f[n]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=ea(l,r),F?en(e,o,u):e):new p(3===u?-0:0)},Y.modulo=Y.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(F=!1,9==r.modulo?(t=er(this,e.abs(),0,3,1),t.s*=e.s):t=er(this,e,0,r.modulo,1),t=t.times(e),F=!0,this.minus(t)):en(new r(this),r.precision,r.rounding):new r(NaN)},Y.naturalExponential=Y.exp=function(){return ep(this)},Y.naturalLogarithm=Y.ln=function(){return eh(this)},Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s,en(e)},Y.plus=Y.add=function(e){var t,r,n,i,a,s,o,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,o=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),F?en(e,o,u):e;if(a=V(this.e/7),n=V(e.e/7),l=l.slice(),i=a-n){for(i<0?(r=l,i=-i,s=c.length):(r=c,n=a,s=l.length),i>(s=(a=Math.ceil(o/7))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,r=c,c=l,l=r),t=0;i;)t=(l[--i]=l[i]+c[i]+t)/1e7|0,l[i]%=1e7;for(t&&(l.unshift(t),++n),s=l.length;0==l[--s];)l.pop();return e.d=l,e.e=ea(l,n),F?en(e,o,u):e},Y.precision=Y.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(L+e);return this.d?(t=eu(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},Y.round=function(){var e=this.constructor;return en(new e(this),this.e+1,e.rounding)},Y.sine=Y.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:eb(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=eb(e,2,t=t.times(1/ey(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}(n,ex(n,r)),n.precision=e,n.rounding=t,en(R>2?r.neg():r,e,t,!0)):new n(NaN)},Y.squareRoot=Y.sqrt=function(){var e,t,r,n,i,a,s=this.d,o=this.e,u=this.s,l=this.constructor;if(1!==u||!s||!s[0])return new l(!u||u<0&&(!s||s[0])?NaN:s?this:1/0);for(F=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=Z(s)).length+o)%2==0&&(t+="0"),u=Math.sqrt(t),o=V((o+1)/2)-(o<0||o%2),n=new l(t=u==1/0?"5e"+o:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+o)):n=new l(u.toString()),r=(o=l.precision)+3;;)if(n=(a=n).plus(er(this,a,r+2,1)).times(.5),Z(a.d).slice(0,r)===(t=Z(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(en(n,o+1,1),e=!n.times(n).eq(this));break}if(!i&&(en(a,o+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return F=!0,en(n,o,l.rounding,e)},Y.tangent=Y.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=er(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,en(2==R||4==R?r.neg():r,e,t,!0)):new n(NaN)},Y.times=Y.mul=function(e){var t,r,n,i,a,s,o,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=V(this.e/7)+V(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,s=u,u=l,l=s),a=[],n=s=u+l;n--;)a.push(0);for(n=l;--n>=0;){for(t=0,i=u+n;i>n;)o=a[i]+f[n]*d[i-n-1]+t,a[i--]=o%1e7|0,t=o/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=ea(a,r),F?en(e,c.precision,c.rounding):e},Y.toBinary=function(e,t){return eA(this,2,e,t)},Y.toDecimalPlaces=Y.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:($(e,0,1e9),void 0===t?t=n.rounding:$(t,0,8),en(r,e+r.e+1,t))},Y.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=ei(n,!0):($(e,0,1e9),void 0===t?t=i.rounding:$(t,0,8),r=ei(n=en(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},Y.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=ei(this):($(e,0,1e9),void 0===t?t=i.rounding:$(t,0,8),r=ei(n=en(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},Y.toFraction=function(e){var t,r,n,i,a,s,o,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),n=u=new h(0),s=(a=(t=new h(n)).e=eu(p)-this.e-1)%7,t.d[0]=G(10,s<0?7+s:s),null==e)e=a>0?t:l;else{if(!(o=new h(e)).isInt()||o.lt(l))throw Error(L+o);e=o.gt(t)?a>0?t:l:o}for(F=!1,o=new h(Z(p)),c=h.precision,h.precision=a=7*p.length*2;d=er(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=l,l=u.plus(d.times(i)),u=i,i=t,t=o.minus(d.times(i)),o=i;return i=er(e.minus(r),n,0,1,1),u=u.plus(i.times(l)),r=r.plus(i.times(n)),u.s=l.s=this.s,f=1>er(l,n,a,1).minus(this).abs().cmp(er(u,r,a,1).minus(this).abs())?[l,n]:[u,r],h.precision=c,F=!0,f},Y.toHexadecimal=Y.toHex=function(e,t){return eA(this,16,e,t)},Y.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:$(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(F=!1,r=er(r,e,0,t,1).times(e),F=!0,en(r)):(e.s=r.s,r=e),r},Y.toNumber=function(){return+this},Y.toOctal=function(e,t){return eA(this,8,e,t)},Y.toPower=Y.pow=function(e){var t,r,n,i,a,s,o=this,u=o.constructor,l=+(e=new u(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new u(G(+o,l));if((o=new u(o)).eq(1))return o;if(n=u.precision,a=u.rounding,e.eq(1))return en(o,n,a);if((t=V(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return i=ec(u,o,r,n),e.s<0?new u(1).div(i):en(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=G(+o,l))&&isFinite(r)?new u(r+"").e:V(l*(Math.log("0."+Z(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(F=!1,u.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=ep(e.times(eh(o,n+r)),n)).d&&ee((i=en(i,n+5,1)).d,n,a)&&(t=n+10,+Z((i=en(ep(e.times(eh(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=en(i,n+1,0))),i.s=s,F=!0,u.rounding=a,en(i,n,a))},Y.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=ei(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):($(e,1,1e9),void 0===t?t=i.rounding:$(t,0,8),r=ei(n=en(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},Y.toSignificantDigits=Y.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):($(e,1,1e9),void 0===t?t=r.rounding:$(t,0,8)),en(new r(this),e,t)},Y.toString=function(){var e=this.constructor,t=ei(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},Y.truncated=Y.trunc=function(){return en(new this.constructor(this),this.e+1,1)},Y.valueOf=Y.toJSON=function(){var e=this.constructor,t=ei(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var er=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,u){var l,c,d,f,p,h,m,g,b,y,x,A,w,v,S,E,k,T,P,I,_=n.constructor,N=n.s==i.s?1:-1,R=n.d,C=i.d;if(!R||!R[0]||!C||!C[0])return new _(!n.s||!i.s||(R?C&&R[0]==C[0]:!C)?NaN:R&&0==R[0]||!C?0*N:N/0);for(u?(p=1,c=n.e-i.e):(u=1e7,p=7,c=V(n.e/p)-V(i.e/p)),P=C.length,k=R.length,y=(b=new _(N)).d=[],d=0;C[d]==(R[d]||0);d++);if(C[d]>(R[d]||0)&&c--,null==a?(v=a=_.precision,s=_.rounding):v=o?a+(n.e-i.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,C=C[0],v++;(d<k||f)&&v--;d++)S=f*u+(R[d]||0),y[d]=S/C|0,f=S%C|0;h=f||d<k}else{for((f=u/(C[0]+1)|0)>1&&(C=e(C,f,u),R=e(R,f,u),P=C.length,k=R.length),E=P,A=(x=R.slice(0,P)).length;A<P;)x[A++]=0;(I=C.slice()).unshift(0),T=C[0],C[1]>=u/2&&++T;do f=0,(l=t(C,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/T|0)>1?(f>=u&&(f=u-1),g=(m=e(C,f,u)).length,A=x.length,1==(l=t(m,x,g,A))&&(f--,r(m,P<g?I:C,g,u))):(0==f&&(l=f=1),m=C.slice()),(g=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(C,x,P,A))<1&&(f++,r(x,P<A?I:C,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=R[E]||0:(x=[R[E]],A=1);while((E++<k||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)b.e=c,B=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;b.e=d+c*p-1,en(b,o?a+b.e+1:a,s,h)}return b}}();function en(e,t,r,n){var i,a,s,o,u,l,c,d,f,p=e.constructor;t:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=7,s=t,u=(c=d[f=0])/G(10,i-s-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(o=d.length))if(n){for(;o++<=f;)d.push(0);c=u=0,i=1,a%=7,s=a-7+1}else break t;else{for(i=1,c=o=d[f];o>=10;o/=10)i++;a%=7,u=(s=a-7+i)<0?0:c/G(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[f+1]||(s<0?c:c%G(10,i-s-1)),l=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?s>0?c/G(10,i-s):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=G(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,o=1,f--):(d.length=f+1,o=G(10,7-a),d[f]=s>0?(c/G(10,i-s)%G(10,s)|0)*o:0),l)for(;;)if(0==f){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=o,1e7!=d[f])break;d[f--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return F&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ei(e,t,r){if(!e.isFinite())return em(e);var n,i=e.e,a=Z(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+el(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+el(-i-1)+a,r&&(n=r-s)>0&&(a+=el(n))):i>=s?(a+=el(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+el(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=el(n))),a}function ea(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function es(e,t,r){if(t>X)throw F=!0,r&&(e.precision=r),Error(K);return en(new e(O),t,1,!0)}function eo(e,t,r){if(t>J)throw Error(K);return en(new e(D),t,r,!0)}function eu(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function el(e){for(var t="";e--;)t+="0";return t}function ec(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/7+4);for(F=!1;;){if(r%2&&ew((a=a.times(t)).d,s)&&(i=!0),0===(r=V(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}ew((t=t.times(t)).d,s)}return F=!0,a}function ed(e){return 1&e.d[e.d.length-1]}function ef(e,t,r){for(var n,i,a=new e(t[0]),s=0;++s<t.length;){if(!(i=new e(t[s])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function ep(e,t){var r,n,i,a,s,o,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(F=!1,u=h):u=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(u+=n=Math.log(G(2,d))/Math.LN10*2+5|0,r=a=s=new f(1),f.precision=u;;){if(a=en(a.times(e),u,1),r=r.times(++c),Z((o=s.plus(er(a,r,u,1))).d).slice(0,u)===Z(s.d).slice(0,u)){for(i=d;i--;)s=en(s.times(s),u,1);if(null!=t)return f.precision=h,s;if(!(l<3&&ee(s.d,u-n,p,l)))return en(s,f.precision=h,p,F=!0);f.precision=u+=10,r=a=o=new f(1),c=0,l++}s=o}}function eh(e,t){var r,n,i,a,s,o,u,l,c,d,f,p=1,h=e,m=h.d,g=h.constructor,b=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(F=!1,c=y):c=t,g.precision=c+=10,n=(r=Z(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=es(g,c+2,y).times(a+""),h=eh(new g(n+"."+r.slice(1)),c-10).plus(l),g.precision=y,null==t?en(h,y,b,F=!0):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Z((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1)),d=h,u=s=h=er(h.minus(1),h.plus(1),c,1),f=en(h.times(h),c,1),i=3;;){if(s=en(s.times(f),c,1),Z((l=u.plus(er(s,new g(i),c,1))).d).slice(0,c)===Z(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(es(g,c+2,y).times(a+""))),u=er(u,new g(p),c,1),null!=t)return g.precision=y,u;if(!ee(u.d,c-10,b,o))return en(u,g.precision=y,b,F=!0);g.precision=c+=10,l=s=h=er(d.minus(1),d.plus(1),c,1),f=en(h.times(h),c,1),i=o=1}u=l,i+=2}}function em(e){return String(e.s*e.s/0)}function eg(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),F&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eb(e,t,r,n,i){var a,s,o,u,l=e.precision,c=Math.ceil(l/7);for(F=!1,u=r.times(r),o=new e(n);;){if(s=er(o.times(u),new e(t++*t++),l,1),o=i?n.plus(s):n.minus(s),n=er(s.times(u),new e(t++*t++),l,1),void 0!==(s=o.plus(n)).d[c]){for(a=c;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return F=!0,s.d.length=c+1,s}function ey(e,t){for(var r=e;--t;)r*=e;return r}function ex(e,t){var r,n=t.s<0,i=eo(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return R=n?4:1,t;if((r=t.divToInt(i)).isZero())R=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return R=ed(r)?n?2:3:n?4:1,t;R=ed(r)?n?1:4:n?3:2}return t.minus(i).abs()}function eA(e,t,r,n){var i,a,s,o,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?($(r,1,1e9),void 0===n?n=p.rounding:$(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(s=(c=ei(e)).indexOf("."),h?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-s,f.d=et(ei(f),10,i),f.e=f.d.length),a=u=(d=et(c,10,i)).length;0==d[--u];)d.pop();if(d[0]){if(s<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=er(e,f,r,n,0,i)).d,a=e.e,l=B),s=d[r],o=i/2,l=l||void 0!==d[r+1],l=n<4?(void 0!==s||l)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||l||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(s=0,c="";s<u;s++)c+=C.charAt(d[s]);if(h){if(u>1)if(16==t||8==t){for(s=16==t?4:3,--u;u%s;u++)c+="0";for(u=(d=et(c,i,t)).length;!d[u-1];--u);for(s=1,c="1.";s<u;s++)c+=C.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=em(e);return e.s<0?"-"+c:c}function ew(e,t){if(e.length>t)return e.length=t,!0}function ev(e){return new this(e).abs()}function eS(e){return new this(e).acos()}function eE(e){return new this(e).acosh()}function ek(e,t){return new this(e).plus(t)}function eT(e){return new this(e).asin()}function eP(e){return new this(e).asinh()}function eI(e){return new this(e).atan()}function e_(e){return new this(e).atanh()}function eN(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?eo(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=eo(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(er(e,t,a,1)),t=eo(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(er(e,t,a,1)):(r=eo(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eB(e){return new this(e).cbrt()}function eR(e){return en(e=new this(e),e.e+1,2)}function eC(e,t,r){return new this(e).clamp(t,r)}function eO(e){if(!e||"object"!=typeof e)throw Error(M+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=U[r]),void 0!==(n=e[r]))if(V(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(L+r+": "+n);if(r="crypto",i&&(this[r]=U[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(q);else this[r]=!1;else throw Error(L+r+": "+n);return this}function eD(e){return new this(e).cos()}function eU(e){return new this(e).cosh()}function eF(e,t){return new this(e).div(t)}function eM(e){return new this(e).exp()}function eL(e){return en(e=new this(e),e.e+1,3)}function eK(){var e,t,r=new this(0);for(e=0,F=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return F=!0,new this(1/0);r=t}return F=!0,r.sqrt()}function eq(e){return e instanceof e7||e&&e.toStringTag===W||!1}function eW(e){return new this(e).ln()}function eV(e,t){return new this(e).log(t)}function eG(e){return new this(e).log(2)}function ez(e){return new this(e).log(10)}function ej(){return ef(this,arguments,-1)}function eH(){return ef(this,arguments,1)}function eQ(e,t){return new this(e).mod(t)}function eX(e,t){return new this(e).mul(t)}function eJ(e,t){return new this(e).pow(t)}function eY(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:$(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(q);else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=7,n&&e&&(i=G(10,7-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=7)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return s.e=r,s.d=o,s}function eZ(e){return en(e=new this(e),e.e+1,this.rounding)}function e$(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e0(e){return new this(e).sin()}function e1(e){return new this(e).sinh()}function e2(e){return new this(e).sqrt()}function e4(e,t){return new this(e).sub(t)}function e6(){var e=0,t=arguments,r=new this(t[0]);for(F=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return F=!0,en(r,this.precision,this.rounding)}function e3(e){return new this(e).tan()}function e5(e){return new this(e).tanh()}function e8(e){return en(e=new this(e),e.e+1,1)}Y[Symbol.for("nodejs.util.inspect.custom")]=Y.toString,Y[Symbol.toStringTag]="Decimal";var e7=Y.constructor=function e(t){var r,n,i;function a(e){var t,r,n;if(!(this instanceof a))return new a(e);if(this.constructor=a,eq(e)){this.s=e.s,F?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;F?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eg(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),Q.test(e)?eg(this,e):function(e,t){var r,n,i,a,s,o,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Q.test(t))return eg(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(j.test(t))r=16,t=t.toLowerCase();else if(z.test(t))r=2;else if(H.test(t))r=8;else throw Error(L+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=ec(n,new n(r),a,2*a)),a=c=(l=et(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new n(0*e.s):(e.e=ea(l,c),e.d=l,F=!1,s&&(e=er(e,i,4*o)),u&&(e=e.times(54>Math.abs(u)?G(2,u):e7.pow(2,u))),F=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,eg(this,e.toString());throw Error(L+e)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=eO,a.clone=e,a.isDecimal=eq,a.abs=ev,a.acos=eS,a.acosh=eE,a.add=ek,a.asin=eT,a.asinh=eP,a.atan=eI,a.atanh=e_,a.atan2=eN,a.cbrt=eB,a.ceil=eR,a.clamp=eC,a.cos=eD,a.cosh=eU,a.div=eF,a.exp=eM,a.floor=eL,a.hypot=eK,a.ln=eW,a.log=eV,a.log10=ez,a.log2=eG,a.max=ej,a.min=eH,a.mod=eQ,a.mul=eX,a.pow=eJ,a.random=eY,a.round=eZ,a.sign=e$,a.sin=e0,a.sinh=e1,a.sqrt=e2,a.sub=e4,a.sum=e6,a.tan=e3,a.tanh=e5,a.trunc=e8,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(U);function e9(e,t,r,n){let{div:i,mod:a}=e.mul(t).divmod(r);return n!==u.Up||a.isZero()?i:i.add(new h.default(1))}function te(e,t,r,n){return e.isZero()&&0===t&&0===r&&0===n}function tt(e,t,r,n,i,a,s){if(te(e,t,r,n)||s===d.AtoB||i.lt(a))return!1;let o=a.add(new h.default(t));return!i.gt(o)}function tr(e,t,r){let n=tp(new h.default(e),new h.default(1e9));if(t.gt(n))throw Error("cliffFeeNumerator cannot be greater than maxFeeNumerator");let i=n.sub(t),a=tp(new h.default(r),new h.default(1e9));if(a.isZero())throw Error("feeIncrementNumerator cannot be zero");return i.div(a)}function tn(e,t,r,n,i){if(e.lte(t))return r;{let a,s=tp(new h.default(n),new h.default(1e9)),o=e.sub(t),l=o.div(t),c=o.mod(t),d=tr(n,r,i),f=tp(new h.default(i),new h.default(1e9)),p=new h.default(1),m=new h.default(2);if(l.lt(d)){let e=r.add(r.mul(l)).add(f.mul(l).mul(l.add(p)).div(m)),n=r.add(f.mul(l.add(p))),i=t.mul(e),s=c.mul(n);a=i.add(s)}else{let e=r.add(r.mul(d)).add(f.mul(d).mul(d.add(p)).div(m)),n=t.mul(e),i=l.sub(d).mul(t).add(c).mul(s);a=n.add(i)}let g=new h.default(1e9),b=e9(a.add(g).sub(p).div(g),g,e,u.Up);if(b.gt(new h.default(w)))throw Error("Numerator does not fit in u64");return b}}function ti(e,t,r,n,i){let{excludedFeeAmount:a}=tm(tn(e,t,r,n,i),e);return a}function ta(e,t,r,n,i){let a=h.default.min(r,new h.default(t)).toNumber();if(a>65535)throw Error("Math overflow");switch(i){case l.FeeSchedulerLinear:var s,o,u;let c;return s=e,o=n,u=a,c=new h.default(u).mul(o),s.sub(c);case l.FeeSchedulerExponential:var d=e,f=n,p=a;if(0===p)return d;let y=new h.default(1e4),x=new h.default(f).shln(64).div(y),A=function(e,t){let r=t.isNeg();if(t.isZero())return m;if((t=r?t.abs():t).gt(g))return new h.default(0);let n=e,i=m;return(n.gte(i)&&(n=b.div(n),r=!r),t.and(new h.default(1)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(2)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(4)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(8)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(16)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(32)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(64)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(128)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(256)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(512)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(1024)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(2048)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(4096)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(8192)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(16384)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(32768)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(65536)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(131072)).isZero()||(i=i.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new h.default(262144)).isZero()||(i=i.mul(n).shrn(64)),i.isZero())?new h.default(0):(r&&(i=b.div(i)),i)}(m.sub(x),new h.default(p));return d.mul(A).div(m);default:throw Error("Invalid fee scheduler mode")}}function ts(e,t,r,n,i,a,s){let o;return r.isZero()?e:(a.lt(s)?o=new h.default(t):(o=a.sub(s).div(r)).gt(new h.default(t))&&(o=new h.default(t)),ta(e,t,o,n,i))}function to(e){return!e.partner.equals(s.PublicKey.default)}function tu(e,t,r,n){let i;if(e.lte(new h.default(0)))throw Error("sqrtPrice must be greater than 0");if(t.lte(new h.default(0)))throw Error("liquidity must be greater than 0");if(n){if(r.isZero())return e;let n=r.mul(e),i=t.add(n);return e9(t,e,i,u.Up)}return i=r.shln(128).div(t),e.add(i)}function tl(e,t){if(t.isZero()||e.gte(t))throw Error("InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero")}O=new e7(O),D=new e7(D),e.s(["Decimal",()=>e7,"default",0,e7],704290),e.s(["getBaseFeeHandler",()=>tf],100191),e.i(289492),e.s([],459094);class tc{cliffFeeNumerator;feeIncrementBps;maxFeeBps;maxLimiterDuration;referenceAmount;constructor(e,t,r,n,i){this.cliffFeeNumerator=e,this.feeIncrementBps=t,this.maxFeeBps=r,this.maxLimiterDuration=n,this.referenceAmount=i}validate(e,t,r){return function(e,t,r,n,i,a,s,o){if(a!==c.OnlyB)return!1;let u=tp(new h.default(r),new h.default(1e9));if(e.lt(new h.default(1e5))||e.gt(u))return!1;if(te(i,n,r,t))return!0;if(i.isZero()&&0!==n&&0!==r&&0!==t)return!1;let l=new h.default(s===f.Slot?108e3:43200);if(new h.default(n).gt(l)||tp(new h.default(t),new h.default(1e9)).gte(new h.default(1e9))||r>function(e){switch(e){case p.V0:return 5e3;case p.V1:return 9900;default:throw Error("Invalid pool version")}}(o))return!1;let d=tn(new h.default(0),e,i,r,t),m=tn(new h.default(Number.MAX_SAFE_INTEGER),e,i,r,t);return!(d.lt(new h.default(1e5))||m.gt(tb(o)))}(this.cliffFeeNumerator,this.feeIncrementBps,this.maxFeeBps,this.maxLimiterDuration,this.referenceAmount,e,t,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,n){return tt(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?tn(n,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,n){return tt(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?function(e,t,r,n,i){let a,s,o,l,c=ti(t,t,r,n,i);if(e.lte(c))return r;let{checkedExcludedFeeAmount:d,checkedIncludedFeeAmount:f,isOverflow:p}=(s=tr(n,r,i),o=new h.default(1),(l=s.add(o).mul(t)).lte(w)?{checkedExcludedFeeAmount:ti(l,t,r,n,i),checkedIncludedFeeAmount:l,isOverflow:!1}:{checkedExcludedFeeAmount:ti(w,t,r,n,i),checkedIncludedFeeAmount:w,isOverflow:!0});if(e.eq(d))return tn(f,t,r,n,i);if(e.lt(d)){let s=new h.default(2),o=new h.default(4),u=tp(new h.default(i),new h.default(1e9)),l=new h.default(1e9),c=s.mul(l).mul(t).add(u.mul(t)).sub(s.mul(r).mul(t)),d=s.mul(e).mul(l).mul(t),f=function(e){if(e.isZero())return new h.default(0);if(e.eq(new h.default(1)))return new h.default(1);let t=e,r=e.add(new h.default(1)).div(new h.default(2));for(;r.lt(t);)r=(t=r).add(e.div(t)).div(new h.default(2));return t}(c.mul(c).sub(o.mul(u).mul(d)));a=c.sub(f).div(s.mul(u));let p=c.sub(f),m=s.mul(u),g=(a=p.div(m)).div(t),b=ti(a,t,r,n,i),y=e.sub(b),{includedFeeAmount:x}=tg(r.add(u.mul(g)),y);a=a.add(x)}else{if(p)throw Error("Math overflow in getFeeNumeratorFromExcludedFeeAmount");let t=e.sub(d),{includedFeeAmount:r}=tg(tp(new h.default(n),new h.default(1e9)),t);a=r.add(f)}let m=e9(a.sub(e),new h.default(1e9),a,u.Up);if(m.lt(r))throw Error("feeNumerator is less than cliffFeeNumerator");return m}(n,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}}class td{cliffFeeNumerator;numberOfPeriod;periodFrequency;reductionFactor;feeSchedulerMode;constructor(e,t,r,n,i){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.periodFrequency=r,this.reductionFactor=n,this.feeSchedulerMode=i}validate(e,t,r){return function(e,t,r,n,i,a){if((!t.eq(new h.default(0))||0!==e||!r.eq(new h.default(0)))&&(0===e||t.eq(new h.default(0))||r.eq(new h.default(0))))return!1;let s=ta(n,e,new h.default(e),r,i);if(tl(s,new h.default(1e9)),tl(n,new h.default(1e9)),s.lt(new h.default(1e5))||n.gt(tb(a)))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.cliffFeeNumerator,this.feeSchedulerMode,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t){return ts(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t){return ts(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeSchedulerMode,e,t)}}function tf(e,t,n,i,a){switch(a){case l.FeeSchedulerLinear:case l.FeeSchedulerExponential:if(n.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");return new td(e,t,new h.default(r.Buffer.from(n.slice(0,8)),"le"),i,a);case l.RateLimiter:{if(n.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");let a=r.Buffer.from(n.slice(0,4)).readUInt32LE(0);return new tc(e,t,r.Buffer.from(n.slice(4,8)).readUInt32LE(0),a,i)}default:throw Error("Invalid base fee mode")}}function tp(e,t){return e9(e,t,new h.default(1e4),u.Down)}function th(e,t,r,n,i){let a,s,o,u,l,{excludedFeeAmount:c,tradingFee:d}=tm(r,t),f=(a=d.muln(e.protocolFeePercent).divn(100),s=d.sub(a),o=new h.default(0),n&&(o=a.muln(e.referralFeePercent).divn(100)),u=a.sub(o),l=new h.default(0),i&&e.partnerFeePercent>0&&(l=u.muln(e.partnerFeePercent).divn(100)),{tradingFee:s,protocolFee:u.sub(l),referralFee:o,partnerFee:l});return{amount:c,tradingFee:f.tradingFee,protocolFee:f.protocolFee,partnerFee:f.partnerFee,referralFee:f.referralFee}}function tm(e,t){let r=e9(t,e,new h.default(1e9),u.Up);return{excludedFeeAmount:t.sub(r),tradingFee:r}}function tg(e,t){let r=new h.default(1e9).sub(e);if(r.isZero()||r.isNeg())throw Error("Invalid fee numerator");let n=e9(t,new h.default(1e9),r,u.Up),i=n.sub(t);return{includedFeeAmount:n,feeAmount:i}}function tb(e){switch(e){case p.V0:return new h.default(5e8);case p.V1:return new h.default(99e7);default:throw Error("Invalid pool version")}}let ty=({amount:e,type:t,supplementalData:n})=>{let s,l,f,p,m=o(r.Buffer.from(n.data,"base64").subarray(8)),g=Date.now(),{activationType:b,collectFeeMode:A,poolFees:w}=m,{baseFeeMode:v}=w.baseFee,S=m.tokenAMint.toString(),E=m.tokenBMint.toString();if(S===i.WSOL_TOKEN_ADDRESS||E===i.WSOL_TOKEN_ADDRESS)s=i.WSOL_TOKEN_ADDRESS;else if(S===i.USDC_TOKEN_ADDRESS||E===i.USDC_TOKEN_ADDRESS)s=i.USDC_TOKEN_ADDRESS;else if(S===i.USD1_TOKEN_ADDRESS||E===i.USD1_TOKEN_ADDRESS)s=i.USD1_TOKEN_ADDRESS;else throw Error("Unsupported token pair");l=S===s&&"buy"===t||E===s&&"sell"===t?d.AtoB:d.BtoA;let k=1===b?g/1e3:n.slot;return{minimumAmountOut:(function(e,t,r,n,i){let a,s,o=new h.default(0),l=new h.default(0),c=new h.default(0),f=new h.default(0),p=tb(e.version),m=function(e,t,r,n,i,a){var s,o,u;let l,c,d,f=tf(e.baseFee.cliffFeeNumerator,e.baseFee.firstFactor,e.baseFee.secondFactor,e.baseFee.thirdFactor,e.baseFee.baseFeeMode).getBaseFeeNumeratorFromIncludedFeeAmount(t,r,i,n);return l=new h.default(0),0!==e.dynamicFee.initialized&&(s=e.dynamicFee.volatilityAccumulator,o=new h.default(e.dynamicFee.binStep),u=new h.default(e.dynamicFee.variableFeeControl),c=s.mul(new h.default(o)).pow(new h.default(2)),l=u.mul(c).add(new h.default(x)).div(new h.default(y))),d=l.add(f),h.default.min(d,a)}(e.poolFees,i,e.activationPoint,t,n,p);if(r.feesOnInput){let{amount:n,tradingFee:i,protocolFee:s,partnerFee:u,referralFee:d}=th(e.poolFees,t,m,r.hasReferral,to(e));o=s,l=i,c=d,f=u,a=n}else a=t;let{outputAmount:g,nextSqrtPrice:b,amountLeft:A}=n===d.AtoB?function(e,t){var r;let n=tu(e.sqrtPrice,e.liquidity,t,!0);if(n.lt(e.sqrtMinPrice))throw Error("Price range is violated");return{outputAmount:(r=e.sqrtPrice,function(e,t,r,n){let i=t.sub(e),a=r.mul(i);if(n!==u.Up)return a.ushrn(128);{let e=new h.default(1).ushln(128);return a.add(e.subn(1)).div(e)}}(n,r,e.liquidity,u.Down)),nextSqrtPrice:n,amountLeft:new h.default(0)}}(e,a):function(e,t){var r;let n=tu(e.sqrtPrice,e.liquidity,t,!1);if(n.gt(e.sqrtMaxPrice))throw Error("Price range is violated");return{outputAmount:(r=e.sqrtPrice,function(e,t,r,n){let i=t.sub(e),a=e.mul(t);if(a.lte(new h.default(0)))throw Error("Denominator must be greater than zero");return e9(r,i,a,n)}(r,n,e.liquidity,u.Down)),nextSqrtPrice:n,amountLeft:new h.default(0)}}(e,a);if(r.feesOnInput)s=g;else{let{amount:t,tradingFee:n,protocolFee:i,partnerFee:a,referralFee:u}=th(e.poolFees,g,m,r.hasReferral,to(e));o=i,l=n,c=u,f=a,s=t}return{amountLeft:A,includedFeeInputAmount:t,excludedFeeInputAmount:a,outputAmount:s,nextSqrtPrice:b,tradingFee:l,protocolFee:o,partnerFee:f,referralFee:c}})(m,e,(A===c.BothToken?l===d.AtoB?(f=!1,p=!1):(f=!1,p=!0):(f=l!==d.AtoB&&!0,p=!1),{feesOnInput:f,feesOnTokenA:p,hasReferral:!1}),l,(0,a.newSafeBN)(k)).outputAmount.toString(),collectFeeMode:A,baseFeeMode:v}};function tx(e){return"object"==typeof e&&null!==e&&"data"in e&&"slot"in e}e.s(["calculateSwapSync",0,ty],199098);let tA=async({pairAddress:e,amount:t,type:r,supplementalData:a})=>ty({amount:t,type:r,supplementalData:tx(a)?a:await n.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:i.PROTOCOL_METEORA_AMM_V2})});async function tw(e,t){let a;a=tx(t)?t:await n.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:i.PROTOCOL_METEORA_AMM_V2});let s=o(r.Buffer.from(a.data,"base64").subarray(8));return{collectFeeMode:s.collectFeeMode,baseFeeMode:s.poolFees.baseFee.baseFeeMode}}e.s(["calculateSwap",0,tA,"getFeeModes",()=>tw,"isMeteoraAmmV2Data",()=>tx],517207);var tv=e.i(85026),tS=e.i(682382),tE=e.i(719387);let tk=async(e,t,r,n,i,s)=>{if("buy"===e){let e=tF(t,i,n,s);return{minAmountOut:e.mul((0,a.newSafeBN)(1e4)).div((0,a.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=tO(t,i,n,s);return{minAmountOut:e.mul((0,a.newSafeBN)(1e4-100*Math.min(r,99))).div((0,a.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},tT=async({type:e,amount:t,slippage:n,userAccountAddress:a,userTokenAccountAddress:o,pairAddress:u,tokenAddress:l,liquiditySolRaw:c,liquidityTokenRaw:d,protocolDetails:f})=>{let p=r.Buffer.from([116,114,97,100,105,110,103,95,102,101,101,115,95,118,97,117,108,116]),[h]=s.PublicKey.findProgramAddressSync([p,new s.PublicKey(l).toBuffer()],new s.PublicKey("boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4")),m=[{pubkey:new s.PublicKey(l),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(f.tokenVault),isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(f.solVault),isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(a),isSigner:!0,isWritable:!0}];"buy"===e?m.push({pubkey:new s.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey("GVVUi6DaocSEAp8ATnXFAPNF5irCWjCvmPCzoaGAf5eJ"),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}):m.push({pubkey:new s.PublicKey(a),isSigner:!0,isWritable:!0},{pubkey:new s.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1}),m.push({pubkey:new s.PublicKey(i.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1});let{minAmountOut:g,expectedAmountOut:b}=await tk(e,t,n,c,d,f);return{swapInstruction:(0,tE.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:g,userWalletAddress:a,inputTokenAccount:"buy"===e?a:o,solWrapperToken:null,steps:[{programAddress:"boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4",accounts:m}]}),expectedAmountOut:b}},tP=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,blockhash:s,wallet:o,pairAddress:u,swapSettings:l,nonceInstruction:c,providers:d,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h,rewardsPercentage:m,tokenDecimals:g})=>{let b=[],y=await (0,tv.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:i.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:n});"buy"===e&&(t=t.sub((0,tv.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await tT({type:e,amount:t,slippage:l.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,pairAddress:u,tokenAddress:r,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h});return b.push(x),await (0,tv.handleMassSwapTxCreation)({instructions:b,wallet:o,swapSettings:l,blockhash:s,nonceInstruction:c,providers:d,computeUnits:(0,tv.calculateComputeUnits)({baseComputeUnits:12e4,isVanish:(0,tv.isVanishSigner)(o)}),lookupTables:tv.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:g,sourceTokenAddress:"buy"===e?tS.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:tS.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tv.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,extraLamports:(0,a.newSafeBN)(i.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS),amount:t,expectedAmountOut:A,tokenDecimals:g})}})},tI=new h.default("1002320930000000000"),t_=new h.default("30000000000"),tN=new h.default("1000000000"),tB=new h.default(100),tR=new h.default(30),tC=new h.default("29731395800"),tO=(e,t,r,n)=>"2"===n.version?tD(e,t,r):tU(e,t),tD=(e,t,r)=>{let n=tC.add(r).sub(t_),i=new h.default(1e9).mul(tN),a=tC.mul(i),s=t.add(e),o=a.div(s);return n.sub(o).mul(new h.default(1e4).sub(tB)).div(new h.default(1e4))},tU=(e,t)=>{let r=tR.mul(tI).mul(tN),n=new h.default(1e9).mul(tN).sub(t),i=tI.sub(n);return r.div(i).sub(r.div(i.add(e))).mul(new h.default(1e4).sub(tB)).div(new h.default(1e4))},tF=(e,t,r,n)=>"2"===n.version?tM(e,r,t):tL(e,r),tM=(e,t,r)=>{let n=e.mul(new h.default(tB)).div(new h.default(1e4)),i=e.sub(n),a=new h.default(1e9).mul(tN),s=tC.mul(a),o=tC.add(t.sub(t_)).add(i),u=s.div(o);return r.sub(u)},tL=(e,t)=>{let r=e.mul(new h.default(tB)).div(new h.default(1e4)),n=e.sub(r),i=tR.mul(tI).mul(tN);return i.div(t).sub(i.div(t.add(n)))};e.s(["calculateExpectedOutputSolAmount",0,tO,"swapBoop",0,tP],284456);var tK=((t={})[t.TOKEN=0]="TOKEN",t[t.TOKEN_2022=1]="TOKEN_2022",t);e.s(["TokenProgram",()=>tK],412129);let tq="HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o",tW=(e,t,r,n,i)=>{let s=1===r.migrated?1===r.configVersion?35:150:1===r.configVersion?110:200;if("buy"===e){let e=t.mul((0,a.newSafeBN)(s)).div((0,a.newSafeBN)(1e4)),r=t.sub(e),o=i.add(r);return n.mul(r).div(o)}if("sell"===e){let e=n.add(t),r=i.mul(t).div(e),o=r.mul((0,a.newSafeBN)(s)).div((0,a.newSafeBN)(1e4));return r.sub(o)}if("inverse-sell"===e){let e=t.mul((0,a.newSafeBN)(s)).div((0,a.newSafeBN)(1e4)),r=t.add(e),o=i.sub(r);return n.mul(r).div(o)}throw Error("Invalid type")},tV=async(e,t,r,n,i,s)=>{let o=tW(e,t,n,i,s);if("buy"===e)return{minAmountOut:o.mul((0,a.newSafeBN)(1e4)).div((0,a.newSafeBN)(1e4+100*r)),expectedAmountOut:o};if("sell"===e)return{minAmountOut:o.mul((0,a.newSafeBN)(1e4-100*r)).div((0,a.newSafeBN)(1e4)),expectedAmountOut:o};throw Error("Invalid type")},tG=async({type:e,amount:t,slippage:n,userAccountAddress:a,userSolAccountAddress:o,userTokenAccountAddress:u,protocolDetails:l,pairAddress:c,tokenAddress:d,liquidityTokenRaw:f,liquiditySolRaw:p})=>{let{minAmountOut:h,expectedAmountOut:m}=await tV(e,t,n,l,f,p),g=l.tokenProgram===tK.TOKEN_2022?i.TOKEN_PROGRAM_2022_ADDRESS:i.TOKEN_PROGRAM_ADDRESS,b=r.Buffer.alloc(2);b.writeUInt16BE(l.configVersion);let[y]=s.PublicKey.findProgramAddressSync([r.Buffer.from([112,114,111,116,111,99,111,108,95,99,111,110,102,105,103,95,115,116,97,116,101]),b],new s.PublicKey(tq)),[x]=s.PublicKey.findProgramAddressSync([y.toBuffer(),new s.PublicKey(g).toBuffer(),new s.PublicKey(d).toBuffer()],new s.PublicKey(i.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[A]=s.PublicKey.findProgramAddressSync([y.toBuffer(),new s.PublicKey(i.TOKEN_PROGRAM_ADDRESS).toBuffer(),new s.PublicKey(i.WSOL_TOKEN_ADDRESS).toBuffer()],new s.PublicKey(i.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),w=[{pubkey:new s.PublicKey(g),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(c),isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(a),isSigner:!0,isWritable:!0},{pubkey:new s.PublicKey(d),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(i.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:new s.PublicKey(i.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey("HEvSKofvBgfaexv23kMabbYqxasxU3mQ4ibBMEmJWHny"),isSigner:!1,isWritable:!1},{pubkey:new s.PublicKey("CH31Xns5z3M1cTAbKW34jcxPPciazARpijcHj9rxtemt"),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,tE.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:h,userWalletAddress:a,inputTokenAccount:"buy"===e?o:u,solWrapperToken:{type:"wsol",userWrappedTokenAccount:o},steps:[{programAddress:tq,accounts:w}]}),expectedAmountOut:m}};async function tz({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:s,blockhash:o,wallet:u,pairAddress:l,swapSettings:c,nonceInstruction:d,providers:f,rewardsPercentage:p,liquidityTokenRaw:h,liquiditySolRaw:m,tokenDecimals:g}){let b=[],y=await (0,tv.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:r,tokenProgramAddress:s.tokenProgram===tK.TOKEN_2022?i.TOKEN_PROGRAM_2022_ADDRESS:i.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,a.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,tv.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await tG({type:e,amount:t,slippage:c.slippage,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:s,pairAddress:l,tokenAddress:r,liquidityTokenRaw:h,liquiditySolRaw:m});return b.push(x),await (0,tv.handleMassSwapTxCreation)({instructions:b,wallet:u,swapSettings:c,blockhash:o,nonceInstruction:d,providers:f,computeUnits:(0,tv.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,tv.isVanishSigner)(u)}),lookupTables:tv.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:p,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:g,sourceTokenAddress:"buy"===e?tS.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:tS.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tv.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:A,tokenDecimals:g})}})}e.s(["calculateSwapHeaven",0,tW,"swapHeaven",()=>tz],408136)},290705,e=>{"use strict";var t=e.i(127261),r=e.i(85026),n=e.i(659341),i=e.i(973444),a=e.i(49498);e.i(465903);var s=e.i(767924),o=e.i(682382),u=e.i(268804),l=e.i(719387);let c="LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj",d="2500",f=(e,t,r)=>{let i,a,s,o,u,l,c,d,f,p,h,m,{realLiquiditySol:g,realLiquidityToken:b,initialLiquiditySol:y,initialLiquidityToken:x}=(i=new n.default(r.quoteRaiseRaw),a=new n.default(r.baseSupplyRaw),s=new n.default(r.baseSellRaw),o=new n.default(r.baseLockedRaw),u=new n.default("0"),l=a.sub(o).sub(s),c=i.sub(u),d=new n.default("1000000000000000000000"),f=c.mul(d).div(l),p=s.mul(f).div(d).sub(i),h=i.mul(i).div(p),m=f.mul(s).mul(s).div(p).div(d),{realLiquiditySol:t.sub(h),realLiquidityToken:m.sub(e),initialLiquiditySol:h,initialLiquidityToken:m});return{virtualA:x,virtualB:y,realA:b,realB:g,totalSellA:new n.default(r.baseSellRaw),totalFundRaisingB:new n.default(r.quoteRaiseRaw)}},p=async({type:e,amount:r,slippage:o,liquiditySolRaw:u,liquidityTokenRaw:p,tokenAddress:h,userAccountAddress:g,userSolAccountAddress:b,userTokenAccountAddress:y,userUsd1AccountAddress:x,protocolDetails:A,pairAddress:w,tokenDecimals:v,usdPerSol:S})=>{if(A.isUsd1){let E,k=new t.PublicKey(c),T=(0,a.getPdaLaunchpadAuth)(k).publicKey,P=f(p,u,A);if("buy"===e){let e=a.Curve.buyExactIn({poolInfo:P,amountB:r,protocolFeeRate:new n.default(d),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountA.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*o));E=(0,a.buyExactInInstruction)(k,new t.PublicKey(g),T,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(x),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(s.USD1_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(s.TOKEN_PROGRAM_ADDRESS),r,e)}else{let e=a.Curve.sellExactIn({poolInfo:P,amountA:r,protocolFeeRate:new n.default(d),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountB.mul((0,i.newSafeBN)(1e4-100*o)).div((0,i.newSafeBN)(1e4));E=(0,a.sellExactInInstruction)(k,new t.PublicKey(g),T,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(x),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(s.USD1_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(s.TOKEN_PROGRAM_ADDRESS),r,e)}await m(E.keys,w,A,s.USD1_TOKEN_ADDRESS);let I=(0,i.newSafeBN)(10).pow((0,i.newSafeBN)(18)),_=S.toFixed(18).replace(".",""),N=(0,i.newSafeBN)(_),B=(0,i.newSafeBN)(10).pow((0,i.newSafeBN)(v)),R=u.mul(N).mul(B).mul(I),C=p.mul((0,i.newSafeBN)(1e9)).mul((0,i.newSafeBN)("1000000000000000000")),O=Number(R.div(C).toString())/Number(I.toString());return await (0,l.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:g,userWsolAccountAddress:b,userUsdAccountAddress:x,userTokenAccountAddress:y,usdPerSol:S,amountIn:r,tokenDecimals:v,priceInUsdc:O,slippage:o,steps:[{programAddress:c,accounts:E.keys}]})}let E=new t.PublicKey(c),k=(0,a.getPdaLaunchpadAuth)(E).publicKey,T=f(p,u,A);if("buy"===e){let u=a.Curve.buyExactIn({poolInfo:T,amountB:r,protocolFeeRate:new n.default(d),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountA,f=u.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*o)),p=(0,a.buyExactInInstruction)(E,new t.PublicKey(g),k,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(b),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(s.WSOL_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(s.TOKEN_PROGRAM_ADDRESS),r,f);return await m(p.keys,w,A,s.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:r,minAmountOut:f,userWalletAddress:g,inputTokenAccount:b,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:c,accounts:p.keys}]}),expectedAmountOut:u}}{let u=a.Curve.sellExactIn({poolInfo:T,amountA:r,protocolFeeRate:new n.default(d),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}),f=u.amountB,p=f.mul((0,i.newSafeBN)(1e4-100*o)).div((0,i.newSafeBN)(1e4)),x=(0,a.sellExactInInstruction)(E,new t.PublicKey(g),k,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(b),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(s.WSOL_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(s.TOKEN_PROGRAM_ADDRESS),u.amountA.lt(r)?u.amountA:r,p,new n.default(0));return await m(x.keys,w,A,s.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:r,minAmountOut:p,userWalletAddress:g,inputTokenAccount:y,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:c,accounts:x.keys}]}),expectedAmountOut:f}}},h=async({type:e,amount:t,liquiditySolRaw:n,liquidityTokenRaw:a,tokenAddress:s,userTokenAccountAddress:u,protocolDetails:l,blockhash:c,wallet:d,pairAddress:f,swapSettings:h,nonceInstruction:m,providers:g,rewardsPercentage:b,tokenDecimals:y,usdPerSol:x,liquidityToken:A})=>{let w=[],v=await (0,r.addTokenAccountInstructions)({userWalletAddress:d.publicKey,tokenAddress:s,tokenProgramAddress:l.tokenProgram,instructions:w,userTokenAccountAddress:u,wsolAmount:"buy"===e?t:(0,i.newSafeBN)(0),usd1:l.isUsd1});"buy"===e&&(t=t.sub((0,r.calculateAxiomFee)(t)));let{swapInstruction:S,expectedAmountOut:E}=await p({type:e,amount:t,slippage:h.slippage,liquiditySolRaw:n,liquidityTokenRaw:a,tokenAddress:s,userAccountAddress:d.publicKey,userTokenAccountAddress:v.userTokenAccountAddress,userSolAccountAddress:v.userWsolAccountAddress,userUsd1AccountAddress:v.userUsd1AccountAddress,protocolDetails:l,pairAddress:f,tokenDecimals:y,liquidityToken:A,usdPerSol:x});return w.push(S),l.isUsd1&&(0,r.isVanishSigner)(d)&&(0,r.addTokenAccountCloseInstruction)(d.publicKey,v.userUsd1AccountAddress,w),await (0,r.handleMassSwapTxCreation)({instructions:w,wallet:d,swapSettings:h,blockhash:c,nonceInstruction:m,providers:g,computeUnits:(0,r.calculateComputeUnits)({baseComputeUnits:2e5,isUsd1:l.isUsd1,isVanish:(0,r.isVanishSigner)(d)}),lookupTables:r.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:b,swapInfo:{amount:t,expectedAmountOut:E,tokenDecimals:y,sourceTokenAddress:"buy"===e?o.NATIVE_SOL_TOKEN_ADDRESS:s,targetTokenAddress:"buy"===e?s:o.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,r.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,isUsd1:l.isUsd1??!1,amount:t,expectedAmountOut:E,tokenDecimals:y})}})};async function m(e,r,n,i){let[a]=t.PublicKey.findProgramAddressSync([new t.PublicKey(n.platformConfig).toBuffer(),new t.PublicKey(i).toBuffer()],new t.PublicKey(c));n.creator||(n.creator=(await u.axiomApi.post("/launchlab-creator",{pool:r})).creator);let[o]=t.PublicKey.findProgramAddressSync([new t.PublicKey(n.creator).toBuffer(),new t.PublicKey(i).toBuffer()],new t.PublicKey(c));e.push({pubkey:new t.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0})}e.s(["LAUNCHLAB_MIGRATE_FEE_RAW",0,"0","LAUNCHLAB_PROTOCOL_FEE_RATE",0,d,"getLaunchLabPoolInfo",0,f,"swapLaunchLab",0,h])},181937,726801,518152,233191,24010,432265,e=>{"use strict";var t,r,n,i=e.i(49498),a=e.i(828073),s=e.i(659341);e.i(465903);var o=e.i(767924),u=e.i(268804),l=e.i(517207),c=e.i(199098),d=e.i(284456),f=e.i(408136),p=e.i(290705),h=e.i(127261),m=e.i(85026),g=e.i(973444),b=e.i(682382),y=e.i(719387);let x="Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB";async function A({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:n,tokenAddress:i,userTokenAccountAddress:a,protocolDetails:s,blockhash:u,wallet:l,pairAddress:c,swapSettings:d,nonceInstruction:f,providers:p,rewardsPercentage:h,usdPerSol:y,tokenDecimals:x,liquidityToken:A}){let w=[],v=await (0,m.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:i,tokenProgramAddress:o.TOKEN_PROGRAM_ADDRESS,instructions:w,userTokenAccountAddress:a,wsolAmount:"buy"===e?t:(0,g.newSafeBN)(0),usdc:s.isUsdc});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:E,expectedAmountOut:k}=await S({type:e,amount:t,slippage:d.slippage,liquiditySolRaw:r,liquidityTokenRaw:n,userAccountAddress:l.publicKey,userUsdcAccountAddress:v.userUsdcAccountAddress,userTokenAccountAddress:v.userTokenAccountAddress,userSolAccountAddress:v.userWsolAccountAddress,protocolDetails:s,pairAddress:c,usdPerSol:y,tokenDecimals:x,liquidityToken:A});return w.push(E),s.isUsdc&&(0,m.isVanishSigner)(l)&&(0,m.addTokenAccountCloseInstruction)(l.publicKey,v.userUsdcAccountAddress,w),s.isUsd1&&(0,m.isVanishSigner)(l)&&(0,m.addTokenAccountCloseInstruction)(l.publicKey,v.userUsd1AccountAddress,w),await (0,m.handleMassSwapTxCreation)({instructions:w,wallet:l,swapSettings:d,blockhash:u,nonceInstruction:f,providers:p,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:25e4,isUsdc:s.isUsdc,isVanish:(0,m.isVanishSigner)(l)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h,swapInfo:{amount:t,expectedAmountOut:k,tokenDecimals:x,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:i,targetTokenAddress:"buy"===e?i:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:s.isUsdc??!1,amount:t,expectedAmountOut:k,tokenDecimals:x})}})}let w=(e,t,r,n)=>{var i,a;let o,u=e.mul((0,g.newSafeBN)(n.tradeFeeNumerator)).div((0,g.newSafeBN)(n.tradeFeeDenominator)).mul((0,g.newSafeBN)(n.protocolTradeFeeNumerator)).div((0,g.newSafeBN)(n.protocolTradeFeeDenominator)),l=e.sub(u),[c]=(i=t.mul(r),a=t.add(l),o=i.div(a),i.mod(a).gt(new s.default(0))&&(o=o.add(new s.default(1)),a=i.div(o),i.mod(o).gt(new s.default(0))&&(a=a.add(new s.default(1)))),[o,a]);return r.sub(c)},v=(e,t,r,n)=>{let i=r.sub(e);return t.mul(r).div(i).sub(t).mul((0,g.newSafeBN)(n.tradeFeeDenominator)).mul((0,g.newSafeBN)(n.protocolTradeFeeDenominator)).div((0,g.newSafeBN)(n.tradeFeeDenominator).mul((0,g.newSafeBN)(n.protocolTradeFeeDenominator)).sub((0,g.newSafeBN)(n.tradeFeeNumerator).mul((0,g.newSafeBN)(n.protocolTradeFeeNumerator))))},S=async({type:e,amount:t,slippage:r,liquiditySolRaw:n,liquidityTokenRaw:i,userAccountAddress:a,userSolAccountAddress:s,userTokenAccountAddress:u,userUsdcAccountAddress:l,protocolDetails:c,pairAddress:d,usdPerSol:f,tokenDecimals:p,liquidityToken:m})=>{var b;let A,v=(b={type:e,userAccountAddress:a,userQuoteAccountAddress:c.isUsdc?l:s,userTokenAccountAddress:u,protocolDetails:c,pairAddress:d},A=[{pubkey:new h.PublicKey(b.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===b.type?b.userQuoteAccountAddress:b.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===b.type?b.userTokenAccountAddress:b.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.aVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.bVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.bTokenVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.aVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.bVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.aVaultLp),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.protocolDetails.bVaultLp),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===b.type?b.protocolDetails.protocolSolFeeAccount:b.protocolDetails.protocolTokenFeeAccount),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(b.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey("24Uqj9JCLxUeoC3hGfh5W3s9FM9uCHDS2SG3LYwBpyTi"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],"buy"===b.type?A.push({pubkey:new h.PublicKey(b.protocolDetails.isUsdc?(0,o.getAxiomUsdcFeeAddress)():(0,o.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}):"sell"===b.type&&b.protocolDetails.isUsdc&&(A.push({pubkey:new h.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===b.protocolDetails.aTokenVault?b.protocolDetails.bTokenVault:b.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0}),A.push({pubkey:new h.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===b.protocolDetails.aTokenVault?b.protocolDetails.bTokenVault:b.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0})),A);if(c.isUsdc)return await (0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:a,userWsolAccountAddress:s,userUsdAccountAddress:l,userTokenAccountAddress:u,usdPerSol:f,amountIn:t,tokenDecimals:p,priceInUsdc:m,slippage:r,steps:[{programAddress:x,accounts:v}]});{let{minAmountOut:o,expectedAmountOut:l}=((e,t,r,n,i,a)=>{if("buy"===e){let e=w(t,r,n,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*i)),expectedAmountOut:e}}if("sell"===e){let e=w(t,n,r,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*i)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")})(e,t,n,i,r,c);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:o,userWalletAddress:a,inputTokenAccount:"buy"===e?s:u,solWrapperToken:{type:"wsol",userWrappedTokenAccount:s},steps:[{programAddress:x,accounts:v}]}),expectedAmountOut:l}}};e.s(["computeInMeteoraAmm",0,v,"computeOutMeteoraAmm",0,w,"swapMeteoraAmm",()=>A],726801);var E=e.i(946865);let k=async(e,t,r,n,i,a)=>{if("buy"===e){let e=_(t,i,n,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=I(t,i,n,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid swap type")},T=async({type:e,amount:t,slippage:r,userAccountAddress:n,userTokenAccountAddress:i,pairAddress:a,tokenAddress:s,liquiditySolRaw:u,liquidityTokenRaw:l,protocolDetails:c})=>{let d=(0,E.getAssociatedTokenAddressSync)(new h.PublicKey(s),new h.PublicKey(a),!0,new h.PublicKey(o.TOKEN_PROGRAM_ADDRESS),new h.PublicKey(o.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),f=[{pubkey:new h.PublicKey(n),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(i),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("3udvfL24waJcLhskRAsStNMoNUvtyXdxrWQz4hgi953N"),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("5K5RtTWzzLp4P8Npi84ocf7F1vBsAu29N1irG4iiUnzt"),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(s),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey("36Eru7v11oU5Pfrojyn5oY3nETA1a1iqsw2WUu6afkM9"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],{minAmountOut:p,expectedAmountOut:m}=await k(e,t,r,u,l,c);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:p,userWalletAddress:n,inputTokenAccount:"buy"===e?n:i,solWrapperToken:null,steps:[{programAddress:o.MOONSHOT_PROGRAM_ADDRESS,accounts:f}]}),expectedAmountOut:m}},P=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,blockhash:i,wallet:a,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p,rewardsPercentage:h,tokenDecimals:g})=>{if(p?.helioFee)throw Error("Old Moonshot pools are not supported");let y=[],x=await (0,m.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:o.TOKEN_PROGRAM_ADDRESS,instructions:y,userTokenAccountAddress:n});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:A,expectedAmountOut:w}=await T({type:e,amount:t,slippage:u.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:x.userTokenAccountAddress,pairAddress:s,tokenAddress:r,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p});return y.push(A),await (0,m.handleMassSwapTxCreation)({instructions:y,wallet:a,swapSettings:u,blockhash:i,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:125e3,isVanish:(0,m.isVanishSigner)(a)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h,swapInfo:{amount:t,expectedAmountOut:w,tokenDecimals:g,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:w,tokenDecimals:g})}})},I=(e,t,r,n)=>{if(3===n.curveType){let t=(0,g.newSafeBN)(n.collateralCollected).mul((0,g.newSafeBN)(2)),r=(0,g.newSafeBN)(n.amount),i=e.mul(t).mul((0,g.newSafeBN)(10204)),a=r.mul((0,g.newSafeBN)(1e4));return i.div(a).mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4))}{let i=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**n.decimals))),a=r.mul(i);return r.sub(a.div(i.add(e))).mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4))}},_=(e,t,r,n)=>{let i=e.mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4));if(3===n.curveType){let e=(0,g.newSafeBN)(n.collateralCollected).mul((0,g.newSafeBN)(2)),t=(0,g.newSafeBN)(n.amount),r=e.mul((0,g.newSafeBN)(10205));return i.mul(t).mul((0,g.newSafeBN)(1e4)).div(r)}{let e=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**n.decimals))),a=r.mul(e);return e.sub(a.div(r.add(i)))}},N=(e,t,r,n)=>{let i=e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(9900));if(3===n.curveType){let e=(0,g.newSafeBN)(n.collateralCollected).mul((0,g.newSafeBN)(2)),t=(0,g.newSafeBN)(n.amount),r=e.mul((0,g.newSafeBN)(10204));return i.mul(t).mul((0,g.newSafeBN)(1e4)).div(r)}{let a=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**n.decimals))),s=r.mul(a);return e.gt(r)?(0,g.newSafeBN)(n.amount).sub(t):s.div(r.sub(i)).sub(a)}};e.s(["calculateExpectedOutputSolAmount",0,I,"calculateTokensForExpectedSolAmount",0,N,"swapMoonshot",0,P],518152);var B=e.i(467034);let R="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",C="GS4CU59F31iL7aR2Q8zVS8DRrcRnXX1yjQ66TqNVQnaR",O=(e,t,r,n)=>{let i=e.mul(t).div(r.add(e)),a=i.sub(i.mul((0,g.newSafeBN)(30)).add(new s.default(1e4).subn(1)).div(new s.default(1e4))),o=a.mul((0,g.newSafeBN)(1e4-100*n)).div((0,g.newSafeBN)(1e4));return{lamportsWithSlippage:o.gt(new s.default(0))?o.sub(new s.default(1)):new s.default(0),expectedLamportsFromSell:a}},D=async(e,t)=>{let r=t.creator;r||(r=(await u.axiomApi.post("/pump-amm-creator",{pool:e})).creator);let[n]=h.PublicKey.findProgramAddressSync([B.Buffer.from("creator_vault","utf8"),new h.PublicKey(r).toBuffer()],new h.PublicKey(R)),i=(0,E.getAssociatedTokenAddressSync)(new h.PublicKey(o.WSOL_TOKEN_ADDRESS),n,!0,new h.PublicKey(o.TOKEN_PROGRAM_ADDRESS));return{creatorVault:n,creatorVaultAta:i}},U=async e=>{let t,r,{creatorVaultAta:n,creatorVault:i}=await D(e.pairAddress,e.protocolDetails),a=[];a.push({pubkey:new h.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0}),a.push({pubkey:new h.PublicKey("ADyA8hdefvWN2dbGGWFotbzWxrAvLW83WG6QCVXvJKqw"),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.tokenAddress:o.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?o.WSOL_TOKEN_ADDRESS:e.tokenAddress),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.userTokenAccountAddress:e.userSolAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.userSolAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairTokenAccount:e.protocolDetails.pairSolAccount),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairSolAccount:e.protocolDetails.pairTokenAccount),isSigner:!1,isWritable:!0});let s=e.protocolDetails.isMayhem?(t=[{owner:"GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS",account:"C93K8DX4YsABYJtHX9awzgZW3LWzBqBVezEbbLJH4yet"},{owner:"4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6",account:"Bckr4rY4rUGvWtwqC9mnWN35LKzfPRcmsoMRYq6DFEjN"},{owner:"8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR",account:"9tvBjCQ4m3954ESgxW9PnBPvW8afHEjKpkNEAdfN2D8U"},{owner:"4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH",account:"CoRuMWRuDAsjB5SDMmYEcDuyQyaH3L2vVFvwBy1FF8Kr"},{owner:"8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6",account:"21L1QB6DJ9HBvePgwN6jFuK3UT9mq2SgTq1oJ7D6cNiV"},{owner:"Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk",account:"2i3uCDzDhr3pSvMPF5uBpUckLAv7XGdo2a8soiqNJMHk"},{owner:"463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq",account:"BZeq7y8ajn5Pjpy5KjEhF6eBY2H9ippTpqCtQLQPsmJf"},{owner:"6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA",account:"ghSBUgyxyvyurm1vJBkU4rUyLJoUipCZhFeiBogKCSy"}])[Math.floor(Math.random()*t.length)]:(r=[{owner:"G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP",account:"BWXT6RUhit9FfJQM3pBmqeFLPYmuxgmyhMGC5sGr8RbA"},{owner:"62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV",account:"94qWNrtmfn42h3ZjUZwWvK1MEo9uVmmrBPd2hpNjYDjb"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX",account:"X5QPJcpph4mBAJDzc4hRziFftSbcygV59kRb2Fu6Je1"},{owner:"7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ",account:"7GFUN3bWzJMKMRZ34JLsvcqdssDbXnp589SiE33KVwcC"},{owner:"9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz",account:"Bvtgim23rfocUzxVX9j9QFxTbBnH8JZxnaGLCEkXvjKS"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY",account:"FGptqdxjahafaCzpZ1T6EDtCzYMv7Dyn5MgBLyB3VUFW"}])[Math.floor(Math.random()*r.length)];a.push({pubkey:new h.PublicKey(s.owner),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(s.account),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.tokenProgram:o.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?o.TOKEN_PROGRAM_ADDRESS:e.protocolDetails.tokenProgram),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(o.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(o.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(C),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(R),isSigner:!1,isWritable:!1}),a.push({pubkey:n,isSigner:!1,isWritable:!0}),a.push({pubkey:i,isSigner:!1,isWritable:!1}),"buy"===e.type&&(a.push({pubkey:new h.PublicKey(function(e=new h.PublicKey(M)){return h.PublicKey.findProgramAddressSync([B.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(L(new h.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),a.push({pubkey:new h.PublicKey("5PHirr8joyTMp9JMm6nW7hNDVyEYdkzDqazxPD7RaTjx"),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{minAmountOut:u,expectedAmountOut:l}=((e,t,r,n,i,a)=>{if(!a)throw Error("Unsupported Pool");if("buy"===e){let e=t.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(10030)),a=n.mul(e).div(r.add(e));return{minAmountOut:a.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*i)),expectedAmountOut:a}}if("sell"===e){let e=O(t,r,n,i);return{minAmountOut:e.lamportsWithSlippage,expectedAmountOut:e.expectedLamportsFromSell}}throw Error("Invalid type")})(e.type,e.amount,e.liquiditySolRaw,e.liquidityTokenRaw,e.slippage,e.protocolDetails.isTokenSideX);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e.type,amountIn:e.amount,minAmountOut:u,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userSolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userSolAccountAddress},steps:[{programAddress:R,accounts:a,extraData:B.Buffer.from([0])}]}),expectedAmountOut:l}},F=async({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:n,tokenAddress:i,userTokenAccountAddress:a,protocolDetails:s,blockhash:u,wallet:l,pairAddress:c,swapSettings:d,nonceInstruction:f,providers:p,rewardsPercentage:y,tokenDecimals:x})=>{let A=[],w=await (0,m.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:i,tokenProgramAddress:s.tokenProgram,instructions:A,userTokenAccountAddress:a,wsolAmount:"buy"===e?t.add((0,g.newSafeBN)(2)):(0,g.newSafeBN)(0),usdc:!1});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:v,expectedAmountOut:S}=await U({type:e,amount:t,slippage:d.slippage,liquiditySolRaw:r,liquidityTokenRaw:n,tokenAddress:i,userAccountAddress:l.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,userSolAccountAddress:w.userWsolAccountAddress,protocolDetails:s,pairAddress:c});return A.push(v),"buy"===e&&(0,m.isVanishSigner)(l)&&A.push(new h.TransactionInstruction({keys:[{pubkey:new h.PublicKey(l.publicKey),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(L(new h.PublicKey(l.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(C),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(R),isSigner:!1,isWritable:!1}],programId:new h.PublicKey(R),data:B.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,m.handleMassSwapTxCreation)({instructions:A,wallet:l,swapSettings:d,blockhash:u,nonceInstruction:f,providers:p,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:225e3,isVanish:(0,m.isVanishSigner)(l)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:y,swapInfo:{amount:"buy"===e?t.add((0,g.newSafeBN)(2)):t,expectedAmountOut:S,tokenDecimals:x,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:i,targetTokenAddress:"buy"===e?i:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:S,tokenDecimals:x,extraLamports:(0,g.newSafeBN)(o.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+o.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?o.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},M="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA";function L(e,t=new h.PublicKey(M)){return h.PublicKey.findProgramAddressSync([B.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}e.s(["PUMP_AMM_FEE_BASIS_POINTS",0,30,"estimateSellPumpAmm",0,O,"swapPumpAmm",0,F],233191);var K=e.i(412129);let q="vu1t7ReSFRLfUsnbkQWh1x2JKDVLgecp86zR1iphmDo",W="deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS",V=(e,t,r,n)=>{if("buy"===e){let e=t.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4)),i=t.sub(e),a=n.add(i),o=r.mul(i).div(a),u=(0,g.newSafeBN)("780000000000000").sub((0,g.newSafeBN)("1045000000000000").sub(r));return s.default.max((0,g.newSafeBN)(0),s.default.min(o,u))}if("sell"===e){let e=r.add(t),i=n.mul(t).div(e),a=i.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4));return i.sub(a)}if("inverse-sell"===e){let e=t.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4)),i=t.add(e),a=n.sub(i);return r.mul(i).div(a)}throw Error("Invalid type")},G=async(e,t,r,n,i)=>{let a=V(e,t,n,i);if("buy"===e)return{minAmountOut:a.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},z=async({type:e,amount:t,slippage:r,userAccountAddress:n,userTokenAccountAddress:i,pairAddress:a,tokenAddress:s,liquidityTokenRaw:u,liquiditySolRaw:l,tokenProgramAddress:c})=>{let[d]=h.PublicKey.findProgramAddressSync([B.Buffer.from("state")],new h.PublicKey(W)),[,f]=h.PublicKey.findProgramAddressSync([B.Buffer.from("bonding_curve_"),new h.PublicKey(s).toBuffer()],new h.PublicKey(W)),[p,m]=h.PublicKey.findProgramAddressSync([B.Buffer.from("bonding_curve_"),new h.PublicKey(s).toBuffer(),B.Buffer.from("_sol_vault")],new h.PublicKey(W)),[g]=h.PublicKey.findProgramAddressSync([new h.PublicKey(a).toBuffer(),new h.PublicKey(c).toBuffer(),new h.PublicKey(s).toBuffer()],new h.PublicKey(o.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[b]=h.PublicKey.findProgramAddressSync([B.Buffer.from("__event_authority")],new h.PublicKey(W)),[x]=h.PublicKey.findProgramAddressSync([B.Buffer.from("sol-receiver")],new h.PublicKey(q)),{minAmountOut:A,expectedAmountOut:w}=await G(e,t,r,u,l),v=[{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(i),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(n),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(n),isSigner:!0,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(c),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(W),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:A,userWalletAddress:n,inputTokenAccount:"buy"===e?n:i,solWrapperToken:null,steps:[{programAddress:W,accounts:v,extraData:B.Buffer.concat([B.Buffer.from([f]),B.Buffer.from([m])])}]}),expectedAmountOut:w}};async function j({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,blockhash:i,wallet:a,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsPercentage:d,liquidityTokenRaw:f,liquiditySolRaw:p,protocolDetails:h,tokenDecimals:g}){let y=[],x=h.tokenProgram===K.TokenProgram.TOKEN_2022?o.TOKEN_PROGRAM_2022_ADDRESS:o.TOKEN_PROGRAM_ADDRESS,A=await (0,m.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:x,instructions:y,userTokenAccountAddress:n});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:w,expectedAmountOut:v}=await z({type:e,amount:t,slippage:u.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:A.userTokenAccountAddress,pairAddress:s,tokenAddress:r,liquidityTokenRaw:f,liquiditySolRaw:p,tokenProgramAddress:x});return y.push(w),await (0,m.handleMassSwapTxCreation)({instructions:y,wallet:a,swapSettings:u,blockhash:i,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,m.isVanishSigner)(a)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:g,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:v,tokenDecimals:g})}})}e.s(["SUGAR_DISTRIBUTION_PROGRAM_ADDRESS",0,q,"calculateSwapSugar",0,V,"swapSugar",()=>j],24010);let H="dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN";async function Q({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:i,blockhash:a,wallet:s,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,rewardsPercentage:y}){let x=[],A=await (0,m.addTokenAccountInstructions)({userWalletAddress:s.publicKey,tokenAddress:r,tokenProgramAddress:i.token_program,instructions:x,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,g.newSafeBN)(0),usdc:i.isUsdc,usd1:i.isUsd1}),w=(0,g.newSafeBN)(0);"buy"===e&&(w=(0,m.calculateAxiomFee)(t),t=t.sub(w));let{swapInstruction:v,expectedAmountOut:S}=await J({type:e,amount:t,slippage:u.slippage,userAccountAddress:s.publicKey,userTokenAccountAddress:A.userTokenAccountAddress,userSolAccountAddress:A.userWsolAccountAddress,userUsdcAccountAddress:A.userUsdcAccountAddress,userUsd1AccountAddress:A.userUsd1AccountAddress,protocolDetails:i,pairAddress:o,tokenAddress:r,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h});return x.push(v),i.isUsdc&&(0,m.isVanishSigner)(s)&&(0,m.addTokenAccountCloseInstruction)(s.publicKey,A.userUsdcAccountAddress,x),i.isUsd1&&(0,m.isVanishSigner)(s)&&(0,m.addTokenAccountCloseInstruction)(s.publicKey,A.userUsd1AccountAddress,x),await (0,m.handleMassSwapTxCreation)({instructions:x,wallet:s,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:15e4,isUsdc:i.isUsdc,isUsd1:i.isUsd1,isVanish:(0,m.isVanishSigner)(s)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:y,swapInfo:{amount:t,expectedAmountOut:S,tokenDecimals:p,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:i.isUsdc??!1,isUsd1:i.isUsd1??!1,amount:t,expectedAmountOut:S,tokenDecimals:p})}})}let X=async(e,t,r,n,i)=>{if("buy"===e){let e=ee(t,!1,n,i);if(e.lte((0,g.newSafeBN)(0)))throw Error("Would have received 0 tokens");return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=ee(t,!0,n,i);if(e.lte((0,g.newSafeBN)(0)))throw Error("Would have received 0 SOL");return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},J=async({type:e,amount:t,slippage:r,userAccountAddress:n,userSolAccountAddress:i,userTokenAccountAddress:a,userUsdcAccountAddress:s,userUsd1AccountAddress:u,tokenAddress:l,protocolDetails:c,pairAddress:d,sqrtPrice:f,usdPerSol:p,tokenDecimals:m,liquidityToken:g})=>{let b=function(e){let{type:t,pairAddress:r,userAccountAddress:n,userQuoteAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,tokenAddress:u}=e,l=H,c=!1;1===s.collect_fee_mode&&"sell"!==t||s.isUsd1||(l=s.isUsdc?(0,o.getAxiomUsdcFeeAddress)():(0,o.getAxiomWSolFeeAddress)(),c=!0);let d=[{pubkey:new h.PublicKey("FhVo3mqL8PW5pH5U2CN4XE33DokiyZnUwuGpH2hmHLuM"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.config_address),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===t?i:a),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===t?a:i),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(s.base_vault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(s.quote_vault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(u),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.isUsdc?o.USDC_TOKEN_ADDRESS:s.isUsd1?o.USD1_TOKEN_ADDRESS:o.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(n),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(s.token_program),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(l),isSigner:!1,isWritable:c},{pubkey:new h.PublicKey("8Ks12pbrD6PXxfty1hVQiE9sc289zgU1zHkvXhrSdriF"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(H),isSigner:!1,isWritable:!1}];return 2===s.pool_fees.base_fee.fee_scheduler_mode&&d.push({pubkey:h.SYSVAR_INSTRUCTIONS_PUBKEY,isSigner:!1,isWritable:!1}),d}({type:e,pairAddress:d,userAccountAddress:n,userQuoteAccountAddress:c.isUsdc?s:c.isUsd1?u:i,userTokenAccountAddress:a,protocolDetails:c,tokenAddress:l});if(c.isUsdc)return(0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:s,userTokenAccountAddress:a,usdPerSol:p,amountIn:t,tokenDecimals:m,priceInUsdc:g,slippage:r,steps:[{programAddress:H,accounts:b}]});{if(c.isUsd1)return(0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:u,userTokenAccountAddress:a,usdPerSol:p,amountIn:t,tokenDecimals:m,priceInUsdc:g,slippage:r,steps:[{programAddress:H,accounts:b}]});let{minAmountOut:s,expectedAmountOut:o}=await X(e,t,r,c,f);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:s,userWalletAddress:n,inputTokenAccount:"buy"===e?i:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:i},steps:[{programAddress:H,accounts:b}]}),expectedAmountOut:o}}};var Y=((t=Y||{})[t.Up=0]="Up",t[t.Down=1]="Down",t),Z=((r=Z||{})[r.BaseToQuote=0]="BaseToQuote",r[r.QuoteToBase=1]="QuoteToBase",r),$=((n=$||{})[n.Linear=0]="Linear",n[n.Exponential=1]="Exponential",n[n.RateLimiter=2]="RateLimiter",n);function ee(e,t,r,n){var i,a,s,o,u;let l,c,d,f,p=+!t;if(0===r.collect_fee_mode)d=0!==p&&!0,f=!1;else if(1===r.collect_fee_mode)0===p?(d=!1,f=!1):(d=!1,f=!0);else throw Error("Invalid collect fee mode");return i=r,a=e,s={feesOnInput:d,feesOnBaseToken:f},o=p,u=n,l=s.feesOnInput?et(a,i,o):a,c=0===o?function(e,t,r){if(r.isZero())return(0,g.newSafeBN)(0);let n=(0,g.newSafeBN)(0),i=t,a=r,s=e.curve;for(let e=s.length-1;e>=0;e--){let t=(0,g.newSafeBN)(s[e].sqrt_price),r=(0,g.newSafeBN)(s[e].liquidity);if(!(t.isZero()||r.isZero())&&t.lt(i)){let r=(0,g.newSafeBN)(e+1<s.length?s[e+1].liquidity:s[e].liquidity);if(r.isZero())continue;let o=eo(t,i,r,0);if(a.lt(o)){let e=el(i,r,a,!0),t=eu(e,i,r,1);n=n.add(t),i=e,a=(0,g.newSafeBN)(0);break}{let e=eu(t,i,r,1);n=n.add(e),i=t,a=a.sub(o)}}}let o=(0,g.newSafeBN)(s[0].liquidity);if(!a.isZero()&&!o.isZero()){let e=el(i,o,a,!0),t=eu(e,i,o,1);n=n.add(t),i=e}return n}(i,u,l):function(e,t,r){if(r.isZero())return(0,g.newSafeBN)(0);let n=(0,g.newSafeBN)(0),i=t,a=r,s=e.curve;for(let e=0;e<s.length;e++){let t=(0,g.newSafeBN)(s[e].sqrt_price),r=(0,g.newSafeBN)(s[e].liquidity);if(t.isZero()||r.isZero())break;if(!r.isZero()&&t.gt(i)){let e=eu(i,t,r,0);if(a.lt(e)){let e=el(i,r,a,!1),t=eo(i,e,r,1);n=n.add(t),i=e,a=(0,g.newSafeBN)(0);break}{let s=eo(i,t,r,1);n=n.add(s),i=t,a=a.sub(e)}}}if(!a.isZero())throw Error("Not enough liquidity to process the entire amount");return n}(i,u,l),s.feesOnInput?c:et(c,i,o)}function et(e,t,r){let n=en(t,void 0,r,e);n.gt((0,g.newSafeBN)(ei))&&(n=(0,g.newSafeBN)(ei));let i=ec(e,n,new s.default(1e9),0);return e.sub(i)}function er(e,t){return Number(en(e,t))/1e9*100}function en(e,t,r,n){let i,a=e.pool_fees.base_fee,s=a.number_of_period,o=(0,g.newSafeBN)(a.reduction_factor),u=(0,g.newSafeBN)(a.cliff_fee_numerator),l=Number(a.period_frequency);if(0===l)return u;let c=0===e.activation_type?400:1e3,d=(0,g.newSafeBN)(Math.floor(Date.now()/c)),f=(0,g.newSafeBN)(Math.floor((e.created_at??0)/c));t=t??Date.now();let p=e.created_at??0;t<p&&t-p<-6e4&&(t=p),i=t<p?s:Math.min(parseInt(Math.floor(Math.floor((t-p)/c)/l).toString()),s);let h=a.fee_scheduler_mode;if(0===h){let e=(0,g.newSafeBN)(i).mul(o);return e.gt(u)?(0,g.newSafeBN)(0):u.sub(e)}if(1===h)return function(e,t,r){if(0===r)return e;if(1===r){let r=(0,g.newSafeBN)(es);return ec(e,r.sub(t),r,1)}let n=(0,g.newSafeBN)(es),i=(0,g.newSafeBN)(1).shln(64),a=t.shln(64).div(n),s=function(e,t,r=!0){let n=(0,g.newSafeBN)(1).shln(64);if(t.isZero())return n;if(e.isZero())return(0,g.newSafeBN)(0);if(e.eq(n))return n;let i=t.isNeg(),a=i?t.neg():t,s=n,o=e,u=a;for(;!u.isZero();)u.and((0,g.newSafeBN)(1)).eq((0,g.newSafeBN)(1))&&(s=s.mul(o).div(n)),o=o.mul(o).div(n),u=u.shrn(1);return i&&(s=n.mul(n).div(s)),r?s:s.div(n)}(i.sub(a),(0,g.newSafeBN)(r));return e.mul(s).div(i)}(u,o,i);if(2===h){let e=a.number_of_period,t=(0,g.newSafeBN)(a.period_frequency),i=(0,g.newSafeBN)(a.reduction_factor),s=0!==r&&d.gte(f)&&d.lte(f.add(t));if(d.lt(f))return(0,g.newSafeBN)(a.cliff_fee_numerator);let o=f.add(t);return d.gt(o)||!n?(0,g.newSafeBN)(a.cliff_fee_numerator):s?ea((0,g.newSafeBN)(a.cliff_fee_numerator),i,(0,g.newSafeBN)(e),n):(0,g.newSafeBN)(a.cliff_fee_numerator)}throw Error("Invalid fee scheduler mode")}let ei=99e7,ea=(e,t,r,n)=>{let i,a,o;if(n.lte(t))return e;let u=n.sub(t),l=u.div(t),c=u.mod(t),d=(a=(0,g.newSafeBN)(ei).sub(e),o=ec(r,(0,g.newSafeBN)(1e9),(0,g.newSafeBN)(es),1),a.div(o)),f=ec(r,(0,g.newSafeBN)(1e9),(0,g.newSafeBN)(es),1),p=(0,g.newSafeBN)(1),h=(0,g.newSafeBN)(2);if(l.lt(d)){let r=e.add(e.mul(l)).add(f.mul(l).mul(l.add(p)).div(h)),n=e.add(f.mul(l.add(p))),a=t.mul(r),s=c.mul(n);i=a.add(s)}else{let r=e.add(e.mul(d)).add(f.mul(d).mul(d.add(p)).div(h)),n=(0,g.newSafeBN)(ei),a=t.mul(r),s=l.sub(d).mul(t).add(c).mul(n);i=a.add(s)}let m=(0,g.newSafeBN)(1e9),b=ec(i.add(m).sub(p).div(m),(0,g.newSafeBN)(1e9),n,0);return s.default.min(b,(0,g.newSafeBN)(ei))},es=1e4;function eo(e,t,r,n){if(r.isZero())return(0,g.newSafeBN)(0);if(e.isZero()||t.isZero())throw Error("Sqrt price cannot be zero");return ec(r,t.sub(e),e.mul(t),n)}function eu(e,t,r,n){if(r.isZero())return(0,g.newSafeBN)(0);let i=t.sub(e),a=r.mul(i);if(0!==n)return a.shrn(128);{let e=(0,g.newSafeBN)(1).shln(128);return a.add(e.sub((0,g.newSafeBN)(1))).div(e)}}function el(e,t,r,n){if(e.isZero()||t.isZero())throw Error("Price or liquidity cannot be zero");return n?function(e,t,r){if(r.isZero())return e;let n=r.mul(e),i=t.add(n);return ec(t,e,i,0)}(e,t,r):function(e,t,r){if(r.isZero())return e;let n=r.shln(128).div(t);return e.add(n)}(e,t,r)}function ec(e,t,r,n){if(r.isZero())throw Error("MulDiv: division by zero");if(r.eq((0,g.newSafeBN)(1))||e.isZero()||t.isZero())return e.mul(t);let i=e.mul(t);return 0===n?i.add(r.sub((0,g.newSafeBN)(1))).div(r):i.div(r)}e.s(["getVirtualCurveTaxPercentage",()=>er,"swapQuote",()=>ee,"swapVirtualCurve",()=>Q],432265);var ed=e.i(626914),ef=e.i(767714);function ep({protocol:e,percentage:t,tokenBalance:r,liquidityNative:n,liquidityToken:u,decimals:h,protocolDetails:b,supplementalData:y,usdPerNative:x}){try{let A;if(0===t||0===r)return 0;let v=t/100,S=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(10**h).toString()),E=(0,g.newSafeBN)((0,a.default)(u).multipliedBy(10**h).toString()),k=(0,g.newSafeBN)((0,a.default)(n).multipliedBy(1e9).toString());if("Pump V1"===e){let e=S;if(b.isMayhem){let t=(0,g.newSafeBN)(o.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(E);e=s.default.min(S,t)}A=e.mul(k).div(E.add(e)).mul((0,g.newSafeBN)(1e4-o.PUMP_FEE_BASIS_POINTS)).div((0,g.newSafeBN)(1e4)).add((0,g.newSafeBN)(1))}else if("Raydium V4"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else{let e=new s.default(25),t=new s.default(1e4),r=eg(S.mul(e),t),n=S.sub(r),i=E.add(n);A=k.mul(n).div(i)}else if("Raydium CPMM"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else{if(!b.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=S.mul((0,g.newSafeBN)(b.tradeFeeRate)).div((0,g.newSafeBN)(1e6)),t=S.sub(e),r=E.mul(k),n=E.add(t),i=eg(r,n);A=k.sub(i)}else if("Meteora DLMM"===e||"Raydium CLMM"===e||"Orca"===e)A=b.isUsdc||b.isUsd1?(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString()):(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString());else if("Meteora AMM V2"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else try{if((0,l.isMeteoraAmmV2Data)(y)){let e=(0,c.calculateSwapSync)({amount:S,type:"sell",supplementalData:y});A=(0,g.newSafeBN)(e.minimumAmountOut)}else A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}catch(e){eb("Meteora AMM V2 Error",`(${r}, ${u}, ${t}, ${y})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}else if("Virtual Curve"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else try{A=ee(S,!0,b,function(e){if(isNaN(e)||!isFinite(e))return(0,g.newSafeBN)(0);let t=Math.floor(Math.abs(e)),r=Math.abs(e)-t,n=(0,g.newSafeBN)(t).shln(64),i=(0,g.newSafeBN)(Math.round(0xffffffffffffffff*r)),a=n.add(i);return e<0&&(a=a.neg()),a}((0,a.default)(u).multipliedBy(1e9).dividedBy(10**h).sqrt().toNumber()))}catch(e){eb("Virtual Curve Error",`(${r}, ${u}, ${t}, ${b})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}else if("Pump AMM"===e)A=O(S,k,E,0).expectedLamportsFromSell;else if("LaunchLab"===e){let e=(0,p.getLaunchLabPoolInfo)(E,k,b);A=i.Curve.sellExactIn({poolInfo:e,amountA:S,protocolFeeRate:new s.default(p.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new s.default(b.platformFee),curveType:0,shareFeeRate:new s.default(0)}).amountB}else if("Meteora AMM"===e)A=b.isUsdc||b.isUsd1?(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString()):w(S,E,k,b);else if("Boop"===e)A=(0,d.calculateExpectedOutputSolAmount)(S,E,k,b);else if("Moonshot"===e)A=I(S,E,k,b);else if("Vertigo"===e)try{let{amountA:e}=(0,ef.vertigoTestSwapTokenForSol)(b,E,S);A=e}catch(e){eb("Vertigo Error",`(${r}, ${u}, ${t}, ${b})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(n).dividedBy(u).multipliedBy(1e9).toString())}else if("Heaven"===e)A=(0,f.calculateSwapHeaven)("sell",S,b,E,k);else{if("Sugar"!==e)return 0;A=V("sell",S,E,k)}let T=(0,m.calculateAxiomFee)(A);return(0,g.fromSafeBN)(A.sub(T))/1e9}catch(i){return eb("Estimate Sell Error",`(${e}, ${t}, ${r}, ${n}, ${u}, ${h}, ${b}, ${x})`,i),0}}function eh({protocol:e,targetNativeAmount:t,liquidityNative:r,liquidityToken:n,decimals:u,protocolDetails:l,usdPerNative:c}){try{let d;if(0>=Number(t))return(0,g.newSafeBN)(0);let h=(0,g.newSafeBN)((0,a.default)(t).multipliedBy(1e9).toString()),m=(0,g.newSafeBN)((0,a.default)(n).multipliedBy(10**u).toString()),b=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(1e9).toString()),y=(0,g.newSafeBN)(o.BASIS_POINTS_DIVISOR),x=h.mul(y).div(y.sub((0,g.newSafeBN)(o.AXIOM_FEE_BASIS_POINTS)));if("Pump V1"===e){let e=x.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4-o.PUMP_FEE_BASIS_POINTS)),t=e.mul(m),r=b.sub(e);d=t.div(r)}else if("Raydium V4"===e)if(l.isUsdc||l.isUsd1)d=(0,g.newSafeBN)((0,a.default)(t).dividedBy(n).multipliedBy(c).multipliedBy(10**u).toString());else{let e=new s.default(25),t=new s.default(1e4),r=x.mul(m),n=b.sub(x),i=n.sub(n.mul(e).div(t));d=r.div(i)}else if("Raydium CPMM"===e)if(l.isUsdc||l.isUsd1)d=(0,g.newSafeBN)((0,a.default)(t).dividedBy(n).multipliedBy(c).multipliedBy(10**u).toString());else{if(!l.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=(0,g.newSafeBN)(l.tradeFeeRate),t=(0,g.newSafeBN)(1e6).sub(e),r=t.mul(b).mul(m),n=b.sub(x),i=r.div(n).sub(t.mul(m)),a=t.sub(e);d=i.div(a)}else if("Meteora DLMM"===e||"Virtual Curve"===e||"Raydium CLMM"===e||"Meteora AMM V2"===e||"Orca"===e)d=l.isUsdc||l.isUsd1?(0,g.newSafeBN)((0,a.default)(t).dividedBy(n).multipliedBy(c).multipliedBy(10**u).toString()):h.mul((0,g.newSafeBN)(10**u)).div((0,g.newSafeBN)((0,a.default)(n).multipliedBy(1e9).toString()));else if("Pump AMM"===e){let e=x.mul((0,g.newSafeBN)(1e4)).add((0,g.newSafeBN)(9969)).div((0,g.newSafeBN)(9970));d=m.mul(e).add(b.sub(e).subn(1)).div(b.sub(e))}else if("LaunchLab"===e){let e=(0,p.getLaunchLabPoolInfo)(m,b,l);d=i.Curve.sellExactOut({poolInfo:e,amountB:h,protocolFeeRate:new s.default(p.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new s.default(l.platformFee),curveType:0,shareFeeRate:new s.default(0)}).amountA}else if("Meteora AMM"===e)d=l.isUsdc||l.isUsd1?(0,g.newSafeBN)((0,a.default)(t).dividedBy(n).multipliedBy(c).multipliedBy(10**u).toString()):v(h,m,b,l);else if("Boop"===e)d=h.mul((0,g.newSafeBN)(10**u)).div((0,g.newSafeBN)(1e9*(0,ed.default)({protocol:e,liquidityNative:Number(r),liquidityToken:Number(n),protocolDetails:l})));else if("Moonshot"===e)d=N(h,m,b,l);else if("Vertigo"===e){let{amountB:e}=(0,ef.vertigoTestSwapSolForToken)(l,m,h);d=e}else if("Heaven"===e)d=(0,f.calculateSwapHeaven)("inverse-sell",h,l,m,b);else if("Sugar"===e)d=V("inverse-sell",h,m,b);else throw Error("Unsupported protocol for sell by SOL, try using % instead");return d}catch(i){return eb("Estimate Sell Inverse Error",`(${e}, ${t}, ${r}, ${n}, ${u}, ${l}, ${c})`,i),(0,g.newSafeBN)(0)}}function em(e,t,r){return"buy"===r?e.times(1e4).div(1e4+100*t).integerValue(a.default.ROUND_FLOOR):e.times(1e4-100*Math.min(t,100)).div(1e4).integerValue(a.default.ROUND_FLOOR)}function eg(e,t){let r=e.div(t);return e.mod(t).gt((0,g.newSafeBN)(0))&&(r=r.add((0,g.newSafeBN)(1))),r}let eb=async(e,t,r)=>{try{let n=r instanceof Error?`${r.name}
Message: ${r.message}
Stack: ${r.stack}`:JSON.stringify(r);await u.axiomApiV2.post("/report-error",{message:`${e}
${t}
${n}`})}catch(e){console.error("Failed to report error:",e)}};e.s(["applySlippage",()=>em,"estimateSell",()=>ep,"estimateSellInverse",()=>eh],181937)},735013,e=>{"use strict";var t=e.i(265172),r=e.i(639372);let n=(0,t.atomWithReset)([]),i=(0,r.atom)(e=>e(n).filter(e=>"Active"===e.status).length);e.s(["isUsdOrder",0,e=>e.isUsdc||e.isUsd1||!1,"numActiveOrdersAtom",0,i,"ordersAtom",0,n])},852388,e=>{"use strict";var t=e.i(127261),r=e.i(85026),n=e.i(467034),i=e.i(444610);e.i(559136);var a=e.i(107522),s=e.i(422876);e.i(896198);var o=e.i(717725),u=e.i(858010);let l=(0,i.struct)([(0,i.u8)("instruction"),(0,a.u64)("amount")]);var c=e.i(761405),d=e.i(103476);async function f(e,i,a){let f=e.tokenAccounts.find(e=>e.tokenAddress===i);if(!f)throw Error("Token account not found");let p=[],h=Number(f.balanceRaw);(0,r.addPriorityFeeInstructions)({instructions:p,computeUnits:8500,microLamports:1e6});let m=function(e,r,i,a,c=[],d=s.TOKEN_PROGRAM_ID){let f=(0,o.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],i,c),p=n.Buffer.alloc(l.span);return l.encode({instruction:u.TokenInstruction.Burn,amount:BigInt(a)},p),new t.TransactionInstruction({keys:f,programId:d,data:p})}(new t.PublicKey(f.tokenAccountAddress),new t.PublicKey(i),new t.PublicKey(e.publicKey),h,void 0,new t.PublicKey(f.tokenProgram)),g=(0,c.createCloseAccountInstruction)(new t.PublicKey(f.tokenAccountAddress),new t.PublicKey(e.publicKey),new t.PublicKey(e.publicKey),void 0,new t.PublicKey(f.tokenProgram)),b=t.SystemProgram.transfer({fromPubkey:new t.PublicKey(e.publicKey),toPubkey:new t.PublicKey("AxiomDotTrade1111111111111111111111EventLog"),lamports:0});p.push(m,g,b);let y=t.Keypair.fromSecretKey(d.default.decode(e.privateKey)),{base64Tx:x}=await (0,r.compileTransaction)({signer:y,instructions:p,blockhash:a});return x}e.s(["createBurnDustTx",()=>f],852388)},542251,e=>{"use strict";e.i(465903);var t=e.i(767924),r=e.i(447800),n=e.i(290705),i=e.i(626914),a=e.i(973444);let s="1073000000000000",o="793100000000000",u="1045000000000000",l="780000000000000";function c(e,t,r){let n=e*t;return n===BigInt(0)?BigInt(0):(r*(t-e)+n/BigInt(2))/n}e.s(["calculateBondingCurve",0,e=>{let{liquidityToken:t,liquiditySol:i,tokenDecimals:d,protocol:f,protocolDetails:p,usdPerSol:h}=e;if("Pump V1"===f)return Number(((Number(s)/10**d-t)/(Number(o)/10**d)*100).toFixed(2));if("Sugar"===f)return Number(((Number(u)/10**d-t)/(Number(l)/10**d)*100).toFixed(2));if("Moonshot"===f){if(!p||p?.helioFee)return 0;let e=p?.curveType;if(3===e)return Math.min(100,Number(((i-30)/(Number(p?.collateralCollected)/1e9)*100).toFixed(2)));if(1!==e)return 0;{let e=Number(p.amount)/10**p.decimals;return Math.min(100,Number(((e-t)/(.8*e)*100).toFixed(2)))}}if("LaunchLab"===f){let e,i;if(!p)return 0;let a=Number(p.baseSupplyRaw)/10**d,s=Number(p.baseLockedRaw)/10**d,o=Number(p.baseSellRaw)/10**d;if(p.isUsd1){let t=h||r.FALLBACK_USD_PER_SOL;e=Number(p.quoteRaiseRaw)/1e6/t,i=Number(n.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6/t}else e=Number(p.quoteRaiseRaw)/1e9,i=Number(n.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9;let u=(e-i)/(a-s-o);return Number(((u*o*o/(u*o-e)-t)/o*100).toFixed(2))}if("Virtual Curve"===f){if(!p)return 0;let e=p.isUsdc||p.isUsd1?6:9,r=BigInt((0,a.newSafeBN)(0xffffffffffffffff*Math.sqrt(t/10**d*10**e)).toString());return Math.min(100,Number((Number(function(e,t,r){let n=BigInt(0);for(let i=0;i<r.length;i++){let a=0===i?e:BigInt(r[i-1].sqrt_price);if(BigInt(r[i].sqrt_price)>t){n+=c(a,t,BigInt(r[i].liquidity));break}n+=c(a,BigInt(r[i].sqrt_price),BigInt(r[i].liquidity))}return n}(BigInt(p.sqrt_start_price),BigInt(r),p.curve))/Number(p.swap_base_amount)*100).toFixed(2)))}else return"Boop"===f?Math.min(100,Number(((i-30)/86*100).toFixed(2))):"Heaven"!==f?0:Math.min(99.99,Number((i/t*1e9*(h??r.FALLBACK_USD_PER_SOL)/1e5*100).toFixed(2)))},"calculateMigrationPrice",0,e=>{let{tokenDecimals:r,protocol:a,protocolDetails:c,ammConstant:d,usdPerSol:f}=e;if("Pump V1"===a||"Sugar"===a){let e="Sugar"===a?u:s,t="Sugar"===a?l:o,n=Number(e)/10**r-Number(t)/10**r;return(d??0)/n/n}if("Moonshot"===a){if(!c||c?.helioFee)return 0;let e=c?.curveType;if(1===e){let e=Number(c.amount)/10**c.decimals*.19999999999999996;return(0,i.default)({protocol:a,liquidityToken:e,liquidityNative:(d??0)/e,protocolDetails:c})}if(3===e){let e=Number(c?.collateralCollected)/1e9;return(0,i.default)({protocol:a,liquidityToken:-1,liquidityNative:e+30,protocolDetails:c})}}else if("LaunchLab"===a){let e,t=Number(c.baseSupplyRaw)/10**r,i=Number(c.baseLockedRaw)/10**r,a=Number(c.baseSellRaw)/10**r;return c.isUsd1?((e=Number(c.quoteRaiseRaw)/1e6)-Number(n.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6)/(t-i-a)/f:((e=Number(c.quoteRaiseRaw)/1e9)-Number(n.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9)/(t-i-a)}else if("Virtual Curve"===a){if(!c)return 0;let e=BigInt(2)**BigInt(64),t=Number(c.migration_sqrt_price)/Number(e),n=c.isUsdc||c.isUsd1?f:1,i=c.isUsdc||c.isUsd1?6:9;return t*t/(10**(r-i)*n)}else if("Boop"===a)return(0,i.default)({protocol:a,liquidityToken:(d??0)/116,liquidityNative:116,protocolDetails:c});else if(a===t.PROTOCOL_HEAVEN)return c?.migrated?0:1e5/f/1e9;return 0}])},150863,617151,148527,422604,e=>{"use strict";var t,r,n,i,a,s,o,u,l,c,d=e.i(127261),f=e.i(85026),p=e.i(973444);e.i(465903);var h=e.i(767924),m=e.i(517207),g=e.i(682382),b=e.i(719387);let y="cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG";async function x({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:i,blockhash:a,wallet:s,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,supplementalData:d,rewardsPercentage:h,usdPerSol:m,tokenDecimals:b,liquidityToken:y}){let x=[],w=await (0,f.addTokenAccountInstructions)({userWalletAddress:s.publicKey,tokenAddress:r,tokenProgramAddress:i.tokenProgramA,instructions:x,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,p.newSafeBN)(0),usdc:i.isUsdc,usd1:i.isUsd1}),v=(0,p.newSafeBN)(0);"buy"===e&&(v=(0,f.calculateAxiomFee)(t),t=t.sub(v));let{swapInstruction:S,expectedAmountOut:E}=await A({type:e,amount:t,slippage:u.slippage,userAccountAddress:s.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,userSolAccountAddress:w.userWsolAccountAddress,protocolDetails:i,pairAddress:o,supplementalData:d,usdPerSol:m,userUsdcAccountAddress:w.userUsdcAccountAddress,userUsd1AccountAddress:w.userUsd1AccountAddress,tokenDecimals:b,liquidityToken:y});return x.push(S),i.isUsdc&&(0,f.isVanishSigner)(s)&&(0,f.addTokenAccountCloseInstruction)(s.publicKey,w.userUsdcAccountAddress,x),i.isUsd1&&(0,f.isVanishSigner)(s)&&(0,f.addTokenAccountCloseInstruction)(s.publicKey,w.userUsd1AccountAddress,x),await (0,f.handleMassSwapTxCreation)({instructions:x,wallet:s,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,f.calculateComputeUnits)({baseComputeUnits:i.isUsdc||i.isUsd1?2e5:15e4,isUsdc:i.isUsdc,isUsd1:i.isUsd1,isVanish:(0,f.isVanishSigner)(s)}),lookupTables:f.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h,swapInfo:{amount:t,expectedAmountOut:E,tokenDecimals:b,sourceTokenAddress:"buy"===e?g.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:g.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,f.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:i.isUsdc??!1,isUsd1:i.isUsd1??!1,amount:t,expectedAmountOut:E,tokenDecimals:b})}})}async function A({type:e,amount:t,slippage:r,userAccountAddress:n,userSolAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,supplementalData:u,usdPerSol:l,userUsdcAccountAddress:c,userUsd1AccountAddress:d,tokenDecimals:f,liquidityToken:p}){if(s.isUsd1){if(s.tokenProgramA!==h.TOKEN_PROGRAM_ADDRESS||s.tokenProgramB!==h.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USD1 is not supported yet.");let c=await (0,m.getFeeModes)(o,u),g=2===c.baseFeeMode,x=0===c.collectFeeMode&&"sell"===e||1===c.collectFeeMode&&s.tokenMintB===h.USD1_TOKEN_ADDRESS,A=w({type:e,pairAddress:o,userAccountAddress:n,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:s,useFee:x,isUsd1:!0,needSysVarAccount:g});return await (0,b.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:d,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:y,accounts:A}]})}if(s.isUsdc){if(s.tokenProgramA!==h.TOKEN_PROGRAM_ADDRESS||s.tokenProgramB!==h.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USDC is not supported yet.");let d=await (0,m.getFeeModes)(o,u),g=2===d.baseFeeMode,x=0===d.collectFeeMode&&"sell"===e||1===d.collectFeeMode&&s.tokenMintB===h.USDC_TOKEN_ADDRESS,A=w({type:e,pairAddress:o,userAccountAddress:n,userQuoteAccountAddress:c,userTokenAccountAddress:a,protocolDetails:s,useFee:x,isUsd1:!1,needSysVarAccount:g});return await (0,b.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:y,accounts:A}]})}{let{minAmountOut:l,expectedAmountOut:c,collectFeeMode:d,baseFeeMode:f}=await v(e,t,r,o,u),p=0===d&&"sell"===e||1===d&&s.tokenMintB===h.WSOL_TOKEN_ADDRESS,m=w({type:e,pairAddress:o,userAccountAddress:n,userQuoteAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,useFee:p,isUsd1:!1,needSysVarAccount:2===f});return{swapInstruction:(0,b.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:n,inputTokenAccount:"buy"===e?i:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:i},steps:[{programAddress:y,accounts:m}]}),expectedAmountOut:c}}}function w(e){let t=y;e.useFee&&(t=e.isUsd1?y:e.protocolDetails.isUsdc?(0,h.getAxiomUsdcFeeAddress)():(0,h.getAxiomWSolFeeAddress)());let r=[{pubkey:new d.PublicKey("HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.protocolDetails.tokenVaultA),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.protocolDetails.tokenVaultB),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.protocolDetails.tokenMintA),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.protocolDetails.tokenMintB),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new d.PublicKey(e.protocolDetails.tokenProgramA),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.protocolDetails.tokenProgramB),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(t),isSigner:!1,isWritable:e.useFee&&!e.isUsd1},{pubkey:new d.PublicKey("3rmHSu74h1ZcmAisVcWerTCiRDQbUrBKmcwptYGjHfet"),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(y),isSigner:!1,isWritable:!1}];return e.needSysVarAccount&&r.push({pubkey:new d.PublicKey(h.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1}),r}let v=async(e,t,r,n,i)=>{let a,s,o=await (0,m.calculateSwap)({pairAddress:n,amount:t,type:e,supplementalData:i});if((s=(0,p.newSafeBN)(o.minimumAmountOut)).lte((0,p.newSafeBN)(0)))throw Error(`Would have received 0 ${"buy"===e?"tokens":"SOL"}`);if("buy"===e)a=s.mul((0,p.newSafeBN)(1e4)).div((0,p.newSafeBN)(1e4+100*r));else if("sell"===e)a=s.mul((0,p.newSafeBN)(1e4-100*r)).div((0,p.newSafeBN)(1e4));else throw Error("Invalid type");return{minAmountOut:a,expectedAmountOut:s,collectFeeMode:o.collectFeeMode,baseFeeMode:o.baseFeeMode}};e.s(["swapMeteoraAmmV2",()=>x],150863),e.s(["swapMeteoraDLMM",()=>I],617151);var S=e.i(467034),E=e.i(268804),k=e.i(659341),T=e.i(458768);let P="LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo";async function I({amount:e,priorityFeeSol:t,wallet:r,preset:n,providers:i,blockhash:a,swapParams:s,nonceInstruction:o,rewardsPercentage:u,protocolDetails:l,liquidityToken:c,usdPerSol:m,userTokenAccountAddress:y,tokenDecimals:x}){let A,w,v,I=[],_="buy"===s.type?e.mul(new k.default(99)).div(new k.default(100)):e;A="buy"===s.type&&l.isUsdc?e.mul((0,p.newSafeBN)(1e3*m)).div((0,p.newSafeBN)(1e6)):e;let N=await E.axiomApiV2.post("/generate-meteora-swap-tx-v2",{params:{type:s.type,amountRaw:A.toString(),pairAddress:s.pairAddress,tokenAddress:s.tokenAddress,priorityFee:t},slippage:n.slippage,walletAddress:r.publicKey,blockhash:a}),B=S.Buffer.from(N.serializedTx,"base64"),R=d.MessageV0.deserialize(B),C=d.TransactionMessage.decompile(R).instructions.find(e=>e.programId.toBase58()===P);if(!C)throw Error("Swap instruction not found");"buy"===s.type&&(C.keys[9]={pubkey:new d.PublicKey(l.isUsdc?(0,h.getAxiomUsdcFeeAddress)():(0,h.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}),N.isPartial&&T.default.warn("This trade will only partially fill, executing...");let O=await (0,f.addTokenAccountInstructions)({userWalletAddress:r.publicKey,tokenAddress:s.tokenAddress,tokenProgramAddress:N.tokenProgram,instructions:I,userTokenAccountAddress:y,wsolAmount:"buy"===s.type?_:(0,p.newSafeBN)(0),usdc:l.isUsdc});"buy"===s.type?(C.keys[4].pubkey=new d.PublicKey(l.isUsdc?O.userUsdcAccountAddress:O.userWsolAccountAddress),C.keys[5].pubkey=new d.PublicKey(O.userTokenAccountAddress)):(C.keys[4].pubkey=new d.PublicKey(O.userTokenAccountAddress),C.keys[5].pubkey=new d.PublicKey(l.isUsdc?O.userUsdcAccountAddress:O.userWsolAccountAddress));let D=S.Buffer.concat([S.Buffer.alloc(2),C.data.subarray(24)]);if(D.writeUInt16LE(D.length-2,0),l.isUsdc){let{swapInstruction:e,expectedAmountOut:t}=await (0,b.buildUsdAxiomRouterInstruction)({type:s.type,stableCoin:"usdc",userAccountAddress:r.publicKey,userWsolAccountAddress:O.userWsolAccountAddress,userUsdAccountAddress:O.userUsdcAccountAddress,userTokenAccountAddress:O.userTokenAccountAddress,usdPerSol:m,amountIn:_,tokenDecimals:x,priceInUsdc:c,slippage:n.slippage,steps:[{programAddress:P,accounts:C.keys,extraData:D}]});w=e,v=t}else w=(0,b.buildAxiomRouterInstruction)({type:s.type,amountIn:_,minAmountOut:new k.default(C.data.subarray(16,24),"le"),userWalletAddress:r.publicKey,inputTokenAccount:"buy"===s.type?O.userWsolAccountAddress:O.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:O.userWsolAccountAddress},steps:[{programAddress:P,accounts:C.keys,extraData:D}]}),v=(0,p.newSafeBN)(N.expectedAmountOut);return I.push(w),l.isUsdc&&(0,f.isVanishSigner)(r)&&(0,f.addTokenAccountCloseInstruction)(r.publicKey,O.userUsdcAccountAddress,I),await (0,f.handleMassSwapTxCreation)({instructions:I,wallet:r,swapSettings:n,blockhash:a,nonceInstruction:o,providers:i,computeUnits:(0,f.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:l.isUsdc,isVanish:(0,f.isVanishSigner)(r)}),lookupTables:f.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:u,swapInfo:{amount:e,expectedAmountOut:v,tokenDecimals:x,sourceTokenAddress:"buy"===s.type?g.NATIVE_SOL_TOKEN_ADDRESS:s.tokenAddress,targetTokenAddress:"buy"===s.type?s.tokenAddress:g.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,f.calculateVanishLoanExtraLamports)({type:s.type,isWsol:!0,isUsdc:l.isUsdc??!1,amount:e,expectedAmountOut:v,tokenDecimals:x})}})}var _=e.i(412129),N=e.i(912440),B=e.i(654312);function R([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}e.i(247167);var C=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(R).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}},O=0n;function D(e){return!(null==e||"object"!=typeof e||Array.isArray(e))&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}var U=e.i(631985);function F([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var M=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(F).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function L(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function K({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:n},i){let a,s;"string"==typeof n?a=n:(a=Object.keys(n)[0],s=n[a]);let o=e+r.indexOf(a),u=t(o,a,s),l=new M(o,u);return L(l,i),l}var q=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"],W=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function V(e){return"bigint"==typeof e?Number(e):e}var G={};function z(e){return function t(r,n){if(Array.isArray(r))return r.map((e,r)=>t(e,{...n,keyPath:[...n.keyPath,r]}));if("object"!=typeof r||null===r)return e.reduce((e,t)=>t(e,n),r);{let e={};for(let i in r){if(!Object.prototype.hasOwnProperty.call(r,i))continue;let a={...n,keyPath:[...n.keyPath,i]};e[i]=t(r[i],a)}return e}}}function j(e,t){return r=>{let n=z(e);return Object.freeze({...r,params:n(r.params,t)})}}var H={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1},Q=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",G,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",G,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",G,"state","preUpdateAverageRate"],["data","parsed","info","extensions",G,"state","currentRate"]],X=[...Q,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",G,"confirmationCount"]],J=[["index"],["instructions",G,"accounts",G],["instructions",G,"programIdIndex"],["instructions",G,"stackHeight"]],Y=[["addressTableLookups",G,"writableIndexes",G],["addressTableLookups",G,"readonlyIndexes",G],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",G,"accounts",G],["instructions",G,"programIdIndex"],["instructions",G,"stackHeight"]];function Z([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var $=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(Z).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function ee([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var et=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(ee).join("&"))}'`),`${r}\``}}(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}},er=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function en(e){return D(e)&&er.includes(e.method)}var ei=Object.prototype.toString,ea=Object.keys||function(e){let t=[];for(let r in e)t.push(r);return t},es={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,n){let i="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,n=e%100;i=1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}else i=`\`${r[0].toString()}\``;let a=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,s=new $(81e5,{argumentLabel:i,keyPath:r,methodName:t,optionalPathLabel:a?` at path \`${a}\``:"",value:n,...void 0!==a?{path:a}:void 0});return!function(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}(s,e),s}(e.methodName,t,r)}},eo=globalThis.AbortController;function eu(e){return D(e)?function(e){let t=function e(t,r){let n,i,a,s,o,u,l;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return e(t.toJSON(),r);if("[object Array]"===(l=ei.call(t))){for(n=0,a="[",i=t.length-1;n<i;n++)a+=e(t[n],!0)+",";return i>-1&&(a+=e(t[n],!0)),a+"]"}if("[object Object]"!==l)return JSON.stringify(t);for(i=(s=ea(t).sort()).length,a="",n=0;n<i;)void 0!==(u=e(t[o=s[n]],!1))&&(a&&(a+=","),a+=JSON.stringify(o)+":"+u),n++;return"{"+a+"}";case"function":case"undefined":return r?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}(e,!1);if(void 0!==t)return""+t}([e.method,e.params]):void 0}var el=e.i(103476),ec=e.i(441960),ed=e.i(850631),ef=e.i(869208),ep=e.i(153252),eh=e.i(149499),em=((t=em||{})[t.AddMemo=0]="AddMemo",t),eg=e.i(291826),eb=e.i(686688),ey=e.i(696319);e.i(634583);var ex=((r=ex||{})[r.Little=0]="Little",r[r.Big=1]="Big",r),eA=((n=eA||{})[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen",n),ew=((i=ew||{})[i.MintTokens=0]="MintTokens",i[i.FreezeAccount=1]="FreezeAccount",i[i.AccountOwner=2]="AccountOwner",i[i.CloseAccount=3]="CloseAccount",i[i.TransferFeeConfig=4]="TransferFeeConfig",i[i.WithheldWithdraw=5]="WithheldWithdraw",i[i.CloseMint=6]="CloseMint",i[i.InterestRate=7]="InterestRate",i[i.PermanentDelegate=8]="PermanentDelegate",i[i.ConfidentialTransferMint=9]="ConfidentialTransferMint",i[i.TransferHookProgramId=10]="TransferHookProgramId",i[i.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",i[i.MetadataPointer=12]="MetadataPointer",i[i.GroupPointer=13]="GroupPointer",i[i.GroupMemberPointer=14]="GroupMemberPointer",i[i.ScaledUiAmount=15]="ScaledUiAmount",i[i.Pause=16]="Pause",i);function ev(){return(0,eh.fixDecoderSize)((0,ef.getBytesDecoder)(),64)}var eS=((a=eS||{})[a.Uninitialized=0]="Uninitialized",a[a.TransferFeeConfig=1]="TransferFeeConfig",a[a.TransferFeeAmount=2]="TransferFeeAmount",a[a.MintCloseAuthority=3]="MintCloseAuthority",a[a.ConfidentialTransferMint=4]="ConfidentialTransferMint",a[a.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",a[a.DefaultAccountState=6]="DefaultAccountState",a[a.ImmutableOwner=7]="ImmutableOwner",a[a.MemoTransfer=8]="MemoTransfer",a[a.NonTransferable=9]="NonTransferable",a[a.InterestBearingConfig=10]="InterestBearingConfig",a[a.CpiGuard=11]="CpiGuard",a[a.PermanentDelegate=12]="PermanentDelegate",a[a.NonTransferableAccount=13]="NonTransferableAccount",a[a.TransferHook=14]="TransferHook",a[a.TransferHookAccount=15]="TransferHookAccount",a[a.ConfidentialTransferFee=16]="ConfidentialTransferFee",a[a.ConfidentialTransferFeeAmount=17]="ConfidentialTransferFeeAmount",a[a.ScaledUiAmountConfig=18]="ScaledUiAmountConfig",a[a.PausableConfig=19]="PausableConfig",a[a.PausableAccount=20]="PausableAccount",a[a.MetadataPointer=21]="MetadataPointer",a[a.TokenMetadata=22]="TokenMetadata",a[a.GroupPointer=23]="GroupPointer",a[a.TokenGroup=24]="TokenGroup",a[a.GroupMemberPointer=25]="GroupMemberPointer",a[a.TokenGroupMember=26]="TokenGroupMember",a);function eE(){return(0,ef.getStructDecoder)([["epoch",(0,eg.getU64Decoder)()],["maximumFee",(0,eg.getU64Decoder)()],["transferFeeBasisPoints",(0,eg.getU16Decoder)()]])}async function ek(e,t,r){let n=await eT(e,t,r);return(0,ey.assertAccountsExist)(n),n}async function eT(e,t,r){return(await (0,ey.fetchEncodedAccounts)(e,t,r)).map(e=>(0,ey.decodeAccount)(e,(0,ef.getStructDecoder)([["mintAuthority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:(0,eg.getU32Decoder)(),noneValue:"zeroes"})],["supply",(0,eg.getU64Decoder)()],["decimals",(0,eg.getU8Decoder)()],["isInitialized",(0,ef.getBooleanDecoder)()],["freezeAuthority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:(0,eg.getU32Decoder)(),noneValue:"zeroes"})],["extensions",(0,eb.getOptionDecoder)((0,ef.getHiddenPrefixDecoder)((0,ef.getArrayDecoder)((0,ef.getDiscriminatedUnionDecoder)([["Uninitialized",(0,ef.getUnitDecoder)()],["TransferFeeConfig",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["transferFeeConfigAuthority",(0,N.getAddressDecoder)()],["withdrawWithheldAuthority",(0,N.getAddressDecoder)()],["withheldAmount",(0,eg.getU64Decoder)()],["olderTransferFee",eE()],["newerTransferFee",eE()]]),(0,eg.getU16Decoder)())],["TransferFeeAmount",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["withheldAmount",(0,eg.getU64Decoder)()]]),(0,eg.getU16Decoder)())],["MintCloseAuthority",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["closeAuthority",(0,N.getAddressDecoder)()]]),(0,eg.getU16Decoder)())],["ConfidentialTransferMint",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",(0,ef.getBooleanDecoder)()],["auditorElgamalPubkey",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eg.getU16Decoder)())],["ConfidentialTransferAccount",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["approved",(0,ef.getBooleanDecoder)()],["elgamalPubkey",(0,N.getAddressDecoder)()],["pendingBalanceLow",ev()],["pendingBalanceHigh",ev()],["availableBalance",ev()],["decryptableAvailableBalance",(0,eh.fixDecoderSize)((0,ef.getBytesDecoder)(),36)],["allowConfidentialCredits",(0,ef.getBooleanDecoder)()],["allowNonConfidentialCredits",(0,ef.getBooleanDecoder)()],["pendingBalanceCreditCounter",(0,eg.getU64Decoder)()],["maximumPendingBalanceCreditCounter",(0,eg.getU64Decoder)()],["expectedPendingBalanceCreditCounter",(0,eg.getU64Decoder)()],["actualPendingBalanceCreditCounter",(0,eg.getU64Decoder)()]]),(0,eg.getU16Decoder)())],["DefaultAccountState",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["state",(0,ef.getEnumDecoder)(eA)]]),(0,eg.getU16Decoder)())],["ImmutableOwner",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([]),(0,eg.getU16Decoder)())],["MemoTransfer",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["requireIncomingTransferMemos",(0,ef.getBooleanDecoder)()]]),(0,eg.getU16Decoder)())],["NonTransferable",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([]),(0,eg.getU16Decoder)())],["InterestBearingConfig",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["rateAuthority",(0,N.getAddressDecoder)()],["initializationTimestamp",(0,eg.getU64Decoder)()],["preUpdateAverageRate",(0,eg.getI16Decoder)()],["lastUpdateTimestamp",(0,eg.getU64Decoder)()],["currentRate",(0,eg.getI16Decoder)()]]),(0,eg.getU16Decoder)())],["CpiGuard",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["lockCpi",(0,ef.getBooleanDecoder)()]]),(0,eg.getU16Decoder)())],["PermanentDelegate",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["delegate",(0,N.getAddressDecoder)()]]),(0,eg.getU16Decoder)())],["NonTransferableAccount",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([]),(0,eg.getU16Decoder)())],["TransferHook",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,N.getAddressDecoder)()],["programId",(0,N.getAddressDecoder)()]]),(0,eg.getU16Decoder)())],["TransferHookAccount",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["transferring",(0,ef.getBooleanDecoder)()]]),(0,eg.getU16Decoder)())],["ConfidentialTransferFee",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",(0,N.getAddressDecoder)()],["harvestToMintEnabled",(0,ef.getBooleanDecoder)()],["withheldAmount",ev()]]),(0,eg.getU16Decoder)())],["ConfidentialTransferFeeAmount",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["withheldAmount",ev()]]),(0,eg.getU16Decoder)())],["MetadataPointer",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eg.getU16Decoder)())],["TokenMetadata",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["updateAuthority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,N.getAddressDecoder)()],["name",(0,eh.addDecoderSizePrefix)((0,ep.getUtf8Decoder)(),(0,eg.getU32Decoder)())],["symbol",(0,eh.addDecoderSizePrefix)((0,ep.getUtf8Decoder)(),(0,eg.getU32Decoder)())],["uri",(0,eh.addDecoderSizePrefix)((0,ep.getUtf8Decoder)(),(0,eg.getU32Decoder)())],["additionalMetadata",(0,ef.getMapDecoder)((0,eh.addDecoderSizePrefix)((0,ep.getUtf8Decoder)(),(0,eg.getU32Decoder)()),(0,eh.addDecoderSizePrefix)((0,ep.getUtf8Decoder)(),(0,eg.getU32Decoder)()))]]),(0,eg.getU16Decoder)())],["GroupPointer",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["groupAddress",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eg.getU16Decoder)())],["TokenGroup",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["updateAuthority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,N.getAddressDecoder)()],["size",(0,eg.getU64Decoder)()],["maxSize",(0,eg.getU64Decoder)()]]),(0,eg.getU16Decoder)())],["GroupMemberPointer",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["memberAddress",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eg.getU16Decoder)())],["TokenGroupMember",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["mint",(0,N.getAddressDecoder)()],["group",(0,N.getAddressDecoder)()],["memberNumber",(0,eg.getU64Decoder)()]]),(0,eg.getU16Decoder)())],["ConfidentialMintBurn",(0,ef.getUnitDecoder)()],["ScaledUiAmountConfig",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,N.getAddressDecoder)()],["multiplier",(0,eg.getF64Decoder)()],["newMultiplierEffectiveTimestamp",(0,eg.getU64Decoder)()],["newMultiplier",(0,eg.getF64Decoder)()]]),(0,eg.getU16Decoder)())],["PausableConfig",(0,eh.addDecoderSizePrefix)((0,ef.getStructDecoder)([["authority",(0,eb.getOptionDecoder)((0,N.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["paused",(0,ef.getBooleanDecoder)()]]),(0,eg.getU16Decoder)())],["PausableAccount",(0,ef.getUnitDecoder)()]],{size:(0,eg.getU16Decoder)()}),{size:"remainder"}),[(0,ef.getConstantDecoder)((0,eh.padLeftEncoder)((0,eg.getU8Encoder)(),83).encode(1))]),{prefix:null})]])))}var eP=((s=eP||{})[s.CreateAssociatedToken=0]="CreateAssociatedToken",s[s.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",s[s.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",s),eI=((o=eI||{})[o.Mint=0]="Mint",o[o.Token=1]="Token",o[o.Multisig=2]="Multisig",o),e_=((u=e_||{})[u.InitializeMint=0]="InitializeMint",u[u.InitializeAccount=1]="InitializeAccount",u[u.InitializeMultisig=2]="InitializeMultisig",u[u.Transfer=3]="Transfer",u[u.Approve=4]="Approve",u[u.Revoke=5]="Revoke",u[u.SetAuthority=6]="SetAuthority",u[u.MintTo=7]="MintTo",u[u.Burn=8]="Burn",u[u.CloseAccount=9]="CloseAccount",u[u.FreezeAccount=10]="FreezeAccount",u[u.ThawAccount=11]="ThawAccount",u[u.TransferChecked=12]="TransferChecked",u[u.ApproveChecked=13]="ApproveChecked",u[u.MintToChecked=14]="MintToChecked",u[u.BurnChecked=15]="BurnChecked",u[u.InitializeAccount2=16]="InitializeAccount2",u[u.SyncNative=17]="SyncNative",u[u.InitializeAccount3=18]="InitializeAccount3",u[u.InitializeMultisig2=19]="InitializeMultisig2",u[u.InitializeMint2=20]="InitializeMint2",u[u.GetAccountDataSize=21]="GetAccountDataSize",u[u.InitializeImmutableOwner=22]="InitializeImmutableOwner",u[u.AmountToUiAmount=23]="AmountToUiAmount",u[u.UiAmountToAmount=24]="UiAmountToAmount",u[u.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",u[u.InitializeTransferFeeConfig=26]="InitializeTransferFeeConfig",u[u.TransferCheckedWithFee=27]="TransferCheckedWithFee",u[u.WithdrawWithheldTokensFromMint=28]="WithdrawWithheldTokensFromMint",u[u.WithdrawWithheldTokensFromAccounts=29]="WithdrawWithheldTokensFromAccounts",u[u.HarvestWithheldTokensToMint=30]="HarvestWithheldTokensToMint",u[u.SetTransferFee=31]="SetTransferFee",u[u.InitializeConfidentialTransferMint=32]="InitializeConfidentialTransferMint",u[u.UpdateConfidentialTransferMint=33]="UpdateConfidentialTransferMint",u[u.ConfigureConfidentialTransferAccount=34]="ConfigureConfidentialTransferAccount",u[u.ApproveConfidentialTransferAccount=35]="ApproveConfidentialTransferAccount",u[u.EmptyConfidentialTransferAccount=36]="EmptyConfidentialTransferAccount",u[u.ConfidentialDeposit=37]="ConfidentialDeposit",u[u.ConfidentialWithdraw=38]="ConfidentialWithdraw",u[u.ConfidentialTransfer=39]="ConfidentialTransfer",u[u.ApplyConfidentialPendingBalance=40]="ApplyConfidentialPendingBalance",u[u.EnableConfidentialCredits=41]="EnableConfidentialCredits",u[u.DisableConfidentialCredits=42]="DisableConfidentialCredits",u[u.EnableNonConfidentialCredits=43]="EnableNonConfidentialCredits",u[u.DisableNonConfidentialCredits=44]="DisableNonConfidentialCredits",u[u.ConfidentialTransferWithFee=45]="ConfidentialTransferWithFee",u[u.InitializeDefaultAccountState=46]="InitializeDefaultAccountState",u[u.UpdateDefaultAccountState=47]="UpdateDefaultAccountState",u[u.Reallocate=48]="Reallocate",u[u.EnableMemoTransfers=49]="EnableMemoTransfers",u[u.DisableMemoTransfers=50]="DisableMemoTransfers",u[u.CreateNativeMint=51]="CreateNativeMint",u[u.InitializeNonTransferableMint=52]="InitializeNonTransferableMint",u[u.InitializeInterestBearingMint=53]="InitializeInterestBearingMint",u[u.UpdateRateInterestBearingMint=54]="UpdateRateInterestBearingMint",u[u.EnableCpiGuard=55]="EnableCpiGuard",u[u.DisableCpiGuard=56]="DisableCpiGuard",u[u.InitializePermanentDelegate=57]="InitializePermanentDelegate",u[u.InitializeTransferHook=58]="InitializeTransferHook",u[u.UpdateTransferHook=59]="UpdateTransferHook",u[u.InitializeConfidentialTransferFee=60]="InitializeConfidentialTransferFee",u[u.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]="WithdrawWithheldTokensFromMintForConfidentialTransferFee",u[u.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]="WithdrawWithheldTokensFromAccountsForConfidentialTransferFee",u[u.HarvestWithheldTokensToMintForConfidentialTransferFee=63]="HarvestWithheldTokensToMintForConfidentialTransferFee",u[u.EnableHarvestToMint=64]="EnableHarvestToMint",u[u.DisableHarvestToMint=65]="DisableHarvestToMint",u[u.WithdrawExcessLamports=66]="WithdrawExcessLamports",u[u.InitializeMetadataPointer=67]="InitializeMetadataPointer",u[u.UpdateMetadataPointer=68]="UpdateMetadataPointer",u[u.InitializeGroupPointer=69]="InitializeGroupPointer",u[u.UpdateGroupPointer=70]="UpdateGroupPointer",u[u.InitializeGroupMemberPointer=71]="InitializeGroupMemberPointer",u[u.UpdateGroupMemberPointer=72]="UpdateGroupMemberPointer",u[u.InitializeScaledUiAmountMint=73]="InitializeScaledUiAmountMint",u[u.UpdateMultiplierScaledUiMint=74]="UpdateMultiplierScaledUiMint",u[u.InitializePausableConfig=75]="InitializePausableConfig",u[u.Pause=76]="Pause",u[u.Resume=77]="Resume",u[u.InitializeTokenMetadata=78]="InitializeTokenMetadata",u[u.UpdateTokenMetadataField=79]="UpdateTokenMetadataField",u[u.RemoveTokenMetadataKey=80]="RemoveTokenMetadataKey",u[u.UpdateTokenMetadataUpdateAuthority=81]="UpdateTokenMetadataUpdateAuthority",u[u.EmitTokenMetadata=82]="EmitTokenMetadata",u[u.InitializeTokenGroup=83]="InitializeTokenGroup",u[u.UpdateTokenGroupMaxSize=84]="UpdateTokenGroupMaxSize",u[u.UpdateTokenGroupUpdateAuthority=85]="UpdateTokenGroupUpdateAuthority",u[u.InitializeTokenGroupMember=86]="InitializeTokenGroupMember",u);new Uint8Array([250,166,180,250,13,12,184,70]),new Uint8Array([121,113,108,39,54,51,0,4]),new Uint8Array([152,32,222,176,223,237,116,134]),new Uint8Array([210,225,30,162,88,184,77,141]),new Uint8Array([234,18,32,56,89,141,37,181]),new Uint8Array([108,37,171,143,248,30,18,110]),new Uint8Array([161,105,88,1,237,221,216,203]),new Uint8Array([221,233,49,45,181,202,220,200]),new Uint8Array([215,228,166,228,84,100,86,123]);let eN="whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc";async function eB({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:i,blockhash:a,wallet:s,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,rewardsPercentage:d,usdPerSol:m,tokenDecimals:b,liquidityToken:y}){let x=[],A=i.tokenProgram===_.TokenProgram.TOKEN?h.TOKEN_PROGRAM_ADDRESS:h.TOKEN_PROGRAM_2022_ADDRESS,w=await (0,f.addTokenAccountInstructions)({userWalletAddress:s.publicKey,tokenAddress:r,tokenProgramAddress:A,instructions:x,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,p.newSafeBN)(0),usdc:i.isUsdc});"buy"===e&&(t=t.sub((0,f.calculateAxiomFee)(t)));let{swapInstruction:v,expectedAmountOut:S}=await eU({type:e,amount:t,slippage:u.slippage,userAccountAddress:s.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,userSolAccountAddress:w.userWsolAccountAddress,protocolDetails:i,pairAddress:o,tokenAddress:r,tokenDecimals:b,liquidityToken:y,userUsdcAccountAddress:w.userUsdcAccountAddress,usdPerSol:m});return x.push(v),i.isUsdc&&(0,f.isVanishSigner)(s)&&(0,f.addTokenAccountCloseInstruction)(s.publicKey,w.userUsdcAccountAddress,x),i.isUsd1&&(0,f.isVanishSigner)(s)&&(0,f.addTokenAccountCloseInstruction)(s.publicKey,w.userUsd1AccountAddress,x),await (0,f.handleMassSwapTxCreation)({instructions:x,wallet:s,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,f.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:i.isUsdc,isVanish:(0,f.isVanishSigner)(s)}),lookupTables:f.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d,swapInfo:{amount:t,expectedAmountOut:S,tokenDecimals:b,sourceTokenAddress:"buy"===e?g.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:g.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,f.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:i.isUsdc??!1,amount:t,expectedAmountOut:S,tokenDecimals:b})}})}async function eR(e,t,r,n,i){try{let a,s=(0,N.address)(n);a="buy"===e?i?(0,N.address)(h.USDC_TOKEN_ADDRESS):(0,N.address)(h.WSOL_TOKEN_ADDRESS):(0,N.address)(r);let o=BigInt(t),{instructions:u,quote:l,aToB:c}=await eO({inputAmount:o,mint:a,poolAddress:s,slippageToleranceBps:1e4}),d=[],f="";for(let e of u)if(e.programAddress===eN){d=e.accounts?.map(e=>({pubkey:e.address.toString(),isWritable:e.role===ec.AccountRole.WRITABLE||e.role===ec.AccountRole.WRITABLE_SIGNER,isSigner:e.role===ec.AccountRole.READONLY_SIGNER||e.role===ec.AccountRole.WRITABLE_SIGNER}))??[],f=S.Buffer.from(e.data??[]).toString("base64");break}let p=l.tokenEstOut.toString();return{accounts:d,expectedAmountOut:p,dataB64:f,aToB:c}}catch(e){throw console.error(e),Error("Error calculating swap")}}function eC(e,t){if(null==e||"exists"in e&&!e.exists||"None"===e.data.extensions.__option)return;let r=e.data.extensions.value.find(e=>"TransferFeeConfig"===e.__kind);if(null==r)return;let n=t>=r.newerTransferFee.epoch?r.newerTransferFee:r.olderTransferFee;return{feeBps:n.transferFeeBasisPoints,maxFee:n.maximumFee}}async function eO(t){var r,n,i,a,s,o,u,d,f,p,h,m;let[{_TICK_ARRAY_SIZE:g,getTickArrayStartTickIndex:b,swapQuoteByInputToken:y,swapQuoteByOutputToken:x},{fetchWhirlpool:A,getOracleAddress:w,getSwapV2Instruction:v,getTickArrayAddress:E,fetchOracle:k,AccountsType:T,fetchAllMaybeTickArray:P}]=await Promise.all([e.A(668889),e.A(924874)]),{poolAddress:I,slippageToleranceBps:_}=t,R=function(e){let t;var r,n,i={api:(n={requestTransformer:(t=es?.onIntegerOverflow,e=>(0,U.pipe)(e,t?e=>{var r;return j([(r=(...r)=>t(e,...r),(e,{keyPath:t})=>("bigint"==typeof e&&r&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&r(t,e),e))],{keyPath:[]})(e)}:e=>e,j([V],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let a=t[i];return null==a?r:Object.freeze({methodName:i,params:function({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=t[r];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i)){if(i&&e in i){if(!i[e]||"finalized"===i[e]){let n=[...t],{[e]:a,...s}=i;return Object.keys(s).length>0?n[r]=s:r===n.length-1?n.length--:n[r]=void 0,n}}else if("finalized"!==n){let a=[...t];return a[r]={...i,[e]:n},a}}return t}({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:a,overrideCommitment:e,params:n})})}}({defaultCommitment:es?.defaultCommitment,optionsObjectPositionByMethod:H}))),responseTransformer:(r={allowedNumericKeyPaths:(l||(l={getAccountInfo:X.map(e=>["value",...e]),getBlock:[["transactions",G,"meta","preTokenBalances",G,"accountIndex"],["transactions",G,"meta","preTokenBalances",G,"uiTokenAmount","decimals"],["transactions",G,"meta","postTokenBalances",G,"accountIndex"],["transactions",G,"meta","postTokenBalances",G,"uiTokenAmount","decimals"],["transactions",G,"meta","rewards",G,"commission"],...J.map(e=>["transactions",G,"meta","innerInstructions",G,...e]),...Y.map(e=>["transactions",G,"transaction","message",...e]),["rewards",G,"commission"]],getClusterNodes:[[G,"featureSet"],[G,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[G,"commission"]],getMultipleAccounts:X.map(e=>["value",G,...e]),getProgramAccounts:X.flatMap(e=>[["value",G,"account",...e],[G,"account",...e]]),getRecentPerformanceSamples:[[G,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:Q.map(e=>["value",G,"account",...e]),getTokenAccountsByOwner:Q.map(e=>["value",G,"account",...e]),getTokenLargestAccounts:[["value",G,"decimals"],["value",G,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",G,"accountIndex"],["meta","preTokenBalances",G,"uiTokenAmount","decimals"],["meta","postTokenBalances",G,"accountIndex"],["meta","postTokenBalances",G,"uiTokenAmount","decimals"],["meta","rewards",G,"commission"],...J.map(e=>["meta","innerInstructions",G,...e]),...Y.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",G,"commission"],["delinquent",G,"commission"]],simulateTransaction:[...X.map(e=>["value","accounts",G,...e]),...J.map(e=>["value","innerInstructions",G,...e])]}),l)},(e,t)=>{let n=t.methodName,i=r?.allowedNumericKeyPaths&&n?r.allowedNumericKeyPaths[n]:void 0;return(0,U.pipe)(e,e=>(e=>{if("error"in e)throw function e(t){var r;let n;if("object"==typeof(r=t)&&null!==r&&"code"in r&&"message"in r&&("number"==typeof r.code||"bigint"==typeof r.code)&&"string"==typeof r.message){let{code:e,data:r,message:i}=t,a=Number(e);if(-32002===a){let{err:e,...t}=r,i=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let n=Number(t);return K({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:4615045===e?{encodedData:r,index:n}:{index:n},orderedErrorNames:q,rpcEnumError:r},e)}(...t.InstructionError):K({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:W,rpcEnumError:t},e)}(e)}:null;n=new M(-32002,{...t,...i})}else{let e;switch(a){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:i};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}n=new M(a,e)}}else{let e="object"==typeof t&&null!==t&&"message"in t&&"string"==typeof t.message?t.message:"Malformed JSON-RPC error with no message attribute";n=new M(10,{error:t,message:e})}return L(n,e),n}(e.error);return e})(e,t),e=>e.result,e=>{var r,n,a;return(n=[(r=i??[],function(e,{keyPath:t}){var n;return"number"==typeof e&&Number.isInteger(e)||"bigint"==typeof e?(n=t,r.some(e=>{if(e.length!==n.length)return!1;for(let t=n.length-1;t>=0;t--){let r=n[t],i=e[t];if(i!==r&&(i!==G||"number"!=typeof r))return!1}return!0}))?Number(e):BigInt(e):e})],a={keyPath:[]},e=>z(n)(e,a))(e,t)})})},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,i=r.toString();return function(...e){let t=Object.freeze({methodName:i,params:e}),r=n?.requestTransformer?n?.requestTransformer(t):t;return Object.freeze({execute:async({signal:e,transport:t})=>{let i,a={id:(i=O,O++,i.toString()),jsonrpc:"2.0",method:r.methodName,params:r.params},s=await t({payload:a,signal:e});return n?.responseTransformer?n.responseTransformer(s,r):s}})}}})),transport:e};return new Proxy(i.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...n){let a=t.toString(),s=Reflect.get(e,a,r);if(!s)throw new C(8100003,{method:a,params:n});return function({transport:e},t){return{send:async r=>await t.execute({signal:r?.abortSignal,transport:e})}}(i,s(...n))}}})}((r={url:"/api/orca-fetch",...void 0},(0,U.pipe)(function(e){let t,{fromJson:r,headers:n,toJson:i,url:a}=e,s=n&&function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(n);return async function({payload:e,signal:n}){let o=i?i(e):JSON.stringify(e),u={...t,body:o,headers:{...s,accept:"application/json","content-length":o.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},l=await fetch(a,u);if(!l.ok)throw new et(8100002,{headers:l.headers,message:l.statusText,statusCode:l.status});return r?r(await l.text(),e):await l.json()}}({...{...r,headers:{...!1,...r.headers?function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(r.headers):void 0,"solana-client":"js/2.3.0"}},fromJson:(e,t)=>en(t)?JSON.parse(function(e){let t=[],r=!1;for(let i=0;i<e.length;i++){let a=!1;if("\\"===e[i]&&(t.push(e[i++]),a=!a),'"'===e[i]){t.push(e[i]),a||(r=!r);continue}if(!r){let r=function(e,t){if(!e[t]?.match(/[-\d]/))return null;let r=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return r?r[0]:null}(e,i);if(r?.length){var n;i+=r.length-1,r.match(/\.|[eE]-/)?t.push(r):t.push((n=r,`{"$n":"${n}"}`));continue}}t.push(e[i])}return t.join("")}(e),(e,t)=>{var r;return(r=t)&&"object"==typeof r&&"$n"in r&&"string"==typeof r.$n?function({$n:e}){if(e.match(/[eE]/)){let[t,r]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(r)}return BigInt(e)}(t):t}):JSON.parse(e),toJson:e=>en(e)?JSON.stringify(e,(e,t)=>{var r;return"bigint"==typeof t?(r=t,{$n:`${r}`}):t},void 0).replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1"):JSON.stringify(e)}),e=>{let t;return async function(r){let{payload:n,signal:i}=r,a=eu(n);if(void 0===a)return await e(r);if(t||(queueMicrotask(()=>{t=void 0}),t={}),null==t[a]){let n=new eo,i=(async()=>{try{return await e({...r,signal:n.signal})}catch(e){if(e===(c||={}))return;throw e}})();t[a]={abortController:n,numConsumers:0,responsePromise:i}}let s=t[a];if(s.numConsumers++,!i)return await s.responsePromise;{let e=s.responsePromise;return await new Promise((t,r)=>{let n=e=>{i.removeEventListener("abort",n),s.numConsumers-=1,queueMicrotask(()=>{0===s.numConsumers&&s.abortController.abort(c||={})}),r(e.target.reason)};i.addEventListener("abort",n),e.then(t).catch(r).finally(()=>{i.removeEventListener("abort",n)})})}}}))),D=await A(R,I),F=async()=>{let e=await w(D.address).then(e=>e[0]);return{oracle:await eM(R,e,D.data,k),oracleAddress:e}},[[Z,$],ee,er,ei,ea]=await Promise.all([ek(R,[D.data.tokenMintA,D.data.tokenMintB]),(0,B.createKeyPairSignerFromBytes)(S.Buffer.from(el.default.decode("YZet6abx8NWJ5gADzX6orPNdBCGRNekiLkJLohybapfmgDDZSv5wHazv5snBLArEcpJutaoYgtKKVti3pEtzCFh"))),eF(R,D,g,b,E,P),F(),R.getEpochInfo().send()]),{oracle:ed,oracleAddress:ef}=ei,ep=t.mint===D.data.tokenMintA,eh="inputAmount"in t,em=eC(Z,ea.epoch),eg=eC($,ea.epoch),eb=BigInt(Math.floor(Date.now()/1e3)),ey=(n=t,i=D.data,a=em,s=eg,o=er.map(e=>e.data),u=ed,d=ep,f=_,p=eb,h=y,m=x,"inputAmount"in n?h(n.inputAmount,d,f,i,u,o,p,a,s):m(n.outputAmount,d,f,i,u,o,p,a,s)),ex=ep===eh,eA=[],ew=t.inputAmount,ev=ey.tokenMinOut,eS=v({tokenProgramA:Z.programAddress,tokenProgramB:$.programAddress,memoProgram:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",tokenAuthority:ee,whirlpool:D.address,tokenMintA:D.data.tokenMintA,tokenMintB:D.data.tokenMintB,tokenOwnerAccountA:(0,N.address)("11111111111111111111111111111111"),tokenOwnerAccountB:(0,N.address)("11111111111111111111111111111111"),tokenVaultA:D.data.tokenVaultA,tokenVaultB:D.data.tokenVaultB,tickArray0:er[0].address,tickArray1:er[1].address,tickArray2:er[2].address,amount:ew,otherAmountThreshold:ev,sqrtPriceLimit:0,amountSpecifiedIsInput:eh,aToB:ex,oracle:ef,remainingAccountsInfo:{slices:[{accountsType:T.SupplementalTickArrays,length:2}]}});return eS.accounts.push({address:er[3].address,role:ec.AccountRole.WRITABLE},{address:er[4].address,role:ec.AccountRole.WRITABLE}),eA.push(eS),{instructions:eA,quote:ey,aToB:ex}}let eD=async(e,t,r,n,i,a,s,o,u)=>{let l,c,f=await eR(e,t.toString(),n,i,u),m=f.accounts.map(e=>({pubkey:new d.PublicKey(e.pubkey),isSigner:e.isSigner,isWritable:e.isWritable}));if("buy"===e)c=t,l=(l=(0,p.newSafeBN)(f.expectedAmountOut)).mul((0,p.newSafeBN)(1e4)).div((0,p.newSafeBN)(1e4+100*r));else if("sell"===e)l=t,c=(0,p.newSafeBN)(f.expectedAmountOut).mul((0,p.newSafeBN)(1e4-100*r)).div((0,p.newSafeBN)(1e4));else throw Error("Invalid type");m[5].pubkey.toString()!==h.WSOL_TOKEN_ADDRESS||u?m[6].pubkey.toString()!==h.WSOL_TOKEN_ADDRESS||u?m[5].pubkey.toString()===h.USDC_TOKEN_ADDRESS&&u?(m[7].pubkey=new d.PublicKey(o),m[9].pubkey=new d.PublicKey(s)):m[6].pubkey.toString()===h.USDC_TOKEN_ADDRESS&&u&&(m[9].pubkey=new d.PublicKey(o),m[7].pubkey=new d.PublicKey(s)):(m[9].pubkey=new d.PublicKey(o),m[7].pubkey=new d.PublicKey(s)):(m[7].pubkey=new d.PublicKey(o),m[9].pubkey=new d.PublicKey(s)),m[3].pubkey=new d.PublicKey(a);let g=S.Buffer.from(f.dataB64,"base64"),b=S.Buffer.concat([S.Buffer.alloc(2),g.subarray(42)]);return b.writeUInt16LE(b.length-2,0),{extraData:b,minAmountOut:"buy"===e?l:c,expectedAmountOut:(0,p.newSafeBN)(f.expectedAmountOut),accounts:m,aToB:f.aToB}};async function eU({type:e,amount:t,slippage:r,userAccountAddress:n,userSolAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,tokenAddress:u,usdPerSol:l,userUsdcAccountAddress:c,tokenDecimals:d,liquidityToken:f}){if(s.isUsdc){let h;if("buy"===e&&s.isUsdc){let e=(0,p.fromSafeBN)(t);h=(0,p.newSafeBN)(e*l/1e3)}else h=t;let m=await eD(e,h,r,u,o,n,a,c,s.isUsdc);return(0,b.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:d,priceInUsdc:f,slippage:r,steps:[{programAddress:eN,accounts:m.accounts,extraData:m.extraData}]})}{let{minAmountOut:l,expectedAmountOut:c,accounts:d,extraData:f}=await eD(e,t,r,u,o,n,a,i,s.isUsdc);return{swapInstruction:(0,b.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:n,inputTokenAccount:"buy"===e?i:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:i},steps:[{programAddress:eN,accounts:d,extraData:f}]}),expectedAmountOut:c}}}async function eF(e,t,r,n,i,a){let s=n(t.data.tickCurrentIndex,t.data.tickSpacing),o=t.data.tickSpacing*r(),u=[s,s+o,s+2*o,s-o,s-2*o],l=await Promise.all(u.map(e=>i(t.address,e).then(e=>e[0]))),c=await a(e,l),d=[];for(let e=0;e<c.length;e++){let n=c[e];if(n.exists)d.push(n);else{var f,p,h;d.push((f=l[e],p=u[e],h=t.programAddress,{address:f,data:{startTickIndex:p,ticks:Array(r()).fill({initialized:!1,liquidityNet:BigInt(0),liquidityGross:BigInt(0),feeGrowthOutsideA:BigInt(0),feeGrowthOutsideB:BigInt(0),rewardGrowthsOutside:[BigInt(0),BigInt(0),BigInt(0)]})},space:BigInt(0),executable:!1,lamports:(0,ed.lamports)(BigInt(0)),programAddress:h}))}}return d}async function eM(e,t,r,n){let i=r.feeTierIndexSeed[0]+256*r.feeTierIndexSeed[1];if(r.tickSpacing!==i)return(await n(e,t)).data}e.s(["swapOrca",()=>eB],148527);let eL="Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1",eK=async(e,t)=>{let r=t.creator;r||(r=(await E.axiomApi.post("/pump-creator",{bondingCurve:e})).creator);let[n]=d.PublicKey.findProgramAddressSync([S.Buffer.from("creator-vault","utf8"),new d.PublicKey(r).toBuffer()],new d.PublicKey(h.PUMP_PROGRAM_ADDRESS));return n},eq=async e=>{let t,r,n=e.protocolDetails.tokenProgram===_.TokenProgram.TOKEN_2022?h.TOKEN_PROGRAM_2022_ADDRESS:h.TOKEN_PROGRAM_ADDRESS,i=[{pubkey:new d.PublicKey("4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf"),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.protocolDetails.isMayhem?(t=["GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS","4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6","8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR","4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH","8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6","Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk","463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq","6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA"])[Math.floor(Math.random()*t.length)]:(r=["CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM","62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV","7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ","7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX","9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz","AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY","FWsW1xNtWscwNmKv6wVsU1iTzRN6wmmk3MjxRP5tT7hz","G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP"])[Math.floor(Math.random()*r.length)]),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(e.bondingCurve),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.protocolDetails.associatedBondingCurve),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new d.PublicKey(h.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];if("buy"===e.type)i.push({pubkey:new d.PublicKey(n),isSigner:!1,isWritable:!1}),i.push({pubkey:new d.PublicKey(await eK(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0});else if("sell"===e.type)i.push({pubkey:new d.PublicKey(await eK(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0}),i.push({pubkey:new d.PublicKey(n),isSigner:!1,isWritable:!1});else throw Error("Invalid type");i.push({pubkey:new d.PublicKey(eL),isSigner:!1,isWritable:!1}),i.push({pubkey:new d.PublicKey(h.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),"buy"===e.type&&(i.push({pubkey:new d.PublicKey(function(e=new d.PublicKey(eV)){return d.PublicKey.findProgramAddressSync([S.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),i.push({pubkey:new d.PublicKey(eG(new d.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),i.push({pubkey:new d.PublicKey("8Wf5TiAheLUqBrKXeYg2JtAFFMWtKdG2BSFgqUcPVwTt"),isSigner:!1,isWritable:!1}),i.push({pubkey:new d.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{amountIn:a,minimumAmountOut:s,expectedAmountOut:o}=((e,t,r,n,i,a)=>{let s,o,u,l=null;if("buy"===e){o=t;let e=t.mul((0,p.newSafeBN)(1e4)).div((0,p.newSafeBN)(1e4+h.PUMP_FEE_BASIS_POINTS));s=(u=n.sub(r.mul(n).div(r.add(e)).add((0,p.newSafeBN)(1)))).mul((0,p.newSafeBN)(1e4)).div((0,p.newSafeBN)(1e4+100*i));let a=(0,p.newSafeBN)(h.PUMP_V1_AVAILABLE_RESERVES_TOKEN_RAW).sub((0,p.newSafeBN)(h.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(n));return a.gt(new k.default(0))&&(s=k.default.min(s,a),u=k.default.min(u,a)),{amountIn:t,minimumAmountOut:s,expectedAmountOut:u}}if("sell"===e){if(l=t,a.isMayhem){let e=(0,p.newSafeBN)(h.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(n);if(e.lte(new k.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");l=k.default.min(t,e)}if(s=l,u=o=l.mul(r).div(n.add(l)).mul((0,p.newSafeBN)(1e4-h.PUMP_FEE_BASIS_POINTS)).div((0,p.newSafeBN)(1e4)).add((0,p.newSafeBN)(1)),o=o.mul((0,p.newSafeBN)(1e4-100*i)).div((0,p.newSafeBN)(1e4)),a.isMayhem&&l.lt(t)&&u.eq(new k.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");return{amountIn:l,minimumAmountOut:o,expectedAmountOut:u}}throw Error("Invalid type")})(e.type,e.amount,e.virtualLiquiditySol,e.virtualLiquidityToken,e.slippage,e.protocolDetails),u="buy"===e.type?"F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq":h.PUMP_PROGRAM_ADDRESS;return{pumpInstruction:(0,b.buildAxiomRouterInstruction)({type:e.type,amountIn:a,minAmountOut:s,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userAccountAddress:e.userTokenAccountAddress,solWrapperToken:null,steps:[{programAddress:u,accounts:i}]}),amountIn:a,expectedAmountOut:o}},eW=async({type:e,amount:t,virtualLiquiditySol:r,virtualLiquidityToken:n,tokenAddress:i,userTokenAccountAddress:a,protocolDetails:s,blockhash:o,wallet:u,bondingCurve:l,swapSettings:c,nonceInstruction:m,providers:b,rewardsPercentage:y,tokenDecimals:x})=>{let A=[],w=await (0,f.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:i,tokenProgramAddress:s.tokenProgram===_.TokenProgram.TOKEN_2022?h.TOKEN_PROGRAM_2022_ADDRESS:h.TOKEN_PROGRAM_ADDRESS,instructions:A,userTokenAccountAddress:a});"buy"===e&&(t=t.sub((0,f.calculateAxiomFee)(t)));let{pumpInstruction:v,amountIn:E,expectedAmountOut:k}=await eq({type:e,amount:t,slippage:c.slippage,virtualLiquiditySol:r,virtualLiquidityToken:n,tokenAddress:i,userAccountAddress:u.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,protocolDetails:s,bondingCurve:l});return A.push(v),"buy"===e&&(0,f.isVanishSigner)(u)&&A.push(new d.TransactionInstruction({keys:[{pubkey:new d.PublicKey(u.publicKey),isSigner:!0,isWritable:!0},{pubkey:new d.PublicKey(eG(new d.PublicKey(u.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new d.PublicKey(eL),isSigner:!1,isWritable:!1},{pubkey:new d.PublicKey(h.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],programId:new d.PublicKey(h.PUMP_PROGRAM_ADDRESS),data:S.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,f.handleMassSwapTxCreation)({instructions:A,wallet:u,swapSettings:c,blockhash:o,nonceInstruction:m,providers:b,rewardsPercentage:y,lookupTables:f.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,f.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,f.isVanishSigner)(u)}),swapInfo:{amount:"buy"===e?E.add((0,p.newSafeBN)(1)):E,expectedAmountOut:k,tokenDecimals:x,sourceTokenAddress:"buy"===e?g.NATIVE_SOL_TOKEN_ADDRESS:i,targetTokenAddress:"buy"===e?i:g.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,f.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:k,tokenDecimals:x,extraLamports:(0,p.newSafeBN)(h.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+h.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?h.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},eV="6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P";function eG(e,t=new d.PublicKey(eV)){return d.PublicKey.findProgramAddressSync([S.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}e.s(["swapPump",0,eW],422604)},223560,e=>{"use strict";var t=e.i(127261);e.i(465903);var r=e.i(767924),n=e.i(85026),i=e.i(659341),a=e.i(973444),s=e.i(682382),o=e.i(719387);let u=new i.default(25),l=new i.default(1e4),c=new i.default(1),d=new i.default(0);async function f({pairAddress:e,tokenAddress:t,type:i,amount:o,tokenDecimals:u,liquiditySol:l,liquidityToken:c,userTokenAccountAddress:f,protocolDetails:h,blockhash:m,swapSettings:g,wallet:b,nonceInstruction:y,providers:x,rewardsPercentage:A,usdPerSol:w}){let v=[],S=await (0,n.addTokenAccountInstructions)({userWalletAddress:b.publicKey,tokenAddress:t,tokenProgramAddress:r.TOKEN_PROGRAM_ADDRESS,instructions:v,userTokenAccountAddress:f,wsolAmount:"buy"===i?o:d,usdc:h.isUsdc,usd1:h.isUsd1}),E=(0,a.newSafeBN)(0);"buy"===i&&(E=(0,n.calculateAxiomFee)(o),o=o.sub(E));let{swapInstruction:k,expectedAmountOut:T}=await p({type:i,amount:o,slippage:g.slippage,userAccountAddress:b.publicKey,userTokenAccountAddress:S.userTokenAccountAddress,userSolAccountAddress:S.userWsolAccountAddress,protocolDetails:h,pairAddress:e,tokenDecimals:u,liquiditySol:l,liquidityToken:c,userUsdcAccountAddress:S.userUsdcAccountAddress,userUsd1AccountAddress:S.userUsd1AccountAddress,usdPerSol:w});return v.push(k),await (0,n.handleMassSwapTxCreation)({instructions:v,wallet:b,swapSettings:g,blockhash:m,nonceInstruction:y,providers:x,lookupTables:n.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,n.calculateComputeUnits)({baseComputeUnits:h.isUsd1||h.isUsdc?15e4:1e5,isUsdc:h.isUsdc,isUsd1:h.isUsd1,isVanish:(0,n.isVanishSigner)(b)}),rewardsPercentage:A,swapInfo:{amount:o,sourceTokenAddress:"buy"===i?s.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===i?t:s.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,n.calculateVanishLoanExtraLamports)({type:i,isWsol:!0,isUsdc:h.isUsdc??!1,isUsd1:h.isUsd1??!1,amount:o,expectedAmountOut:T,tokenDecimals:u}),expectedAmountOut:T,tokenDecimals:u}})}async function p({type:e,amount:t,slippage:n,userAccountAddress:i,userTokenAccountAddress:a,userSolAccountAddress:s,protocolDetails:u,pairAddress:l,tokenDecimals:c,liquiditySol:d,liquidityToken:f,userUsdcAccountAddress:p,userUsd1AccountAddress:g,usdPerSol:b}){if(u.isUsd1){let d=h({type:e,pairAddress:l,userAccountAddress:i,userQuoteAccountAddress:g,userTokenAccountAddress:a,protocolDetails:u});return await (0,o.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:s,userUsdAccountAddress:g,userTokenAccountAddress:a,usdPerSol:b,amountIn:t,tokenDecimals:c,priceInUsdc:f,slippage:n,steps:[{programAddress:r.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:d}]})}if(u.isUsdc){let d=h({type:e,pairAddress:l,userAccountAddress:i,userQuoteAccountAddress:p,userTokenAccountAddress:a,protocolDetails:u});return await (0,o.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:s,userUsdAccountAddress:p,userTokenAccountAddress:a,usdPerSol:b,amountIn:t,tokenDecimals:c,priceInUsdc:f,slippage:n,steps:[{programAddress:r.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:d}]})}{let p=h({type:e,pairAddress:l,userAccountAddress:i,userQuoteAccountAddress:s,userTokenAccountAddress:a,protocolDetails:u}),{minAmountOut:g,expectedAmountOut:b}=m({amountIn:t,slippage:n,liquiditySol:d,liquidityToken:f,decimals:c,type:e});return{swapInstruction:(0,o.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:g,userWalletAddress:i,inputTokenAccount:"buy"===e?s:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:s},steps:[{programAddress:r.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:p}]}),expectedAmountOut:b}}}function h(e){let{type:n,pairAddress:i,userAccountAddress:a,userQuoteAccountAddress:s,userTokenAccountAddress:o,protocolDetails:u}=e,l=[{pubkey:new t.PublicKey(r.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new t.PublicKey(i),isSigner:!1,isWritable:!0},{pubkey:new t.PublicKey("5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1"),isSigner:!1,isWritable:!1}];return l.push({pubkey:new t.PublicKey(u.baseVault),isSigner:!1,isWritable:!0},{pubkey:new t.PublicKey(u.quoteVault),isSigner:!1,isWritable:!0}),l.push({pubkey:new t.PublicKey("buy"===n?s:o),isSigner:!1,isWritable:!0},{pubkey:new t.PublicKey("buy"===n?o:s),isSigner:!1,isWritable:!0},{pubkey:new t.PublicKey(a),isSigner:!0,isWritable:!0}),l}let m=({amountIn:e,slippage:t,liquiditySol:r,liquidityToken:i,decimals:s,type:o})=>{let f=e,p=d;"buy"===o&&(p=(0,n.calculateAxiomFee)(f));let h=function(e,t){let{div:r,mod:n}=e.divmod(t);return n.gt(d)?r.add(c):r}((f=f.sub(p)).mul(u),l),m=(0,a.newSafeBN)(1e9*r),g=(0,a.newSafeBN)(i*10**s),b=f.sub(h),y=d;if("buy"===o){let e=m.add(b);y=g.mul(b).div(e)}else if("sell"===o){let e=g.add(b);y=m.mul(b).div(e)}else throw Error("invalid type");return{minAmountOut:"buy"===o?y.mul((0,a.newSafeBN)(1e4)).div((0,a.newSafeBN)(1e4+100*t)):y.mul((0,a.newSafeBN)(1e4-100*t)).div((0,a.newSafeBN)(1e4)),expectedAmountOut:y}};e.s(["swapRaydium",()=>f])},868904,e=>{"use strict";e.s(["fillPairInfo",()=>z,"generateSolMemeSwapTx",()=>H,"validateSolMemeParams",()=>j],868904);var t=e.i(946865),r=e.i(127261),n=e.i(268804),i=e.i(682382),a=e.i(592e3),s=e.i(447800),o=e.i(542251),u=e.i(181937),l=e.i(973444);e.i(465903);var c=e.i(767924),d=e.i(284456),f=e.i(408136),p=e.i(290705),h=e.i(726801),m=e.i(150863),g=e.i(617151),b=e.i(518152),y=e.i(148527),x=e.i(422604),A=e.i(233191),w=e.i(223560),v=e.i(85026),S=e.i(49498),E=e.i(191476),k=e.i(719387);async function T({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:a,blockhash:s,wallet:o,pairAddress:u,swapSettings:l,nonceInstruction:d,providers:f,rewardsPercentage:p,usdPerSol:h,tokenDecimals:m,liquidityToken:g}){let b=[],y=a.tokenMintA===c.WSOL_TOKEN_ADDRESS?a.tokenProgramB:a.tokenProgramA,x=await (0,v.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:y,instructions:b,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:S.ZERO,usdc:a.isUsdc,usd1:a.isUsd1});"buy"===e&&(t=t.sub((0,v.calculateAxiomFee)(t)));let{swapInstruction:A,expectedAmountOut:w}=await _({type:e,amount:t,slippage:l.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:x.userTokenAccountAddress,userSolAccountAddress:x.userWsolAccountAddress,protocolDetails:a,pairAddress:u,tokenAddress:r,tokenDecimals:m,liquidityToken:g,userUsdcAccountAddress:x.userUsdcAccountAddress,userUsd1AccountAddress:x.userUsd1AccountAddress,usdPerSol:h});return b.push(A),a.isUsdc&&(0,v.isVanishSigner)(o)&&(0,v.addTokenAccountCloseInstruction)(o.publicKey,x.userUsdcAccountAddress,b),a.isUsd1&&(0,v.isVanishSigner)(o)&&(0,v.addTokenAccountCloseInstruction)(o.publicKey,x.userUsd1AccountAddress,b),await (0,v.handleMassSwapTxCreation)({instructions:b,wallet:o,swapSettings:l,blockhash:s,nonceInstruction:d,providers:f,computeUnits:(0,v.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:a.isUsdc,isUsd1:a.isUsd1,isVanish:(0,v.isVanishSigner)(o)}),lookupTables:v.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:p,swapInfo:{amount:t,expectedAmountOut:w,tokenDecimals:m,sourceTokenAddress:"buy"===e?i.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:i.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,v.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:a.isUsdc??!1,isUsd1:a.isUsd1??!1,amount:t,expectedAmountOut:w,tokenDecimals:m})}})}async function P(e,t,r,i,a,s,o){try{return await n.axiomApi.post("/swap-raydium-clmm",{type:e,amount:t,tokenAddress:r,pairAddress:i,isUsdc:a,isUsd1:s,isWsol:o})}catch(e){if(e instanceof E.AxiosError&&"Invalid tick array"===e.response?.data?.error)throw Error("Not enough liquidity available");throw Error("Error calculating swap")}}let I=async(e,t,r,n,i)=>{let a,s,o,u=await P(e,t.toString(),n,i);if("buy"===e)s=t,a=(o=(0,l.newSafeBN)(u.minAmountOut)).mul((0,l.newSafeBN)(1e4)).div((0,l.newSafeBN)(1e4+100*r));else if("sell"===e)a=t,s=(o=(0,l.newSafeBN)(u.minAmountOut)).mul((0,l.newSafeBN)(1e4-100*r)).div((0,l.newSafeBN)(1e4));else throw Error("Invalid type");return"buy"===e?{minAmountOut:a,expectedAmountOut:o,observationState:u.observationState,remainingAccounts:u.remainingAccounts}:{minAmountOut:s,expectedAmountOut:o,observationState:u.observationState,remainingAccounts:u.remainingAccounts}};async function _({type:e,amount:t,slippage:r,userAccountAddress:n,userSolAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,tokenAddress:u,usdPerSol:c,userUsdcAccountAddress:d,userUsd1AccountAddress:f,tokenDecimals:p,liquidityToken:h}){if(s.isUsdc){let f;if("buy"===e&&s.isUsdc){let e=(0,l.fromSafeBN)(t);f=(0,l.newSafeBN)(e*c/1e3)}else f=t;let m=await P(e,f.toString(),u,o,s.isUsdc),g=N({type:e,userAccountAddress:n,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,tokenAddress:u,observationState:m.observationState,remainingAccounts:m.remainingAccounts,isUsdc:!0,isUsd1:!1});return(0,k.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:d,userTokenAccountAddress:a,usdPerSol:c,amountIn:t,tokenDecimals:p,priceInUsdc:h,slippage:r,steps:[{programAddress:k.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:g}]})}if(s.isUsd1){let d,m;if("buy"===e&&s.isUsd1){let e=(0,l.fromSafeBN)(t);d=(0,l.newSafeBN)(e*c/1e3)}else d=t;m="buy"===e?await P("buy",d.toString(),u,o,!1,!0):await P("sell",d.toString(),u,o,!1,!0);let g=N({type:e,userAccountAddress:n,userQuoteAccountAddress:f,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,tokenAddress:u,observationState:m.observationState,remainingAccounts:m.remainingAccounts,isUsdc:!1,isUsd1:!0});return await (0,k.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:n,userWsolAccountAddress:i,userUsdAccountAddress:f,userTokenAccountAddress:a,amountIn:t,usdPerSol:c,tokenDecimals:p,priceInUsdc:h,slippage:r,steps:[{programAddress:k.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:g}]})}{let{minAmountOut:l,expectedAmountOut:c,observationState:d,remainingAccounts:f}=await I(e,t,r,u,o),p=N({type:e,userAccountAddress:n,userQuoteAccountAddress:i,userTokenAccountAddress:a,protocolDetails:s,pairAddress:o,tokenAddress:u,observationState:d,remainingAccounts:f,isUsdc:!1,isUsd1:!1});return{swapInstruction:(0,k.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:n,inputTokenAccount:"buy"===e?i:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:i},steps:[{programAddress:k.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:p}]}),expectedAmountOut:c}}}function N(e){let t=e.protocolDetails.tokenMintA===e.tokenAddress,n=t?e.protocolDetails.tokenVaultB:e.protocolDetails.tokenVaultA,i=t?e.protocolDetails.tokenVaultA:e.protocolDetails.tokenVaultB,a=e.isUsdc?c.USDC_TOKEN_ADDRESS:e.isUsd1?c.USD1_TOKEN_ADDRESS:c.WSOL_TOKEN_ADDRESS,s=[{pubkey:new r.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(e.protocolDetails.configAddress),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?n:i),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?i:n),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(e.observationState),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let t of(e.protocolDetails.isUsd1||s.push({pubkey:new r.PublicKey(c.TOKEN_PROGRAM_2022_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(k.MEMO_V2_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("buy"===e.type?a:e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("buy"===e.type?e.tokenAddress:a),isSigner:!1,isWritable:!1}),e.remainingAccounts))s.push({pubkey:new r.PublicKey(t),isSigner:!1,isWritable:!0});return s}let B=(0,l.newSafeBN)(0),R=async({pairAddress:e,tokenAddress:t,type:r,amount:n,liquiditySol:a,liquidityToken:s,userTokenAccountAddress:o,protocolDetails:u,blockhash:c,wallet:d,swapSettings:f,tokenDecimals:p,nonceInstruction:h,providers:m,rewardsPercentage:g,usdPerSol:b})=>{var y,x,A;let w;"buy"===r&&(n=n.sub((0,v.calculateAxiomFee)(n)));let S=function(e,t,r,n,i,a){let s,o,u=(0,l.newSafeBN)(1e9*e),c=(0,l.newSafeBN)(t*10**a);if("buy"===n)s=u,o=c;else if("sell"===n)s=c,o=u;else throw Error("invalid type");let d=B;"buy"===n&&(d=(0,v.calculateAxiomFee)(r));let f=r.mul((0,l.newSafeBN)(i)).div((0,l.newSafeBN)(1e6)),p=r.sub(d).sub(f),h=D(s.mul(o),s.add(p));return o.sub(h)}(a,s,n,r,u.tradeFeeRate,p),E=(y=S,x=f.slippage,A=r,w=(0,l.newSafeBN)(1e4),"buy"===A?D(y.mul(w),w.add((0,l.newSafeBN)(100*x))):D(y.mul((0,l.newSafeBN)((100-x)*100)),w)),k=[],T=await (0,v.addTokenAccountInstructions)({userWalletAddress:d.publicKey,tokenAddress:t,tokenProgramAddress:u.tokenProgram,instructions:k,userTokenAccountAddress:o,wsolAmount:"buy"===r?n:B,psol:u.isPsol,usdc:u.isUsdc,usd1:u.isUsd1}),{swapInstruction:P,expectedAmountOut:I}=await C({type:r,amount:n,minAmountOutRaw:E,slippage:f.slippage,userAccountAddress:d.publicKey,userTokenAccountAddress:T.userTokenAccountAddress,userSolAccountAddress:T.userWsolAccountAddress,userUsdcAccountAddress:T.userUsdcAccountAddress,userUsd1AccountAddress:T.userUsd1AccountAddress,protocolDetails:u,pairAddress:e,tokenAddress:t,tokenDecimals:p,liquidityToken:s,usdPerSol:b,amountOutRaw:S});return k.push(P),u.isUsdc&&(0,v.isVanishSigner)(d)&&(0,v.addTokenAccountCloseInstruction)(d.publicKey,T.userUsdcAccountAddress,k),u.isUsd1&&(0,v.isVanishSigner)(d)&&(0,v.addTokenAccountCloseInstruction)(d.publicKey,T.userUsd1AccountAddress,k),await (0,v.handleMassSwapTxCreation)({instructions:k,wallet:d,swapSettings:f,blockhash:c,nonceInstruction:h,providers:m,lookupTables:v.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:g,computeUnits:(0,v.calculateComputeUnits)({baseComputeUnits:u.isUsdc||u.isUsd1?2e5:145e3,isUsdc:u.isUsdc,isUsd1:u.isUsd1,isVanish:(0,v.isVanishSigner)(d)}),swapInfo:{amount:n,expectedAmountOut:I,tokenDecimals:p,sourceTokenAddress:"buy"===r?i.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===r?t:i.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,v.calculateVanishLoanExtraLamports)({type:r,isWsol:!0,isUsdc:u.isUsdc??!1,isUsd1:u.isUsd1??!1,amount:n,expectedAmountOut:I,tokenDecimals:p})}})};async function C({type:e,amount:t,minAmountOutRaw:n,slippage:i,userAccountAddress:a,userSolAccountAddress:s,userTokenAccountAddress:o,userUsdcAccountAddress:u,userUsd1AccountAddress:l,protocolDetails:d,pairAddress:f,tokenAddress:p,tokenDecimals:h,liquidityToken:m,usdPerSol:g,amountOutRaw:b}){if(d.isUsdc){let n=O(new r.PublicKey(a),d,new r.PublicKey(o),new r.PublicKey(u),f,p,e,!0,!1);return(0,k.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:a,userWsolAccountAddress:s,userUsdAccountAddress:u,userTokenAccountAddress:o,usdPerSol:g,amountIn:t,tokenDecimals:h,priceInUsdc:m,slippage:i,steps:[{programAddress:c.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:n}]})}if(d.isUsd1){let n=O(new r.PublicKey(a),d,new r.PublicKey(o),new r.PublicKey(l),f,p,e,!1,!0);return(0,k.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:a,userWsolAccountAddress:s,userUsdAccountAddress:l,userTokenAccountAddress:o,usdPerSol:g,amountIn:t,tokenDecimals:h,priceInUsdc:m,slippage:i,steps:[{programAddress:c.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:n}]})}{let i=O(new r.PublicKey(a),d,new r.PublicKey(o),new r.PublicKey(s),f,p,e,!1,!1);return{swapInstruction:(0,k.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:n,userWalletAddress:a,inputTokenAccount:"buy"===e?s:o,solWrapperToken:{type:d.isPsol?"psol":"wsol",userWrappedTokenAccount:s},steps:[{programAddress:c.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:i}]}),expectedAmountOut:b}}}let O=(e,t,n,i,a,s,o,u=!1,l=!1)=>{let d=[],f="buy"===o,p=t.isPsol?v.PSOL_TOKEN_ADDRESS:u?c.USDC_TOKEN_ADDRESS:l?c.USD1_TOKEN_ADDRESS:c.WSOL_TOKEN_ADDRESS;return d.push({pubkey:e,isSigner:!0,isWritable:!0}),d.push({pubkey:new r.PublicKey(t.authority),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(t.ammConfig),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(a),isSigner:!1,isWritable:!0}),d.push({pubkey:f?i:n,isSigner:!1,isWritable:!0}),d.push({pubkey:f?n:i,isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(f?t.solVault:t.tokenVault),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(f?t.tokenVault:t.solVault),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(f?c.TOKEN_PROGRAM_ADDRESS:t.tokenProgram),isSigner:!1,isWritable:!1}),d.push({pubkey:new r.PublicKey(f?t.tokenProgram:c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),d.push({pubkey:new r.PublicKey(f?p:s),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(f?s:p),isSigner:!1,isWritable:!0}),d.push({pubkey:new r.PublicKey(t.observationState),isSigner:!1,isWritable:!0}),d};function D(e,t){let r=e.div(t);return e.mod(t).gt(B)&&(r=r.add((0,l.newSafeBN)(1))),r}var U=e.i(24010),F=e.i(767714);let M="vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ",L=async(e,t,r,n,i)=>{let a=((e,t,r,n)=>{if("buy"===e){let e=(0,F.computeVertigoFees)(r,t),i=t.sub(e),{amountB:a}=(0,F.vertigoTestSwapSolForToken)(r,n,i);if(a.lte((0,l.newSafeBN)(0)))throw Error("Would have received 0 tokens");return a}{let{amountA:e}=(0,F.vertigoTestSwapTokenForSol)(r,n,t);if(e.lte((0,l.newSafeBN)(0)))throw Error("Would have received 0 SOL");let i=(0,F.computeVertigoFees)(r,e);return e.sub(i)}})(e,t,n,i);if("buy"===e)return{minAmountOut:a.mul((0,l.newSafeBN)(1e4)).div((0,l.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,l.newSafeBN)(1e4-100*r)).div((0,l.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},K=async({type:e,amount:t,slippage:n,userAccountAddress:i,userSolAccountAddress:a,userTokenAccountAddress:s,protocolDetails:o,pairAddress:u,tokenAddress:l,liquidityTokenRaw:d})=>{let{minAmountOut:f,expectedAmountOut:p}=await L(e,t,n,o,d),[h]=r.PublicKey.findProgramAddressSync([new r.PublicKey(u).toBuffer(),new r.PublicKey(c.WSOL_TOKEN_ADDRESS).toBuffer()],new r.PublicKey(M)),[m]=r.PublicKey.findProgramAddressSync([new r.PublicKey(u).toBuffer(),new r.PublicKey(l).toBuffer()],new r.PublicKey(M)),g=[{pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(o.owner),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(l),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(o.tokenProgram),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(M),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,k.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:f,userWalletAddress:i,inputTokenAccount:"buy"===e?a:s,solWrapperToken:{type:"wsol",userWrappedTokenAccount:a},steps:[{programAddress:M,accounts:g}]}),expectedAmountOut:p}},q=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:a,blockhash:s,wallet:o,pairAddress:u,swapSettings:c,nonceInstruction:d,providers:f,rewardsPercentage:p,liquidityTokenRaw:h,tokenDecimals:m})=>{let g=[],b=await (0,v.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:a.tokenProgram,instructions:g,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,l.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,v.calculateAxiomFee)(t)));let{swapInstruction:y,expectedAmountOut:x}=await K({type:e,amount:t,slippage:c.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:b.userTokenAccountAddress,userSolAccountAddress:b.userWsolAccountAddress,protocolDetails:a,pairAddress:u,tokenAddress:r,liquidityTokenRaw:h});return g.push(y),await (0,v.handleMassSwapTxCreation)({instructions:g,wallet:o,swapSettings:c,blockhash:s,nonceInstruction:d,providers:f,computeUnits:(0,v.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,v.isVanishSigner)(o)}),lookupTables:v.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:p,swapInfo:{amount:t,expectedAmountOut:x,tokenDecimals:m,sourceTokenAddress:"buy"===e?i.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:i.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,v.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:x,tokenDecimals:m})}})};var W=e.i(432265),V=e.i(994447);let G=["Raydium V4","Pump V1","Raydium CPMM","Meteora DLMM","Pump AMM","LaunchLab","Meteora AMM","Virtual Curve","Meteora AMM V2","Boop","Moonshot","Raydium CLMM",c.PROTOCOL_VERTIGO,"Orca","Heaven","Sugar"];async function z(e){let t;if("full"===e.type)return e;if("pair"===e.type)t=await n.axiomApiV2.get("/swap-info",{pairAddress:e.pairAddress});else if("token"===e.type)t=await n.axiomApiV2.get("/swap-info",{tokenAddress:e.tokenAddress});else throw Error("Invalid pair info type");return e.fetchLiquidity?{type:"full",...t}:{type:"full",...t,liquiditySol:e.liquiditySol,liquidityToken:e.liquidityToken}}function j(e,t,r,n,i){let a,{protocol:o,protocolDetails:d,liquiditySol:f,liquidityToken:p,tokenDecimals:h,tokenAddress:m}=e,{balanceSol:g,tokenAccounts:b}=n,{slippage:y,priorityFeeSol:x,bribeFeeSol:A,mevProtection:w,enhancedMevProtection:v}=r,{type:S}=t;if(!G.includes(o))throw Error(`Unsupported protocol: ${o}`);if("buy"===S&&t.amountSol<=0)throw Error("Amount to buy must be greater than 0 SOL");if(y<0)throw Error("Slippage must be greater than 0");if(w&&!A)throw Error("Bribe is required with MEV reduction");if(v&&A<.001)throw Error("Minimum bribe with enhanced MEV protection is 0.001 SOL");let E=b.find(e=>e.tokenAddress.toString()===m)?.balanceRaw;if("sell"===S&&(void 0===E||"0"===E))throw Error("Token balance not found");if("sell"===S&&r.slippage>100)throw Error("Sell slippage must be less than or equal to 100");let k=0;"Moonshot"!==o&&"Pump V1"!==o&&k++,void 0===E&&k++;let T=(c.BASE_TRANSACTION_FEE_LAMPORTS+k*c.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+c.WALLET_RENT_EXEMPTION_LAMPORTS)/1e9;if(g<("buy"===S?t.amountSol:0))throw Error("Insufficient SOL balance for buy amount");if(g<("buy"===S?t.amountSol:0)+x)throw Error("Insufficient SOL balance to cover priority fee");if(g<("buy"===S?t.amountSol:0)+x+A)throw Error("Insufficient SOL balance to cover priority fee and bribe fee");if(g<("buy"===S?t.amountSol:0)+T+A+x)throw Error("Insufficient SOL balance to cover all fees including Solana base tx fee and rent fees");if("buy"===S)a=(0,l.newSafeBN)(1e9*t.amountSol);else if("sell"===S){if(!E)throw Error("Token balance not found");let e=(0,l.newSafeBN)(E);if(e.isZero())throw Error("Your token balance is 0");let r=t.amount.units;if("percentage"===r){let r=t.amount.percentage;if(r>100)throw Error("Percentage to sell must be less than or equal to 100");if(r<=0)throw Error("Percentage to sell must be greater than 0");a=e.mul((0,l.newSafeBN)(100*r)).div((0,l.newSafeBN)(1e4))}else if("solana"===r){if((a=(0,u.estimateSellInverse)({protocol:o,targetNativeAmount:t.amount.amountSol,liquidityNative:f,liquidityToken:p,decimals:h,protocolDetails:d,usdPerNative:i??s.FALLBACK_USD_PER_SOL})).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,l.newSafeBN)(10100)).div((0,l.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell for ${t.amount.amountSol} SOL`);else a=e}else if("tokens"===r){if((a=(0,l.newSafeBN)(t.amount.amountTokens*10**h)).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,l.newSafeBN)(10100)).div((0,l.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell ${t.amount.amountTokens} tokens`);else a=e}else throw Error("Invalid units")}else throw Error("Invalid order type");return{amount:a,extraFees:T}}async function H(e){let n,{swapParams:s,preset:u,wallet:v,blockhash:S}=e,{tokenAccounts:E}=v,{priorityFeeSol:k}=u,{type:P,pairInfo:I}=s;if("buy"===e.swapParams.type&&!e.skipLiquidityCheck&&I.liquiditySol<15&&I.protocol!==c.PROTOCOL_VERTIGO)throw Error("This pair has too little liquidity and buys are not permitted");if(s.pairInfo.tokenAddress===V.AXIOM_LST_MINT)throw Error("You are not allowed to trade Axiom Staked SOL");let{pairAddress:_,tokenAddress:N,protocol:B,protocolDetails:C,liquiditySol:O,liquidityToken:D,tokenDecimals:F}=I,{amount:M}=j(I,s,u,v,e.usdPerSol);if(c.LAUNCHPAD_PROTOCOLS.includes(B)&&"Heaven"!==B&&100===(0,o.calculateBondingCurve)({liquidityToken:D,liquiditySol:O,tokenDecimals:F,protocol:B,protocolDetails:C,usdPerSol:e.usdPerSol}))throw Error("Bonding curve is complete, wait for migration");let L=E.find(e=>e.tokenAddress.toString()===N)?.tokenAccountAddress,K=v;if(v.publicKey===i.VANISH_WALLET_ADDRESS){let e=a.vanishOneTimeWalletAddress?a.vanishOneTimeWalletAddress:await (0,a.fetchAndSetVanishOneTimeWallet)();if("sell"===P){let n=E.find(e=>e.tokenAddress.toString()===N)?.tokenProgram;if(!n)throw Error("Token program not found");L=(0,t.getAssociatedTokenAddressSync)(new r.PublicKey(N),new r.PublicKey(e),!1,new r.PublicKey(n),new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)).toString()}else L=void 0;let n=v.privateKey;if(!n)throw Error("Vanish key not found");K={publicKey:e,privateKey:"",vanishKey:n}}if("Pump V1"===B)try{n=await (0,x.swapPump)({type:P,amount:M,virtualLiquiditySol:(0,l.newSafeBN)(1e9*O),virtualLiquidityToken:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,bondingCurve:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium V4"===B)try{n=await (0,w.swapRaydium)({pairAddress:_,amount:M,tokenAddress:N,userTokenAccountAddress:L,wallet:K,protocolDetails:C,liquiditySol:O,liquidityToken:D,tokenDecimals:F,type:P,blockhash:S,swapSettings:u,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CPMM"===B)try{n=await R({amount:M,tokenAddress:N,pairAddress:_,userTokenAccountAddress:L,wallet:K,protocolDetails:C,liquiditySol:O,liquidityToken:D,type:P,blockhash:S,swapSettings:u,tokenDecimals:F,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora DLMM"===B)try{n=await (0,g.swapMeteoraDLMM)({amount:M,priorityFeeSol:k,wallet:K,preset:u,providers:e.providers??[],blockhash:S,swapParams:{type:P,amount:M,pairAddress:_,tokenAddress:N},nonceInstruction:e.nonceInstruction,rewardsPercentage:e.rewardsPercentage,protocolDetails:C,liquidityToken:D,usdPerSol:e.usdPerSol,userTokenAccountAddress:L,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Pump AMM"===B)try{n=await (0,A.swapPumpAmm)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("LaunchLab"===B)try{n=await (0,p.swapLaunchLab)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F,usdPerSol:e.usdPerSol,liquidityToken:D})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM"===B)try{n=await (0,h.swapMeteoraAmm)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol,tokenDecimals:F,liquidityToken:D})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Virtual Curve"===B)try{n=await (0,W.swapVirtualCurve)({type:P,amount:M,sqrtPrice:(0,l.newSafeBN)(0xffffffffffffffff*Math.sqrt(D/10**F*1e9)),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol,tokenDecimals:F,liquidityToken:D})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM V2"===B)try{n=await (0,m.swapMeteoraAmmV2)({type:P,amount:M,liquiditySol:O,liquidityToken:D,tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,supplementalData:e.swapParams.supplementalData,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Boop"===B)try{n=await (0,d.swapBoop)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Moonshot"===B)try{n=await (0,b.swapMoonshot)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CLMM"===B)try{n=await T({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol,tokenDecimals:F,liquidityToken:D})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if(B===c.PROTOCOL_VERTIGO)try{n=await q({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Orca"===B)try{n=await (0,y.swapOrca)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,usdPerSol:e.usdPerSol,tokenDecimals:F,liquidityToken:D})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Heaven"===B)try{n=await (0,f.swapHeaven)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Sugar"===B)try{n=await (0,U.swapSugar)({type:P,amount:M,liquiditySolRaw:(0,l.newSafeBN)(1e9*O),liquidityTokenRaw:(0,l.newSafeBN)(D*10**F),tokenAddress:N,userTokenAccountAddress:L,protocolDetails:C,swapSettings:u,blockhash:S,wallet:K,pairAddress:_,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsPercentage:e.rewardsPercentage,tokenDecimals:F})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else throw Error("Unsupported protocol");return n}},900087,e=>{"use strict";e.s(["useCancelOrder",()=>P,"useCancelOrders",()=>I,"useEditLimitOrder",()=>_,"useLimitOrderSolMeme",()=>k,"useRefreshOrders",()=>T]);var t=e.i(672464),r=e.i(750214),n=e.i(20164),i=e.i(385845),a=e.i(271645);e.i(465903);var s=e.i(700479),o=e.i(767924),u=e.i(247317),l=e.i(268804),c=e.i(447800),d=e.i(863568),f=e.i(682382),p=e.i(458768),h=e.i(626914),m=e.i(973444);e.i(490156);var g=e.i(754825),b=e.i(352120),y=e.i(542119),x=e.i(735013),A=e.i(342271),w=e.i(182781),v=e.i(43351),S=e.i(868904);let E=["Raydium V4","Raydium CPMM","Pump AMM","Pump V1","Boop","LaunchLab","Virtual Curve","Meteora AMM","Meteora AMM V2",o.PROTOCOL_HEAVEN,o.PROTOCOL_SUGAR];function k(){let e=(0,r.useAtomCallback)(e=>e(g.tokenAccountsAtom)),o=(0,r.useAtomCallback)(e=>e(g.solBalancesAtom)),x=(0,A.useGetSolPreset)(),k=(0,d.useTurnkeyClient)(),T=(0,r.useAtomCallback)(e=>e(y.turnkeyOrgIdAtom)),P=(0,r.useAtomCallback)(e=>e(v.recommendedPriorityFeeAtom)),I=(0,r.useAtomCallback)(e=>e(v.recommendedBribeFeeAtom)),_=(0,r.useAtomCallback)(e=>e(v.usdPerSolAtom)),[B,R]=(0,b.useSnipePriorityFeeSol)(),[C,O]=(0,b.useSnipeBribeFeeSol)(),[D,U]=(0,b.useSnipeSlippage)(),[F]=(0,w.useSettings)("snipeMevProtection",!1,n.default),[M]=(0,w.useSettings)("snipeEnhancedMevProtection",!1,n.default),[L]=(0,w.useSettings)("snipeCustomRpcUrl","",i.default),K=(0,t.useSetAtom)(b.isSnipeModalOpenAtom);return(0,a.useCallback)(async t=>{if(t.walletAddresses.includes(f.VANISH_WALLET_ADDRESS))return void p.default.error("Limit orders for Vanish wallets are not supported",{duration:5e3});if(!k)return void p.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});if("Pump V1"===t.pair.protocol){let e=new Date(t.pair.createdAt??0).getTime();if(new Date().getTime()-e>2592e7)return void p.default.error("Limit orders for old Pump pairs are not supported",{duration:5e3})}if("3fmHKhZUF9uazaLuU6GJYGSnyquSHxBMuAXBExdVCqSh"===t.pair.pairAddress)return void p.default.error("Limit orders for this Pump pair are not supported",{duration:5e3});if("Boop"===t.pair.protocol&&"2"!==t.pair.protocolDetails.version)return void p.default.error("Limit orders for this Boop pair are not supported",{duration:5e3});if("LaunchLab"===t.pair.protocol&&0===t.pair.protocolDetails.migrateType)return void p.default.error("Limit orders not supported for LaunchLab if migrating to Raydium V4",{duration:5e3});if("Raydium V4"===t.pair.protocol&&(t.pair.protocolDetails.isUsdc||t.pair.protocolDetails.isUsd1))return void p.default.error("Limit orders for Raydium V4 USDC/USD1 pair are not supported",{duration:5e3});if(!E.includes(t.pair.protocol))return void p.default.error(`Limit orders not supported for ${t.pair.protocol}`,{duration:5e3});if(["Meteora AMM V2","Meteora AMM"].includes(t.pair.protocol)&&t.pair.protocolDetails.isUsd1)return void p.default.error(`Limit orders not supported for ${t.pair.protocol} USD1 pairs`,{duration:5e3});let r=p.default.loading(t.isSniper?"Creating Sniper Task...":"Creating Limit Order...",{duration:1/0});try{let n,i,a,u=_()??c.FALLBACK_USD_PER_SOL,d=t.walletAddresses,f=d.length,g=e(),b=o(),y={...t.pair,...t.liquidity},A=t.isSniper?{priorityFeeSol:B,bribeFeeSol:C,slippage:D,mevProtection:F,customRpcUrl:L,enhancedMevProtection:M}:x(t.amount.type,t.presetType);if(A.bribeFeeSol<1e-6)throw Error("Bribe fee must be at least 0.000001 SOL");if(t.isSniper){let e=[];if((U??"")===""&&e.push("slippage"),(R??"")===""&&e.push("priority fee"),(O??"")===""&&e.push("bribe fee"),e.length>0){let n=2===e.length?e.join(" and "):e.slice(0,-1).join(", ")+", and "+e[e.length-1];p.default.error(`You must set sniper ${n}`,{toastId:r,duration:5e3}),K(!0),t.onComplete?.();return}}let w="advanced"===t.order.type&&"migration"===t.order.subType,v=P()??0,E=I()??0;if(w&&(A.bribeFeeSol<11*E||A.priorityFeeSol<11*v)&&p.default.warn(`Your snipe fees are low. Consider increasing the fees to at least ${(11*v).toPrecision(2)} priority fee and ${(11*E).toPrecision(2)} bribe fee for better performance.`,{duration:5e3}),"limit"===t.order.type&&(n=y.protocolDetails.isUsdc||y.protocolDetails.isUsd1?t.order.triggerPriceSol*u:t.order.triggerPriceSol),"limit"===t.order.type)i=t.amount.type+" "+t.order.direction;else if("advanced"===t.order.type)i=t.amount.type+" "+t.order.subType;else throw Error("Invalid order type");let q=[];for(let e of d){let r="buy"===t.amount.type?{type:"buy",amountSol:t.amount.amountSol/d.length}:"sell"===t.amount.type&&"tokens"===t.amount.amount.units?{type:"sell",amount:{units:"tokens",amountTokens:t.amount.amount.tokenAmountsMap.get(e)??0}}:"sell"===t.amount.type&&"percentage"===t.amount.amount.units?{type:"sell",amount:{units:"percentage",percentage:t.amount.amount.percentage}}:null;if(!r)throw Error("Invalid amount type");let n={publicKey:e,balanceSol:b.data.get(e)?.balanceSol??0,tokenAccounts:Array.from(g.data.get(e)?.values()??[])},{amount:i}=(0,S.validateSolMemeParams)(y,r,A,n,_());q.push({publicKey:e,amount:i})}let W=await l.axiomApiV2.post("/get-nonce-account-batched",{amount:f}),V=[];for(let e=0;e<f;e++){let{nonceAccountAddress:r,nonce:n}=W[e],{amount:i,publicKey:s}=q[e],o=i.toString();if("buy"===t.amount.type)a=i.div((0,m.newSafeBN)(50)).toString();else{let e=Number(o)/10**y.tokenDecimals,r="limit"===t.order.type?t.order.triggerPriceSol:(0,h.default)({protocol:y.protocol,liquidityNative:y.liquiditySol,liquidityToken:y.liquidityToken,protocolDetails:y.protocolDetails,usdPerNative:u}),n=e*r*1e7*2;a=(0,m.newSafeBN)(n).toString()}let l=(0,m.newSafeBN)(1e9*A.bribeFeeSol+1).toString();V.push({maxFeeLamports:a,nonce:n,bribeFeeLamports:l,nonceAccountAddress:r,solPublicKey:s})}let G=T();if(!G)return void p.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});let z=await N(V,k),j=[];for(let e=0;e<f;e++){let{amount:r,publicKey:a}=q[e],s=r.toString(),{maxFeeLamports:o,nonce:u,nonceAccountAddress:l}=V[e],c=z[e];j.push({amount:"buy"===t.amount.type?Number(s)/1e9:Number(s)/10**y.tokenDecimals,triggerPriceSol:n,type:i,orgId:G,walletAddress:a,pair:t.pair,preset:A,instructions:{amountString:s,maxFeeString:o,policyId:c},nonceAccountAddress:l,nonce:u})}await l.axiomApiV2.post("/create-limit-order-batched",{orders:j},{urlOverride:s.AXIOM_ORDERS_URL}),p.default.success(t.isSniper?"Sniper Task Created!":"Limit Order Placed!",{toastId:r}),t.onComplete?.()}catch(e){p.default.error(`Limit order creation failed: ${(0,u.getErrorMessage)(e)}`,{toastId:r}),t.onComplete?.()}},[e,o,x,B,C,D,F,L,M,P,I,_,T,U,R,O,K,k])}function T(){let e=(0,t.useSetAtom)(x.ordersAtom),n=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(y.isAuthedAtom),[]));return(0,a.useCallback)(async()=>{try{if(!n())return void e([]);let t=await l.axiomApiV2.post("/get-limit-orders");e(e=>0===e.length?t:(t.forEach(t=>{let r=e.find(e=>e.id===t.id);r&&(r.currentPriceSol=t.currentPriceSol)}),[...e]))}catch(e){p.default.error(`Error refreshing orders: ${(0,u.getErrorMessage)(e)}`)}},[n,e])}function P(){let e=(0,t.useSetAtom)(x.ordersAtom);return(0,a.useCallback)(async(t,r=!1)=>{try{await l.axiomApiV2.post("/cancel-limit-order",{id:t},{urlOverride:s.AXIOM_ORDERS_URL}),r||p.default.success("Order cancelled"),e(e=>e.map(e=>e.id===t?{...e,status:"Cancelled"}:e))}catch(e){p.default.error(`Error canceling order: ${(0,u.getErrorMessage)(e)}`)}},[e])}function I(){let e=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(x.ordersAtom),[])),n=(0,t.useSetAtom)(x.ordersAtom);return(0,a.useCallback)(async t=>{let r=e();if(0!==r.length)try{let e=t||r.filter(e=>"Active"===e.status).map(e=>e.id);if(0===e.length)return void p.default.error("No active orders to cancel");await l.axiomApiV2.post("/cancel-limit-orders",{ids:e},{urlOverride:s.AXIOM_ORDERS_URL}),t||p.default.success("All orders cancelled"),n(t=>t.map(t=>e.includes(t.id)?{...t,status:"Cancelled"}:t))}catch(e){p.default.error(`Error canceling order: ${(0,u.getErrorMessage)(e)}`)}},[e,n])}function _(){let e=(0,t.useSetAtom)(x.ordersAtom),n=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(v.usdPerSolAtom),[]));return(0,a.useCallback)(async(t,r,i)=>{try{await l.axiomApiV2.post("/edit-limit-order",{id:t,newTriggerPriceSol:i?r*(n()??c.FALLBACK_USD_PER_SOL):r},{urlOverride:s.AXIOM_ORDERS_URL}),p.default.success("Order edited"),e(e=>e.map(e=>e.id===t?{...e,triggerPriceSol:r}:e))}catch(e){p.default.error(`Error editing limit order: ${(0,u.getErrorMessage)(e)}`)}},[e,n])}async function N(e,t){let r=e.map(e=>{let{maxFeeLamports:t,nonce:r,bribeFeeLamports:n,solPublicKey:i,nonceAccountAddress:a}=e,s=`
    solana.tx.recent_blockhash == '${r}' &&
    solana.tx.instructions[0].accounts[0].account_key == '${a}' &&
    solana.tx.account_keys[0] == '${i}' &&
    solana.tx.transfers[0].amount <= ${t} &&
    ${"1"!==n.toString()?`solana.tx.transfers.count() <= 2 && solana.tx.transfers[1].amount <= ${n}`:"solana.tx.transfers.count() <= 1"} &&
    solana.tx.instructions.all(i, 
      i.program_key in [
        '675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8',
        'ComputeBudget111111111111111111111111111111',
        'CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C',
        '6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P',
        'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',
        'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',
        'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb',
        '11111111111111111111111111111111',
        'pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA',
        'AxiomxSitiyXyPjKgJ9XSrdhsydtZsskZTEDam3PxKcC',
        'AxiomfHaWDemCFBLBayqnEnNwE6b7B2Qz3UmzMpgbMG6',
        'boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4',
        'LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj',
        'dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN',
        'Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB',
        'cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG',
        'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4',
        'HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o',
        'pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn',
        'deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS',
        'Cx2H5KxfZBYftxdHHjad6JRy77nLSLa85wyLeWshkgLo',
        'EiHuesmqxnjELhQRQCU2QDf8ZW7abVPdnHQE2hqSY793',
        'F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq',
        '6HB1VBBS8LrdQiR9MZcXV5VdpKFb7vjTMZuQQEQEPioC',
        'EGZ9xkUbgW4rFmHioHFdjs1TPvcsw41eqTi3AwVCUzvs',
        '9T9oKhVbCgHamXHRQoFqX7pTQJSnj47CaQojPtG2Q8N8'
      ]
    ) &&
    solana.tx.instructions.filter(i, i.program_key == '11111111111111111111111111111111')
      .all(i, i.instruction_data_hex[0..8] in ['02000000', '03000000', '04000000']) &&
    solana.tx.instructions.filter(i, i.program_key in ['TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb', 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'])
      .all(i, i.instruction_data_hex[0..2] == '01' || i.instruction_data_hex[0..2] == '09')
    `;return{policyName:crypto.randomUUID(),effect:"EFFECT_ALLOW",condition:s,notes:"Axiom Limit Order"}});try{let e=await t.createPolicies({policies:r});if(!e.policyIds.length)throw Error("Failed to create execution policy: Turnkey timed out");return e.policyIds}catch(e){if((0,d.isTurnkeySessionExpiryError)(e))throw Error("Turnkey session expired, please log out and in again");throw e}}},256709,e=>{"use strict";function t(){let e=[];return{enqueue(t){e.push(t)},drain(){let t=e;return e=[],t},clear(){e.length=0},length:()=>e.length}}e.s(["createQueue",()=>t])},709729,877710,586646,e=>{"use strict";e.s(["activeTabAtom",()=>eC,"allWatchedTraderTransactionsChainAwareAtom",()=>eA,"amountTypeAtom",()=>eL,"devFundingChainAwareAtom",()=>eN,"devMigrationCountAtom",()=>tn,"devTokensDataChainAwareAtom",()=>eI,"filterAmountCurrencyAtom",()=>eW,"filterMaxAmountAtom",()=>eq,"filterMinAmountAtom",()=>eK,"funderAddressSearchAtom",()=>e5,"holderDataChainAwareAtom",()=>eE,"initializedHolderDataAtom",()=>e4,"initializedTopTradersAtom",()=>e6,"instantTradeModalOpenAtom",()=>eH,"instantTradeModalPositionAtom",()=>eQ,"instantTradeModalSizeAtom",()=>eX,"isBubbleMapCollapsedAtom",()=>eJ,"isScannerOpenAtom",()=>tt,"isSidebarOpenAtom",()=>eZ,"isTrackedHolderDataLoadedAtom",()=>e3,"isTrackedWalletsSelectedAtom",()=>eo,"isTradingPanelOrdersCollapsedAtom",()=>eY,"kolTransactionsChainAwareAtom",()=>ep,"lastTransactionChainAwareAtom",()=>eh,"loadingTransactionsAtom",()=>te,"makerAddressAtom",()=>e9,"memeWarningModalChainAwareAtom",()=>eB,"oneMinuteStatsChainAwareAtom",()=>eR,"onlyTrackedWalletsAtom",()=>eG,"pairAndLastTransactionChainAwareAtom",()=>em,"pairChainAwareAtom",()=>ed,"pairChartLastBarAtom",()=>el,"pairDeployerAddressAtom",()=>e8,"pairStatsTimeFrameAtom",()=>eU,"pauseTransactionsFeedAtom",()=>e7,"refinePairAndLastTransactionBnb",()=>eg,"refinePairAndLastTransactionSol",()=>eb,"reusedImageTokensExpandedAtom",()=>e2,"scannerWalletAddressAtom",()=>tr,"selectedBarAtom",()=>eu,"showBagsInfoAtom",()=>e$,"showFilterMakerInTransactionsPanelAtom",()=>ez,"showOnlyActiveOrdersAtom",()=>eO,"showOnlyCurrentTokenOrdersAtom",()=>eD,"similarTokensExpandedAtom",()=>e0,"similarTokensTypeAtom",()=>e1,"socialBubblesChainAwareAtom",()=>ef,"supplementalDataChainAwareAtom",()=>ey,"tableHeightAtom",()=>eF,"tokenAnalysisChainAwareAtom",()=>eP,"tokenInfoChainAwareAtom",()=>eT,"tokenInfoExpandedAtom",()=>ej,"topTradersChainAwareAtom",()=>ek,"trackedTransactionsChainAwareAtom",()=>ew,"trackedWalletDisplayMapChainAwareAtom",()=>e_,"tradesPanelPositionAtom",()=>eV,"transactionsFeedChainAwareAtom",()=>eS,"transactionsFeedDirectionAtom",()=>eM,"useSelectBarCallback",()=>ec,"userPairTransactionsChainAwareAtom",()=>ev,"watchedTradersTransactionsChainAwareAtom",()=>ex],709729);var t,r,n,i,a,s,o=e.i(639372),u=e.i(672464),l=e.i(265172),c=e.i(271645),d=e.i(741124),f=e.i(564012),p=e.i(472660);e.s(["accountUpdatesQueueBnb",()=>K,"allWatchedTraderTransactionsAtomBnb",()=>H,"chartTransactionsQueueBnb",()=>V,"devFundingAtomBnb",()=>w,"devTokensDataAtomBnb",()=>J,"fastTransactionsQueueBnb",()=>W,"graphPriceBnbTriggerAtom",()=>Z,"holderDataAtomBnb",()=>_,"kolTransactionsAtomBnb",()=>R,"lastTransactionAtomBnb",()=>S,"memePositionsAtomBnb",()=>I,"memePositionsQueueBnb",()=>q,"memeWarningModalAtomBnb",()=>et,"oneMinuteStatsAtomBnb",()=>k,"pairAtomBnb",()=>y,"pairPromiseAtomBnb",()=>x,"panelPriceBnbTriggerAtom",()=>Y,"socialBubblesAtomBnb",()=>B,"supplementalDataAtomBnb",()=>v,"tokenAnalysisAtomBnb",()=>$,"tokenInfoAtomBnb",()=>T,"topTradersAtomBnb",()=>P,"trackedHolderDataAtomBnb",()=>N,"trackedTransactionsAtomBnb",()=>Q,"trackedWalletDisplayMapAtomBnb",()=>er,"traderTransactionsMapBnb",()=>j,"traderTxCountFamilyBnb",()=>D,"traderWalletFundingFamilyBnb",()=>U,"transactionsFeedAtomBnb",()=>E,"useCleanupPairAtomsBnb",()=>ee,"useSetTraderTxCountBnb",()=>M,"useSetTraderWalletFundingBnb",()=>L,"userPairTransactionsAtomBnb",()=>X,"watchedTradersAtomBnb",()=>G,"watchedTradersTransactionsAtomBnb",()=>z],877710);var h=e.i(750214),m=e.i(667710),g=e.i(256709);let b=()=>{let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},{atom:y,promiseAtom:x,promiseStateAtom:A}=((e=null)=>{let t=(0,o.atom)(e),r=(0,o.atom)(b());return{atom:(0,o.atom)(e=>e(t),(e,n,i)=>{let a=e(t),s="function"==typeof i?i(a):i;n(t,s),null!=s&&e(r).resolve(s)}),promiseAtom:(0,o.atom)(e=>{let n=e(t);return null!=n?Promise.resolve(n):e(r).promise}),promiseStateAtom:r}})(),w=(0,o.atom)(null),v=(0,o.atom)(null),S=(0,o.atom)(null),E=(0,o.atom)(null),k=(0,o.atom)(null),T=(0,o.atom)(null),P=(0,o.atom)(null),I=(0,o.atom)(null),_=(0,o.atom)(null),N=(0,o.atom)(null),B=(0,o.atom)(null),R=(0,o.atom)(null),C=(0,l.atomFamily)(()=>(0,o.atom)(null)),O=(0,l.atomFamily)(()=>(0,o.atom)(null)),D=(0,l.atomFamily)(e=>(0,o.atom)(t=>t(C(e)))),U=(0,l.atomFamily)(e=>(0,o.atom)(t=>t(O(e)))),F=(0,o.atom)(new Set),M=()=>{let e=(0,u.useSetAtom)(F);return(0,h.useAtomCallback)((0,c.useCallback)((t,r,n,i)=>{r(C(n),i),e(e=>{if(e.has(n))return e;let t=new Set(e);return t.add(n),t})},[e]))},L=()=>{let e=(0,u.useSetAtom)(F);return(0,h.useAtomCallback)((0,c.useCallback)((t,r,n,i)=>{r(O(n),i),e(e=>{if(e.has(n))return e;let t=new Set(e);return t.add(n),t})},[e]))},K=(0,g.createQueue)(),q=(0,g.createQueue)(),W=(0,g.createQueue)(),V=(0,g.createQueue)(),G=(0,o.atom)(new Map),z=(0,o.atom)([]),j=new Map,H=(0,o.atom)([]),Q=(0,o.atom)([]),X=(0,o.atom)([]),J=(0,o.atom)(null),Y=(0,o.atom)(null),Z=(0,o.atom)(null),$=(0,o.atom)(null),ee=()=>{let e=(0,u.useSetAtom)(v),t=(0,u.useSetAtom)(y),r=(0,u.useSetAtom)(A),n=(0,u.useSetAtom)(T),i=(0,u.useSetAtom)(P),a=(0,u.useSetAtom)(S),s=(0,u.useSetAtom)(E),o=(0,u.useSetAtom)(z),l=(0,u.useSetAtom)(H),d=(0,u.useSetAtom)(X),f=(0,u.useSetAtom)(B),p=(0,u.useSetAtom)(R),m=(0,u.useSetAtom)(I),g=(0,u.useSetAtom)(_),x=(0,u.useSetAtom)(te),D=(0,u.useSetAtom)(e9),U=(0,u.useSetAtom)(Y),M=(0,u.useSetAtom)(Z),L=(0,u.useSetAtom)(k),ee=(0,u.useSetAtom)(e8),er=(0,u.useSetAtom)(tt),en=(0,u.useSetAtom)(tr),ei=(0,u.useSetAtom)(el),ea=(0,u.useSetAtom)(J),es=(0,u.useSetAtom)(G),eo=(0,u.useSetAtom)(e7),eu=(0,u.useSetAtom)($),ec=(0,u.useSetAtom)(tn),ed=(0,u.useSetAtom)(N),ef=(0,u.useSetAtom)(e3),ep=(0,u.useSetAtom)(w),eh=(0,u.useSetAtom)(e4),em=(0,u.useSetAtom)(e6),eg=(0,u.useSetAtom)(e5),eb=(0,u.useSetAtom)(et),ey=(0,h.useAtomCallback)((0,c.useCallback)(e=>e(F),[])),ex=(0,u.useSetAtom)(F),eA=(0,u.useSetAtom)(Q);return(0,c.useCallback)(()=>{for(let u of(t(null),r(b()),e(null),a(null),s(null),n(null),i(null),K.clear(),q.clear(),W.clear(),V.clear(),o([]),l([]),eA([]),d([]),f(null),p(null),m(null),g(null),ed(null),x(!1),D(""),U(null),M(null),L(null),ee(null),er(!1),en(""),ei([]),ef(!1),eh(!1),em(!1),eg(null),eb({isOpen:!1,warnings:[],onProceed:null}),ey().keys()))C.remove(u),O.remove(u);ex(new Set),j.clear(),ea(null),es(new Map),eo(!1),eu(null),ec(null),ep(null)},[ey,ep,ec,ea,M,g,er,a,x,D,m,L,t,ei,ee,r,U,eo,en,eu,n,i,s,d,es,o,l,e,ed,ef,eh,em,eg,ex,f,p,eb,eA])},et=(0,o.atom)({isOpen:!1,warnings:[],onProceed:null}),er=(0,o.atom)(e=>{let t=e(m.trackedWalletsAtomBnb),r=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;r.set(e.trackedWalletAddress,t)}return r});(t={})[t.TRADER_ADDRESS=0]="TRADER_ADDRESS",t[t.TRANSACTION_COUNT=1]="TRANSACTION_COUNT",t[t.FUNDED_AT=2]="FUNDED_AT",t[t.FUNDED_BNB=3]="FUNDED_BNB",(r={})[r.NOT_INSIDER=1]="NOT_INSIDER",r[r.NOT_INSIDER_BUT_WAS_INSIDER=2]="NOT_INSIDER_BUT_WAS_INSIDER",r[r.INSIDER=3]="INSIDER",r[r.INSIDER_BUT_WAS_NON_INSIDER=4]="INSIDER_BUT_WAS_NON_INSIDER",(n={})[n.NOT_BUNDLED=1]="NOT_BUNDLED",n[n.NOT_BUNDLED_BUT_WAS_BUNDLED=2]="NOT_BUNDLED_BUT_WAS_BUNDLED",n[n.BUNDLED=3]="BUNDLED",n[n.BUNDLED_BUT_WAS_NON_BUNDLED=4]="BUNDLED_BUT_WAS_NON_BUNDLED";var en=((i={})[i.NOT_PRO_USER=0]="NOT_PRO_USER",i[i.PRO_USER=1]="PRO_USER",i);(a={})[a.OLD_TRADER=0]="OLD_TRADER",a[a.NEW_TRADER=1]="NEW_TRADER";var ei=((s={})[s.TRADER_ADDRESS=0]="TRADER_ADDRESS",s[s.CURRENT_BALANCE_RAW=1]="CURRENT_BALANCE_RAW",s[s.DELTA_BALANCE_RAW=2]="DELTA_BALANCE_RAW",s[s.PRO_USER_STATUS=3]="PRO_USER_STATUS",s[s.CREATED_BLOCK=4]="CREATED_BLOCK",s[s.WEI_BALANCE=5]="WEI_BALANCE",s[s.CURRENT_BLOCK=6]="CURRENT_BLOCK",s);let ea=e=>({signature:e.signature,txHash:e.txHash,logIndex:e.log_index,blockNumber:e.block_number,pairAddress:e.pair_address,makerAddress:e.maker_address,type:e.type,totalBnb:e.total_bnb,totalUsd:e.total_usd,totalQuote:e.total_quote,tokenAmount:e.tokenAmount||e.token_amount,liquidityBnb:e.liquidity_bnb,liquidityUsd:e.liquidity_usd,liquidityQuote:e.liquidity_quote,liquidityToken:e.liquidity_token,priceBnb:e.price_bnb,priceUsd:e.price_usd,finalizedAt:new Date(e.created_at)});e.s(["AccountUpdateIndex",()=>ei,"ProUserStatus",()=>en,"convertWebsocketTransactionBnbToTransactionBnb",0,ea],586646);var es=e.i(758219);let eo=(0,o.atom)(!1),eu=(0,o.atom)(null),el=(0,o.atom)([]),ec=()=>{let e=(0,u.useSetAtom)(eu),t=(0,u.useSetAtom)(eo);return(0,c.useCallback)(r=>{r?(e({startTime:1e3*r.startTime,endTime:1e3*r.endTime}),t(!1)):e(null)},[e,t])},ed=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.pairAtomSol);case"bnb":return e(y);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.pairAtomSol,r);break;case"bnb":t(y,r);break;default:(0,f.assertUnreachable)(n)}}),ef=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.socialBubblesAtomSol);case"bnb":return e(B);default:(0,f.assertUnreachable)(t)}}),ep=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.kolTransactionsAtomSol);case"bnb":return e(R);default:(0,f.assertUnreachable)(t)}}),eh=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.lastTransactionAtomSol);case"bnb":return e(S);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.lastTransactionAtomSol,r);break;case"bnb":t(S,r);break;default:(0,f.assertUnreachable)(n)}}),em=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return{pair:e(p.pairAtomSol),lastTransaction:e(p.lastTransactionAtomSol)};case"bnb":return{pair:e(y),lastTransaction:e(S)};default:(0,f.assertUnreachable)(t)}});function eg(e){return!!(e.lastTransaction&&"liquidityBnb"in e.lastTransaction)}function eb(e){return!!(e.lastTransaction&&"liquiditySol"in e.lastTransaction)}let ey=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.supplementalDataAtomSol);case"bnb":return e(v);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.supplementalDataAtomSol,r);break;case"bnb":t(v,r);break;default:(0,f.assertUnreachable)(n)}});(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.watchedTradersAtomSol);case"bnb":return e(G);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.watchedTradersAtomSol,r);break;case"bnb":t(G,r);break;default:(0,f.assertUnreachable)(n)}});let ex=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.watchedTradersTransactionsAtomSol);case"bnb":return e(z);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.watchedTradersTransactionsAtomSol,r);break;case"bnb":t(z,r);break;default:(0,f.assertUnreachable)(n)}}),eA=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.allWatchedTraderTransactionsAtomSol);case"bnb":return e(H);default:(0,f.assertUnreachable)(t)}}),ew=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.trackedTransactionsAtomSol);case"bnb":return e(Q);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.trackedTransactionsAtomSol,r);break;case"bnb":t(Q,r);break;default:(0,f.assertUnreachable)(n)}}),ev=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return[...e(p.userPairTransactionsAtomSol),...e(p.vanishTransactionsAtomSol)];case"bnb":return e(X);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.userPairTransactionsAtomSol,r);break;case"bnb":t(X,r.map(ea));break;default:(0,f.assertUnreachable)(n)}}),eS=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.transactionsFeedWithVanishAtomSol);case"bnb":return e(E);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.transactionsFeedAtomSol,r);break;case"bnb":t(E,r);break;default:(0,f.assertUnreachable)(n)}}),eE=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.holderDataAtomSol);case"bnb":return e(_);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.holderDataAtomSol,r);break;case"bnb":t(_,r);break;default:(0,f.assertUnreachable)(n)}});(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.trackedHolderDataAtomSol);case"bnb":return e(N);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.trackedHolderDataAtomSol,r);break;case"bnb":t(N,r);break;default:(0,f.assertUnreachable)(n)}});let ek=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.topTradersAtomSol);case"bnb":return e(P);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.topTradersAtomSol,r);break;case"bnb":t(P,r);break;default:(0,f.assertUnreachable)(n)}}),eT=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.tokenInfoAtomSol);case"bnb":return e(T);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.tokenInfoAtomSol,r);break;case"bnb":t(T,r);break;default:(0,f.assertUnreachable)(n)}}),eP=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.tokenAnalysisAtomSol);case"bnb":return e($);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.tokenAnalysisAtomSol,r);break;case"bnb":t($,r);break;default:(0,f.assertUnreachable)(n)}});(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.panelPriceTriggerAtomSol);case"bnb":return e(Y);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.panelPriceTriggerAtomSol,r);break;case"bnb":t(Y,r);break;default:(0,f.assertUnreachable)(n)}}),(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.graphPriceTriggerAtomSol);case"bnb":return e(Z);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.graphPriceTriggerAtomSol,r);break;case"bnb":t(Z,r);break;default:(0,f.assertUnreachable)(n)}});let eI=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.devTokensDataAtomSol);case"bnb":return e(J);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.devTokensDataAtomSol,r);break;case"bnb":t(J,r);break;default:(0,f.assertUnreachable)(n)}});(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.memePositionsAtomSol);case"bnb":return e(I);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.memePositionsAtomSol,r);break;case"bnb":t(I,r);break;default:(0,f.assertUnreachable)(n)}});let e_=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.trackedWalletDisplayMapAtomSol);case"bnb":return e(er);default:(0,f.assertUnreachable)(t)}}),eN=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.devFundingAtomSol);case"bnb":return e(w);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.devFundingAtomSol,r);break;case"bnb":t(w,r);break;default:(0,f.assertUnreachable)(n)}}),eB=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.memeWarningModalAtomSol);case"bnb":return e(et);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.memeWarningModalAtomSol,r);break;case"bnb":t(et,r);break;default:(0,f.assertUnreachable)(n)}}),eR=(0,o.atom)(e=>{let t=e(d.currentChainAtom);switch(t){case"sol":return e(p.oneMinuteStatsAtomSol);case"bnb":return e(k);default:(0,f.assertUnreachable)(t)}},(e,t,r)=>{let n=e(d.currentChainAtom);switch(n){case"sol":t(p.oneMinuteStatsAtomSol,r);break;case"bnb":t(k,r);break;default:(0,f.assertUnreachable)(n)}}),eC=(0,l.atomWithStorage)("activeTab","positions",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,l.atomWithStorage)("activeMobileTab","trade",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0});let eO=(0,l.atomWithStorage)("showOnlyActiveOrders",!1,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eD=(0,l.atomWithStorage)("showOnlyCurrentTokenOrders",!1,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eU=(0,l.atomWithStorage)("pairStatsTimeFrame","5m",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eF=(0,l.atomWithStorage)("tableHeight",640,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eM=(0,l.atomWithStorage)("transactionsFeedDirection","DESC",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eL=(0,l.atomWithStorage)("amountType","percentage",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eK=(0,l.atomWithStorage)("filterMinAmount","",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eq=(0,l.atomWithStorage)("filterMaxAmount","",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eW=(0,l.atomWithStorage)("filterAmountCurrency","usd",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,l.atomWithStorage)("didUserChooseTradesPosition","",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0});let eV=(0,l.atomWithStorage)("tradesPanelPosition","bottom",(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eG=(0,l.atomWithStorage)("onlyTrackedWallets",!1,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),ez=(0,l.atomWithStorage)("showFilterMakerInTransactionsPanel",!1,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),ej=(0,l.atomWithStorage)("tokenInfoExpanded",!0),eH=(0,l.atomWithStorage)("instantTradeModalOpen",!1,(0,es.safeSSRNoSyncStorage)()),eQ=(0,l.atomWithStorage)("instantTradeModalPosition",{x:window.innerWidth/2-174,y:window.innerHeight/2-136},(0,es.safeSSRNoSyncStorage)()),eX=(0,l.atomWithStorage)("instantTradeModalSize",{width:348,height:264},(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0}),eJ=(0,l.atomWithStorage)("isBubbleMapCollapsed",!1,(0,es.safeSSRNoSyncStorage)()),eY=(0,l.atomWithStorage)("isTradingPanelOrdersCollapsed",!1,(0,es.safeSSRNoSyncStorage)()),eZ=(0,l.atomWithStorage)("isSidebarOpen",!0,(0,es.safeSSRNoSyncStorage)()),e$=(0,l.atomWithStorage)("showBagsInfo",!0,(0,es.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,l.atomWithStorage)("devAnalysisExpanded",!0,(0,es.safeSSRNoSyncStorage)());let e0=(0,l.atomWithStorage)("similarTokensExpanded",!0,(0,es.safeSSRNoSyncStorage)()),e1=(0,l.atomWithStorage)("similarTokensType","MC",(0,es.safeSSRNoSyncStorage)()),e2=(0,l.atomWithStorage)("reusedImageTokensExpanded",!1,(0,es.safeSSRNoSyncStorage)()),e4=(0,o.atom)(!1),e6=(0,o.atom)(!1),e3=(0,o.atom)(!1),e5=(0,o.atom)(null),e8=(0,o.atom)(null),e7=(0,o.atom)(!1),e9=(0,o.atom)(""),te=(0,o.atom)(!1),tt=(0,o.atom)(!1),tr=(0,o.atom)(""),tn=(0,o.atom)(null)},472660,e=>{"use strict";e.s(["accountUpdatesQueueSol",()=>B,"allWatchedTraderTransactionsAtomSol",()=>L,"chartTransactionsQueueSol",()=>D,"devFundingAtomSol",()=>d,"devTokensDataAtomSol",()=>j,"fastTransactionsQueueSol",()=>O,"graphPriceTriggerAtomSol",()=>Q,"holderDataAtomSol",()=>A,"kolTransactionsAtomSol",()=>S,"lastTransactionAtomSol",()=>p,"memePositionsAtomSol",()=>y,"memePositionsQueueSol",()=>R,"memeWarningModalAtomSol",()=>Y,"oneMinuteStatsAtomSol",()=>m,"pairAtomSol",()=>c,"panelPriceTriggerAtomSol",()=>H,"socialBubblesAtomSol",()=>v,"supplementalDataAtomSol",()=>f,"tokenAnalysisAtomSol",()=>X,"tokenInfoAtomSol",()=>g,"topTradersAtomSol",()=>b,"trackedHolderDataAtomSol",()=>w,"trackedTransactionsAtomSol",()=>K,"trackedWalletDisplayMapAtomSol",()=>Z,"traderTransactionsMapSol",()=>M,"traderTxCountFamilySol",()=>T,"traderWalletFundingFamilySol",()=>P,"transactionsFeedAtomSol",()=>h,"transactionsFeedWithVanishAtomSol",()=>G,"transactionsQueueSol",()=>C,"useCleanupPairAtomsSol",()=>J,"useSetTraderTxCountSol",()=>_,"useSetTraderWalletFundingSol",()=>N,"userPairTransactionsAtomSol",()=>q,"userPairTransactionsWithVanishAtomSol",()=>z,"vanishPositionsAtomSol",()=>x,"vanishTransactionSignaturesAtomSol",()=>W,"vanishTransactionsAtomSol",()=>V,"watchedTradersAtomSol",()=>U,"watchedTradersTransactionsAtomSol",()=>F]);var t=e.i(639372),r=e.i(672464),n=e.i(265172),i=e.i(750214),a=e.i(271645),s=e.i(667710),o=e.i(256709),u=e.i(709729),l=e.i(682382);let c=(0,t.atom)(null),d=(0,t.atom)(null),f=(0,t.atom)(null),p=(0,t.atom)(null),h=(0,t.atom)(null),m=(0,t.atom)(null),g=(0,t.atom)(null),b=(0,t.atom)(null),y=(0,t.atom)(null),x=(0,t.atom)(null),A=(0,t.atom)(null),w=(0,t.atom)(null),v=(0,t.atom)(null),S=(0,t.atom)(null),E=(0,n.atomFamily)(()=>(0,t.atom)(null)),k=(0,n.atomFamily)(()=>(0,t.atom)(null)),T=(0,n.atomFamily)(e=>(0,t.atom)(t=>t(E(e)))),P=(0,n.atomFamily)(e=>(0,t.atom)(t=>t(k(e)))),I=(0,t.atom)(new Set),_=()=>{let e=(0,r.useSetAtom)(I);return(0,i.useAtomCallback)((0,a.useCallback)((t,r,n,i)=>{r(E(n),i),e(e=>{if(e.has(n))return e;let t=new Set(e);return t.add(n),t})},[e]))},N=()=>{let e=(0,r.useSetAtom)(I);return(0,i.useAtomCallback)((0,a.useCallback)((t,r,n,i)=>{r(k(n),i),e(e=>{if(e.has(n))return e;let t=new Set(e);return t.add(n),t})},[e]))},B=(0,o.createQueue)(),R=(0,o.createQueue)(),C=(0,o.createQueue)(),O=(0,o.createQueue)(),D=(0,o.createQueue)(),U=(0,t.atom)(new Map),F=(0,t.atom)([]),M=new Map,L=(0,t.atom)([]),K=(0,t.atom)([]),q=(0,t.atom)([]),W=(0,t.atom)(new Set),V=(0,t.atom)([]),G=(0,t.atom)(e=>{let t=e(h),r=e(V),n=e(u.makerAddressAtom).split(",").includes(l.VANISH_WALLET_ADDRESS);return t?0!==r.length&&n?[...t,...r.map(e=>({signature:e.signature,pairAddress:e.pair_address,type:e.type,createdAt:new Date(e.created_at),liquiditySol:e.liquidity_sol,liquidityToken:e.liquidity_token,makerAddress:l.VANISH_WALLET_ADDRESS,priceSol:e.price_sol,priceUsd:e.price_usd,tokenAmount:e.token_amount,totalSol:e.total_sol,totalUsd:e.total_usd,innerIndex:e.innerIndex??null,outerIndex:e.outerIndex??null,isProUser:!0,isInsider:!1,isSniper:!1,isBundler:e.isBundler??!1,isNewHolder:e.isNewHolder??!1,isTopHolder:!1,isDev:!1,createdSlot:0,txnCount:null}))].sort((e,t)=>{let r=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-r}):t:null}),z=(0,t.atom)(e=>[...e(q),...e(V)].sort((e,t)=>{let r=new Date(e.created_at).getTime();return new Date(t.created_at).getTime()-r})),j=(0,t.atom)(null),H=(0,t.atom)(null),Q=(0,t.atom)(null),X=(0,t.atom)(null),J=()=>{let e=(0,r.useSetAtom)(f),t=(0,r.useSetAtom)(c),n=(0,r.useSetAtom)(g),s=(0,r.useSetAtom)(b),o=(0,r.useSetAtom)(p),l=(0,r.useSetAtom)(h),x=(0,r.useSetAtom)(F),T=(0,r.useSetAtom)(q),P=(0,r.useSetAtom)(W),_=(0,r.useSetAtom)(V),N=(0,r.useSetAtom)(v),G=(0,r.useSetAtom)(S),z=(0,r.useSetAtom)(y),J=(0,r.useSetAtom)(A),Z=(0,r.useSetAtom)(u.loadingTransactionsAtom),$=(0,r.useSetAtom)(u.makerAddressAtom),ee=(0,r.useSetAtom)(H),et=(0,r.useSetAtom)(Q),er=(0,r.useSetAtom)(m),en=(0,r.useSetAtom)(u.pairDeployerAddressAtom),ei=(0,r.useSetAtom)(u.isScannerOpenAtom),ea=(0,r.useSetAtom)(u.scannerWalletAddressAtom),es=(0,r.useSetAtom)(u.pairChartLastBarAtom),eo=(0,r.useSetAtom)(j),eu=(0,r.useSetAtom)(U),el=(0,r.useSetAtom)(u.pauseTransactionsFeedAtom),ec=(0,r.useSetAtom)(X),ed=(0,r.useSetAtom)(u.devMigrationCountAtom),ef=(0,r.useSetAtom)(w),ep=(0,r.useSetAtom)(u.isTrackedHolderDataLoadedAtom),eh=(0,r.useSetAtom)(d),em=(0,r.useSetAtom)(u.initializedHolderDataAtom),eg=(0,r.useSetAtom)(u.initializedTopTradersAtom),eb=(0,r.useSetAtom)(u.funderAddressSearchAtom),ey=(0,r.useSetAtom)(L),ex=(0,r.useSetAtom)(Y),eA=(0,i.useAtomCallback)((0,a.useCallback)(e=>e(I),[])),ew=(0,r.useSetAtom)(I),ev=(0,r.useSetAtom)(K);return(0,a.useCallback)(()=>{for(let r of(t(null),e(null),o(null),l(null),n(null),s(null),B.clear(),R.clear(),C.clear(),O.clear(),D.clear(),x([]),ey([]),ev([]),T([]),P(new Set),_([]),N(null),G(null),z(null),J(null),ef(null),Z(!1),$(""),ee(null),et(null),er(null),en(null),ei(!1),ea(""),es([]),ep(!1),em(!1),eg(!1),eb(null),ex({isOpen:!1,warnings:[],onProceed:null}),eA().keys()))E.remove(r),k.remove(r);ew(new Set),M.clear(),eo(null),eu(new Map),el(!1),ec(null),ed(null),eh(null)},[eA,ey,eh,ed,eo,et,J,ei,o,Z,$,z,er,t,es,en,ee,el,ea,ec,n,s,l,T,eu,x,e,ef,ep,em,eg,eb,ew,P,_,G,N,ex,ev])},Y=(0,t.atom)({isOpen:!1,warnings:[],onProceed:null}),Z=(0,t.atom)(e=>{let t=e(s.trackedWalletsAtomSol),r=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;r.set(e.trackedWalletAddress,t)}return r})},350721,e=>{"use strict";e.s(["sendAndMonitorSimpleTx",()=>z,"sendAndMonitorSwapBatched",()=>W,"useBurnDust",()=>Q,"useMarketBuySolMeme",()=>J,"useMarketSellSolMeme",()=>Z],350721);var t=e.i(247167),r=e.i(127261),n=e.i(659341),i=e.i(103476),a=e.i(672464),s=e.i(265172),o=e.i(750214),u=e.i(20164),l=e.i(271645);e.i(465903);var c=e.i(700479),d=e.i(767924),f=e.i(247317),p=e.i(91204),h=e.i(439808),m=e.i(268804),g=e.i(682382),b=e.i(592e3),y=e.i(447800),x=e.i(592846),A=e.i(863568),w=e.i(354640),v=e.i(458768),S=e.i(401597),E=e.i(181937),k=e.i(245887),T=e.i(973444);e.i(490156);var P=e.i(616318),I=e.i(754825),_=e.i(542119),N=e.i(43351),B=e.i(735013),R=e.i(342271),C=e.i(944325),O=e.i(182781);e.i(255730);var D=e.i(852388),U=e.i(868904),F=e.i(900087),M=e.i(85026),L=e.i(472660);let K=()=>{let e=(0,a.useSetAtom)(L.vanishTransactionSignaturesAtomSol),t=(0,l.useCallback)(t=>{e(e=>{let r=new Set(e);for(let e of t)if(e.publicKey===g.VANISH_WALLET_ADDRESS)for(let t of e.transactions)r.has(t.signature)||r.add(t.signature);return r})},[e]);return(0,l.useMemo)(()=>({monitorVanishTransactions:t}),[t])};var q=e.i(994447);async function W({walletTransactions:e,numWallets:t,preset:n,toastId:a,onComplete:s,onSuccess:o,region:u,timeout:l=16,isSell:d=!1,originalTime:p,enableProcessedMonitor:h=!1,protocol:b,transactionDelayMs:y=0,pairAddress:x,refreshVanishBalances:A,refreshVanishTransactions:w}){let S,E=[],k=Math.floor(y*e.length/1e3),T=l+k,P=new Map,I=new Set,_=new Map,N=p?Date.now()-p:void 0,B=Date.now(),R=new Map;for(let t of e)t.nonceInfo&&R.set(t.nonceInfo.cachedNonce,{...t,nonceInfo:t.nonceInfo});let C=e.some(e=>e.nonceInfo);C?v.default.turboToast(`Turbo transaction in progress (${T}s)`,{toastId:a}):v.default.loading(`Attempting transaction (${T}s)`,{toastId:a});let{ws:O,wsOpenHandlers:D,wsMessageHandlers:U,cleanup:F}=V(),L=!1,K=async()=>{let e=[];for(let{privateKey:t,nonceInfo:n}of R.values()){let a=r.Keypair.fromSecretKey(i.default.decode(t)),s=[];(0,M.addPriorityFeeInstructions)({instructions:s,computeUnits:450,microLamports:2e7}),s.unshift(r.SystemProgram.nonceAdvance({authorizedPubkey:a.publicKey,noncePubkey:new r.PublicKey(n.account.account)}));let{base64Tx:o,signature:u}=await (0,M.compileTransaction)({instructions:s,blockhash:n.cachedNonce,signer:a}),l=R.get(n.cachedNonce);l&&l.transactions.push({base64Tx:o,provider:"none",signature:u}),e.push({base64Tx:o,signature:u,cachedNonce:n.cachedNonce}),I.add(u)}if(0===e.length)return;let t=e.map(e=>({transactions:[{base64Tx:e.base64Tx,provider:"none"}]}));for(let{signature:r,cachedNonce:n}of((0,M.sendSwapTransactionBatched)(t,{mevProtection:!1,bribeFeeSol:0,enhancedMevProtection:!1},void 0,!0),e)){let e=()=>{J(r,!1,"Transaction timed out and was cancelled",n)};(0,M.customTxMonitor)(r,e,O,D,U),E.push((0,M.monitorTransactionSignature)({signature:r,callback:e,connection:Y}))}},q=setTimeout(()=>{R.size>0&&K().catch(e=>v.default.error(`Failed to cancel: ${(0,f.getErrorMessage)(e)}`))},3e3+1e3*k),W=setTimeout(()=>{R.size>0&&K().catch(e=>v.default.error(`Second cancel failed: ${(0,f.getErrorMessage)(e)}`))},6e3+1e3*k),z=!1,j=setInterval(async()=>{if(--T>=0)z||(C?v.default.turboToast(`Turbo transaction in progress (${T}s)`,{toastId:a}):v.default.loading(`Attempting transaction (${T}s)`,{toastId:a}));else if(6===l&&T>=-3)z||v.default.turboToast(`Attempting to cancel (${3+T}s)`,{toastId:a});else{if(-4===T){v.default.warn("A transaction failed to cancel and may still be active.");let e=Array.from(R.values()).map(e=>e.nonceInfo.account);m.axiomApiV2.post("/update-nonce-accounts",{nonceAccounts:e}).catch(()=>{})}clearInterval(j),J("",!1,"Transaction timed out, try increasing priority fee/bribe/slippage",void 0,!0)}},1e3),H=e.filter(e=>e.publicKey!==g.VANISH_WALLET_ADDRESS);y>0&&H.length>1?H.forEach((e,t)=>{setTimeout(()=>{(0,M.sendSwapTransactionBatched)([{transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}],n,u)},t*y)}):(0,M.sendSwapTransactionBatched)(H.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))})),n,u);let Q=new Set;function X(e,r){z||(Q.add(r),Q.size===t&&(z=!0,1===t?d?v.default.txSellSuccess(e,{toastId:a}):v.default.txSuccess(e,{toastId:a}):d?v.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:a}):v.default.txSuccess(`All ${t} transactions succeeded`,{toastId:a}),S=setTimeout(()=>{v.default.warn("One or more transactions may have reverted on chain."),z=!1},1e3)))}function J(r,i,l,c,f){if(!f&&(_.set(r,Date.now()),P.set(r,i),c&&R.delete(c)),(f||P.size===e.length)&&!L){for(let e of(L=!0,S&&clearTimeout(S),clearTimeout(q),clearTimeout(W),clearInterval(j),s?.(),F?.(),E))Y.removeSignatureListener(e).catch(()=>{});let r=Array.from(P.keys()).filter(e=>!0===P.get(e));r.length===t?(z||(1===t?d?v.default.txSellSuccess(l,{toastId:a}):v.default.txSuccess(l,{toastId:a}):d?v.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:a}):v.default.txSuccess(`All ${t} transactions succeeded`,{toastId:a}),z=!0),o?.(r)):r.length>0?(z&&v.default.error("One or more transactions reverted on chain."),v.default.warn(`${r.length}/${t} transactions succeeded: ${l}`,{toastId:a}),z=!0,o?.(r)):(z&&v.default.error("All transactions reverted on chain."),1===t?v.default.error(l,{toastId:a}):f?v.default.error("All transactions failed or timed out, try increasing priority fee/bribe/slippage",{toastId:a}):v.default.error(`All transactions failed and priority fees were consumed: ${l}`,{toastId:a}),z=!0),G(e,A,w).catch(()=>{});let i=e.map(e=>{let r=e.transactions.find(e=>P.has(e.signature)),i=r?_.get(r.signature):Date.now(),a=!!e.nonceInfo,s="";return!n.mevProtection&&a&&(e.transactions.some(e=>"astralane"===e.provider)?s+="astralane":s+="no-astralane"),r&&I.has(r.signature)?(s&&(s+="|"),s+="cancel"):r||(s&&(s+="|"),s+="timeout"),s=s||void 0,{signature:r?r.signature:e.transactions[0].signature,timeTakenMs:i-B,success:!!r&&P.get(r.signature),preset:n,provider:r?r.provider:e.transactions[0].provider,region:u,isTurbo:a,numWallets:t,testFlag:s,preStartTimeTakenMs:N,nonceAccount:e.nonceInfo?.account.account}});m.axiomApiV2.post("/log-tx-v3",{logs:i}).catch(()=>{})}}let Y=new r.Connection(c.HELIUS_FRONTEND_RPC_URL);try{for(let t of e)for(let e of t.transactions)(0,M.customTxMonitor)(e.signature,(r,n)=>J(e.signature,r,n,t.nonceInfo?.cachedNonce),O,D,U),E.push((0,M.monitorTransactionSignature)({signature:e.signature,callback:(r,n)=>J(e.signature,r,n,t.nonceInfo?.cachedNonce),connection:Y,protocol:b,pairAddress:x})),h&&((0,M.customTxMonitor)(e.signature+"-fast",(t,r)=>{t&&X(r,e.signature)},O,D,U),E.push((0,M.monitorTransactionSignature)({signature:e.signature,callback:(t,r)=>{t&&X(r,e.signature)},connection:Y,commitment:"processed",protocol:b,pairAddress:x})))}catch(e){v.default.error(`Error monitoring transactions: ${(0,f.getErrorMessage)(e)}`)}}function V(){let e=(()=>{try{let e=JSON.parse(localStorage.getItem("regionsV4")??"{}");return(0,C.getRegionUrl)(e.name)}catch{return(0,C.getRegionUrl)(C.Region.GLOBAL)}})(),r=new WebSocket(t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?e+"?localhost-password="+t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD:e),n=[],i=[];return r.onopen=()=>{for(let e of n)e()},r.onmessage=e=>{for(let t of i)t(e)},{ws:r,wsOpenHandlers:n,wsMessageHandlers:i,cleanup:()=>{try{(r.readyState===WebSocket.OPEN||r.readyState===WebSocket.CONNECTING)&&r.close()}catch{}}}}async function G(e,t,r){try{let n=[];for(let t of e){if(t.publicKey!==g.VANISH_WALLET_ADDRESS)continue;let e=t.transactions[0];n.push((0,b.safeCommitVanishAction)(e.signature).catch(()=>{}))}n.length>0&&(await Promise.all(n),t&&await Promise.all([t(),r?.()]))}catch(e){v.default.error(`Error handling Vanish confirmations: ${(0,f.getErrorMessage)(e)}`)}}async function z(e,t,r,n){let i,{ws:a,wsOpenHandlers:s,wsMessageHandlers:o,cleanup:u}=V(),l=16;v.default.loading(`Attempting transaction (${l}s)`,{toastId:t});let c=setInterval(()=>{--l>=0?v.default.loading(`Attempting transaction (${l}s)`,{toastId:t}):(v.default.error("Transaction timed out",{toastId:t}),r?.(),u?.(),clearInterval(c))},1e3);try{i=await (0,M.sendSimpleSolTransaction)(e)}catch(e){v.default.error(`Transaction failed while sending: ${(0,f.getErrorMessage)(e)}`,{toastId:t}),clearInterval(c),r?.();return}let d=!1;function p(e,a){d||(clearInterval(c),e?(v.default.success(a,{toastId:t}),n?.(i)):v.default.error(a,{toastId:t}),d=!0,r?.(),u?.())}try{(0,M.customTxMonitor)(i,p,a,s,o),(0,M.monitorTransactionSignature)({signature:i,callback:p})}catch(e){v.default.error(`Error monitoring transaction: ${(0,f.getErrorMessage)(e)}`)}}let j=(e,t,r)=>{if(!e)throw Error("Wallet could not be found");if(!e.publicKey)throw Error("Wallet public key could not be found");if(!e.privateKey)throw Error("Wallet details could not be found. Re-login if this issue persists.");return{publicKey:e.publicKey,privateKey:e.privateKey,balanceSol:r?.balanceSol??0,tokenAccounts:Array.from(t?.values()??[])}};function H(e){return async()=>{e(),await (0,p.sleep)(1e3),e()}}function Q(){let e=(0,a.useAtomValue)(P.blockhashAtom),t=(0,w.useRefreshBalancesSol)(),r=(0,a.useAtomValue)(I.monitoredSolWalletsAtom),n=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.tokenAccountsAtom),[])),i=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.solBalancesAtom),[])),{t:s}=(0,x.useTranslation)();return async function(a){let o=async()=>{await H(()=>t(a.walletAddress))(),a.onComplete?.()};if("pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn"===a.tokenAddress||a.tokenAddress===d.WSOL_TOKEN_ADDRESS||a.tokenAddress===d.USDC_TOKEN_ADDRESS||a.tokenAddress===d.USD1_TOKEN_ADDRESS||a.tokenAddress===d.USDT_TOKEN_ADDRESS||a.tokenAddress===q.AXIOM_LST_MINT)return void v.default.error(s("You are not allowed to burn this token"));let u=[],l=v.default.loading("Attempting to burn dust...",{duration:1/0});for(let t of a.walletAddress)try{let s=r.find(e=>e.publicKey===t);if(!s)throw Error("Wallet could not be found");let o=await (0,k.getSafeBlockhash)(e);if(!o)throw Error("Blockhash could not be found");let l=n();if(0===Number(l.data.get(s.publicKey)?.get(a.tokenAddress)?.balanceRaw??0))continue;let c=i(),d=await (0,D.createBurnDustTx)(j(s,l.data.get(s.publicKey),c.data.get(s.publicKey)),a.tokenAddress,o);u.push(d)}catch(e){v.default.error(`A transaction failed to generate: ${(0,f.getErrorMessage)(e)}`)}if(0===u.length)return void v.default.error(s("No burns executed"),{toastId:l});let c=[];for(let e of u){let t=await (0,M.sendSimpleSolTransaction)(e);if(!t)throw Error(s("Failed to send transaction"));c.push(t)}let p=new Promise((e,t)=>{setTimeout(()=>{t(Error(s("One or more transactions timed out")))},6e4)});try{await Promise.race([Promise.all(c.map(e=>new Promise((t,r)=>{(0,M.monitorTransactionSignature)({signature:e,callback:(e,n)=>{e?t(!0):r(Error(n))}})}))),p]),v.default.success(s("Dust burned successfully"),{toastId:l})}catch(e){v.default.error(`Error burning dust: ${(0,f.getErrorMessage)(e)}`,{toastId:l})}o()}}let X=(e,t)=>{if(e.bribeFeeSol>=.001)if(t){let t=[];if(e.enhancedMevProtection)t.push("0xslot","temporal");else if(e.mevProtection)t.push("0xslot","temporal");else{t.push("0xslot","temporal");let e=Math.random();e<.5?t.push("astralane"):e<1&&t.push("helius")}let r=e.bribeFeeSol+e.priorityFeeSol;return r>=.002&&e.bribeFeeSol/r<M.BRIBE_PREFERED_RATIO&&t.push("temporal-bribe"),t}else if(e.enhancedMevProtection)if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];else if(e.mevProtection)if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];else if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];if(e.bribeFeeSol>=1e-4)if(t)if(e.mevProtection)return["0xslot","jito"];else return["0xslot","jito","astralane"];else if(e.mevProtection)return["jito"];else return["0xslot"];if(e.bribeFeeSol>=1e-5)if(e.mevProtection)return["jito"];else if(t)return["astralane","jito"];else return["astralane"];return e.bribeFeeSol>=1e-6?["jito"]:["none"]};function J(){let e=(0,w.useRefreshBalancesSol)(),t=(0,R.useGetSolPreset)(),n=(0,a.useSetAtom)(I.recentSignaturesAtom),i=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.recentSignaturesAtom),[])),s=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.selectedSolWalletsAtom),[])),c=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.buyVarianceAtom),[])),d=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.transactionDelayMultiWalletAtom),[])),p=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.monitoredSolWalletsAtom),[])),m=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(C.regionInfoAtom),[])),b=(0,P.useGetSafeBlockhash)(),x=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.turboWalletsAtom),[])),A=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.solNoncesAtom),[])),E=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.tokenAccountsAtom),[])),k=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.solBalancesAtom),[])),T=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(_.rewardsPercentageAtom),[])),[B]=(0,O.useSettingsStable)("disableTradeWarnings",!1,u.default),[D]=(0,O.useSettingsStable)("enableProcessedMonitor",!0,u.default),F=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(N.usdPerSolAtom),[])),M=(0,h.useVanishRefresh)(),L=(0,h.useVanishTransactionsRefresh)(),{monitorVanishTransactions:q}=K();return(0,l.useCallback)(async a=>{let o,u=Date.now();if(a.amountSol<1e-4){v.default.error("Minimum buy amount is 0.0001 SOL"),a.onComplete?.();return}let l=s(),h=p(),w=x(),P=A(),I=m(),_=E(),N=k(),R=new Map,C=!1,O=!1;for(let e of l)w.includes(e)&&(C=!0),e===g.VANISH_WALLET_ADDRESS&&(O=!0);for(let e of l){if(!w.includes(e))continue;let t=P.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),n=t[r];R.set(e,{account:n,cachedNonce:n.nonce,used:!1}),n.available=!1}}let K=()=>{for(let e of(a.onComplete?.(),R.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},V=async()=>{K(),await H(()=>e(l.filter(e=>e!==g.VANISH_WALLET_ADDRESS)))()},G=t("buy",a.presetType),z=R.size===l.length?6:O?60:16,Q=C&&R.size>0?v.default.turboToast(`Turbo transaction in progress (${z}s)`,{duration:1/0}):v.default.loading(`Attempting transaction (${z}s)`,{duration:1/0}),J=await b();if(!J){v.default.error("Blockhash could not be found",{toastId:Q}),K();return}if(a.amountSol<=0){v.default.error("Amount must be greater than 0",{toastId:Q}),K();return}try{o=await (0,U.fillPairInfo)(a.pairInfo)}catch(e){v.default.error(`Error filling pair info: ${(0,f.getErrorMessage)(e)}`,{toastId:Q}),K();return}let Y=new Set(i()),Z=async(e,t)=>{let n=null;try{let i=h.find(t=>t.publicKey===e);if(!i)throw Error("Wallet could not be found");n=j(i,_.data.get(i.publicKey),N.data.get(i.publicKey));let s=R.get(e)?.account,u=s?r.SystemProgram.nonceAdvance({authorizedPubkey:new r.PublicKey(e),noncePubkey:new r.PublicKey(s.account)}):void 0,l=X(G,!!s),c=await (0,U.generateSolMemeSwapTx)({swapParams:{type:"buy",amountSol:t,pairInfo:o,supplementalData:a.supplementalData},preset:G,wallet:n,blockhash:s?s.nonce:J,providers:l,nonceInstruction:u,skipLiquidityCheck:B(),rewardsPercentage:T(),usdPerSol:F()??y.FALLBACK_USD_PER_SOL}),d=[];for(let e=0;e<c.length;e++){let{base64Tx:t,signature:r}=c[e];if(Y.has(r))throw Error("Transaction already sending...");d.push({base64Tx:t,signature:r,provider:l[e]})}if(s){let t=R.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:d,privateKey:n.privateKey,publicKey:e,nonceInfo:s?{account:s,cachedNonce:s.nonce}:void 0}}}catch(e){return{error:(0,f.getErrorMessage)(e)}}},$=new Map;try{let e=new Map(l.map(e=>[e,(N.data.get(e)?.balanceSol??0)*1e9]));if(($=(0,S.distributeAmount)(Math.floor(1e9*a.amountSol),e,c())).size!==l.length)throw Error("Amounts and selected wallets length mismatch")}catch(e){v.default.error(`Error distributing amount: ${(0,f.getErrorMessage)(e)}`,{toastId:Q}),K();return}let ee=[],et=[],er=Array.from($.entries()).map(([e,t])=>({walletAddress:e,amount:t/1e9})).filter(({amount:e})=>e>0).sort((e,t)=>t.amount-e.amount);if(await Promise.all(er.map(async({walletAddress:e,amount:t})=>{let r=await Z(e,t);"error"in r?et.push(r.error):ee.push(r.walletTransactions)})),Y=new Set(i()),n(e=>[...e,...ee.flatMap(({transactions:e})=>e.filter(({signature:e})=>!Y.has(e)).map(({signature:e})=>e))]),0===ee.length){0===et.length?v.default.error("No transactions to send",{toastId:Q}):1===et.length?v.default.error(`Transaction failed to send: ${et[0]}`,{toastId:Q}):v.default.error(`Transactions failed to send: ${et.join(", ")}`,{toastId:Q}),K();return}q(ee),W({walletTransactions:ee,numWallets:l.length,preset:G,toastId:Q,timeout:z,onComplete:V,onSuccess:a.onSuccess,region:I.name,isSell:!1,originalTime:u,enableProcessedMonitor:D(),protocol:o.protocol,transactionDelayMs:d(),pairAddress:o.pairAddress,refreshVanishBalances:M,refreshVanishTransactions:()=>L(o.tokenAddress,o.pairAddress)})},[s,F,M,L,p,x,A,m,E,k,t,b,i,n,e,B,T,D,c,d,q])}let Y=(0,s.atomWithStorage)("fp1",!1,void 0,{getOnInit:!0});function Z(){let e=(0,R.useGetSolPreset)(),t=(0,w.useRefreshBalancesSol)(),i=(0,a.useAtomValue)(_.turnkeyOrgIdAtom),s=(0,A.useTurnkeyClient)(),c=(0,a.useAtomValue)(Y),d=(0,a.useSetAtom)(Y),b=(0,a.useSetAtom)(I.recentSignaturesAtom),x=(0,o.useAtomCallback)(e=>e(I.recentSignaturesAtom)),S=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.selectedSolWalletsAtom),[])),k=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.monitoredSolWalletsAtom),[])),D=(0,P.useGetSafeBlockhash)(),M=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(C.regionInfoAtom),[])),L=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.turboWalletsAtom),[])),q=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.solNoncesAtom),[])),V=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.tokenAccountsAtom),[])),G=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(I.solBalancesAtom),[])),z=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(_.rewardsPercentageAtom),[])),[Q]=(0,O.useSettingsStable)("enableProcessedMonitor",!0,u.default),J=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(N.usdPerSolAtom),[])),Z=(0,h.useVanishRefresh)(),$=(0,h.useVanishTransactionsRefresh)(),ee=(0,o.useAtomCallback)((0,l.useCallback)(e=>e(B.ordersAtom),[])),et=(0,F.useCancelOrders)(),{monitorVanishTransactions:er}=K();return(0,l.useCallback)(async a=>{let o,u=e("sell"),l=Date.now(),h=a.overrideWallets?a.overrideWallets:S(),A=k(),w=L(),P=q(),I=M(),_=V(),N=G(),B=new Map,R=!1,C=!1;for(let e of h)w.includes(e)&&(R=!0),e===g.VANISH_WALLET_ADDRESS&&(C=!0);let O=a.overrideWallets?.filter(e=>h.includes(e))??h;if(0===O.length){v.default.error("No wallets selected"),a.onComplete?.();return}try{o=await (0,U.fillPairInfo)(a.pairInfo)}catch(e){v.default.error(`Error filling pair info: ${(0,f.getErrorMessage)(e)}`),a.onComplete?.();return}let F=null;if("percentage"!==a.amount.units)try{F=function(e,t,r,i,a){let s,o=new Map;if("solana"===e.units)try{s=(0,E.estimateSellInverse)({protocol:t.protocol,targetNativeAmount:e.amountSol,liquidityNative:t.liquiditySol,liquidityToken:t.liquidityToken,decimals:t.tokenDecimals,protocolDetails:t.protocolDetails,usdPerNative:r})}catch(e){throw e}else s=(0,T.newSafeBN)(e.amountTokens*10**t.tokenDecimals);if(s.isZero())throw Error("Must sell more than 0 tokens");let u=new n.default(0);for(let e of a){let r=i.get(e),n=r?.get(t.tokenAddress),a=(0,T.newSafeBN)(n?.balanceRaw??"0");u=u.add(a)}if(s.gt(u))if(s.gt(u.mul((0,T.newSafeBN)(10100)).div((0,T.newSafeBN)(1e4))))if("solana"===e.units)throw Error(`Not enough tokens to sell for ${e.amountSol} SOL`);else throw Error(`Not enough tokens to sell for ${e.amountTokens} tokens`);else s=u;for(let e of a){if(s.isZero())break;let r=i.get(e),n=r?.get(t.tokenAddress),a=(0,T.newSafeBN)(n?.balanceRaw??"0"),u=a.gt(s)?s:a;if(o.set(e,(0,T.fromSafeBN)(u)/10**t.tokenDecimals),u.lt(s))s=s.sub(u);else break}return o}(a.amount,o,J()??y.FALLBACK_USD_PER_SOL,_.data,O),O=Array.from(F.keys())}catch(e){v.default.error(`Error getting tokens to sell: ${(0,f.getErrorMessage)(e)}`),a.onComplete?.();return}for(let e of O){if(!w.includes(e))continue;let t=P.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),n=t[r];B.set(e,{account:n,cachedNonce:n.nonce,used:!1}),n.available=!1}}let K=()=>{for(let e of(a.onComplete?.(),B.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},Y=B.size===O.length?6:C?60:16,en=R&&B.size>0?v.default.turboToast(`Turbo transaction in progress (${Y}s)`,{duration:1/0}):v.default.loading(`Attempting transaction (${Y}s)`,{duration:1/0}),ei=async()=>{K(),H(()=>t(O.filter(e=>e!==g.VANISH_WALLET_ADDRESS)))().catch(()=>{});try{if(s&&!c){let e=await s.getPolicies();e.policies.find(e=>"Solana Close Positions V2"===e.policyName)||await s.createPolicy({policyName:"Solana Close Positions V2",effect:"EFFECT_ALLOW",condition:`solana.tx.account_keys[0] == 'AxiomRYAid8ZDhS1bJUAzEaNSr69aTWB9ATfdDLfUbnc' &&
                solana.tx.instructions.all(inst,
                  (
                    inst.program_key in ['TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA', 'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb'] &&
                    inst.instruction_data_hex[0..2] == '09'
                  ) ||
                  inst.program_key == 'ComputeBudget111111111111111111111111111111'
                )`,notes:"Allows any user to close empty Solana token accounts via AxiomR"});let t=e.policies.find(e=>"Solana Close Positions"===e.policyName);t&&await s.deletePolicy({policyId:t.policyId}),d(!0)}}catch{}m.axiomApiV2.post("/handle-position-close-v2",{walletAddresses:O,subOrgId:i}).catch(()=>{}),await (0,p.sleep)(750);let e=ee(),r=o.tokenAddress,n=[];for(let t of e)if("Active"===t.status&&t.tokenAddress===r&&O.includes(t.walletAddress)){let e=_.data.get(t.walletAddress),i=e?.get(r),a=Number(i?.balanceRaw??0);t.uiType.startsWith("Sell")&&0===a&&n.push(t.id)}n.length>0&&(v.default.loading("Cancelling open orders for token",{toastId:"cancel-open-orders",duration:1/0}),await et(n),v.default.success("Open orders for token cancelled",{toastId:"cancel-open-orders"}))},ea=await D();if(!ea){v.default.error("Blockhash could not be found",{toastId:en}),K();return}let es=new Set(x()),eo=async e=>{try{let n,i=async t=>{let n=t.find(t=>t.publicKey===e);if(!n)throw Error("Wallet could not be found");let i="percentage"===a.amount.units?a.amount:{units:"tokens",amountTokens:F?.get(e)??0},s=j(n,_.data.get(n.publicKey),N.data.get(n.publicKey)),l=B.get(e)?.account,c=X(u,!!l),d=l?r.SystemProgram.nonceAdvance({authorizedPubkey:new r.PublicKey(e),noncePubkey:new r.PublicKey(l.account)}):void 0,f=await (0,U.generateSolMemeSwapTx)({swapParams:{...a,type:"sell",pairInfo:o,amount:i},preset:u,wallet:s,blockhash:l?l.nonce:ea,providers:c,nonceInstruction:d,rewardsPercentage:z(),usdPerSol:J()??y.FALLBACK_USD_PER_SOL}),p=[];for(let e=0;e<f.length;e++){let{base64Tx:t,signature:r}=f[e];if(es.has(r))throw Error("Transaction already sending...");p.push({base64Tx:t,signature:r,provider:c[e]})}if(l){let t=B.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:p,privateKey:s.privateKey,publicKey:e,nonceInfo:l?{account:l,cachedNonce:l.nonce}:void 0}}};try{n=await i(A)}catch(r){if("Token balance not found"===(0,f.getErrorMessage)(r)){if(!await t([e]))throw Error("You have 0 tokens");n=await i(A)}else throw r}return n}catch(e){return{error:(0,f.getErrorMessage)(e)}}},eu=[],el=[];if(await Promise.all(O.map(async e=>{let t=await eo(e);"error"in t?el.push(t.error):eu.push(t.walletTransactions)})),es=new Set(x()),b(e=>[...e,...eu.flatMap(({transactions:e})=>e.filter(({signature:e})=>!es.has(e)).map(({signature:e})=>e))]),0===eu.length){0===el.length?v.default.error("No transactions to send",{toastId:en}):1===el.length?v.default.error(`Transaction failed to send: ${el[0]}`,{toastId:en}):v.default.error(`Transactions failed to send: ${el.join(", ")}`,{toastId:en}),K();return}er(eu),W({walletTransactions:eu,numWallets:O.length,preset:u,toastId:en,timeout:Y,onComplete:ei,onSuccess:a.onSuccess,region:I.name,isSell:!0,originalTime:l,enableProcessedMonitor:Q(),refreshVanishBalances:Z,refreshVanishTransactions:()=>$(o.tokenAddress,o.pairAddress),protocol:o.protocol,pairAddress:o.pairAddress})},[e,S,k,L,q,M,V,G,D,x,b,Q,Z,$,i,ee,t,s,c,d,et,z,J,er])}},12917,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(657688);e.s(["GlobalInputBoxLarge",0,({labelLeft:e,labelRight:i,placeholder:a,onChange:s,value:o,displayValue:u,bgColor:l="bg-transparent",rightElement:c,token:d,tokenIcon:f,disabled:p=!1})=>{let h=r.default.useRef(null),m=()=>c||(d&&f?(0,t.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,t.jsx)(n.default,{src:f,alt:d,width:18,height:18}),(0,t.jsx)("span",{className:"text-textPrimary text-[18px] leading-[23px] font-normal whitespace-nowrap truncate max-w-[100px]",children:d})]}):null);return(0,t.jsxs)("div",{className:`${l} hover:cursor-text border-[1px] border-secondaryStroke flex flex-col w-full h-[64px] p-[8px] justify-between items-center rounded-[4px] hover:bg-secondaryStroke/20 hover:border-secondaryStroke/80 focus-within:bg-secondaryStroke/20 focus-within:border-secondaryStroke/80 transition-all duration-[150ms] ease-in-out`,onClick:()=>h.current?.focus(),children:[(0,t.jsxs)("div",{className:"flex flex-row w-full justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row flex-1 h-full justify-start items-center",children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal",children:e})}),(0,t.jsx)("div",{className:"flex flex-row h-full justify-center items-center",children:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:i})})]}),(0,t.jsxs)("div",{className:"flex flex-row w-full justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row flex-1 min-w-0 justify-start items-center",children:(0,t.jsx)("input",{ref:h,className:"bg-transparent w-full min-w-0 text-textPrimary text-[18px] leading-[23px] font-normal focus:outline-none placeholder:text-textTertiary placeholder:text-[18px] placeholder:leading-[16px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:a,value:u||o||"",onChange:e=>s(e.target.value),disabled:p})}),m()&&(0,t.jsx)("div",{className:"flex flex-row gap-[4px] justify-end items-center flex-shrink-0 ml-2",children:m()})]})]})}])},31943,e=>{"use strict";e.s(["default",()=>N,"fromNotifAtom",()=>_,"getTokenBalanceWeb3",()=>I]);var t=e.i(843476),r=e.i(127261),n=e.i(659341),i=e.i(846932),a=e.i(639372),s=e.i(672464),o=e.i(750214),u=e.i(657688),l=e.i(271645);e.i(465903);var c=e.i(700479),d=e.i(994447),f=e.i(268804),p=e.i(592846),h=e.i(542119),m=e.i(43351);e.i(255730);var g=e.i(754825),b=e.i(350721),y=e.i(223560),x=e.i(12917),A=e.i(458768),w=e.i(181937),v=e.i(973444),S=e.i(879197);let E=new n.default(25),k=new n.default(1e4),T="swap-usdc-toast",P=new r.Connection(c.HELIUS_FRONTEND_RPC_URL);async function I(e){try{let t=await P.getTokenAccountBalance(e);if(null==t.value.uiAmount)return -1;return t.value.uiAmount}catch{return -1}}let _=(0,a.atom)(!1);function N({onClose:e}){let{t:a}=(0,p.useTranslation)(),v=(0,s.useAtomValue)(g.solPrivateKeyAtom),E=(0,s.useAtomValue)(g.solPublicKeyAtom),k=(0,s.useAtomValue)(g.solBalanceAtom),P=(0,s.useAtomValue)(m.usdPerSolAtom),I=(0,o.useAtomCallback)(e=>e(h.rewardsPercentageAtom)),[N,R]=(0,s.useAtom)(_),[C,O]=(0,l.useState)(null),[D,U]=(0,l.useState)(""),[F,M]=(0,l.useState)(""),[L,K]=(0,l.useState)(!1),q=new r.Connection(c.HELIUS_FRONTEND_RPC_URL),W=(0,s.useAtomValue)(g.tokenAccountsAtom),V=(0,l.useMemo)(()=>Number(W.data.get(E)?.get(d.USDC_MINT)?.balanceRaw??0)/1e6,[W,E]),[G,z]=(0,l.useState)(!1),j=(0,s.useSetAtom)(g.recentSignaturesAtom),H=(0,o.useAtomCallback)(e=>e(g.recentSignaturesAtom));(0,l.useEffect)(()=>{(async()=>{try{let e=await f.axiomApiV2.get("/swap-info",{tokenAddress:"So11111111111111111111111111111111111111112",pairAddress:"58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2"});O(e)}catch(e){console.error(a("Error fetching swap info:"),e)}})()},[a]);let Q=e=>{if(""===e){U(e),M("");return}if(!/^\d*\.?\d*$/.test(e)){U(""),M("");return}if("."===e){U("0."),M("0.");return}if(!P||null===V||null===k||!C){U(""),M("");return}N?Number(e)>Number(V)?(U(V.toString().replace(/\.?0+$/,"")),M(Math.max(0,.99*(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(V),liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})).toFixed(9).replace(/\.?0+$/,""))):(U(e),M(Math.max(0,.99*(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(e),liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})).toFixed(9).replace(/\.?0+$/,""))):Number(e)>k-.0067-.001105?(U(Math.max(0,k-.0067-.001105).toFixed(9).replace(/\.?0+$/,"")),M(Math.max(0,.99*B(k-.0067-.001105,C.liquiditySol,C.liquidityToken)).toFixed(6).replace(/\.?0+$/,""))):(U(e),M(Math.max(0,.99*B(Number(e),C.liquiditySol,C.liquidityToken)).toFixed(6).replace(/\.?0+$/,"")))},X=async()=>{if(!C)return void A.default.error(a("Swap info not yet loaded, try again in a second."),{toastId:T});if(!v||!E||!P||null===V||null===k)return void A.default.error(a("Something went wrong, please try again."),{toastId:T});if(!Number(D)||!Number(F))return void A.default.error(a("Invalid input"),{toastId:T});if(k<.0067)return void A.default.error(a("Insufficient SOL to pay for gas"),{toastId:T});if(N&&Number(D)>Number(V))return void A.default.error(a("Insufficient USDC balance"),{toastId:T});if(!N&&Number(D)>Number(k))return void A.default.error(a("Insufficient SOL balance"),{toastId:T});K(!0);let t=N?"sell":"buy",r="buy"===t?9:6;if(("buy"===t?Number(D)-.0067:Number(D))<=0){A.default.error(a("Not enough tokens to proceed after gas deduction."),{toastId:T}),K(!1);return}let i=new n.default((Number(D)*10**r).toFixed(0)),s={slippage:1,priorityFeeSol:1e-4,bribeFeeSol:.001,mevProtection:!0,enhancedMevProtection:!0,customRpcUrl:""},o=15;A.default.loading(`${a("Swapping on Raydium...")} (${o}s)`,{toastId:T});let u=setInterval(()=>{--o>0?A.default.loading(`${a("Swapping on Raydium...")} (${o}s)`,{toastId:T}):(clearInterval(u),A.default.error(a("Timed out while trying to initiate swap"),{toastId:T}))},1e3);try{let r=await q.getLatestBlockhash(),[n]=await (0,y.swapRaydium)({pairAddress:C.pairAddress,tokenAddress:C.tokenAddress,type:t,amount:i,tokenDecimals:C.tokenDecimals,liquiditySol:C.liquiditySol,liquidityToken:C.liquidityToken,userTokenAccountAddress:W.data.get(E)?.get(C.tokenAddress)?.tokenAccountAddress,protocolDetails:C.protocolDetails,blockhash:r.blockhash,swapSettings:s,wallet:{publicKey:E,privateKey:v},rewardsPercentage:I(),usdPerSol:P}),{signature:o,base64Tx:u}=n,l=H();if(l.includes(o))return void A.default.error(a("Transaction already sending..."),{toastId:T});j([...l.slice(-25),o]),await (0,b.sendAndMonitorSwapBatched)({walletTransactions:[{transactions:[{base64Tx:u,provider:"jito",signature:o}],privateKey:v,publicKey:E}],preset:s,toastId:T,numWallets:1,onComplete:()=>{K(!1)},onSuccess:()=>{A.default.success(a("Swap completed!"),{toastId:T}),e()},protocol:C.protocol})}catch(e){console.error(a("Swap failed:"),e),A.default.error(a("Raydium swap failed"),{toastId:T})}finally{clearInterval(u)}},J=0>=Number(D)||0>=Number(F),Y=N&&k<.0067;return(0,t.jsx)(i.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 bg-[#090909]/80 backdrop-blur-[2px] flex items-center justify-center z-[100]",onClick:t=>{G&&t.target===t.currentTarget&&e()},onMouseDown:e=>{e.target===e.currentTarget&&z(!0)},onMouseUp:()=>{requestAnimationFrame(()=>{z(!1)})},children:(0,t.jsxs)(i.motion.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{duration:.15,ease:"easeInOut"},className:"flex flex-col w-[364px] h-[448px] bg-backgroundTertiary border-[1px] border-secondaryStroke rounded-[4px] shadow-[0_4px_4px_0_rgba(0,0,0,0.30),0_8px_8px_0_rgba(0,0,0,0.45)]",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] pl-[16px] pr-[12px] justify-between items-center border-b-[1px] border-b-secondaryStroke",children:[(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-medium",children:a("Swap")}),(0,t.jsx)("button",{className:"group flex flex-row p-[4px] w-[24px] h-[24px] justify-center items-center hover:bg-secondaryStroke/20 rounded-[4px] transition-colors duration-150 ease-in-out",onClick:e,children:(0,t.jsx)("i",{className:"ri-close-line text-textSecondary text-[16px] group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 w-full p-[16px] pb-[20px] gap-[16px] min-h-[200px]",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group border-secondaryStroke/50 border-[1px] flex flex-row w-full h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)(u.default,{src:N?"/images/usdc-sol.svg":"/images/sol-fill.svg",alt:N?"USDC":"SOL",width:16,height:16}),(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal flex-1 text-left",children:N?"USDC":"SOL"})]})}),(0,t.jsxs)("div",{className:"flex-1 border-secondaryStroke/50 border-[1px] flex flex-row h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal flex-1",children:a("Balance:")}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:N?`${(0,S.getFormattedNumber)(V??0,4)} USDC`:`${(0,S.getFormattedNumber)(k??0,4)} SOL`}})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.GlobalInputBoxLarge,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("From")}),token:N?"USDC":"SOL",tokenIcon:N?"/images/usdc-sol.svg":"/images/sol-fill.svg",placeholder:"0.0",value:D,onChange:Q,disabled:L}),(0,t.jsx)("button",{className:"absolute top-2 right-2 text-xs text-primaryBlue hover:text-primaryBlueHover transition-colors duration-125 ease-in-out",onClick:()=>{P&&null!==V&&null!==k&&Q(N?V.toString():k.toString())},disabled:L,children:a("Max")})]}),(0,t.jsxs)("div",{className:"relative flex flex-row w-full justify-center items-center",children:[(0,t.jsxs)("span",{className:"absolute right-0 top-0 text-textTertiary text-[10px] leading-[13px] font-normal border-b border-dashed border-textTertiary/50 hover:border-textTertiary transition-colors duration-150",children:["$",P?(.001105*P).toFixed(2):"--"," ",(0,t.jsx)("i",{className:"ri-gas-station-line text-[12px]"})]}),(0,t.jsx)("button",{className:"border-secondaryStroke/50 border-[1px] group flex flex-row w-[32px] h-[32px] justify-center items-center rounded-full bg-secondaryStroke/50 hover:bg-secondaryStroke/80 transition-all duration-[150ms] ease-in-out cursor-pointer",onClick:()=>{R(!N),U(F),M(D)},disabled:L,children:(0,t.jsx)("i",{className:"ri-arrow-up-down-line text-[18px] text-textSecondary group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-row w-full gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group border-secondaryStroke/50 border-[1px] flex flex-row w-full h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)(u.default,{src:N?"/images/sol-fill.svg":"/images/usdc-sol.svg",alt:N?"SOL":"USDC",width:16,height:16}),(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal flex-1 text-left",children:N?"SOL":"USDC"})]})}),(0,t.jsxs)("div",{className:"flex-1 border-secondaryStroke/50 border-[1px] flex flex-row h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal flex-1",children:a("Balance:")}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:N?`${(0,S.getFormattedNumber)(k??0,4)} SOL`:`${(0,S.getFormattedNumber)(V??0,4)} USDC`}})]})]}),(0,t.jsx)(x.GlobalInputBoxLarge,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("To (Estimated)")}),token:N?"SOL":"USDC",tokenIcon:N?"/images/sol-fill.svg":"/images/usdc-sol.svg",placeholder:"0.0",value:F,onChange:e=>{if(""===e){U(""),M(e);return}if(!/^\d*\.?\d*$/.test(e)){U(""),M("");return}if("."===e){U("0."),M("0.");return}if(!P||null===V||null===k||!C){U(""),M("");return}let t=N?B(Number(e)/99*100,C.liquiditySol,C.liquidityToken):(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(e)/99*100,liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})-.001105;Number(t)>(N?Number(V):k-.0067)?Q(N?V.toFixed(6).replace(/\.?0+$/,""):(k-.0067).toFixed(9).replace(/\.?0+$/,"")):(U(t.toFixed(N?6:9).replace(/\.?0+$/,"")),M(e))},disabled:L})]}),(0,t.jsx)("div",{className:"border-t border-secondaryStroke/50 flex flex-row w-full h-[68px] justify-end items-center p-[16px] pb-[20px]",children:(0,t.jsx)("button",{disabled:L||J||Y,className:"bg-primaryBlue flex flex-row flex-1 h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-primaryBlue/80 hover:brightness-110 transition-all duration-[150ms] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",onClick:X,children:(0,t.jsx)("span",{className:"text-[14px] font-bold text-background",children:L?a("Loading..."):Y?a("Insufficient SOL"):a("Confirm Swap")})})})]})})}function B(e,t,r){var n,i;let a,s=(0,v.newSafeBN)(1e9*e),o=(0,v.newSafeBN)(1e9*t),u=(0,v.newSafeBN)(1e6*r),l=(n=s.mul(E),i=k,a=n.div(i),n.mod(i).gt((0,v.newSafeBN)(0))&&(a=a.add((0,v.newSafeBN)(1))),a),c=s.sub(l),d=o.add(c);return Number(u.mul(c).div(d))/1e6}},740626,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(843476),r=e.i(672464),n=e.i(657688),i=e.i(618566),a=e.i(271645),s=e.i(592846),o=e.i(542119),u=e.i(741124),l=e.i(718646),c=e.i(953312),d=e.i(31943),f=e.i(973444),p=e.i(879197);let h=({title:e,timestamp:h,message:m,icon:g,id:b,meta:y,type:x,onClose:A})=>{let w=(0,r.useAtomValue)(c.nowAtom),v=(0,l.useDeleteNotification)(),S=(0,i.useRouter)(),E=(0,r.useSetAtom)(o.isSwapModalOpenAtom),k=(0,r.useSetAtom)(d.fromNotifAtom),{t:T}=(0,s.useTranslation)(),P=(0,r.useAtomValue)(u.currentChainAtom),I=(0,a.useCallback)(e=>{e&&e.preventDefault(),A?.(),setTimeout(()=>{switch(x){case"sol-usdc":k(!0),E(!0);break;case"referral":case"claim-sol":case"claim-points":S.push("/rewards?chain=sol");break;case"meme-limit-order":case"pair-alert":S.push(`/meme/${y}?chain=${P}`)}},100)},[A,x,k,E,S,y,P]),_=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),v(b)},[v,b]),N=(0,a.useMemo)(()=>{if("pair-alert"===x){let t=e.match(/Price Alert for (.+)/),r=t?t[1]:e,n=m.match(/\$?([\d,]+(?:\.\d+)?)\s*([KMB])?/),i=n?n[1]:"",a=n?n[2]:"",s=0;if(i){let e=parseFloat(i.replace(/,/g,""));s="K"===a?1e3*e:"M"===a?1e6*e:"B"===a?1e9*e:e}let o=m.includes("crossed above");return{ticker:r,isUp:o,isDown:m.includes("dipped below"),isMigrated:m.includes("migrated"),formattedValue:(0,p.getFormattedNumber)(s,4)}}return null},[x,e,m]),B=(0,a.useMemo)(()=>({referral:{text:T("View")},"sol-usdc":{text:T("Convert")},"claim-sol":{text:T("Claim")},"claim-points":{text:T("Claim")},"meme-limit-order":{text:T("View")},"pair-alert":{text:T("View")}}),[T]),R=["sol-usdc","referral","claim-sol","claim-points","meme-limit-order","pair-alert"].includes(x);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:`w-full text-left border-b-secondaryStroke/50 border-b-[1px] flex flex-col px-[16px] justify-start items-center min-h-[44px] flex-shrink-0 group relative transition-all duration-150 ease-in-out ${R?"hover:bg-secondaryStroke/20 cursor-pointer":"cursor-default"}`,onClick:R?I:void 0,children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] min-h-[44px] justify-start items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row flex-1 gap-[8px] justify-start items-center",children:[(0,t.jsx)("div",{className:"relative",children:g.startsWith("/")||g.startsWith("http")?(0,t.jsxs)("div",{className:"relative min-w-[18px] min-h-[18px] w-[18px] h-[18px]",children:[(0,t.jsx)(n.default,{src:g,alt:e,width:18,height:18,className:"rounded-[4px] relative z-10 object-cover w-full h-full"}),"pair-alert"===x&&(0,t.jsx)("div",{className:"absolute inset-0 border border-white/10 rounded-[4px] z-20 pointer-events-none"})]}):(0,t.jsx)("i",{className:`${g} text-[18px] text-textPrimary`})}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-normal flex items-center gap-[4px]",children:"pair-alert"===x&&N?(0,t.jsxs)(t.Fragment,{children:[N.ticker,N.isMigrated?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:"ri-arrow-right-double-line text-[13px] text-primaryBlueHover"}),(0,t.jsx)("span",{className:"text-primaryBlueHover",children:T("Migrated")})]}):N.isUp||N.isDown?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:`${N.isUp?"ri-arrow-up-line text-increase":"ri-arrow-down-line text-decrease"} text-[13px]`}),(0,t.jsx)("span",{className:N.isUp?"text-increase":"text-decrease",children:N.isUp?T("Above"):T("Below")})," ",(0,t.jsxs)("span",{children:["$",N.formattedValue," ",T("MC")]})]}):(0,t.jsxs)(t.Fragment,{children:[" ",e]})]}):e})]}),(0,t.jsxs)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal transition-opacity duration-150 opacity-100 group-hover:opacity-0",children:[(0,f.getRelativeAge)(new Date(h),w)," ",T("ago")]}),(0,t.jsx)("button",{className:"flex flex-row p-[4px] w-[20px] h-[20px] justify-center items-center hover:bg-primaryStroke/60 absolute right-[16px] transition-opacity duration-150 ease-in-out opacity-0 group-hover:opacity-100 cursor-pointer rounded-[4px]",onClick:_,children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary"})})]}),(0,t.jsx)("div",{className:"flex flex-col w-full pb-[16px]",children:(0,t.jsx)("div",{className:"flex flex-row items-center",children:(0,t.jsxs)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal",children:[m,B[x]?.text&&(0,t.jsx)("span",{className:"text-primaryBlue ml-1 hover:underline hover:brightness-110 transition-all duration-150",children:B[x]?.text})]})})})]})})}},363071,e=>{"use strict";var t=e.i(271645);e.s(["default",0,()=>{let[e,r]=(0,t.useState)(!1),n=(0,t.useRef)(!1),i=(0,t.useCallback)(()=>{r(!0),n.current=!0},[]),a=(0,t.useCallback)(()=>{r(!1),n.current=!1},[]),s=(0,t.useCallback)(()=>{n.current?a():i()},[i,a]),o=(0,t.useCallback)(()=>!!n.current||!!e,[e]);return(0,t.useMemo)(()=>({uiLocked:e,isLocked:o,lock:i,unlock:a,toggle:s}),[e,o,i,a,s])}])},699247,(e,t,r)=>{"use strict";t.exports=function(e,t){if(!e)throw Error("Invariant failed")}},875353,e=>{"use strict";var t,r,n,i;let a=!1,s=!1,o={debug:1,default:2,info:2,warning:3,error:4,off:5},u=o.default,l=null,c=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(n=t||(t={})).DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF",(i=r||(r={})).UNKNOWN_ERROR="UNKNOWN_ERROR",i.NOT_IMPLEMENTED="NOT_IMPLEMENTED",i.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",i.NETWORK_ERROR="NETWORK_ERROR",i.SERVER_ERROR="SERVER_ERROR",i.TIMEOUT="TIMEOUT",i.BUFFER_OVERRUN="BUFFER_OVERRUN",i.NUMERIC_FAULT="NUMERIC_FAULT",i.MISSING_NEW="MISSING_NEW",i.INVALID_ARGUMENT="INVALID_ARGUMENT",i.MISSING_ARGUMENT="MISSING_ARGUMENT",i.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",i.CALL_EXCEPTION="CALL_EXCEPTION",i.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",i.NONCE_EXPIRED="NONCE_EXPIRED",i.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",i.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",i.TRANSACTION_REPLACED="TRANSACTION_REPLACED",i.ACTION_REJECTED="ACTION_REJECTED";let d="0123456789abcdef";class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==o[r]&&this.throwArgumentError("invalid log level name","logLevel",e),u>o[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,n){if(s)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(e=>{let t=n[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=d[t[e]>>4],r+=d[15&t[e]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(t){i.push(e+"="+JSON.stringify(n[e].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);let a=e,o="";switch(t){case r.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case r.CALL_EXCEPTION:case r.INSUFFICIENT_FUNDS:case r.MISSING_NEW:case r.NONCE_EXPIRED:case r.REPLACEMENT_UNDERPRICED:case r.TRANSACTION_REPLACED:case r.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let u=Error(e);return u.reason=a,u.code=t,Object.keys(n).forEach(function(e){u[e]=n[e]}),u}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return l||(l=new f("logger/5.8.0")),l}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}s=!!e,a=!!t}static setLogLevel(e){let t=o[e.toLowerCase()];null==t?f.globalLogger().warn("invalid log level - "+e):u=t}static from(e){return new f(e)}}f.errors=r,f.levels=t,e.s(["ErrorCode",()=>r,"LogLevel",()=>t,"Logger",()=>f],875353)},403011,e=>{"use strict";let t=new(e.i(875353)).Logger("bytes/5.8.0");function r(e){return!!e.toHexString}function n(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return n(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function i(e){return d(e)&&!(e.length%2)||s(e)}function a(e){return"number"==typeof e&&e==e&&e%1==0}function s(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!a(r)||r<0||r>=256)return!1}return!0}function o(e,i){if(i||(i={}),"number"==typeof e){t.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),n(new Uint8Array(r))}if(i.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e)&&(e=e.toHexString()),d(e)){let r=e.substring(2);r.length%2&&("left"===i.hexPad?r="0"+r:"right"===i.hexPad?r+="0":t.throwArgumentError("hex data is odd-length","value",e));let a=[];for(let e=0;e<r.length;e+=2)a.push(parseInt(r.substring(e,e+2),16));return n(new Uint8Array(a))}return s(e)?n(new Uint8Array(e)):t.throwArgumentError("invalid arrayify value","value",e)}function u(e){let t=e.map(e=>o(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),n(r)}function l(e){let t=o(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function c(e,r){(e=o(e)).length>r&&t.throwArgumentError("value out of range","value",arguments[0]);let i=new Uint8Array(r);return i.set(e,r-e.length),n(i)}function d(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let f="0123456789abcdef";function p(e,n){if(n||(n={}),"number"==typeof e){t.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=f[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(n.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e))return e.toHexString();if(d(e))return e.length%2&&("left"===n.hexPad?e="0x0"+e.substring(2):"right"===n.hexPad?e+="0":t.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(s(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=f[(240&n)>>4]+f[15&n]}return t}return t.throwArgumentError("invalid hexlify value","value",e)}function h(e){if("string"!=typeof e)e=p(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2}function m(e,r,n){return("string"!=typeof e?e=p(e):(!d(e)||e.length%2)&&t.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=n)?"0x"+e.substring(r,2+2*n):"0x"+e.substring(r)}function g(e){let t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function b(e){let t=y(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function y(e){"string"!=typeof e&&(e=p(e)),d(e)||t.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let r=0;for(;r<e.length&&"0"===e[r];)r++;return"0x"+e.substring(r)}function x(e,r){for("string"!=typeof e?e=p(e):d(e)||t.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&t.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function A(e){let r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(i(e)){let n=o(e);64===n.length?(r.v=27+(n[32]>>7),n[32]&=127,r.r=p(n.slice(0,32)),r.s=p(n.slice(32,64))):65===n.length?(r.r=p(n.slice(0,32)),r.s=p(n.slice(32,64)),r.v=n[64]):t.throwArgumentError("invalid signature string","signature",e),r.v<27&&(0===r.v||1===r.v?r.v+=27:t.throwArgumentError("signature invalid v byte","signature",e)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(n[32]|=128),r._vs=p(n.slice(32,64))}else{if(r.r=e.r,r.s=e.s,r.v=e.v,r.recoveryParam=e.recoveryParam,r._vs=e._vs,null!=r._vs){let n=c(o(r._vs),32);r._vs=p(n);let i=+(n[0]>=128);null==r.recoveryParam?r.recoveryParam=i:r.recoveryParam!==i&&t.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;let a=p(n);null==r.s?r.s=a:r.s!==a&&t.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==r.recoveryParam)null==r.v?t.throwArgumentError("signature missing v and recoveryParam","signature",e):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{let n=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==n&&t.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=r.r&&d(r.r)?r.r=x(r.r,32):t.throwArgumentError("signature missing or invalid r","signature",e),null!=r.s&&d(r.s)?r.s=x(r.s,32):t.throwArgumentError("signature missing or invalid s","signature",e);let n=o(r.s);n[0]>=128&&t.throwArgumentError("signature s out of range","signature",e),r.recoveryParam&&(n[0]|=128);let i=p(n);r._vs&&(d(r._vs)||t.throwArgumentError("signature invalid _vs","signature",e),r._vs=x(r._vs,32)),null==r._vs?r._vs=i:r._vs!==i&&t.throwArgumentError("signature _vs mismatch v and s","signature",e)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}function w(e){return p(u([(e=A(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}e.s(["arrayify",()=>o,"concat",()=>u,"hexConcat",()=>g,"hexDataLength",()=>h,"hexDataSlice",()=>m,"hexStripZeros",()=>y,"hexValue",()=>b,"hexZeroPad",()=>x,"hexlify",()=>p,"isBytes",()=>s,"isBytesLike",()=>i,"isHexString",()=>d,"joinSignature",()=>w,"splitSignature",()=>A,"stripZeros",()=>l,"zeroPad",()=>c],403011)},839341,994284,e=>{"use strict";var t=e.i(659341),r=e.i(403011),n=e.i(875353);let i="bignumber/5.8.0";e.s(["version",0,i],994284);var a=t.default.BN;let s=new n.Logger(i),o={};function u(e){return null!=e&&(c.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,r.isHexString)(e)||"bigint"==typeof e||(0,r.isBytes)(e))}let l=!1;class c{constructor(e,t){e!==o&&s.throwError("cannot call constructor directly; use BigNumber.from",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return f(p(this).fromTwos(e))}toTwos(e){return f(p(this).toTwos(e))}abs(){return"-"===this._hex[0]?c.from(this._hex.substring(1)):this}add(e){return f(p(this).add(p(e)))}sub(e){return f(p(this).sub(p(e)))}div(e){return c.from(e).isZero()&&h("division-by-zero","div"),f(p(this).div(p(e)))}mul(e){return f(p(this).mul(p(e)))}mod(e){let t=p(e);return t.isNeg()&&h("division-by-zero","mod"),f(p(this).umod(t))}pow(e){let t=p(e);return t.isNeg()&&h("negative-power","pow"),f(p(this).pow(t))}and(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","and"),f(p(this).and(t))}or(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","or"),f(p(this).or(t))}xor(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","xor"),f(p(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&h("negative-width","mask"),f(p(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&h("negative-width","shl"),f(p(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&h("negative-width","shr"),f(p(this).shrn(e))}eq(e){return p(this).eq(p(e))}lt(e){return p(this).lt(p(e))}lte(e){return p(this).lte(p(e))}gt(e){return p(this).gt(p(e))}gte(e){return p(this).gte(p(e))}isNegative(){return"-"===this._hex[0]}isZero(){return p(this).isZero()}toNumber(){try{return p(this).toNumber()}catch(e){h("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return s.throwError("this platform does not support BigInt",n.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?l||(l=!0,s.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?s.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",n.Logger.errors.UNEXPECTED_ARGUMENT,{}):s.throwError("BigNumber.toString does not accept parameters",n.Logger.errors.UNEXPECTED_ARGUMENT,{})),p(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof c)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new c(o,d(e)):e.match(/^-?[0-9]+$/)?new c(o,d(new a(e))):s.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&h("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&h("overflow","BigNumber.from",e),c.from(String(e));if("bigint"==typeof e)return c.from(e.toString());if((0,r.isBytes)(e))return c.from((0,r.hexlify)(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return c.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&((0,r.isHexString)(t)||"-"===t[0]&&(0,r.isHexString)(t.substring(1))))return c.from(t)}return s.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function d(e){if("string"!=typeof e)return d(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&s.throwArgumentError("invalid hex","value",e),"0x00"===(e=d(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function f(e){return c.from(d(e))}function p(e){let t=c.from(e).toHexString();return"-"===t[0]?new a("-"+t.substring(3),16):new a(t.substring(2),16)}function h(e,t,r){let i={fault:e,operation:t};return null!=r&&(i.value=r),s.throwError(e,n.Logger.errors.NUMERIC_FAULT,i)}function m(e){return new a(e,36).toString(16)}function g(e){return new a(e,16).toString(36)}e.s(["BigNumber",()=>c,"_base16To36",()=>g,"_base36To16",()=>m,"isBigNumberish",()=>u],839341)},526579,e=>{"use strict";let t=new(e.i(875353)).Logger("properties/5.8.0");function r(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function n(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function i(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function o(e){try{u(i.throw(e))}catch(e){a(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,o)}u((i=i.apply(t,r||[])).next())})}function a(e,r){e&&"object"==typeof e||t.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(n=>{r[n]||t.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)})}function s(e){let t={};for(let r in e)t[r]=e[r];return t}let o={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function u(e){if(function e(r){if(null==r||o[typeof r])return!0;if(Array.isArray(r)||"object"==typeof r){if(!Object.isFrozen(r))return!1;let t=Object.keys(r);for(let n=0;n<t.length;n++){let i=null;try{i=r[t[n]]}catch(e){continue}if(!e(i))return!1}return!0}return t.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>u(e)));if("object"==typeof e){let t={};for(let n in e){let i=e[n];void 0!==i&&r(t,n,u(i))}return t}return t.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}class l{constructor(e){for(const t in e)this[t]=u(e[t])}}e.s(["Description",()=>l,"checkProperties",()=>a,"deepCopy",()=>u,"defineReadOnly",()=>r,"getStatic",()=>n,"resolveProperties",()=>i,"shallowCopy",()=>s],526579)},326953,e=>{"use strict";e.s(["version",0,"abi/5.8.0"])},791078,e=>{"use strict";var t=e.i(839341),r=e.i(526579),n=e.i(875353),i=e.i(326953);let a=new n.Logger(i.version),s={},o={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function l(e,t){if("bytes"===e||"string"===e){if(o[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&u[t])return!0;return(o[t]||"payable"===t)&&a.throwArgumentError("invalid modifier","name",t),!1}function c(e,t){for(let n in t)(0,r.defineReadOnly)(e,n,t[n])}let d=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),f=new RegExp(/^(.*)\[([0-9]*)\]$/);class p{constructor(e,t){e!==s&&a.throwError("use fromString",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),c(this,t);let r=this.type.match(f);r?c(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:p.fromObject({type:r[1],components:this.components}),baseType:"array"}):c(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==d.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===d.full?", ":",")+")"):t+=this.type,e!==d.sighash&&(!0===this.indexed&&(t+=" indexed"),e===d.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?p.fromString(e,t):p.fromObject(e)}static fromObject(e){return p.isParamType(e)?e:new p(s,{name:e.name||null,type:E(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){a.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<e.length;r++){let a=e[r];switch(a){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=E(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),l(o.type,o.name)&&(o.name=""),o.type=E(o.type);let s=o;(o=o.parent)||n(r),delete s.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),l(o.type,o.name)&&(o.name=""),o.type=E(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&""!==o.type&&(o.type=E(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):l(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=a,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=a,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=a,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=a,delete o.state.allowArray):o.state.readArray?o.type+=a:n(r)}}return o.parent&&a.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):l(o.type,o.name)&&(o.name=""),s.type=E(s.type),s}(e,!!t),p.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function h(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&-1==--n&&a.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>p.fromString(e,t))}class m{constructor(e,t){e!==s&&a.throwError("use a static from method",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),c(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return m.isFragment(e)?e:"string"==typeof e?m.fromString(e):m.fromObject(e)}static fromObject(e){if(m.isFragment(e))return e;switch(e.type){case"function":return w.fromObject(e);case"event":return g.fromObject(e);case"constructor":return A.fromObject(e);case"error":return S.fromObject(e);case"fallback":case"receive":return null}return a.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?g.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?w.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?A.fromString(e.trim()):"error"===e.split(" ")[0]?S.fromString(e.substring(5).trim()):a.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class g extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?g.fromString(e):g.fromObject(e)}static fromObject(e){return g.isEventFragment(e)?e:("event"!==e.type&&a.throwArgumentError("invalid event object","value",e),new g(s,{name:T(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(p.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(P);t||a.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:a.warn("unknown modifier: "+e)}}),g.fromObject({name:t[1].trim(),anonymous:r,inputs:h(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function b(e,r){r.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&a.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||a.throwArgumentError("invalid human-readable ABI signature gas","value",e),r.gas=t.BigNumber.from(n[1]),n[0]):e}function y(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function x(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&a.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&a.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||a.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&a.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&a.throwArgumentError("unable to determine stateMutability","value",e),t}class A extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===d.sighash&&a.throwError("cannot format a constructor for sighash",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?A.fromString(e):A.fromObject(e)}static fromObject(e){if(A.isConstructorFragment(e))return e;"constructor"!==e.type&&a.throwArgumentError("invalid constructor object","value",e);let r=x(e);return r.constant&&a.throwArgumentError("constructor cannot be constant","value",e),new A(s,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=b(e,t)).match(P);return r&&"constructor"===r[1].trim()||a.throwArgumentError("invalid constructor string","value",e),t.inputs=h(r[2].trim(),!1),y(r[3].trim(),t),A.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class w extends A{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?w.fromString(e):w.fromObject(e)}static fromObject(e){if(w.isFunctionFragment(e))return e;"function"!==e.type&&a.throwArgumentError("invalid function object","value",e);let r=x(e);return new w(s,{type:e.type,name:T(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(p.fromObject):[],outputs:e.outputs?e.outputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=b(e,t)).split(" returns ");r.length>2&&a.throwArgumentError("invalid function string","value",e);let n=r[0].match(P);if(n||a.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&T(t.name),t.inputs=h(n[2],!1),y(n[3].trim(),t),r.length>1){let n=r[1].match(P);(""!=n[1].trim()||""!=n[3].trim())&&a.throwArgumentError("unexpected tokens","value",e),t.outputs=h(n[2],!1)}else t.outputs=[];return w.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function v(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&a.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class S extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?S.fromString(e):S.fromObject(e)}static fromObject(e){return S.isErrorFragment(e)?e:("error"!==e.type&&a.throwArgumentError("invalid error object","value",e),v(new S(s,{type:e.type,name:T(e.name),inputs:e.inputs?e.inputs.map(p.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(P);return r||a.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&T(t.name),t.inputs=h(r[2],!1),v(S.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function E(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let k=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function T(e){return e&&e.match(k)||a.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let P=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");e.s(["ConstructorFragment",()=>A,"ErrorFragment",()=>S,"EventFragment",()=>g,"FormatTypes",0,d,"Fragment",()=>m,"FunctionFragment",()=>w,"ParamType",()=>p])},223439,(e,t,r)=>{var n=e.i(247167);!function(){"use strict";var r="input is invalid type",i="object"==typeof window,a=i?window:{};a.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof n.default&&n.default.versions&&n.default.versions.node?a=e.g:s&&(a=self);var o=!a.JS_SHA3_NO_COMMON_JS&&t.exports,u="function"==typeof define&&define.amd,l=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),d=[4,1024,262144,0x4000000],f=[0,8,16,24],p=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],h=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),l&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var y=function(e,t,r){return function(n){return new C(e,t,e).update(n)[r]()}},x=function(e,t,r){return function(n,i){return new C(e,t,i).update(n)[r]()}},A=function(e,t,r){return function(t,n,i,a){return k["cshake"+e].update(t,n,i,a)[r]()}},w=function(e,t,r){return function(t,n,i,a){return k["kmac"+e].update(t,n,i,a)[r]()}},v=function(e,t,r,n){for(var i=0;i<g.length;++i){var a=g[i];e[a]=t(r,n,a)}return e},S=function(e,t){var r=y(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,y,e,t)},E=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:h,createMethod:S},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:h,createMethod:S},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:m,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,x,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var r=b[e],n=A(e,t,"hex");return n.create=function(n,i,a){return i||a?new C(e,t,n).bytepad([i,a],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},v(n,A,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var r=b[e],n=w(e,t,"hex");return n.create=function(n,i,a){return new O(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},v(n,w,e,t)}}],k={},T=[],P=0;P<E.length;++P)for(var I=E[P],_=I.bits,N=0;N<_.length;++N){var B=I.name+"_"+_[N];if(T.push(B),k[B]=I.createMethod(_[N],I.padding),"sha3"!==I.name){var R=I.name+_[N];T.push(R),k[R]=k[B]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function O(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var i,a,s=this.blocks,o=this.byteCount,u=e.length,c=this.blockCount,d=0,p=this.s;d<u;){if(this.reset)for(i=1,this.reset=!1,s[0]=this.block;i<c+1;++i)s[i]=0;if(t)for(i=this.start;d<u&&i<o;++d)s[i>>2]|=e[d]<<f[3&i++];else for(i=this.start;d<u&&i<o;++d)(a=e.charCodeAt(d))<128?s[i>>2]|=a<<f[3&i++]:(a<2048?s[i>>2]|=(192|a>>6)<<f[3&i++]:(a<55296||a>=57344?s[i>>2]|=(224|a>>12)<<f[3&i++]:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++d)),s[i>>2]|=(240|a>>18)<<f[3&i++],s[i>>2]|=(128|a>>12&63)<<f[3&i++]),s[i>>2]|=(128|a>>6&63)<<f[3&i++]),s[i>>2]|=(128|63&a)<<f[3&i++]);if(this.lastByteIndex=i,i>=o){for(this.start=i-o,this.block=s[c],i=0;i<c;++i)p[i]^=s[i];D(p),this.reset=!0}else this.start=i}return this},C.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(e>>=8,r=255&e;r>0;)i.unshift(r),e>>=8,r=255&e,++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var i=0,a=e.length;if(t)i=a;else for(var s=0;s<e.length;++s){var o=e.charCodeAt(s);o<128?i+=1:o<2048?i+=2:o<55296||o>=57344?i+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(e),i},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)n[t]^=e[t];D(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,s=0,o="";s<n;){for(a=0;a<t&&s<n;++a,++s)o+=c[(e=r[a])>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];s%t==0&&(D(r),a=0)}return i&&(o+=c[(e=r[a])>>4&15]+c[15&e],i>1&&(o+=c[e>>12&15]+c[e>>8&15]),i>2&&(o+=c[e>>20&15]+c[e>>16&15])),o},C.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,s=0,o=this.outputBits>>3,u=new Uint32Array(e=new ArrayBuffer(i?n+1<<2:o));s<n;){for(a=0;a<t&&s<n;++a,++s)u[s]=r[a];s%t==0&&D(r)}return i&&(u[a]=r[a],e=e.slice(0,o)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,s=0,o=0,u=[];o<i;){for(s=0;s<r&&o<i;++s,++o)e=o<<2,t=n[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;o%r==0&&D(n)}return a&&(e=o<<2,t=n[s],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},O.prototype=new C,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var D=function(e){var t,r,n,i,a,s,o,u,l,c,d,f,h,m,g,b,y,x,A,w,v,S,E,k,T,P,I,_,N,B,R,C,O,D,U,F,M,L,K,q,W,V,G,z,j,H,Q,X,J,Y,Z,$,ee,et,er,en,ei,ea,es,eo,eu,el,ec;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(s<<1|o>>>31),r=h^(o<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|l>>>31),r=a^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(c<<1|d>>>31),r=o^(d<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(f<<1|h>>>31),r=l^(h<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(i<<1|a>>>31),r=d^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],H=e[11]<<4|e[10]>>>28,Q=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,eo=e[31]<<9|e[30]>>>23,eu=e[30]<<9|e[31]>>>23,V=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,X=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,el=e[42]<<2|e[43]>>>30,ec=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,x=e[25]<<11|e[24]>>>21,A=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,C=e[45]<<29|e[44]>>>3,O=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,T=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ei=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,K=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,v=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,j=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ea=e[29]<<7|e[28]>>>25,es=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=m^~b&x,e[1]=g^~y&A,e[10]=k^~P&_,e[11]=T^~I&N,e[20]=D^~F&L,e[21]=U^~M&K,e[30]=z^~H&X,e[31]=j^~Q&J,e[40]=et^~en&ea,e[41]=er^~ei&es,e[2]=b^~x&w,e[3]=y^~A&v,e[12]=P^~_&B,e[13]=I^~N&R,e[22]=F^~L&q,e[23]=M^~K&W,e[32]=H^~X&Y,e[33]=Q^~J&Z,e[42]=en^~ea&eo,e[43]=ei^~es&eu,e[4]=x^~w&S,e[5]=A^~v&E,e[14]=_^~B&C,e[15]=N^~R&O,e[24]=L^~q&V,e[25]=K^~W&G,e[34]=X^~Y&$,e[35]=J^~Z&ee,e[44]=ea^~eo&el,e[45]=es^~eu&ec,e[6]=w^~S&m,e[7]=v^~E&g,e[16]=B^~C&k,e[17]=R^~O&T,e[26]=q^~V&D,e[27]=W^~G&U,e[36]=Y^~$&z,e[37]=Z^~ee&j,e[46]=eo^~el&et,e[47]=eu^~ec&er,e[8]=S^~m&b,e[9]=E^~g&y,e[18]=C^~k&P,e[19]=O^~T&I,e[28]=V^~D&F,e[29]=G^~U&M,e[38]=$^~z&H,e[39]=ee^~j&Q,e[48]=el^~et&en,e[49]=ec^~er&ei,e[0]^=p[n],e[1]^=p[n+1]};if(o)t.exports=k;else{for(P=0;P<T.length;++P)a[T[P]]=k[T[P]];u&&(e.r,void 0!==k&&e.v(k))}}()},447172,e=>{"use strict";var t=e.i(223439),r=e.i(403011);function n(e){return"0x"+t.default.keccak_256((0,r.arrayify)(e))}e.s(["keccak256",()=>n])},222223,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let n=new r.Logger("rlp/5.8.0");function i(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function a(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function s(e){return(0,t.hexlify)(function e(r){if(Array.isArray(r)){let t=[];if(r.forEach(function(r){t=t.concat(e(r))}),t.length<=55)return t.unshift(192+t.length),t;let n=i(t.length);return n.unshift(247+n.length),n.concat(t)}(0,t.isBytesLike)(r)||n.throwArgumentError("RLP object must be BytesLike","object",r);let a=Array.prototype.slice.call((0,t.arrayify)(r));if(1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;let s=i(a.length);return s.unshift(183+s.length),s.concat(a)}(e))}function o(e,t,i,a){let s=[];for(;i<t+1+a;){let o=u(e,i);s.push(o.result),(i+=o.consumed)>t+1+a&&n.throwError("child data too short",r.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+a,result:s}}function u(e,i){if(0===e.length&&n.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{}),e[i]>=248){let t=e[i]-247;i+1+t>e.length&&n.throwError("data short segment too short",r.Logger.errors.BUFFER_OVERRUN,{});let s=a(e,i+1,t);return i+1+t+s>e.length&&n.throwError("data long segment too short",r.Logger.errors.BUFFER_OVERRUN,{}),o(e,i,i+1+t,t+s)}if(e[i]>=192){let t=e[i]-192;return i+1+t>e.length&&n.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{}),o(e,i,i+1,t)}if(e[i]>=184){let s=e[i]-183;i+1+s>e.length&&n.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let o=a(e,i+1,s);i+1+s+o>e.length&&n.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let u=(0,t.hexlify)(e.slice(i+1+s,i+1+s+o));return{consumed:1+s+o,result:u}}if(e[i]>=128){let a=e[i]-128;i+1+a>e.length&&n.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{});let s=(0,t.hexlify)(e.slice(i+1,i+1+a));return{consumed:1+a,result:s}}return{consumed:1,result:(0,t.hexlify)(e[i])}}function l(e){let r=(0,t.arrayify)(e),i=u(r,0);return i.consumed!==r.length&&n.throwArgumentError("invalid rlp data","data",e),i.result}e.s(["decode",()=>l,"encode",()=>s],222223)},47771,e=>{"use strict";var t=e.i(403011),r=e.i(839341),n=e.i(447172),i=e.i(222223);let a=new(e.i(875353)).Logger("address/5.8.0");function s(e){(0,t.isHexString)(e,20)||a.throwArgumentError("invalid address","address",e);let r=(e=e.toLowerCase()).substring(2).split(""),i=new Uint8Array(40);for(let e=0;e<40;e++)i[e]=r[e].charCodeAt(0);let s=(0,t.arrayify)((0,n.keccak256)(i));for(let e=0;e<40;e+=2)s[e>>1]>>4>=8&&(r[e]=r[e].toUpperCase()),(15&s[e>>1])>=8&&(r[e+1]=r[e+1].toUpperCase());return"0x"+r.join("")}let o={};for(let e=0;e<10;e++)o[String(e)]=String(e);for(let e=0;e<26;e++)o[String.fromCharCode(65+e)]=String(10+e);let u=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function l(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>o[e]).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function c(e){let t=null;if("string"!=typeof e&&a.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=s(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&a.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==l(e)&&a.throwArgumentError("bad icap checksum","address",e),t=(0,r._base36To16)(e.substring(4));t.length<40;)t="0"+t;t=s("0x"+t)}else a.throwArgumentError("invalid address","address",e);return t}function d(e){try{return c(e),!0}catch(e){}return!1}function f(e){let t=(0,r._base16To36)(c(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+l("XE00"+t)+t}function p(e){let s=null;try{s=c(e.from)}catch(t){a.throwArgumentError("missing from address","transaction",e)}let o=(0,t.stripZeros)((0,t.arrayify)(r.BigNumber.from(e.nonce).toHexString()));return c((0,t.hexDataSlice)((0,n.keccak256)((0,i.encode)([s,o])),12))}function h(e,r,i){return 32!==(0,t.hexDataLength)(r)&&a.throwArgumentError("salt must be 32 bytes","salt",r),32!==(0,t.hexDataLength)(i)&&a.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",i),c((0,t.hexDataSlice)((0,n.keccak256)((0,t.concat)(["0xff",c(e),r,i])),12))}e.s(["getAddress",()=>c,"getContractAddress",()=>p,"getCreate2Address",()=>h,"getIcapAddress",()=>f,"isAddress",()=>d],47771)},25363,e=>{"use strict";var t=e.i(839341);let r=t.BigNumber.from(-1),n=t.BigNumber.from(0),i=t.BigNumber.from(1),a=t.BigNumber.from(2),s=t.BigNumber.from("1000000000000000000"),o=t.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),u=t.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),l=t.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",()=>l,"MaxUint256",()=>o,"MinInt256",()=>u,"NegativeOne",()=>r,"One",()=>i,"Two",()=>a,"WeiPerEther",()=>s,"Zero",()=>n])},840858,e=>{"use strict";var t,r,n,i,a=e.i(403011);let s=new(e.i(875353)).Logger("strings/5.8.0");function o(e,t,r,n,a){if(e===i.BAD_PREFIX||e===i.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===i.OVERRUN?r.length-t-1:0}(t=n||(n={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=i||(i={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation";let u=Object.freeze({error:function(e,t,r,n,i){return s.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:o,replace:function(e,t,r,n,a){return e===i.OVERLONG?(n.push(a),0):(n.push(65533),o(e,t,r,n,a))}});function l(e,t){null==t&&(t=u.error),e=(0,a.arrayify)(e);let r=[],n=0;for(;n<e.length;){let a=e[n++];if(a>>7==0){r.push(a);continue}let s=null,o=null;if((224&a)==192)s=1,o=127;else if((240&a)==224)s=2,o=2047;else if((248&a)==240)s=3,o=65535;else{(192&a)==128?n+=t(i.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(i.BAD_PREFIX,n-1,e,r);continue}if(n-1+s>=e.length){n+=t(i.OVERRUN,n-1,e,r);continue}let u=a&(1<<8-s-1)-1;for(let a=0;a<s;a++){let a=e[n];if((192&a)!=128){n+=t(i.MISSING_CONTINUE,n,e,r),u=null;break}u=u<<6|63&a,n++}if(null!==u){if(u>1114111){n+=t(i.OUT_OF_RANGE,n-1-s,e,r,u);continue}if(u>=55296&&u<=57343){n+=t(i.UTF16_SURROGATE,n-1-s,e,r,u);continue}if(u<=o){n+=t(i.OVERLONG,n-1-s,e,r,u);continue}r.push(u)}}return r}function c(e,t=n.current){t!=n.current&&(s.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return(0,a.arrayify)(r)}function d(e){let t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function f(e,t){return'"'+l(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?d(e):d(((e-=65536)>>10&1023)+55296)+d((1023&e)+56320)}).join("")+'"'}function p(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function h(e,t){return p(l(e,t))}function m(e,t=n.current){return l(c(e,t))}e.s(["UnicodeNormalizationForm",()=>n,"Utf8ErrorFuncs",0,u,"Utf8ErrorReason",()=>i,"_toEscapedUtf8String",()=>f,"_toUtf8String",()=>p,"toUtf8Bytes",()=>c,"toUtf8CodePoints",()=>m,"toUtf8String",()=>h],840858)},735381,471705,634709,725148,469198,191657,791761,727707,465726,50227,e=>{"use strict";var t=e.i(403011),r=e.i(839341),n=e.i(526579),i=e.i(875353),a=e.i(326953);let s=new i.Logger(a.version);function o(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let a=e.slice();a.push(i);try{r(a,n[i])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}class u{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){s.throwArgumentError(e,this.localName,t)}}class l{constructor(e){(0,n.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,t.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,t.concat)(e._data))}writeBytes(e){let r=(0,t.arrayify)(e),n=r.length%this.wordSize;return n&&(r=(0,t.concat)([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let n=(0,t.arrayify)(r.BigNumber.from(e));return n.length>this.wordSize&&s.throwError("value out-of-bounds",i.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=(0,t.concat)([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class c{constructor(e,r,i,a){(0,n.defineReadOnly)(this,"_data",(0,t.arrayify)(e)),(0,n.defineReadOnly)(this,"wordSize",r||32),(0,n.defineReadOnly)(this,"_coerceFunc",i),(0,n.defineReadOnly)(this,"allowLoose",a),this._offset=0}get data(){return(0,t.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):c.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:s.throwError("data out-of-bounds",i.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new c(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return r.BigNumber.from(this.readBytes(this.wordSize))}}e.s(["Coder",()=>u,"Reader",()=>c,"Writer",()=>l,"checkResultErrors",()=>o],735381);var d=e.i(47771);class f extends u{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,d.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,d.getAddress)((0,t.hexZeroPad)(e.readValue().toHexString(),20))}}e.s(["AddressCoder",()=>f],471705);class p extends u{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let h=new i.Logger(a.version);function m(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||h.throwError("cannot encode object for signature with missing names",i.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&h.throwError("cannot encode object for signature with duplicate names",i.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else h.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&h.throwArgumentError("types/value length mismatch","tuple",r);let a=new l(e.wordSize),s=new l(e.wordSize),o=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=a.writeUpdatableValue();o.push(e=>{n(e+t)})}else e.encode(a,r)}),o.forEach(e=>{e(a.length)});let u=e.appendWriter(a);return u+e.appendWriter(s)}function g(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{a=t.decode(s)}catch(e){if(e.code===i.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(e.code===i.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});let a=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==a[n]||("length"===n&&(n="_length"),null!=r[n]))return;let i=r[t];i instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw i}}):r[n]=i});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class b extends u{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),h.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return m(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&h.throwError("insufficient data length",i.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new p(this.coder));return e.coerce(this.name,g(e,r))}}e.s(["ArrayCoder",()=>b,"pack",()=>m,"unpack",()=>g],634709);class y extends u{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}e.s(["BooleanCoder",()=>y],725148);class x extends u{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,r){r=(0,t.arrayify)(r);let n=e.writeValue(r.length);return n+e.writeBytes(r)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class A extends x{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,t.hexlify)(super.decode(e)))}}e.s(["BytesCoder",()=>A,"DynamicBytesCoder",()=>x],469198);class w extends u{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,r){let n=(0,t.arrayify)(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,(0,t.hexlify)(e.readBytes(this.size)))}}e.s(["FixedBytesCoder",()=>w],191657);class v extends u{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}e.s(["NullCoder",()=>v],791761);var S=e.i(25363);class E extends u{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=r.BigNumber.from(t),i=S.MaxUint256.mask(8*e.wordSize);if(this.signed){let e=i.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(S.One).mul(S.NegativeOne)))&&this._throwError("value out-of-bounds",t)}else(n.lt(S.Zero)||n.gt(i.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}e.s(["NumberCoder",()=>E],727707);var k=e.i(840858);class T extends x{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,k.toUtf8Bytes)(t))}decode(e){return(0,k.toUtf8String)(super.decode(e))}}e.s(["StringCoder",()=>T],465726);class P extends u{constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return m(e,this.coders,t)}decode(e){return e.coerce(this.name,g(e,this.coders))}}e.s(["TupleCoder",()=>P],50227)},83090,e=>{"use strict";var t=e.i(447172),r=e.i(840858);function n(e){return(0,t.keccak256)((0,r.toUtf8Bytes)(e))}e.s(["id",()=>n])},246383,144180,e=>{"use strict";var t=e.i(47771),r=e.i(839341),n=e.i(403011),i=e.i(83090),a=e.i(447172),s=e.i(526579),o=e.i(875353),u=e.i(326953),l=e.i(735381),c=e.i(471705),d=e.i(634709),f=e.i(725148),p=e.i(469198),h=e.i(191657),m=e.i(791761),g=e.i(727707),b=e.i(465726),y=e.i(50227),x=e.i(791078);let A=new o.Logger(u.version),w=new RegExp(/^bytes([0-9]*)$/),v=new RegExp(/^(u?int)([0-9]*)$/);class S{constructor(e){(0,s.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new c.AddressCoder(e.name);case"bool":return new f.BooleanCoder(e.name);case"string":return new b.StringCoder(e.name);case"bytes":return new p.BytesCoder(e.name);case"array":return new d.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new y.TupleCoder((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new m.NullCoder(e.name)}let t=e.type.match(v);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&A.throwArgumentError("invalid "+t[1]+" bit length","param",e),new g.NumberCoder(r/8,"int"===t[1],e.name)}if(t=e.type.match(w)){let r=parseInt(t[1]);return(0===r||r>32)&&A.throwArgumentError("invalid bytes length","param",e),new h.FixedBytesCoder(r,e.name)}return A.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new l.Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new l.Writer(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&A.throwError("types/values length mismatch",o.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(x.ParamType.from(e))),n=new y.TupleCoder(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){let i=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(i,"_").decode(this._getReader((0,n.arrayify)(t),r))}}let E=new S;e.s(["AbiCoder",()=>S,"defaultAbiCoder",0,E],144180);let k=new o.Logger(u.version);class T extends s.Description{}class P extends s.Description{}class I extends s.Description{}class _ extends s.Description{static isIndexed(e){return!!(e&&e._isIndexed)}}let N={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function B(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class R{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,s.defineReadOnly)(this,"fragments",t.map(e=>x.Fragment.from(e)).filter(e=>null!=e)),(0,s.defineReadOnly)(this,"_abiCoder",(0,s.getStatic)(new.target,"getAbiCoder")()),(0,s.defineReadOnly)(this,"functions",{}),(0,s.defineReadOnly)(this,"errors",{}),(0,s.defineReadOnly)(this,"events",{}),(0,s.defineReadOnly)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy)return void k.warn("duplicate definition - constructor");(0,s.defineReadOnly)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?k.warn("duplicate definition - "+r):t[r]=e}),this.deploy||(0,s.defineReadOnly)(this,"deploy",x.ConstructorFragment.from({payable:!1,type:"constructor"})),(0,s.defineReadOnly)(this,"_isInterface",!0)}format(e){e||(e=x.FormatTypes.full),e===x.FormatTypes.sighash&&k.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===x.FormatTypes.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return E}static getAddress(e){return(0,t.getAddress)(e)}static getSighash(e){return(0,n.hexDataSlice)((0,i.id)(e.format()),0,4)}static getEventTopic(e){return(0,i.id)(e.format())}getFunction(e){if((0,n.isHexString)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];k.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?k.throwArgumentError("no matching function","name",t):r.length>1&&k.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[x.FunctionFragment.fromString(e).format()];return t||k.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,n.isHexString)(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];k.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?k.throwArgumentError("no matching event","name",t):r.length>1&&k.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[x.EventFragment.fromString(e).format()];return t||k.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,n.isHexString)(e)){let t=(0,s.getStatic)(this.constructor,"getSighash");for(let r in this.errors)if(e===t(this.errors[r]))return this.errors[r];k.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?k.throwArgumentError("no matching error","name",t):r.length>1&&k.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[x.FunctionFragment.fromString(e).format()];return t||k.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,s.getStatic)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,s.getStatic)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,n.arrayify)(t);return(0,n.hexlify)(r.slice(0,4))!==this.getSighash(e)&&k.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,n.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,n.hexlify)((0,n.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,n.arrayify)(t);return(0,n.hexlify)(r.slice(0,4))!==this.getSighash(e)&&k.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,n.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.hexlify)((0,n.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,n.arrayify)(t),i=null,a="",s=null,u=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=(0,n.hexlify)(r.slice(0,4)),t=N[e];if(t)s=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.signature,t.reason&&(i=s[0]),"Error"===u?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===u&&(a=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{let t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.format()}catch(e){}}}return k.throwError("call revert exception"+a,o.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,n.hexlify)(t),errorArgs:s,errorName:u,errorSignature:l,reason:i})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,n.hexlify)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&k.throwError("too many arguments for "+e.format(),o.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let s=[];e.anonymous||s.push(this.getEventTopic(e));let u=(e,t)=>"string"===e.type?(0,i.id)(t):"bytes"===e.type?(0,a.keccak256)((0,n.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=r.BigNumber.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,n.hexZeroPad)((0,n.hexlify)(t),32));for(t.forEach((t,r)=>{let n=e.inputs[r];if(!n.indexed){null!=t&&k.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+n.name,t);return}null==t?s.push(null):"array"===n.baseType||"tuple"===n.baseType?k.throwArgumentError("filtering with tuples or arrays not supported","contract."+n.name,t):Array.isArray(t)?s.push(t.map(e=>u(n,e))):s.push(u(n,t))});s.length&&null===s[s.length-1];)s.pop();return s}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],n=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&k.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{let u=t[o];if(e.indexed)if("string"===e.type)r.push((0,i.id)(u));else if("bytes"===e.type)r.push((0,a.keccak256)(u));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[u]));else n.push(e),s.push(u)}),{data:this._abiCoder.encode(n,s),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,n.isHexString)(r[0],32)&&r[0].toLowerCase()===t||k.throwError("fragment/topic mismatch",o.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let i=[],a=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(x.ParamType.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(i.push(e),s.push(!1)):(a.push(e),s.push(!1))});let u=null!=r?this._abiCoder.decode(i,(0,n.concat)(r)):null,l=this._abiCoder.decode(a,t,!0),c=[],d=0,f=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==u)c[t]=new _({_isIndexed:!0,hash:null});else if(s[t])c[t]=new _({_isIndexed:!0,hash:u[f++]});else try{c[t]=u[f++]}catch(e){c[t]=e}else try{c[t]=l[d++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){let r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:()=>{throw B(`property ${JSON.stringify(e.name)}`,r)}}):c[e.name]=r}});for(let e=0;e<c.length;e++){let t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:()=>{throw B(`index ${e}`,t)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new P({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:r.BigNumber.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new T({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,n.hexlify)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new I({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}e.s(["Indexed",()=>_,"Interface",()=>R,"LogDescription",()=>T,"TransactionDescription",()=>P],246383)},811874,e=>{"use strict";var t=e.i(791078),r=e.i(144180),n=e.i(735381),i=e.i(246383);e.s([],44412),e.i(44412),e.s(["AbiCoder",()=>r.AbiCoder,"ConstructorFragment",()=>t.ConstructorFragment,"ErrorFragment",()=>t.ErrorFragment,"EventFragment",()=>t.EventFragment,"FormatTypes",()=>t.FormatTypes,"Fragment",()=>t.Fragment,"FunctionFragment",()=>t.FunctionFragment,"Indexed",()=>i.Indexed,"Interface",()=>i.Interface,"LogDescription",()=>i.LogDescription,"ParamType",()=>t.ParamType,"TransactionDescription",()=>i.TransactionDescription,"checkResultErrors",()=>n.checkResultErrors,"defaultAbiCoder",()=>r.defaultAbiCoder],811874)},252646,(e,t,r)=>{function n(e,t){if(!e)throw Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},988935,(e,t,r)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},109460,(e,t,r)=>{"use strict";var n=e.r(252646);function i(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function s(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}r.inherits=e.r(988935),r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a,s,o=e.charCodeAt(i);o<128?r[n++]=o:(o<2048?r[n++]=o>>6|192:((a=e,s=i,(64512&a.charCodeAt(s))!=55296||s<0||s+1>=a.length?1:(64512&a.charCodeAt(s+1))!=56320)?r[n++]=o>>12|224:(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128),r[n++]=o>>6&63|128),r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},r.htonl=i,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=i(a)),r+=s(a.toString(16))}return r},r.zero2=a,r.zero8=s,r.join32=function(e,t,r,i){var a,s=r-t;n(s%4==0);for(var o=Array(s/4),u=0,l=t;u<o.length;u++,l+=4)a="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],o[u]=a>>>0;return o},r.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0;e[t]=+(a<n)+r+i>>>0,e[t+1]=a},r.sum64_hi=function(e,t,r,n){return+(t+n>>>0<t)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,a,s,o){var u,l=t;return e+r+i+s+(u=0+ +((l=l+n>>>0)<t)+ +((l=l+a>>>0)<a)+ +((l=l+o>>>0)<o))>>>0},r.sum64_4_lo=function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},r.sum64_5_hi=function(e,t,r,n,i,a,s,o,u,l){var c,d=t;return e+r+i+s+u+(c=0+ +((d=d+n>>>0)<t)+ +((d=d+a>>>0)<a)+ +((d=d+o>>>0)<o)+ +((d=d+l>>>0)<l))>>>0},r.sum64_5_lo=function(e,t,r,n,i,a,s,o,u,l){return t+n+a+o+l>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},425078,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(252646);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=a,a.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(a=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;a<this.padLength;a++)n[i++]=0;return n}},144944,(e,t,r)=>{"use strict";var n=e.r(109460).rotr32;function i(e,t,r){return e&t^e&r^t&r}r.ft_1=function(e,t,r,n){var a;return 0===e?(a=t)&r^~a&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},r.ch32=function(e,t,r){return e&t^~e&r},r.maj32=i,r.p32=function(e,t,r){return e^t^r},r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},360205,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(425078),a=e.r(144944),s=n.rotl32,o=n.sum32,u=n.sum32_5,l=a.ft_1,c=i.BlockHash,d=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}n.inherits(f,c),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],c=this.h[2],f=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var h=~~(n/20),m=u(s(i,5),l(h,a,c,f),p,r[n],d[h]);p=f,f=c,c=s(a,30),a=i,i=m}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],c),this.h[3]=o(this.h[3],f),this.h[4]=o(this.h[4],p)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},249891,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(425078),a=e.r(144944),s=e.r(252646),o=n.sum32,u=n.sum32_4,l=n.sum32_5,c=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,h=a.g0_256,m=a.g1_256,g=i.BlockHash,b=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=b,this.W=Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],h(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],g=this.h[2],b=this.h[3],y=this.h[4],x=this.h[5],A=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var v=l(w,p(y),c(y,x,A),this.k[n],r[n]),S=o(f(i),d(i,a,g));w=A,A=x,x=y,y=o(b,v),b=g,g=a,a=i,i=o(v,S)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],y),this.h[5]=o(this.h[5],x),this.h[6]=o(this.h[6],A),this.h[7]=o(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},365498,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(249891);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}n.inherits(a,i),t.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},845007,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(425078),a=e.r(252646),s=n.rotr64_hi,o=n.rotr64_lo,u=n.shr64_hi,l=n.shr64_lo,c=n.sum64,d=n.sum64_hi,f=n.sum64_lo,p=n.sum64_4_hi,h=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,b=i.BlockHash,y=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function x(){if(!(this instanceof x))return new x;b.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=y,this.W=Array(160)}n.inherits(x,b),t.exports=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),a=function(e,t){var r=o(e,t,19)^o(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),c=r[n-14],d=r[n-13],f=function(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),m=function(e,t){var r=o(e,t,1)^o(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),g=r[n-32],b=r[n-31];r[n]=p(i,a,c,d,f,m,g,b),r[n+1]=h(i,a,c,d,f,m,g,b)}},x.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],u=this.h[2],l=this.h[3],p=this.h[4],h=this.h[5],b=this.h[6],y=this.h[7],x=this.h[8],A=this.h[9],w=this.h[10],v=this.h[11],S=this.h[12],E=this.h[13],k=this.h[14],T=this.h[15];a(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var I=k,_=T,N=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),B=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),R=function(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=0x100000000),a}(x,0,w,0,S,E),C=function(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=0x100000000),s}(0,A,0,v,0,E),O=this.k[P],D=this.k[P+1],U=r[P],F=r[P+1],M=m(I,_,N,B,R,C,O,D,U,F),L=g(I,_,N,B,R,C,O,D,U,F);I=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}(n,i),_=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(n,i);var K=d(I,_,N=function(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=0x100000000),a}(n,0,u,0,p,h),B=function(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=0x100000000),s}(0,i,0,l,0,h)),q=f(I,_,N,B);k=S,T=E,S=w,E=v,w=x,v=A,x=d(b,y,M,L),A=f(y,y,M,L),b=p,y=h,p=u,h=l,u=n,l=i,n=d(M,L,K,q),i=f(M,L,K,q)}c(this.h,0,n,i),c(this.h,2,u,l),c(this.h,4,p,h),c(this.h,6,b,y),c(this.h,8,x,A),c(this.h,10,w,v),c(this.h,12,S,E),c(this.h,14,k,T)},x.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},263098,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(845007);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}n.inherits(a,i),t.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},105490,(e,t,r)=>{"use strict";r.sha1=e.r(360205),r.sha224=e.r(365498),r.sha256=e.r(249891),r.sha384=e.r(263098),r.sha512=e.r(845007)},133916,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(425078),a=n.rotl32,s=n.sum32,o=n.sum32_3,u=n.sum32_4,l=i.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(c,l),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],c=this.h[4],g=r,b=n,y=i,x=l,A=c,w=0;w<80;w++){var v,S,E=s(a(u(r,d(w,n,i,l),e[f[w]+t],(v=w)<=15?0:v<=31?0x5a827999:v<=47?0x6ed9eba1:v<=63?0x8f1bbcdc:0xa953fd4e),h[w]),c);r=c,c=l,l=a(i,10),i=n,n=E,E=s(a(u(g,d(79-w,b,y,x),e[p[w]+t],(S=w)<=15?0x50a28be6:S<=31?0x5c4dd124:S<=47?0x6d703ef3:0x7a6d76e9*!!(S<=63)),m[w]),A),g=A,A=x,x=a(y,10),y=b,b=E}E=o(this.h[1],i,x),this.h[1]=o(this.h[2],l,A),this.h[2]=o(this.h[3],c,g),this.h[3]=o(this.h[4],r,b),this.h[4]=o(this.h[0],n,y),this.h[0]=E},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},564141,(e,t,r)=>{"use strict";var n=e.r(109460),i=e.r(252646);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},70148,(e,t,r)=>{r.utils=e.r(109460),r.common=e.r(425078),r.sha=e.r(105490),r.ripemd=e.r(133916),r.hmac=e.r(564141),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},346469,e=>{"use strict";var t=e.i(659341),r=e.i(70148);function n(e,t,r){return e(r={path:t,exports:{},require:function(e,t){throw null==t&&r.path,Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:e.g);var i=a;function a(e,t){if(!e)throw Error(t||"Assertion failed")}a.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var s=n(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),o=n(function(e,r){r.assert=i,r.toArray=s.toArray,r.zero2=s.zero2,r.toHex=s.toHex,r.encode=s.encode,r.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);for(s=0;s<n.length;s+=1)n[s]=0;var i=1<<t+1,a=e.clone();for(s=0;s<n.length;s++){var s,o,u=a.andln(i-1);a.isOdd()?(o=u>(i>>1)-1?(i>>1)-u:u,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,s,o,u=e.andln(3)+n&3,l=t.andln(3)+i&3;3===u&&(u=-1),3===l&&(l=-1),s=(1&u)==0?0:(3==(a=e.andln(7)+n&7)||5===a)&&2===l?-u:u,r[0].push(s),o=(1&l)==0?0:(3==(a=t.andln(7)+i&7)||5===a)&&2===u?-l:l,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new t.default(e,"hex","le")}}),u=o.getNAF,l=o.getJSF,c=o.assert;function d(e,r){this.type=e,this.p=new t.default(r.p,16),this.red=r.prime?t.default.red(r.prime):t.default.mont(this.p),this.zero=new t.default(0).toRed(this.red),this.one=new t.default(1).toRed(this.red),this.two=new t.default(2).toRed(this.red),this.n=r.n&&new t.default(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(e,t){this.curve=e,this.type=t,this.precomputed=null}d.prototype.point=function(){throw Error("Not implemented")},d.prototype.validate=function(){throw Error("Not implemented")},d.prototype._fixedNafMul=function(e,t){c(e.precomputed);var r,n,i=e._getDoubles(),a=u(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var o=[];for(r=0;r<a.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+a[l];o.push(n)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=s;p>0;p--){for(r=0;r<o.length;r++)(n=o[r])===p?f=f.mixedAdd(i.points[r]):n===-p&&(f=f.mixedAdd(i.points[r].neg()));d=d.add(f)}return d.toP()},d.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=u(t,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var l=0;o>=0&&0===a[o];o--)l++;if(o>=0&&l++,s=s.dblp(l),o<0)break;var d=a[o];c(0!==d),s="affine"===e.type?d>0?s.mixedAdd(i[d-1>>1]):s.mixedAdd(i[-d-1>>1].neg()):d>0?s.add(i[d-1>>1]):s.add(i[-d-1>>1].neg())}return"affine"===e.type?s.toP():s},d.prototype._wnafMulAdd=function(e,t,r,n,i){var a,s,o,c=this._wnafT1,d=this._wnafT2,f=this._wnafT3,p=0;for(a=0;a<n;a++){var h=(o=t[a])._getNAFPoints(e);c[a]=h.wnd,d[a]=h.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1!==c[m]||1!==c[g]){f[m]=u(r[m],c[m],this._bitLength),f[g]=u(r[g],c[g],this._bitLength),p=Math.max(f[m].length,p),p=Math.max(f[g].length,p);continue}var b=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(b[1]=t[m].add(t[g]),b[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(b[1]=t[m].toJ().mixedAdd(t[g]),b[2]=t[m].add(t[g].neg())):(b[1]=t[m].toJ().mixedAdd(t[g]),b[2]=t[m].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],x=l(r[m],r[g]);for(s=0,p=Math.max(x[0].length,p),f[m]=Array(p),f[g]=Array(p);s<p;s++){var A=0|x[0][s],w=0|x[1][s];f[m][s]=y[(A+1)*3+(w+1)],f[g][s]=0,d[m]=b}}var v=this.jpoint(null,null,null),S=this._wnafT4;for(a=p;a>=0;a--){for(var E=0;a>=0;){var k=!0;for(s=0;s<n;s++)S[s]=0|f[s][a],0!==S[s]&&(k=!1);if(!k)break;E++,a--}if(a>=0&&E++,v=v.dblp(E),a<0)break;for(s=0;s<n;s++){var T=S[s];0!==T&&(T>0?o=d[s][T-1>>1]:T<0&&(o=d[s][-T-1>>1].neg()),v="affine"===o.type?v.mixedAdd(o):v.add(o))}}for(a=0;a<n;a++)d[a]=null;return i?v:v.toP()},d.BasePoint=f,f.prototype.eq=function(){throw Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(e,t){e=o.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?c(e[e.length-1]%2==0):7===e[0]&&c(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},f.prototype.encodeCompressed=function(e){return this.encode(e,!0)},f.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},f.prototype.encode=function(e,t){return o.encode(this._encode(t),e)},f.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},f.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},f.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},f.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var p=n(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),h=o.assert;function m(e){d.call(this,"short",e),this.a=new t.default(e.a,16).toRed(this.red),this.b=new t.default(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function g(e,r,n,i){d.BasePoint.call(this,e,"affine"),null===r&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new t.default(r,16),this.y=new t.default(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function b(e,r,n,i){d.BasePoint.call(this,e,"jacobian"),null===r&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t.default(0)):(this.x=new t.default(r,16),this.y=new t.default(n,16),this.z=new t.default(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p(m,d),m.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)r=new t.default(e.beta,16).toRed(this.red);else{var r,n,i,a=this._getEndoRoots(this.p);r=(r=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(e.lambda)n=new t.default(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))?n=s[0]:(n=s[1],h(0===this.g.mul(n).x.cmp(this.g.x.redMul(r))))}return i=e.basis?e.basis.map(function(e){return{a:new t.default(e.a,16),b:new t.default(e.b,16)}}):this._getEndoBasis(n),{beta:r,lambda:n,basis:i}}},m.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:t.default.mont(e),n=new t.default(2).toRed(r).redInvm(),i=n.redNeg(),a=new t.default(3).toRed(r).redNeg().redSqrt().redMul(n);return[i.redAdd(a).fromRed(),i.redSub(a).fromRed()]},m.prototype._getEndoBasis=function(e){for(var r,n,i,a,s,o,u,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),h=new t.default(1),m=new t.default(0),g=new t.default(0),b=new t.default(1),y=0;0!==f.cmpn(0);){var x=p.div(f);l=p.sub(x.mul(f)),c=g.sub(x.mul(h));var A=b.sub(x.mul(m));if(!i&&0>l.cmp(d))r=u.neg(),n=h,i=l.neg(),a=c;else if(i&&2==++y)break;u=l,p=f,f=l,g=h,h=c,b=m,m=A}s=l.neg(),o=c;var w=i.sqr().add(a.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=r,o=n),i.negative&&(i=i.neg(),a=a.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:a},{a:s,b:o}]},m.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),u=i.mul(r.b),l=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:u.add(l).neg()}},m.prototype.pointFromX=function(e,r){(e=new t.default(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)},m.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},m.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],u=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*a]=o,n[2*a+1]=u,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var l=this._wnafMulAdd(1,n,i,2*a,r),c=0;c<2*a;c++)n[c]=null,i[c]=null;return l},p(g,d.BasePoint),m.prototype.point=function(e,t,r){return new g(this,e,t,r)},m.prototype.pointFromJSON=function(e,t){return g.fromJSON(this,e,t)},g.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},g.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(e){return(e=new t.default(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},g.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},g.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},g.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},g.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},g.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},p(b,d.BasePoint),m.prototype.jpoint=function(e,t,r){return new b(this,e,t,r)},b.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},b.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},b.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),u=a.redSub(s);if(0===o.cmpn(0))if(0!==u.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var l=o.redSqr(),c=l.redMul(o),d=n.redMul(l),f=u.redSqr().redIAdd(c).redISub(d).redISub(d),p=u.redMul(d.redISub(f)).redISub(a.redMul(c)),h=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(f,p,h)},b.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))if(0!==o.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var u=s.redSqr(),l=u.redMul(s),c=r.redMul(u),d=o.redSqr().redIAdd(l).redISub(c).redISub(c),f=o.redMul(c.redISub(d)).redISub(i.redMul(l)),p=this.z.redMul(s);return this.curve.jpoint(d,f,p)},b.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,u=o.redSqr().redSqr(),l=s.redAdd(s);for(t=0;t<e;t++){var c=a.redSqr(),d=l.redSqr(),f=d.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),h=a.redMul(d),m=p.redSqr().redISub(h.redAdd(h)),g=h.redISub(m),b=p.redMul(g);b=b.redIAdd(b).redISub(f);var y=l.redMul(o);t+1<e&&(u=u.redMul(f)),a=m,o=y,l=b}return this.curve.jpoint(a,l.redMul(i),o)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},b.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),u=o.redSqr().redISub(s).redISub(s),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=o.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(c).redISub(f);p=p.redIAdd(p);var h=c.redAdd(c).redIAdd(c),m=h.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=h.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},b.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=o.redSqr().redISub(s).redISub(s);e=u;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=o.redMul(s.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var h=f.redIAdd(f),m=(h=h.redIAdd(h)).redAdd(h);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(h.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},b.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(s),c=o.redSqr().redISub(l.redAdd(l)),d=l.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=o.redMul(d).redISub(f),h=r.redAdd(r).redMul(n);return this.curve.jpoint(c,p,h)},b.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(o).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(o)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(d,f,p)},b.prototype.mul=function(e,r){return e=new t.default(e,r),this.curve._wnafMul(this,e)},b.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},b.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},b.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},b.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var y=n(function(e,t){t.base=d,t.short=m,t.mont=null,t.edwards=null}),x=n(function(e,t){var n,i=o.assert;function a(e){"short"===e.type?this.curve=new y.short(e):"edwards"===e.type?this.curve=new y.edwards(e):this.curve=new y.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})});function A(e){if(!(this instanceof A))return new A(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=s.toArray(e.entropy,e.entropyEnc||"hex"),r=s.toArray(e.nonce,e.nonceEnc||"hex"),n=s.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}A.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=0x1000000000000},A.prototype._hmac=function(){return new r.default.hmac(this.hash,this.K)},A.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},A.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=s.toArray(e,t),r=s.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},A.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=s.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,s.encode(a,t)};var w=o.assert;function v(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}v.fromPublic=function(e,t,r){return t instanceof v?t:new v(e,{pub:t,pubEnc:r})},v.fromPrivate=function(e,t,r){return t instanceof v?t:new v(e,{priv:t,privEnc:r})},v.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},v.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},v.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},v.prototype._importPrivate=function(e,r){this.priv=new t.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},v.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?w(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&w(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},v.prototype.derive=function(e){return e.validate()||w(e.validate(),"public point not validated"),e.mul(this.priv).getX()},v.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},v.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},v.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var S=o.assert;function E(e,r){if(e instanceof E)return e;this._importDER(e,r)||(S(e.r&&e.s,"Signature without r or s"),this.r=new t.default(e.r,16),this.s=new t.default(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function k(){this.place=0}function T(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4||0===e[t.place])return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function P(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function I(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}E.prototype._importDER=function(e,r){e=o.toArray(e,r);var n=new k;if(48!==e[n.place++])return!1;var i=T(e,n);if(!1===i||i+n.place!==e.length||2!==e[n.place++])return!1;var a=T(e,n);if(!1===a||(128&e[n.place])!=0)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var u=T(e,n);if(!1===u||e.length!==u+n.place||(128&e[n.place])!=0)return!1;var l=e.slice(n.place,u+n.place);if(0===s[0])if(!(128&s[1]))return!1;else s=s.slice(1);if(0===l[0])if(!(128&l[1]))return!1;else l=l.slice(1);return this.r=new t.default(s),this.s=new t.default(l),this.recoveryParam=null,!0},E.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=P(t),r=P(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];I(n,t.length),(n=n.concat(t)).push(2),I(n,r.length);var i=n.concat(r),a=[48];return I(a,i.length),a=a.concat(i),o.encode(a,e)};var _=function(){throw Error("unsupported")},N=o.assert;function B(e){if(!(this instanceof B))return new B(e);"string"==typeof e&&(N(Object.prototype.hasOwnProperty.call(x,e),"Unknown curve "+e),e=x[e]),e instanceof x.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}B.prototype.keyPair=function(e){return new v(this,e)},B.prototype.keyFromPrivate=function(e,t){return v.fromPrivate(this,e,t)},B.prototype.keyFromPublic=function(e,t){return v.fromPublic(this,e,t)},B.prototype.genKeyPair=function(e){e||(e={});for(var r=new A({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new t.default(2));;){var a=new t.default(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}},B.prototype._truncateToN=function(e,r,n){if(t.default.isBN(e)||"number"==typeof e)i=(e=new t.default(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new t.default(e,16);else{var i,a=e.toString();i=a.length+1>>>1,e=new t.default(a,16)}"number"!=typeof n&&(n=8*i);var s=n-this.n.bitLength();return(s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0)?e.sub(this.n):e},B.prototype.sign=function(e,r,n,i){if("object"==typeof n&&(i=n,n=null),i||(i={}),"string"!=typeof e&&"number"!=typeof e&&!t.default.isBN(e)){N("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),N(e.length>>>0===e.length);for(var a=0;a<e.length;a++)N((255&e[a])===e[a])}r=this.keyFromPrivate(r,n),N(!(e=this._truncateToN(e,!1,i.msgBitLength)).isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),u=e.toArray("be",s);N(new t.default(u).eq(e),"Can not sign message");for(var l=new A({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new t.default(1)),d=0;;d++){var f=i.k?i.k(d):new t.default(l.generate(this.n.byteLength()));if(0>=(f=this._truncateToN(f,!0)).cmpn(1)||f.cmp(c)>=0)continue;var p=this.g.mul(f);if(!p.isInfinity()){var h=p.getX(),m=h.umod(this.n);if(0!==m.cmpn(0)){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=!!p.getY().isOdd()|2*(0!==h.cmp(m));return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new E({r:m,s:g,recoveryParam:b})}}}}},B.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var a,s=(t=new E(t,"hex")).r,o=t.s;if(0>s.cmpn(1)||s.cmp(this.n)>=0||0>o.cmpn(1)||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),l=u.mul(e).umod(this.n),c=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),c)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},B.prototype.recoverPubKey=function(e,r,n,i){N((3&n)===n,"The recovery param is more than two bits"),r=new E(r,i);var a=this.n,s=new t.default(e),o=r.r,u=r.s,l=1&n,c=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),l):this.curve.pointFromX(o,l);var d=r.r.invm(a),f=a.sub(s).mul(d).umod(a),p=u.mul(d).umod(a);return this.g.mulAdd(f,o,p)},B.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new E(t,n)).recoveryParam)return t.recoveryParam;for(var i,a=0;a<4;a++){try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw Error("Unable to find valid recovery factor")};var R=n(function(e,t){t.version="6.6.1",t.utils=o,t.rand=function(){throw Error("unsupported")},t.curve=y,t.curves=x,t.ec=B,t.eddsa=null}).ec,C=e.i(403011),O=e.i(526579);let D=new(e.i(875353)).Logger("signing-key/5.8.0"),U=null;function F(){return U||(U=new R("secp256k1")),U}class M{constructor(e){(0,O.defineReadOnly)(this,"curve","secp256k1"),(0,O.defineReadOnly)(this,"privateKey",(0,C.hexlify)(e)),32!==(0,C.hexDataLength)(this.privateKey)&&D.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=F().keyFromPrivate((0,C.arrayify)(this.privateKey));(0,O.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,O.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,O.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let t=F().keyFromPublic((0,C.arrayify)(this.publicKey)),r=F().keyFromPublic((0,C.arrayify)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=F().keyFromPrivate((0,C.arrayify)(this.privateKey)),r=(0,C.arrayify)(e);32!==r.length&&D.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return(0,C.splitSignature)({recoveryParam:n.recoveryParam,r:(0,C.hexZeroPad)("0x"+n.r.toString(16),32),s:(0,C.hexZeroPad)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=F().keyFromPrivate((0,C.arrayify)(this.privateKey)),r=F().keyFromPublic((0,C.arrayify)(K(e)));return(0,C.hexZeroPad)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function L(e,t){let r=(0,C.splitSignature)(t),n={r:(0,C.arrayify)(r.r),s:(0,C.arrayify)(r.s)};return"0x"+F().recoverPubKey((0,C.arrayify)(e),n,r.recoveryParam).encode("hex",!1)}function K(e,t){let r=(0,C.arrayify)(e);if(32===r.length){let e=new M(r);return t?"0x"+F().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?(0,C.hexlify)(r):"0x"+F().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+F().keyFromPublic(r).getPublic(!0,"hex"):(0,C.hexlify)(r):D.throwArgumentError("invalid public or private key","key","[REDACTED]")}e.s(["SigningKey",()=>M,"computePublicKey",()=>K,"recoverPublicKey",()=>L],346469)},840722,e=>{"use strict";var t,r,n=e.i(47771),i=e.i(839341),a=e.i(403011),s=e.i(25363),o=e.i(447172),u=e.i(526579),l=e.i(222223),c=e.i(346469),d=e.i(875353);let f=new d.Logger("transactions/5.8.0");function p(e){return"0x"===e?null:(0,n.getAddress)(e)}function h(e){return"0x"===e?s.Zero:i.BigNumber.from(e)}(t=r||(r={}))[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559";let m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],g={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function b(e){let t=(0,c.computePublicKey)(e);return(0,n.getAddress)((0,a.hexDataSlice)((0,o.keccak256)((0,a.hexDataSlice)(t,1)),12))}function y(e,t){return b((0,c.recoverPublicKey)((0,a.arrayify)(e),t))}function x(e,t){let r=(0,a.stripZeros)(i.BigNumber.from(e).toHexString());return r.length>32&&f.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function A(e,t){return{address:(0,n.getAddress)(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,a.hexDataLength)(t)&&f.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function w(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),A(e[0],e[1])):A(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return A(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function v(e){return w(e).map(e=>[e.address,e.storageKeys])}function S(e,t){if(null!=e.gasPrice){let t=i.BigNumber.from(e.gasPrice),r=i.BigNumber.from(e.maxFeePerGas||0);t.eq(r)||f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),x(e.maxFeePerGas||0,"maxFeePerGas"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x02",l.encode(r)])}function E(e,t){let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.gasPrice||0,"gasPrice"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x01",l.encode(r)])}function k(e,t){if(null==e.type||0===e.type){null!=e.accessList&&f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e);(0,u.checkProperties)(e,g);let r=[];m.forEach(function(t){let n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=(0,a.arrayify)((0,a.hexlify)(n,i)),t.length&&n.length!==t.length&&n.length>0&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,a.stripZeros)(n)).length>t.maxLength&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push((0,a.hexlify)(n))});let n=0;if(null!=e.chainId?"number"!=typeof(n=e.chainId)&&f.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,a.isBytesLike)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,a.hexlify)(n)),r.push("0x"),r.push("0x")),!t)return l.encode(r);let i=(0,a.splitSignature)(t),s=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),s+=2*n+8,i.v>28&&i.v!==s&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==s&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,a.hexlify)(s)),r.push((0,a.stripZeros)((0,a.arrayify)(i.r))),r.push((0,a.stripZeros)((0,a.arrayify)(i.s))),l.encode(r)}switch(e.type){case 1:return E(e,t);case 2:return S(e,t)}return f.throwError(`unsupported transaction type: ${e.type}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function T(e,t,r){try{let r=h(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){f.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,a.hexZeroPad)(t[1],32),e.s=(0,a.hexZeroPad)(t[2],32);try{let t=(0,o.keccak256)(r(e));e.from=y(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function P(e){let t=(0,a.arrayify)(e);if(t[0]>127)return function(e){let t=l.decode(e);9!==t.length&&6!==t.length&&f.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:h(t[0]).toNumber(),gasPrice:h(t[1]),gasLimit:h(t[2]),to:p(t[3]),value:h(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=i.BigNumber.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,a.hexZeroPad)(t[7],32),r.s=(0,a.hexZeroPad)(t[8],32),i.BigNumber.from(r.r).isZero()&&i.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push((0,a.hexlify)(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let s=(0,o.keccak256)(l.encode(i));try{r.from=y(s,{r:(0,a.hexlify)(r.r),s:(0,a.hexlify)(r.s),recoveryParam:n})}catch(e){}r.hash=(0,o.keccak256)(e)}return r.type=null,r}(t);switch(t[0]){case 1:let r,n;return 8!==(r=l.decode(t.slice(1))).length&&11!==r.length&&f.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.hexlify)(t)),n={type:1,chainId:h(r[0]).toNumber(),nonce:h(r[1]).toNumber(),gasPrice:h(r[2]),gasLimit:h(r[3]),to:p(r[4]),value:h(r[5]),data:r[6],accessList:w(r[7])},8===r.length||(n.hash=(0,o.keccak256)(t),T(n,r.slice(8),E)),n;case 2:let s,u,c,m;return 9!==(s=l.decode(t.slice(1))).length&&12!==s.length&&f.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.hexlify)(t)),u=h(s[2]),c=h(s[3]),m={type:2,chainId:h(s[0]).toNumber(),nonce:h(s[1]).toNumber(),maxPriorityFeePerGas:u,maxFeePerGas:c,gasPrice:null,gasLimit:h(s[4]),to:p(s[5]),value:h(s[6]),data:s[7],accessList:w(s[8])},9===s.length||(m.hash=(0,o.keccak256)(t),T(m,s.slice(9),S)),m}return f.throwError(`unsupported transaction type: ${t[0]}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}e.s(["TransactionTypes",()=>r,"accessListify",()=>w,"computeAddress",()=>b,"parse",()=>P,"recoverAddress",()=>y,"serialize",()=>k],840722)},142621,849266,407224,e=>{"use strict";var t=e.i(403011),r=e.i(447172),n=e.i(840858);let i="\x19Ethereum Signed Message:\n";function a(e){return"string"==typeof e&&(e=(0,n.toUtf8Bytes)(e)),(0,r.keccak256)((0,t.concat)([(0,n.toUtf8Bytes)(i),(0,n.toUtf8Bytes)(String(e.length)),e]))}e.s(["hashMessage",()=>a,"messagePrefix",0,i],142621);var s=e.i(47771),o=e.i(839341),u=e.i(526579),l=e.i(875353);let c="hash/5.8.0";e.s(["version",0,c],849266);var d=e.i(83090);let f=new l.Logger(c),p=new Uint8Array(32);p.fill(0);let h=o.BigNumber.from(-1),m=o.BigNumber.from(0),g=o.BigNumber.from(1),b=o.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),y=(0,t.hexZeroPad)(g.toHexString(),32),x=(0,t.hexZeroPad)(m.toHexString(),32),A={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},w=["name","version","chainId","verifyingContract","salt"];function v(e){return function(t){return"string"!=typeof t&&f.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let S={name:v("name"),version:v("version"),chainId:function(e){try{return o.BigNumber.from(e).toString()}catch(e){}return f.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,s.getAddress)(e).toLowerCase()}catch(e){}return f.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let r=(0,t.arrayify)(e);if(32!==r.length)throw Error("bad length");return(0,t.hexlify)(r)}catch(e){}return f.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function E(e){{let r=e.match(/^(u?)int(\d*)$/);if(r){let n=""===r[1],i=parseInt(r[2]||"256");(i%8!=0||i>256||r[2]&&r[2]!==String(i))&&f.throwArgumentError("invalid numeric width","type",e);let a=b.mask(n?i-1:i),s=n?a.add(g).mul(h):m;return function(r){let n=o.BigNumber.from(r);return(n.lt(s)||n.gt(a))&&f.throwArgumentError(`value out-of-bounds for ${e}`,"value",r),(0,t.hexZeroPad)(n.toTwos(256).toHexString(),32)}}}{let r=e.match(/^bytes(\d+)$/);if(r){let n=parseInt(r[1]);return(0===n||n>32||r[1]!==String(n))&&f.throwArgumentError("invalid bytes width","type",e),function(r){let i,a;return(0,t.arrayify)(r).length!==n&&f.throwArgumentError(`invalid length for ${e}`,"value",r),(a=(i=(0,t.arrayify)(r)).length%32)?(0,t.hexConcat)([i,p.slice(a)]):(0,t.hexlify)(i)}}}switch(e){case"address":return function(e){return(0,t.hexZeroPad)((0,s.getAddress)(e),32)};case"bool":return function(e){return e?y:x};case"bytes":return function(e){return(0,r.keccak256)(e)};case"string":return function(e){return(0,d.id)(e)}}return null}function k(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class T{constructor(e){(0,u.defineReadOnly)(this,"types",Object.freeze((0,u.deepCopy)(e))),(0,u.defineReadOnly)(this,"_encoderCache",{}),(0,u.defineReadOnly)(this,"_types",{});const t={},r={},n={};for(const i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){const n={};e[i].forEach(a=>{n[a.name]&&f.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(i)}`,"types",e),n[a.name]=!0;let s=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&f.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),E(s)||(r[s]||f.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),r[s].push(i),t[i][s]=!0)})}const i=Object.keys(r).filter(e=>0===r[e].length);for(const a in 0===i.length?f.throwArgumentError("missing primary type","types",e):i.length>1&&f.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,u.defineReadOnly)(this,"primaryType",i[0]),!function i(a,s){s[a]&&f.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),s[a]=!0,Object.keys(t[a]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[a]}(this.primaryType,{}),n){const t=Object.keys(n[a]);t.sort(),this._types[a]=k(a,e[a])+t.map(t=>k(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=E(e);if(t)return t}let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=this.getEncoder(e),a=parseInt(n[3]);return n=>{a>=0&&n.length!==a&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n);let s=n.map(i);return this._types[e]&&(s=s.map(r.keccak256)),(0,r.keccak256)((0,t.hexConcat)(s))}}let i=this.types[e];if(i){let n=(0,d.id)(this._types[e]);return e=>{let a=i.map(({name:t,type:n})=>{let i=this.getEncoder(n)(e[t]);return this._types[n]?(0,r.keccak256)(i):i});return a.unshift(n),(0,t.hexConcat)(a)}}return f.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||f.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,r.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(E(e))return r(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):f.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new T(e)}static getPrimaryType(e){return T.from(e).primaryType}static hashStruct(e,t,r){return T.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=A[r];n||f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>w.indexOf(e.name)-w.indexOf(t.name)),T.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,r,n){return(0,t.hexConcat)(["0x1901",T.hashDomain(e),T.from(r).hash(n)])}static hash(e,t,n){return(0,r.keccak256)(T.encode(e,t,n))}static resolveNames(e,r,n,i){var a,s,o,l;return a=this,s=void 0,o=void 0,l=function*(){e=(0,u.shallowCopy)(e);let a={};e.verifyingContract&&!(0,t.isHexString)(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let s=T.from(r);for(let e in s.visit(n,(e,r)=>("address"!==e||(0,t.isHexString)(r,20)||(a[r]="0x"),r)),a)a[e]=yield i(e);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(e,t)=>"address"===e&&a[t]?a[t]:t),{domain:e,value:n}},new(o||(o=Promise))(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(r,n)}i((l=l.apply(a,s||[])).next())})}static getPayload(e,r,n){T.hashDomain(e);let i={},a=[];w.forEach(t=>{let r=e[t];null!=r&&(i[t]=S[t](r),a.push({name:t,type:A[t]}))});let s=T.from(r),l=(0,u.shallowCopy)(r);return l.EIP712Domain?f.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):l.EIP712Domain=a,s.encode(n),{types:l,domain:i,primaryType:s.primaryType,message:s.visit(n,(e,r)=>{if(e.match(/^bytes(\d*)/))return(0,t.hexlify)((0,t.arrayify)(r));if(e.match(/^u?int/))return o.BigNumber.from(r).toString();switch(e){case"address":return r.toLowerCase();case"bool":return!!r;case"string":return"string"!=typeof r&&f.throwArgumentError("invalid string","value",r),r}return f.throwArgumentError("unsupported type","type",e)})}}}e.s(["TypedDataEncoder",()=>T],407224)},206641,e=>{"use strict";var t=e.i(403011),r=e.i(526579);class n{constructor(e){(0,r.defineReadOnly)(this,"alphabet",e),(0,r.defineReadOnly)(this,"base",e.length),(0,r.defineReadOnly)(this,"_alphabetMap",{}),(0,r.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let r=(0,t.arrayify)(e);if(0===r.length)return"";let n=[0];for(let e=0;e<r.length;++e){let t=r[e];for(let e=0;e<n.length;++e)t+=n[e]<<8,n[e]=t%this.base,t=t/this.base|0;for(;t>0;)n.push(t%this.base),t=t/this.base|0}let i="";for(let e=0;0===r[e]&&e<r.length-1;++e)i+=this._leader;for(let e=n.length-1;e>=0;--e)i+=this.alphabet[n[e]];return i}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let r=[];if(0===e.length)return new Uint8Array(r);r.push(0);for(let t=0;t<e.length;t++){let n=this._alphabetMap[e[t]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<r.length;++e)i+=r[e]*this.base,r[e]=255&i,i>>=8;for(;i>0;)r.push(255&i),i>>=8}for(let t=0;e[t]===this._leader&&t<e.length-1;++t)r.push(0);return(0,t.arrayify)(new Uint8Array(r.reverse()))}}let i=new n("abcdefghijklmnopqrstuvwxyz234567"),a=new n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");e.s(["Base32",()=>i,"Base58",()=>a,"BaseX",()=>n])},942558,691846,e=>{"use strict";var t,r,n=e.i(70148),i=e.i(403011);(t=r||(r={})).sha256="sha256",t.sha512="sha512",e.s(["SupportedAlgorithm",()=>r],691846);var a=e.i(875353);let s=new a.Logger("sha2/5.8.0");function o(e){return"0x"+n.default.ripemd160().update((0,i.arrayify)(e)).digest("hex")}function u(e){return"0x"+n.default.sha256().update((0,i.arrayify)(e)).digest("hex")}function l(e){return"0x"+n.default.sha512().update((0,i.arrayify)(e)).digest("hex")}function c(e,t,o){return r[e]||s.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+n.default.hmac(n.default[e],(0,i.arrayify)(t)).update((0,i.arrayify)(o)).digest("hex")}e.s(["computeHmac",()=>c,"ripemd160",()=>o,"sha256",()=>u,"sha512",()=>l],942558)},891368,957508,422955,309302,e=>{"use strict";var t=e.i(206641),r=e.i(403011),n=e.i(839341),i=e.i(840858),a=e.i(942558);function s(e,t,n,i,s){let o,u,l;e=(0,r.arrayify)(e),t=(0,r.arrayify)(t);let c=1,d=new Uint8Array(i),f=new Uint8Array(t.length+4);f.set(t);for(let p=1;p<=c;p++){f[t.length]=p>>24&255,f[t.length+1]=p>>16&255,f[t.length+2]=p>>8&255,f[t.length+3]=255&p;let h=(0,r.arrayify)((0,a.computeHmac)(s,e,f));o||(l=new Uint8Array(o=h.length),c=Math.ceil(i/o),u=i-(c-1)*o),l.set(h);for(let t=1;t<n;t++){h=(0,r.arrayify)((0,a.computeHmac)(s,e,h));for(let e=0;e<o;e++)l[e]^=h[e]}let m=(p-1)*o,g=p===c?u:o;d.set((0,r.arrayify)(l).slice(0,g),m)}return(0,r.hexlify)(d)}e.s(["pbkdf2",()=>s],957508);var o=e.i(526579),u=e.i(346469),l=e.i(691846),c=e.i(840722),d=e.i(83090),f=e.i(875353);let p=new f.Logger("wordlists/5.8.0");class h{constructor(e){p.checkAbstract(new.target,h),(0,o.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let t=[];for(let r=0;r<2048;r++){let n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return(0,d.id)(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}e.s(["Wordlist",()=>h],422955);let m=null;function g(e){if(null==m&&(m="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==h.check(e)))throw m=null,Error("BIP39 Wordlist for en (English) FAILED")}let b=new class extends h{constructor(){super("en")}getWord(e){return g(this),m[e]}getWordIndex(e){return g(this),m.indexOf(e)}};h.register(b);let y={en:b};e.s(["wordlists",0,y],309302);let x=new f.Logger("hdnode/5.8.0"),A=n.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),w=(0,i.toUtf8Bytes)("Bitcoin seed");function v(e){return(1<<e)-1<<8-e}function S(e){return(0,r.hexZeroPad)((0,r.hexlify)(e),32)}function E(e){return t.Base58.encode((0,r.concat)([e,(0,r.hexDataSlice)((0,a.sha256)((0,a.sha256)(e)),0,4)]))}function k(e){if(null==e)return y.en;if("string"==typeof e){let t=y[e];return null==t&&x.throwArgumentError("unknown locale","wordlist",e),t}return e}let T={};class P{constructor(e,t,n,i,s,l,d,f){if(e!==T)throw Error("HDNode constructor cannot be called directly");if(t){const e=new u.SigningKey(t);(0,o.defineReadOnly)(this,"privateKey",e.privateKey),(0,o.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else(0,o.defineReadOnly)(this,"privateKey",null),(0,o.defineReadOnly)(this,"publicKey",(0,r.hexlify)(n));(0,o.defineReadOnly)(this,"parentFingerprint",i),(0,o.defineReadOnly)(this,"fingerprint",(0,r.hexDataSlice)((0,a.ripemd160)((0,a.sha256)(this.publicKey)),0,4)),(0,o.defineReadOnly)(this,"address",(0,c.computeAddress)(this.publicKey)),(0,o.defineReadOnly)(this,"chainCode",s),(0,o.defineReadOnly)(this,"index",l),(0,o.defineReadOnly)(this,"depth",d),null==f?((0,o.defineReadOnly)(this,"mnemonic",null),(0,o.defineReadOnly)(this,"path",null)):"string"==typeof f?((0,o.defineReadOnly)(this,"mnemonic",null),(0,o.defineReadOnly)(this,"path",f)):((0,o.defineReadOnly)(this,"mnemonic",f),(0,o.defineReadOnly)(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return E((0,r.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,r.hexlify)(this.depth),this.parentFingerprint,(0,r.hexZeroPad)((0,r.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,r.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new P(T,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>0xffffffff)throw Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(0x7fffffff&e));let i=new Uint8Array(37);if(0x80000000&e){if(!this.privateKey)throw Error("cannot derive child of neutered node");i.set((0,r.arrayify)(this.privateKey),1),t&&(t+="'")}else i.set((0,r.arrayify)(this.publicKey));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;let s=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,this.chainCode,i)),o=s.slice(0,32),c=s.slice(32),d=null,f=null;this.privateKey?d=S(n.BigNumber.from(o).add(this.privateKey).mod(A)):f=new u.SigningKey((0,r.hexlify)(o))._addPoint(this.publicKey);let p=t,h=this.mnemonic;return h&&(p=Object.freeze({phrase:h.phrase,path:t,locale:h.locale||"en"})),new P(T,d,f,this.fingerprint,S(c),e,this.depth+1,p)}derivePath(e){let t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){let n=t[e];if(n.match(/^[0-9]+'$/)){let e=parseInt(n.substring(0,n.length-1));if(e>=0x80000000)throw Error("invalid path index - "+n);r=r._derive(0x80000000+e)}else if(n.match(/^[0-9]+$/)){let e=parseInt(n);if(e>=0x80000000)throw Error("invalid path index - "+n);r=r._derive(e)}else throw Error("invalid path component - "+n)}return r}static _fromSeed(e,t){let n=(0,r.arrayify)(e);if(n.length<16||n.length>64)throw Error("invalid seed");let i=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,w,n));return new P(T,S(i.slice(0,32)),null,"0x00000000",S(i.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=k(r),e=N(_(e,r),r),P._fromSeed(I(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return P._fromSeed(e,null)}static fromExtendedKey(e){let n=t.Base58.decode(e);(82!==n.length||E(n.slice(0,78))!==e)&&x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let i=n[4],a=(0,r.hexlify)(n.slice(5,9)),s=parseInt((0,r.hexlify)(n.slice(9,13)).substring(2),16),o=(0,r.hexlify)(n.slice(13,45)),u=n.slice(45,78);switch((0,r.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new P(T,null,(0,r.hexlify)(u),a,o,s,i,null);case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new P(T,(0,r.hexlify)(u.slice(1)),null,a,o,s,i,null)}return x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function I(e,t){t||(t="");let r=(0,i.toUtf8Bytes)("mnemonic"+t,i.UnicodeNormalizationForm.NFKD);return s((0,i.toUtf8Bytes)(e,i.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function _(e,t){t=k(t),x.checkNormalize();let n=t.split(e);if(n.length%3!=0)throw Error("invalid mnemonic");let i=(0,r.arrayify)(new Uint8Array(Math.ceil(11*n.length/8))),s=0;for(let e=0;e<n.length;e++){let r=t.getWordIndex(n[e].normalize("NFKD"));if(-1===r)throw Error("invalid mnemonic");for(let e=0;e<11;e++)r&1<<10-e&&(i[s>>3]|=1<<7-s%8),s++}let o=32*n.length/3,u=v(n.length/3);if(((0,r.arrayify)((0,a.sha256)(i.slice(0,o/8)))[0]&u)!=(i[i.length-1]&u))throw Error("invalid checksum");return(0,r.hexlify)(i.slice(0,o/8))}function N(e,t){if(t=k(t),(e=(0,r.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw Error("invalid entropy");let n=[0],i=11;for(let t=0;t<e.length;t++)i>8?(n[n.length-1]<<=8,n[n.length-1]|=e[t],i-=8):(n[n.length-1]<<=i,n[n.length-1]|=e[t]>>8-i,n.push(e[t]&(1<<8-i)-1),i+=3);let s=e.length/4,o=(0,r.arrayify)((0,a.sha256)(e))[0]&v(s);return n[n.length-1]<<=s,n[n.length-1]|=o>>8-s,t.join(n.map(e=>t.getWord(e)))}function B(e,t){try{return _(e,t),!0}catch(e){}return!1}function R(e){return("number"!=typeof e||e<0||e>=0x80000000||e%1)&&x.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}e.s(["HDNode",()=>P,"defaultPath",0,"m/44'/60'/0'/0/0","entropyToMnemonic",()=>N,"getAccountPath",()=>R,"isValidMnemonic",()=>B,"mnemonicToEntropy",()=>_,"mnemonicToSeed",()=>I],891368)},666843,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let n=new r.Logger("random/5.8.0"),i="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,a=i.crypto||i.msCrypto;function s(e){(e<=0||e>1024||e%1||e!=e)&&n.throwArgumentError("invalid length","length",e);let r=new Uint8Array(e);return a.getRandomValues(r),(0,t.arrayify)(r)}a&&a.getRandomValues||(n.warn("WARNING: Missing strong random number source"),a={getRandomValues:function(e){return n.throwError("no secure random source avaialble",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),e.s(["randomBytes",()=>s],666843)},317865,(e,t,r)=>{"use strict";!function(e){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function s(e,t,r,n,i){(null!=n||null!=i)&&(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var o,u=(o="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(o[(240&n)>>4]+o[15&n])}return t.join("")}}),l={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],h=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],m=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],g=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],b=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],y=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],x=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],A=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],w=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],v=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],S=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],E=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function k(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};T.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var r=(e+1)*4,n=this.key.length/4,i=k(this.key),t=0;t<n;t++)a=t>>2,this._Ke[a][t%4]=i[t],this._Kd[e-a][t%4]=i[t];for(var a,s,o=0,u=n;u<r;){if(s=i[n-1],i[0]^=d[s>>16&255]<<24^d[s>>8&255]<<16^d[255&s]<<8^d[s>>24&255]^c[o]<<24,o+=1,8!=n)for(var t=1;t<n;t++)i[t]^=i[t-1];else{for(var t=1;t<n/2;t++)i[t]^=i[t-1];s=i[n/2-1],i[n/2]^=d[255&s]^d[s>>8&255]<<8^d[s>>16&255]<<16^d[s>>24&255]<<24;for(var t=n/2+1;t<n;t++)i[t]^=i[t-1]}for(var f,p,t=0;t<n&&u<r;)f=u>>2,p=u%4,this._Ke[f][p]=i[t],this._Kd[e-f][p]=i[t++],u++}for(var f=1;f<e;f++)for(var p=0;p<4;p++)s=this._Kd[f][p],this._Kd[f][p]=w[s>>24&255]^v[s>>16&255]^S[s>>8&255]^E[255&s]},T.prototype.encrypt=function(e){if(16!=e.length)throw Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=k(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(var i=0;i<4;i++)r[i]=p[n[i]>>24&255]^h[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^g[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}for(var o,u=a(16),i=0;i<4;i++)o=this._Ke[t][i],u[4*i]=(d[n[i]>>24&255]^o>>24)&255,u[4*i+1]=(d[n[(i+1)%4]>>16&255]^o>>16)&255,u[4*i+2]=(d[n[(i+2)%4]>>8&255]^o>>8)&255,u[4*i+3]=(d[255&n[(i+3)%4]]^o)&255;return u},T.prototype.decrypt=function(e){if(16!=e.length)throw Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=k(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(var i=0;i<4;i++)r[i]=b[n[i]>>24&255]^y[n[(i+3)%4]>>16&255]^x[n[(i+2)%4]>>8&255]^A[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}for(var o,u=a(16),i=0;i<4;i++)o=this._Kd[t][i],u[4*i]=(f[n[i]>>24&255]^o>>24)&255,u[4*i+1]=(f[n[(i+3)%4]>>16&255]^o>>16)&255,u[4*i+2]=(f[n[(i+2)%4]>>8&255]^o>>8)&255,u[4*i+3]=(f[255&n[(i+1)%4]]^o)&255;return u};var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new T(e)};P.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},P.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=i(t,!0),this._aes=new T(e)};I.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var o=0;o<16;o++)r[o]^=this._lastCipherblock[o];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},I.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var o=0;o<16;o++)t[n+o]=r[o]^this._lastCipherblock[o];s(e,this._lastCipherblock,0,n,n+16)}return t};var _=function(e,t,r){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 size)")}else t=a(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new T(e)};_.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},_.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new T(e)};N.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var B=function(e){if(!(this instanceof B))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};B.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},B.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},B.prototype.increment=function(){for(var e=15;e>=0;e--)if(255===this._counter[e])this._counter[e]=0;else{this._counter[e]++;break}};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof B||(t=new B(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new T(e)};R.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},R.prototype.decrypt=R.prototype.encrypt,t.exports={AES:T,Counter:B,ModeOfOperation:{ecb:P,cbc:I,cfb:_,ofb:N,ctr:R},utils:{hex:u,utf8:{toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}}},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=a(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw Error("PKCS#7 invalid padding byte");var o=a(r);return s(e,o,0,0,r),o}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:s}}}(e.e)},47913,(e,t,r)=>{"use strict";!function(e){function r(e){let t=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),r=0x6a09e667,n=0xbb67ae85,i=0x3c6ef372,a=0xa54ff53a,s=0x510e527f,o=0x9b05688c,u=0x1f83d9ab,l=0x5be0cd19,c=new Uint32Array(64);function d(e){let d=0,f=e.length;for(;f>=64;){let p=r,h=n,m=i,g=a,b=s,y=o,x=u,A=l,w,v,S,E,k;for(v=0;v<16;v++)S=d+4*v,c[v]=(255&e[S])<<24|(255&e[S+1])<<16|(255&e[S+2])<<8|255&e[S+3];for(v=16;v<64;v++)E=((w=c[v-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,k=((w=c[v-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,c[v]=(E+c[v-7]|0)+(k+c[v-16]|0)|0;for(v=0;v<64;v++)E=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&y^~b&x)|0)+(A+(t[v]+c[v]|0)|0)|0,k=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&h^p&m^h&m)|0,A=x,x=y,y=b,b=g+E|0,g=m,m=h,h=p,p=E+k|0;r=r+p|0,n=n+h|0,i=i+m|0,a=a+g|0,s=s+b|0,o=o+y|0,u=u+x|0,l=l+A|0,d+=64,f-=64}}d(e);let f,p=e.length%64,h=e.length/0x20000000|0,m=e.length<<3,g=p<56?56:120,b=e.slice(e.length-p,e.length);for(b.push(128),f=p+1;f<g;f++)b.push(0);return b.push(h>>>24&255),b.push(h>>>16&255),b.push(h>>>8&255),b.push(h>>>0&255),b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),d(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function n(e,t,n){let i;e=e.length<=64?e:r(e);let a=64+t.length+4,s=Array(a),o=Array(64),u=[];for(i=0;i<64;i++)s[i]=54;for(i=0;i<e.length;i++)s[i]^=e[i];for(i=0;i<t.length;i++)s[64+i]=t[i];for(i=a-4;i<a;i++)s[i]=0;for(i=0;i<64;i++)o[i]=92;for(i=0;i<e.length;i++)o[i]^=e[i];function l(){for(let e=a-1;e>=a-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;n>=32;)l(),u=u.concat(r(o.concat(r(s)))),n-=32;return n>0&&(l(),u=u.concat(r(o.concat(r(s))).slice(0,n))),u}function i(e,t,r,n,i){let u;for(o(e,(2*r-1)*16,i,0,16),u=0;u<2*r;u++)s(e,16*u,i,16),function(e,t){o(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}(i,n),o(i,0,e,t+16*u,16);for(u=0;u<r;u++)o(e,t+2*u*16,e,16*u,16);for(u=0;u<r;u++)o(e,t+(2*u+1)*16,e,(u+r)*16,16)}function a(e,t){return e<<t|e>>>32-t}function s(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function o(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){let r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function l(e,t){if("number"!=typeof e||e%1)throw Error("invalid "+t);return e}function c(e,t,r,a,c,d,f){let p;if(r=l(r,"N"),a=l(a,"r"),c=l(c,"p"),d=l(d,"dkLen"),0===r||(r&r-1)!=0)throw Error("N must be power of 2");if(r>0x7fffffff/128/a)throw Error("N too large");if(a>0x7fffffff/128/c)throw Error("r too large");if(!u(e))throw Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let h=n(e,t,128*c*a),m=new Uint32Array(32*c*a);for(let e=0;e<m.length;e++){let t=4*e;m[e]=(255&h[t+3])<<24|(255&h[t+2])<<16|(255&h[t+1])<<8|255&h[t+0]}let g=new Uint32Array(64*a),b=new Uint32Array(32*a*r),y=32*a,x=new Uint32Array(16),A=new Uint32Array(16),w=c*r*2,v=0,S=null,E=!1,k=0,T=0,P,I=f?parseInt(1e3/a):0xffffffff,_="undefined"!=typeof setImmediate?setImmediate:setTimeout,N=function(){let t;if(E)return f(Error("cancelled"),v/w);switch(k){case 0:o(m,p=32*T*a,g,0,y),k=1,P=0;case 1:(t=r-P)>I&&(t=I);for(let e=0;e<t;e++)o(g,0,b,(P+e)*y,y),i(g,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(E=f(null,v/w))break;S=e}}if(P<r)break;P=0,k=2;case 2:(t=r-P)>I&&(t=I);for(let e=0;e<t;e++)s(b,(g[(2*a-1)*16]&r-1)*y,g,y),i(g,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(E=f(null,v/w))break;S=e}}if(P<r)break;if(o(g,0,m,p,y),++T<c){k=0;break}h=[];for(let e=0;e<m.length;e++)h.push(255&m[e]),h.push(m[e]>>8&255),h.push(m[e]>>16&255),h.push(m[e]>>24&255);let u=n(e,h,d);return f&&f(null,1,u),u}f&&_(N)};if(!f)for(;;){let e=N();if(void 0!=e)return e}N()}t.exports={scrypt:function(e,t,r,n,i,a,s){return new Promise(function(o,u){let l=0;s&&s(0),c(e,t,r,n,i,a,function(e,t,r){if(e)u(e);else if(r)s&&1!==l&&s(1),o(new Uint8Array(r));else if(s&&t!==l)return l=t,s(t)})})},syncScrypt:function(e,t,r,n,i,a){return new Uint8Array(c(e,t,r,n,i,a))}}}(e.e)},896350,828054,407351,592875,e=>{"use strict";var t=e.i(317865),r=e.i(47771),n=e.i(403011),i=e.i(447172),a=e.i(957508),s=e.i(840858),o=e.i(526579),u=e.i(875353);let l="json-wallets/5.8.0";function c(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,n.arrayify)(e)}function d(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function f(e){return"string"==typeof e?(0,s.toUtf8Bytes)(e,s.UnicodeNormalizationForm.NFKC):(0,n.arrayify)(e)}function p(e,t){let r=e,n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(let i in r)if(i.toLowerCase()===n[e]){t=r[i];break}if(null===t)return null;r=t}return r}let h=new u.Logger(l);class m extends o.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function g(e,o){let u=JSON.parse(e);o=f(o);let l=(0,r.getAddress)(p(u,"ethaddr")),d=c(p(u,"encseed"));d&&d.length%16==0||h.throwArgumentError("invalid encseed","json",e);let g=(0,n.arrayify)((0,a.pbkdf2)(o,o,2e3,32,"sha256")).slice(0,16),b=d.slice(0,16),y=d.slice(16),x=new t.default.ModeOfOperation.cbc(g,b),A=t.default.padding.pkcs7.strip((0,n.arrayify)(x.decrypt(y))),w="";for(let e=0;e<A.length;e++)w+=String.fromCharCode(A[e]);let v=(0,s.toUtf8Bytes)(w);return new m({_isCrowdsaleAccount:!0,address:l,privateKey:(0,i.keccak256)(v)})}function b(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function y(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!!t.version&&parseInt(t.version)===t.version&&3===parseInt(t.version)}function x(e){if(b(e))try{return(0,r.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(y(e))try{return(0,r.getAddress)(JSON.parse(e).address)}catch(e){}return null}e.s(["decrypt",()=>g],828054),e.s(["getJsonWalletAddress",()=>x,"isCrowdsaleWallet",()=>b,"isKeystoreWallet",()=>y],407351);var A=e.i(47913),w=e.i(891368),v=e.i(666843),S=o,E=e.i(840722);let k=new u.Logger(l);function T(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class P extends S.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function I(e,a){let s=c(p(e,"crypto/ciphertext"));if((0,n.hexlify)((0,i.keccak256)((0,n.concat)([a.slice(16,32),s]))).substring(2)!==p(e,"crypto/mac").toLowerCase())throw Error("invalid password");let o=function(e,r,i){if("aes-128-ctr"===p(e,"crypto/cipher")){let a=c(p(e,"crypto/cipherparams/iv")),s=new t.default.Counter(a),o=new t.default.ModeOfOperation.ctr(r,s);return(0,n.arrayify)(o.decrypt(i))}return null}(e,a.slice(0,16),s);o||k.throwError("unsupported cipher",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let l=a.slice(32,64),d=(0,E.computeAddress)(o);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),(0,r.getAddress)(t)!==d)throw Error("address mismatch")}let f={_isKeystoreAccount:!0,address:d,privateKey:(0,n.hexlify)(o)};if("0.1"===p(e,"x-ethers/version")){let r=c(p(e,"x-ethers/mnemonicCiphertext")),i=c(p(e,"x-ethers/mnemonicCounter")),a=new t.default.Counter(i),s=new t.default.ModeOfOperation.ctr(l,a),o=p(e,"x-ethers/path")||w.defaultPath,d=p(e,"x-ethers/locale")||"en",h=(0,n.arrayify)(s.decrypt(r));try{let e=(0,w.entropyToMnemonic)(h,d),t=w.HDNode.fromMnemonic(e,null,d).derivePath(o);if(t.privateKey!=f.privateKey)throw Error("mnemonic mismatch");f.mnemonic=t.mnemonic}catch(e){if(e.code!==u.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new P(f)}function _(e,t,r,i,s){return(0,n.arrayify)((0,a.pbkdf2)(e,t,r,i,s))}function N(e,t,r,n,i){return Promise.resolve(_(e,t,r,n,i))}function B(e,t,r,n,i){let a=f(t),s=p(e,"crypto/kdf");if(s&&"string"==typeof s){let t=function(e,t){return k.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){let r=c(p(e,"crypto/kdfparams/salt")),o=parseInt(p(e,"crypto/kdfparams/n")),u=parseInt(p(e,"crypto/kdfparams/r")),l=parseInt(p(e,"crypto/kdfparams/p"));o&&u&&l||t("kdf",s),(o&o-1)!=0&&t("N",o);let d=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==d&&t("dklen",d),n(a,r,o,u,l,64,i)}if("pbkdf2"===s.toLowerCase()){let n=c(p(e,"crypto/kdfparams/salt")),i=null,s=p(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);let o=parseInt(p(e,"crypto/kdfparams/c")),u=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(a,n,o,u,i)}}return k.throwArgumentError("unsupported key-derivation function","kdf",s)}function R(e,t){let r=JSON.parse(e),n=B(r,t,_,A.default.syncScrypt);return I(r,n)}function C(e,t,r){var n,i,a,s;return n=this,i=void 0,a=void 0,s=function*(){let n=JSON.parse(e),i=yield B(n,t,N,A.default.scrypt,r);return I(n,i)},new(a||(a=Promise))(function(e,t){function r(e){try{u(s.next(e))}catch(e){t(e)}}function o(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof a?n:new a(function(e){e(n)})).then(r,o)}u((s=s.apply(n,i||[])).next())})}function O(e,a,s,o){try{if((0,r.getAddress)(e.address)!==(0,E.computeAddress)(e.privateKey))throw Error("address/privateKey mismatch");if(T(e)){let t=e.mnemonic;if(w.HDNode.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||w.defaultPath).privateKey!=e.privateKey)throw Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof s||o||(o=s,s={}),s||(s={});let u=(0,n.arrayify)(e.privateKey),l=f(a),c=null,p=null,h=null;if(T(e)){let t=e.mnemonic;c=(0,n.arrayify)((0,w.mnemonicToEntropy)(t.phrase,t.locale||"en")),p=t.path||w.defaultPath,h=t.locale||"en"}let m=s.client;m||(m="ethers.js");let g=null;g=s.salt?(0,n.arrayify)(s.salt):(0,v.randomBytes)(32);let b=null;if(s.iv){if(16!==(b=(0,n.arrayify)(s.iv)).length)throw Error("invalid iv")}else b=(0,v.randomBytes)(16);let y=null;if(s.uuid){if(16!==(y=(0,n.arrayify)(s.uuid)).length)throw Error("invalid uuid")}else y=(0,v.randomBytes)(16);let x=131072,S=8,k=1;return s.scrypt&&(s.scrypt.N&&(x=s.scrypt.N),s.scrypt.r&&(S=s.scrypt.r),s.scrypt.p&&(k=s.scrypt.p)),A.default.scrypt(l,g,x,S,k,64,o).then(r=>{var a;let s,o,l=(r=(0,n.arrayify)(r)).slice(0,16),f=r.slice(16,32),A=r.slice(32,64),w=new t.default.Counter(b),E=new t.default.ModeOfOperation.ctr(l,w),T=(0,n.arrayify)(E.encrypt(u)),P=(0,i.keccak256)((0,n.concat)([f,T])),I={address:e.address.substring(2).toLowerCase(),id:(a=y,(s=(0,n.arrayify)(a))[6]=15&s[6]|64,s[8]=63&s[8]|128,[(o=(0,n.hexlify)(s)).substring(2,10),o.substring(10,14),o.substring(14,18),o.substring(18,22),o.substring(22,34)].join("-")),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,n.hexlify)(b).substring(2)},ciphertext:(0,n.hexlify)(T).substring(2),kdf:"scrypt",kdfparams:{salt:(0,n.hexlify)(g).substring(2),n:x,dklen:32,p:k,r:S},mac:P.substring(2)}};if(c){let e=(0,v.randomBytes)(16),r=new t.default.Counter(e),i=new t.default.ModeOfOperation.ctr(A,r),a=(0,n.arrayify)(i.encrypt(c)),s=new Date,o=s.getUTCFullYear()+"-"+d(s.getUTCMonth()+1,2)+"-"+d(s.getUTCDate(),2)+"T"+d(s.getUTCHours(),2)+"-"+d(s.getUTCMinutes(),2)+"-"+d(s.getUTCSeconds(),2)+".0Z";I["x-ethers"]={client:m,gethFilename:"UTC--"+o+"--"+I.address,mnemonicCounter:(0,n.hexlify)(e).substring(2),mnemonicCiphertext:(0,n.hexlify)(a).substring(2),path:p,locale:h,version:"0.1"}}return JSON.stringify(I)})}function D(e,t,r){if(b(e)){r&&r(0);let n=g(e,t);return r&&r(1),Promise.resolve(n)}return y(e)?C(e,t,r):Promise.reject(Error("invalid JSON wallet"))}function U(e,t){if(b(e))return g(e,t);if(y(e))return R(e,t);throw Error("invalid JSON wallet")}e.s(["decrypt",()=>C,"decryptSync",()=>R,"encrypt",()=>O],592875),e.s(["decryptJsonWallet",()=>D,"decryptJsonWalletSync",()=>U],896350)},341591,90413,123795,508663,e=>{"use strict";var t=e.i(839341),r=e.i(403011),n=e.i(526579),i=e.i(875353);let a=new i.Logger("abstract-provider/5.8.0");class s extends n.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class o{constructor(){a.checkAbstract(new.target,o),(0,n.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){var e,r,i,a;return e=this,r=void 0,i=void 0,a=function*(){let{block:e,gasPrice:r}=yield(0,n.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),i=null,a=null,s=null;return e&&e.baseFeePerGas&&(i=e.baseFeePerGas,s=t.BigNumber.from("1500000000"),a=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:s,gasPrice:r}},new(i||(i=Promise))(function(t,n){function s(e){try{u(a.next(e))}catch(e){n(e)}}function o(e){try{u(a.throw(e))}catch(e){n(e)}}function u(e){var r;e.done?t(e.value):((r=e.value)instanceof i?r:new i(function(e){e(r)})).then(s,o)}u((a=a.apply(e,r||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}e.s(["ForkEvent",()=>s,"Provider",()=>o],341591);var u=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let l=new i.Logger("abstract-signer/5.8.0"),c=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],d=[i.Logger.errors.INSUFFICIENT_FUNDS,i.Logger.errors.NONCE_EXPIRED,i.Logger.errors.REPLACEMENT_UNDERPRICED];class f{constructor(){l.checkAbstract(new.target,f),(0,n.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return u(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return u(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return u(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return u(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return u(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return u(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return u(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return u(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return u(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===c.indexOf(t)&&l.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=(0,n.shallowCopy)(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&l.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return u(this,void 0,void 0,function*(){let t=yield(0,n.resolveProperties)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>u(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&l.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?l.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&l.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&l.throwError("network does not support EIP-1559",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):l.throwError("failed to get consistent fee data",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(d.indexOf(e.code)>=0)throw e;return l.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",i.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&l.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,n.resolveProperties)(t)})}_checkProvider(e){this.provider||l.throwError("missing provider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class p extends f{constructor(e,t){super(),(0,n.defineReadOnly)(this,"address",e),(0,n.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{l.throwError(e,i.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new p(this.address,e)}}e.s(["Signer",()=>f,"VoidSigner",()=>p],90413);var h=e.i(47771),m=e.i(142621),g=e.i(407224);e.s(["_TypedDataEncoder",()=>g.TypedDataEncoder],123795);var g=g,b=e.i(891368),y=e.i(447172),x=e.i(666843),A=e.i(346469),w=e.i(896350),v=e.i(592875),v=v,S=e.i(840722),E=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let k=new i.Logger("wallet/5.8.0");class T extends f{constructor(e,t){if(super(),function(e){return null!=e&&(0,r.isHexString)(e.privateKey,32)&&null!=e.address}(e)){const t=new A.SigningKey(e.privateKey);if((0,n.defineReadOnly)(this,"_signingKey",()=>t),(0,n.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey)),this.address!==(0,h.getAddress)(e.address)&&k.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){let t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;(0,n.defineReadOnly)(this,"_mnemonic",()=>({phrase:t.phrase,path:t.path||b.defaultPath,locale:t.locale||"en"}));const r=this.mnemonic,i=b.HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);(0,S.computeAddress)(i.privateKey)!==this.address&&k.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,n.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(A.SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&k.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,n.defineReadOnly)(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new A.SigningKey(e);(0,n.defineReadOnly)(this,"_signingKey",()=>t)}(0,n.defineReadOnly)(this,"_mnemonic",()=>null),(0,n.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey))}t&&!o.isProvider(t)&&k.throwArgumentError("invalid provider","provider",t),(0,n.defineReadOnly)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new T(this,e)}signTransaction(e){return(0,n.resolveProperties)(e).then(t=>{null!=t.from&&((0,h.getAddress)(t.from)!==this.address&&k.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);let r=this._signingKey().signDigest((0,y.keccak256)((0,S.serialize)(t)));return(0,S.serialize)(t,r)})}signMessage(e){return E(this,void 0,void 0,function*(){return(0,r.joinSignature)(this._signingKey().signDigest((0,m.hashMessage)(e)))})}_signTypedData(e,t,n){return E(this,void 0,void 0,function*(){let a=yield g.TypedDataEncoder.resolveNames(e,t,n,e=>(null==this.provider&&k.throwError("cannot resolve ENS names without a provider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return(0,r.joinSignature)(this._signingKey().signDigest(g.TypedDataEncoder.hash(a.domain,t,a.value)))})}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw Error("invalid callback");return t||(t={}),(0,v.encrypt)(this,e,t,r)}static createRandom(e){let t=(0,x.randomBytes)(16);e||(e={}),e.extraEntropy&&(t=(0,r.arrayify)((0,r.hexDataSlice)((0,y.keccak256)((0,r.concat)([t,e.extraEntropy])),0,16)));let n=(0,b.entropyToMnemonic)(t,e.locale);return T.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,r){return(0,w.decryptJsonWallet)(e,t,r).then(e=>new T(e))}static fromEncryptedJsonSync(e,t){return new T((0,w.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,r){return t||(t=b.defaultPath),new T(b.HDNode.fromMnemonic(e,null,r).derivePath(t))}}function P(e,t){return(0,S.recoverAddress)((0,m.hashMessage)(e),t)}function I(e,t,r,n){return(0,S.recoverAddress)(g.TypedDataEncoder.hash(e,t,r),n)}e.s(["Wallet",()=>T,"verifyMessage",()=>P,"verifyTypedData",()=>I],508663)},545004,e=>{"use strict";var t=e.i(403011);function r(e){e=atob(e);let r=[];for(let t=0;t<e.length;t++)r.push(e.charCodeAt(t));return(0,t.arrayify)(r)}function n(e){e=(0,t.arrayify)(e);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}e.s(["decode",()=>r,"encode",()=>n])},857518,e=>{"use strict";let t,r;var n,i=e.i(403011),a=e.i(840858),s=e.i(447172),o=e.i(875353),u=e.i(849266),l=e.i(545004);function c(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function d(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function f(e,t){let r=d(e(),e),n=e(),i=d(n,e),a=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<a[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function p(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,a=0;i<e;i++){var n;r[i]=a+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let h=(n=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let s=r(),o=t;t+=s;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0;for(let e=0;e<31;e++)d=d<<1|c();let f=[],p=0,h=0x80000000;for(;;){let e=Math.floor(((d-p+1)*i-1)/h),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;f.push(t);let s=p+Math.floor(h*a[t]/i),o=p+Math.floor(h*a[t+1]/i)-1;for(;((s^o)&0x40000000)==0;)d=d<<1&0x7fffffff|c(),s=s<<1&0x7fffffff,o=o<<1&0x7fffffff|1;for(;s&~o&0x20000000;)d=0x40000000&d|d<<1&0x3fffffff|c(),s=s<<1^0x40000000,o=(0x40000000^o)<<1|0x40000001;p=s,h=1+o-s}let m=n-4;return f.map(t=>{switch(t-m){case 3:return m+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return m+256+(e[o++]<<8|e[o++]);case 1:return m+e[o++];default:return t-1}})}((0,l.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),r=0,()=>n[r++]),m=new Set(f(h)),g=new Set(f(h)),b=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return c(p(i.length,1+e,t).map((e,t)=>{let a=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[a+t*r,s.map(e=>e+i)]})}))}(r,e))}for(;;){var r,n;let i=e()-1;if(i<0)break;t.push((r=i,p(1+(n=e)(),1+r,n).map(e=>[e[0],e.slice(1)])))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(c(t))}(h),y=(t=f(h).sort((e,t)=>e-t),function e(){let r=[];for(;;){let n=f(h,t);if(0==n.length)break;r.push({set:new Set(n),node:e()})}r.sort((e,t)=>t.set.size-e.set.size);let n=h(),i=n%3;return{branches:r,valid:i,fe0f:!!(1&(n=n/3|0)),save:1==(n>>=1),check:2==n}}());function x(e){return(0,a.toUtf8CodePoints)(e)}function A(e){return e.filter(e=>65039!=e)}function w(e){for(let t of e.split(".")){let e=x(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let v=new o.Logger(u.version),S=new Uint8Array(32);function E(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function k(e){let t=(0,a.toUtf8Bytes)(w(function(e,t){let r=x(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i,a=y,s=[],o=e.length;for(;o;){let t=e[--o];if(!(a=null==(r=a.branches.find(e=>e.set.has(t)))?void 0:r.node))break;if(a.save)i=t;else if(a.check&&t===i)break;s.push(t),a.fe0f&&(s.push(65039),o>0&&65039==e[o-1]&&o--),a.valid&&(n=s.slice(),2==a.valid&&n.splice(1,1),e.length=o)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(m.has(i)){n.push(i);continue}if(g.has(i))continue;let a=b[i];if(a){n.push(...a);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return w(String.fromCodePoint(...n).normalize("NFC"))}(e,A))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(E(t.slice(n,e))),n=e+1);if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(E(t.slice(n))),r}function T(e){return k(e).map(e=>(0,a.toUtf8String)(e)).join(".")}function P(e){try{return 0!==k(e).length}catch(e){}return!1}function I(e){"string"!=typeof e&&v.throwArgumentError("invalid ENS name; not a string","name",e);let t=S,r=k(e);for(;r.length;)t=(0,s.keccak256)((0,i.concat)([t,(0,s.keccak256)(r.pop())]));return(0,i.hexlify)(t)}function _(e){return(0,i.hexlify)((0,i.concat)(k(e).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}S.fill(0),e.s(["dnsEncode",()=>_,"ensNormalize",()=>T,"isValidName",()=>P,"namehash",()=>I],857518)},367933,e=>{"use strict";var t=e.i(545004),r=e.i(403011),n=e.i(526579),i=e.i(840858),a=e.i(875353);let s=new a.Logger("web/5.8.0");function o(e){return new Promise(t=>{setTimeout(t,e)})}function u(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,r.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,i.toUtf8String)(e)}catch(e){}return(0,r.hexlify)(e)}return e}function l(e,l,c){let d,f="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;s.assertArgument(f>0&&f%1==0,"invalid connection throttle limit","connection.throttleLimit",f);let p="object"==typeof e?e.throttleCallback:null,h="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;s.assertArgument(h>0&&h%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",h);let m="object"==typeof e&&!!e.errorPassThrough,g={},b=null,y={method:"GET"},x=!1,A=12e4;if("string"==typeof e)b=e;else if("object"==typeof e){if((null==e||null==e.url)&&s.throwArgumentError("missing URL","connection.url",e),b=e.url,"number"==typeof e.timeout&&e.timeout>0&&(A=e.timeout),e.headers)for(let t in e.headers)g[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(x=!0);if(y.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==b.substring(0,6)&&!0!==e.allowInsecureAuthentication&&s.throwError("basic authentication requires a secure https url",a.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:b,user:e.user,password:"[REDACTED]"});let r=e.user+":"+e.password;g.authorization={key:"Authorization",value:"Basic "+(0,t.encode)((0,i.toUtf8Bytes)(r))}}null!=e.skipFetchSetup&&(y.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(y.fetchOptions=(0,n.shallowCopy)(e.fetchOptions))}let w=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),v=b?b.match(w):null;if(v)try{var S;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]||"text/plain"},body:v[2]?(0,t.decode)(v[3]):(S=v[3],(0,i.toUtf8Bytes)(S.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},r=e.body;return c&&(r=c(e.body,e)),Promise.resolve(r)}catch(e){s.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(v[1],v[2]),error:e,requestBody:null,requestMethod:"GET",url:b})}l&&(y.method="POST",y.body=l,null==g["content-type"]&&(g["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==g["content-length"]&&(g["content-length"]={key:"Content-Length",value:String(l.length)}));let E={};Object.keys(g).forEach(e=>{let t=g[e];E[t.key]=t.value}),y.headers=E;let k=(d=null,{promise:new Promise(function(e,t){A&&(d=setTimeout(()=>{null!=d&&(d=null,t(s.makeError("timeout",a.Logger.errors.TIMEOUT,{requestBody:u(y.body,E["content-type"]),requestMethod:y.method,timeout:A,url:b})))},A))}),cancel:function(){null!=d&&(clearTimeout(d),d=null)}}),T=function(){var e,t,n,i;return e=this,t=void 0,n=void 0,i=function*(){for(let e=0;e<f;e++){let t=null;try{if(t=yield function(e,t){var n,i,a,s;return n=this,i=void 0,a=void 0,s=function*(){null==t&&(t={});let n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(n.mode=e.mode),e.cache&&(n.cache=e.cache),e.credentials&&(n.credentials=e.credentials),e.redirect&&(n.redirect=e.redirect),e.referrer&&(n.referrer=e.referrer)}let i=yield fetch(e,n),a=yield i.arrayBuffer(),s={};return i.headers.forEach?i.headers.forEach((e,t)=>{s[t.toLowerCase()]=e}):i.headers.keys().forEach(e=>{s[e.toLowerCase()]=i.headers.get(e)}),{headers:s,statusCode:i.status,statusMessage:i.statusText,body:(0,r.arrayify)(new Uint8Array(a))}},new(a||(a=Promise))(function(e,t){function r(e){try{u(s.next(e))}catch(e){t(e)}}function o(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof a?n:new a(function(e){e(n)})).then(r,o)}u((s=s.apply(n,i||[])).next())})}(b,y),e<f){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===y.method&&e.match(/^https:/)){b=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(p&&(r=yield p(e,b)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):h*parseInt(String(Math.random()*Math.pow(2,e))),yield o(r);continue}}}}catch(e){null==(t=e.response)&&(k.cancel(),s.throwError("missing response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,E["content-type"]),requestMethod:y.method,serverError:e,url:b}))}let n=t.body;if(x&&304===t.statusCode?n=null:!m&&(t.statusCode<200||t.statusCode>=300)&&(k.cancel(),s.throwError("bad response",a.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:u(n,t.headers?t.headers["content-type"]:null),requestBody:u(y.body,E["content-type"]),requestMethod:y.method,url:b})),c)try{let e=yield c(n,t);return k.cancel(),e}catch(r){if(r.throttleRetry&&e<f){let t=!0;if(p&&(t=yield p(e,b)),t){let t=h*parseInt(String(Math.random()*Math.pow(2,e)));yield o(t);continue}}k.cancel(),s.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(n,t.headers?t.headers["content-type"]:null),error:r,requestBody:u(y.body,E["content-type"]),requestMethod:y.method,url:b})}return k.cancel(),n}return s.throwError("failed response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,E["content-type"]),requestMethod:y.method,url:b})},new(n||(n=Promise))(function(r,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function o(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,o)}u((i=i.apply(e,t||[])).next())})}();return Promise.race([k.promise,T])}function c(e,t,r){let o=null;if(null!=t){o=(0,i.toUtf8Bytes)(t);let r="string"==typeof e?{url:e}:(0,n.shallowCopy)(e);r.headers?0===Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length&&(r.headers=(0,n.shallowCopy)(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return l(e,o,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse((0,i.toUtf8String)(e))}catch(t){s.throwError("invalid JSON",a.Logger.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function d(e,t){return t||(t={}),null==(t=(0,n.shallowCopy)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,a=!1,s=()=>!a&&(a=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(Error("timeout"))},t.timeout));let o=t.retryLimit,u=0;!function i(){return e().then(function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>o){s()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){s()&&n(e)})}()})}e.s(["_fetchData",()=>l,"fetchJson",()=>c,"poll",()=>d],367933)},971501,(e,t,r)=>{"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},a=0;a<n.length;a++){var s=n.charAt(a);if(void 0!==i[s])throw TypeError(s+" is ambiguous");i[s]=a}function o(e){var t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-(1&t)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function u(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(r=0,t=o(t);r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function l(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var a=(e=r).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var s=e.slice(0,a),l=e.slice(a+1);if(l.length<6)return"Data too short";var c=u(s);if("string"==typeof c)return c;for(var d=[],f=0;f<l.length;++f){var p=l.charAt(f),h=i[p];if(void 0===h)return"Unknown character "+p;c=o(c)^h,f+6>=l.length||d.push(h)}return 1!==c?"Invalid checksum for "+e:{prefix:s,words:d}}function c(e,t,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)o.push(i>>(a-=r)&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=t)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}t.exports={decodeUnsafe:function(){var e=l.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=l.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw TypeError("Exceeds length limit");var i=u(e=e.toLowerCase());if("string"==typeof i)throw Error(i);for(var a=e+"1",s=0;s<t.length;++s){var l=t[s];if(l>>5!=0)throw Error("Non 5-bit word");i=o(i)^l,a+=n.charAt(l)}for(s=0;s<6;++s)i=o(i);for(i^=1,s=0;s<6;++s){var c=i>>(5-s)*5&31;a+=n.charAt(c)}return a},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},216368,e=>{"use strict";function t(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}e.s(["shuffled",()=>t])},630759,e=>{"use strict";e.s([],745933),e.i(745933);var t=e.i(545004);e.s(["decode",()=>t.decode,"encode",()=>t.encode],630759)},575111,e=>{"use strict";var t=e.i(839341),r=e.i(403011),n=e.i(447172),i=e.i(942558),a=e.i(840858),s=e.i(875353);let o=RegExp("^bytes([0-9]+)$"),u=RegExp("^(u?int)([0-9]*)$"),l=RegExp("^(.*)\\[([0-9]*)\\]$"),c=new s.Logger("solidity/5.8.0");function d(e,n){e.length!=n.length&&c.throwArgumentError("wrong number of values; expected ${ types.length }","values",n);let i=[];return e.forEach(function(e,s){i.push(function e(n,i,s){switch(n){case"address":if(s)return(0,r.zeroPad)(i,32);return(0,r.arrayify)(i);case"string":return(0,a.toUtf8Bytes)(i);case"bytes":return(0,r.arrayify)(i);case"bool":if(i=i?"0x01":"0x00",s)return(0,r.zeroPad)(i,32);return(0,r.arrayify)(i)}let d=n.match(u);if(d){let e=parseInt(d[2]||"256");return(d[2]&&String(e)!==d[2]||e%8!=0||0===e||e>256)&&c.throwArgumentError("invalid number type","type",n),s&&(e=256),i=t.BigNumber.from(i).toTwos(e),(0,r.zeroPad)(i,e/8)}if(d=n.match(o)){let e=parseInt(d[1]);return((String(e)!==d[1]||0===e||e>32)&&c.throwArgumentError("invalid bytes type","type",n),(0,r.arrayify)(i).byteLength!==e&&c.throwArgumentError(`invalid value for ${n}`,"value",i),s)?(0,r.arrayify)((i+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):i}if((d=n.match(l))&&Array.isArray(i)){let t=d[1];parseInt(d[2]||String(i.length))!=i.length&&c.throwArgumentError(`invalid array length for ${n}`,"value",i);let a=[];return i.forEach(function(r){a.push(e(t,r,!0))}),(0,r.concat)(a)}return c.throwArgumentError("invalid type","type",n)}(e,n[s]))}),(0,r.hexlify)((0,r.concat)(i))}function f(e,t){return(0,n.keccak256)(d(e,t))}function p(e,t){return(0,i.sha256)(d(e,t))}e.s(["keccak256",()=>f,"pack",()=>d,"sha256",()=>p],575111)},203358,299797,812196,e=>{"use strict";let t="0x0000000000000000000000000000000000000000000000000000000000000000";e.s(["HashZero",0,t],203358);var r=e.i(403011),n=e.i(840858);function i(e){let i=(0,n.toUtf8Bytes)(e);if(i.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,r.hexlify)((0,r.concat)([i,t]).slice(0,32))}function a(e){let t=(0,r.arrayify)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let i=31;for(;0===t[i-1];)i--;return(0,n.toUtf8String)(t.slice(0,i))}function s(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach(e=>{let i=e.split(":");n[r+=parseInt(i[0],16)]=t(i[1])}),n}function o(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function u(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}e.s(["formatBytes32String",()=>i,"parseBytes32String",()=>a],299797);let l=o("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),c="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),d=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],f=s("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),p=s("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),h=s("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(e){if(e.length%4!=0)throw Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}),m=o("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function g(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,n.toUtf8CodePoints)(e);t=t.map(e=>{if(c.indexOf(e)>=0||e>=65024&&e<=65039)return[];let t=function(e){let t=u(e,d);if(t)return[e+t.s];let r=f[e];if(r)return r;let n=p[e];if(n)return[e+n[0]];let i=h[e];return i||null}(e);return t||[e]}).reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[]),(t=(0,n.toUtf8CodePoints)((0,n._toUtf8String)(t),n.UnicodeNormalizationForm.NFKC)).forEach(e=>{if(u(e,m))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(u(e,l))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=(0,n._toUtf8String)(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw Error("invalid hyphen");return r}e.s(["nameprep",()=>g],812196)},382312,299697,e=>{"use strict";var t=e.i(403011),r=e.i(875353),n=e.i(994284),i=e.i(839341);let a=new r.Logger(n.version),s={},o=i.BigNumber.from(0),u=i.BigNumber.from(-1);function l(e,t,n,i){let s={fault:t,operation:n};return void 0!==i&&(s.value=i),a.throwError(e,r.Logger.errors.NUMERIC_FAULT,s)}let c="0";for(;c.length<256;)c+=c;function d(e){if("number"!=typeof e)try{e=i.BigNumber.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+c.substring(0,e):a.throwArgumentError("invalid decimal size","decimals",e)}function f(e,t){null==t&&(t=0);let r=d(t),n=(e=i.BigNumber.from(e)).lt(o);n&&(e=e.mul(u));let a=e.mod(r).toString();for(;a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];let s=e.div(r).toString();return e=1===r.length?s:s+"."+a,n&&(e="-"+e),e}function p(e,t){null==t&&(t=0);let r=d(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||a.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&a.throwArgumentError("missing value","value",e);let s=e.split(".");s.length>2&&a.throwArgumentError("too many decimal points","value",e);let o=s[0],c=s[1];for(o||(o="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>r.length-1&&l("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<r.length-1;)c+="0";let f=i.BigNumber.from(o),p=i.BigNumber.from(c),h=f.mul(r).add(p);return n&&(h=h.mul(u)),h}class h{constructor(e,t,n,i){e!==s&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=d(i),Object.freeze(this)}static from(e){if(e instanceof h)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||a.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){let i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&a.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new h(s,t,r,n)}}class m{constructor(e,t,n,i){e!==s&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(g.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(g.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&a.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=m.from("1"+c.substring(0,e),this.format),n=b.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&a.throwArgumentError("invalid byte width","width",e);let r=i.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,t.hexZeroPad)(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,i.isBigNumberish)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),m.fromString(f(e,t),h.from(r))}static fromString(e,r){null==r&&(r="fixed");let n=h.from(r),i=p(e,n.decimals);!n.signed&&i.lt(o)&&l("unsigned value cannot be negative","overflow","value",e);let a=null;return n.signed?a=i.toTwos(n.width).toHexString():(a=i.toHexString(),a=(0,t.hexZeroPad)(a,n.width/8)),new m(s,a,f(i,n.decimals),n)}static fromBytes(e,r){null==r&&(r="fixed");let n=h.from(r);if((0,t.arrayify)(e).length>n.width/8)throw Error("overflow");let a=i.BigNumber.from(e);return n.signed&&(a=a.fromTwos(n.width)),new m(s,a.toTwos(+!n.signed+n.width).toHexString(),f(a,n.decimals),n)}static from(e,n){if("string"==typeof e)return m.fromString(e,n);if((0,t.isBytes)(e))return m.fromBytes(e,n);try{return m.fromValue(e,0,n)}catch(e){if(e.code!==r.Logger.errors.INVALID_ARGUMENT)throw e}return a.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let g=m.from(1),b=m.from("0.5");e.s(["FixedNumber",()=>m,"formatFixed",()=>f,"parseFixed",()=>p],382312);let y=new r.Logger("units/5.8.0"),x=["wei","kwei","mwei","gwei","szabo","finney","ether"];function A(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&y.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);let a=[];for(;r.length;)if(r.length<=3){a.unshift(r);break}else{let e=r.length-3;a.unshift(r.substring(e)),r=r.substring(0,e)}return n+a.join(",")+i}function w(e,t){if("string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return f(e,null!=t?t:18)}function v(e,t){if("string"!=typeof e&&y.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return p(e,null!=t?t:18)}function S(e){return w(e,18)}function E(e){return v(e,18)}e.s(["commify",()=>A,"formatEther",()=>S,"formatUnits",()=>w,"parseEther",()=>E,"parseUnits",()=>v],299697)},685648,992216,11778,426428,98400,167276,82930,859665,e=>{"use strict";var t=e.i(735381),r=e.i(246383),n=e.i(341591),i=e.i(90413),a=e.i(47771),s=e.i(839341),o=e.i(403011),u=e.i(526579),l=e.i(840722),c=e.i(875353),d=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let f=new c.Logger("contracts/5.8.0"),p={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function h(e,t){return d(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&f.throwArgumentError("invalid address or ENS name","name",r);try{return(0,a.getAddress)(r)}catch(e){}e||f.throwError("a provider or signer is needed to resolve ENS names",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let n=yield e.resolveName(r);return null==n&&f.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function m(e,t,r){return d(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,n)=>m(e,Array.isArray(t)?t[n]:t[r.name],r))):"address"===r.type?yield h(e,t):"tuple"===r.type?yield m(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>m(e,t,r.arrayChildren))):Promise.reject(f.makeError("invalid value for array",c.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function g(e,t,r){return d(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=(0,u.shallowCopy)(r.pop())),f.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=(0,u.resolveProperties)({override:h(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>d(this,void 0,void 0,function*(){return(0,a.getAddress)(e.signer)!==e.override&&f.throwError("Contract with a Signer cannot override from",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=h(e.provider,n.from));let i=yield(0,u.resolveProperties)({args:m(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,u.resolveProperties)(n)||{}}),p=e.interface.encodeFunctionData(t,i.args),g={data:p,to:i.address},b=i.overrides;if(null!=b.nonce&&(g.nonce=s.BigNumber.from(b.nonce).toNumber()),null!=b.gasLimit&&(g.gasLimit=s.BigNumber.from(b.gasLimit)),null!=b.gasPrice&&(g.gasPrice=s.BigNumber.from(b.gasPrice)),null!=b.maxFeePerGas&&(g.maxFeePerGas=s.BigNumber.from(b.maxFeePerGas)),null!=b.maxPriorityFeePerGas&&(g.maxPriorityFeePerGas=s.BigNumber.from(b.maxPriorityFeePerGas)),null!=b.from&&(g.from=b.from),null!=b.type&&(g.type=b.type),null!=b.accessList&&(g.accessList=(0,l.accessListify)(b.accessList)),null==g.gasLimit&&null!=t.gas){let e=21e3,r=(0,o.arrayify)(p);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);g.gasLimit=s.BigNumber.from(t.gas).add(e)}if(b.value){let e=s.BigNumber.from(b.value);e.isZero()||t.payable||f.throwError("non-payable method cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),g.value=e}b.customData&&(g.customData=(0,u.shallowCopy)(b.customData)),b.ccipReadEnabled&&(g.ccipReadEnabled=!!b.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;let y=Object.keys(n).filter(e=>null!=n[e]);return y.length&&f.throwError(`cannot override ${y.map(e=>JSON.stringify(e)).join(",")}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:y}),g})}function b(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=(0,u.deepCopy)(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}function y(e,t,r){let n=e.signer||e.provider;return function(...i){return d(this,void 0,void 0,function*(){let a;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){let e=(0,u.shallowCopy)(i.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));let s=yield g(e,t,i),o=yield n.call(s,a);try{let n=e.interface.decodeFunctionResult(t,o);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===c.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}})}}function x(e,t,r){return t.constant?y(e,t,r):function(...r){return d(this,void 0,void 0,function*(){e.signer||f.throwError("sending a transaction requires a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let n=yield g(e,t,r),i=yield e.signer.sendTransaction(n);return b(e,i),i})}}function A(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class w{constructor(e,t){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class v extends w{constructor(){super("error",null)}}class S extends w{constructor(e,t,r,n){const i={address:e};let a=t.getEventTopic(r);n?(a!==n[0]&&f.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[a],super(A(i),i),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t),(0,u.defineReadOnly)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let r=(0,t.checkResultErrors)(e.args);if(r.length)throw r[0].error;let n=(e.args||[]).slice();return n.push(e),n}}class E extends w{constructor(e,t){super("*",{address:e}),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class k{constructor(e,t,r){(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(t)),null==r?((0,u.defineReadOnly)(this,"provider",null),(0,u.defineReadOnly)(this,"signer",null)):i.Signer.isSigner(r)?((0,u.defineReadOnly)(this,"provider",r.provider||null),(0,u.defineReadOnly)(this,"signer",r)):n.Provider.isProvider(r)?((0,u.defineReadOnly)(this,"provider",r),(0,u.defineReadOnly)(this,"signer",null)):f.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,u.defineReadOnly)(this,"callStatic",{}),(0,u.defineReadOnly)(this,"estimateGas",{}),(0,u.defineReadOnly)(this,"functions",{}),(0,u.defineReadOnly)(this,"populateTransaction",{}),(0,u.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];(0,u.defineReadOnly)(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?(0,u.defineReadOnly)(this.filters,t,this.filters[r[0]]):f.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if((0,u.defineReadOnly)(this,"_runningEvents",{}),(0,u.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&f.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,u.defineReadOnly)(this,"address",e),this.provider)(0,u.defineReadOnly)(this,"resolvedAddress",h(this.provider,e));else try{(0,u.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,a.getAddress)(e)))}catch(e){f.throwError("provider is required to use ENS name as contract address",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});const s={},o={};Object.keys(this.interface.functions).forEach(e=>{var t,r;let n,i=this.interface.functions[e];if(o[e])return void f.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);o[e]=!0;{let t=i.name;s[`%${t}`]||(s[`%${t}`]=[]),s[`%${t}`].push(e)}null==this[e]&&(0,u.defineReadOnly)(this,e,x(this,i,!0)),null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,x(this,i,!1)),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,y(this,i,!0)),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,(t=this,function(...e){return g(t,i,e)})),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,(r=this,n=r.signer||r.provider,function(...e){return d(this,void 0,void 0,function*(){n||f.throwError("estimate require a provider or signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let t=yield g(r,i,e);return yield n.estimateGas(t)})}))}),Object.keys(s).forEach(e=>{let t=s[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,u.defineReadOnly)(this,e,this[r])}catch(e){}null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getInterface(e){return r.Interface.isInterface(e)?e:new r.Interface(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&f.throwError("contract not deployed",c.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||f.throwError("sending a transactions require a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,u.shallowCopy)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new i.VoidSigner(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,u.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return r.Indexed.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new v);if("event"===e)return this._normalizeRunningEvent(new w("event",null));if("*"===e)return this._normalizeRunningEvent(new E(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new S(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new S(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new w(A(t),t))}return this._normalizeRunningEvent(new E(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let n=(0,u.deepCopy)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||f.throwError("events require a provider or a signer with a provider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{let t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let n=this._getRunningEvent(e),i=(0,u.shallowCopy)(n.filter);return"string"==typeof t&&(0,o.isHexString)(t,32)?(null!=r&&f.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class T extends k{}class P{constructor(e,t,r){let n=null;"0x"!==(n="string"==typeof t?t:(0,o.isBytes)(t)?(0,o.hexlify)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(n="0x"+n),(!(0,o.isHexString)(n)||n.length%2)&&f.throwArgumentError("invalid bytecode","bytecode",t),r&&!i.Signer.isSigner(r)&&f.throwArgumentError("invalid signer","signer",r),(0,u.defineReadOnly)(this,"bytecode",n),(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(e)),(0,u.defineReadOnly)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){for(let r in t=(0,u.shallowCopy)(e.pop()))if(!p[r])throw Error("unknown transaction override "+r)}return["data","from","to"].forEach(e=>{null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value&&(s.BigNumber.from(t.value).isZero()||this.interface.deploy.payable||f.throwError("non-payable constructor cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,o.hexlify)((0,o.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return d(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield m(this.signer,e,this.interface.deploy.inputs);r.push(t);let n=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(n),a=(0,u.getStatic)(this.constructor,"getContractAddress")(i),s=(0,u.getStatic)(this.constructor,"getContract")(a,this.interface,this.signer);return b(s,i),(0,u.defineReadOnly)(s,"deployTransaction",i),s})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&f.throwError("missing compiler output",c.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return T.getInterface(e)}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getContract(e,t,r){return new T(e,t,r)}}e.s(["BaseContract",()=>k,"Contract",()=>T,"ContractFactory",()=>P],992216);var I=e.i(382312),_=e.i(508663);e.s([],833764),e.i(833764);let N="0x0000000000000000000000000000000000000000";var B=e.i(25363),R=e.i(203358);e.s(["AddressZero",0,N,"EtherSymbol",0,"","HashZero",()=>R.HashZero,"MaxInt256",()=>B.MaxInt256,"MaxUint256",()=>B.MaxUint256,"MinInt256",()=>B.MinInt256,"NegativeOne",()=>B.NegativeOne,"One",()=>B.One,"Two",()=>B.Two,"WeiPerEther",()=>B.WeiPerEther,"Zero",()=>B.Zero],11778);var C=e.i(11778);let O=new c.Logger("networks/5.8.0");function D(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{n.push(new t.QuickNodeProvider(e,r.quicknode))}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return D(e)},t}function U(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return U(e,t)},r}let F={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:D("homestead")},M={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:D("ropsten")},L={chainId:63,name:"classicMordor",_defaultProvider:U("https://www.ethercluster.com/mordor","classicMordor")},K={unspecified:{chainId:0,name:"unspecified"},homestead:F,mainnet:F,morden:{chainId:2,name:"morden"},ropsten:M,testnet:M,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:D("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:D("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:D("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:0xaa36a7,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:D("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:D("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:U("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:L,classicTestnet:L,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:U("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:D("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:D("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:D("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:0xaa37dc,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function q(e){if(null==e)return null;if("number"==typeof e){for(let t in K){let r=K[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=K[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=K[e.name];if(!t)return"number"!=typeof e.chainId&&O.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&O.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}var W=n,V=e.i(545004),G=e.i(206641),z=e.i(857518),j=e.i(942558),H=e.i(840858),Q=e.i(367933),X=e.i(971501);let J="providers/5.8.0",Y=new c.Logger(J);class Z{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),s=this.hex.bind(this),o=this.number.bind(this),l=this.type.bind(this),c=e=>this.data(e,!0);return e.transaction={hash:a,type:l,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(a,null),blockNumber:Z.allowNull(o,null),transactionIndex:Z.allowNull(o,null),confirmations:Z.allowNull(o,null),from:t,gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),gasLimit:r,to:Z.allowNull(t,null),value:r,nonce:o,data:i,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(o),creates:Z.allowNull(t,null),raw:Z.allowNull(i)},e.transactionRequest={from:Z.allowNull(t),nonce:Z.allowNull(o),gasLimit:Z.allowNull(r),gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),to:Z.allowNull(t),value:Z.allowNull(r),data:Z.allowNull(c),type:Z.allowNull(o),accessList:Z.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:o,blockNumber:o,transactionHash:a,address:t,topics:Z.arrayOf(a),data:i,logIndex:o,blockHash:a},e.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(t,null),transactionIndex:o,root:Z.allowNull(s),gasUsed:r,logsBloom:Z.allowNull(i),blockHash:a,transactionHash:a,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:o,confirmations:Z.allowNull(o,null),cumulativeGasUsed:r,effectiveGasPrice:Z.allowNull(r),status:Z.allowNull(o),type:l},e.block={hash:Z.allowNull(a),parentHash:a,number:o,timestamp:o,nonce:Z.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Z.allowNull(t),extraData:i,transactions:Z.allowNull(Z.arrayOf(a)),baseFeePerGas:Z.allowNull(r)},e.blockWithTransactions=(0,u.shallowCopy)(e.block),e.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Z.allowNull(n,void 0),toBlock:Z.allowNull(n,void 0),blockHash:Z.allowNull(a,void 0),address:Z.allowNull(t,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Z.allowNull(o),blockHash:Z.allowNull(a),transactionIndex:o,removed:Z.allowNull(this.boolean.bind(this)),address:t,data:Z.allowFalsish(i,"0x"),topics:Z.arrayOf(a),transactionHash:a,logIndex:o},e}accessList(e){return(0,l.accessListify)(e||[])}number(e){return"0x"===e?0:s.BigNumber.from(e).toNumber()}type(e){return"0x"===e||null==e?0:s.BigNumber.from(e).toNumber()}bigNumber(e){return s.BigNumber.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,o.isHexString)(e))?e.toLowerCase():Y.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return(0,a.getAddress)(e)}callAddress(e){if(!(0,o.isHexString)(e,32))return null;let t=(0,a.getAddress)((0,o.hexDataSlice)(e,12));return t===N?null:t}contractAddress(e){return(0,a.getContractAddress)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,o.isHexString)(e))return(0,o.hexValue)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,o.hexDataLength)(r)?Y.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=s.BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!(0,o.isHexString)(e))throw Error("invalid uint256");return(0,o.hexZeroPad)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=Z.check(t,e);return n._difficulty=null==r?null:s.BigNumber.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Z.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&s.BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=Z.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,o.isHexString)(r)&&(r=s.BigNumber.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),(0,o.isHexString)(r)&&(r=s.BigNumber.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,l.parse)(e)}receiptLog(e){return Z.check(this.formats.receiptLog,e)}receipt(e){let t=Z.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){let e=s.BigNumber.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Y.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Y.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Y.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Z.check(this.formats.filter,e)}filterLog(e){return Z.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}function $(e){return e&&"function"==typeof e.isCommunityResource}function ee(e){return $(e)&&e.isCommunityResource()}let et=!1;function er(){et||(et=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var en=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let ei=new c.Logger(J);function ea(e){return null==e?"null":(32!==(0,o.hexDataLength)(e)&&ei.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function es(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return ea(e);{let t={};e.forEach(e=>{t[ea(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function eo(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,o.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+es(e);else if(W.ForkEvent.isForkEvent(e))throw ei.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+es(e.topics||[]);throw Error("invalid event - "+e)}function eu(){return new Date().getTime()}function el(e){return new Promise(t=>{setTimeout(t,e)})}let ec=["block","network","pending","poll"];class ed{constructor(e,t,r){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"listener",t),(0,u.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||ec.indexOf(this.tag)>=0}}let ef={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ep(e){return(0,o.hexZeroPad)(s.BigNumber.from(e).toHexString(),32)}function eh(e){return G.Base58.encode((0,o.concat)([e,(0,o.hexDataSlice)((0,j.sha256)((0,j.sha256)(e)),0,4)]))}let em=RegExp("^(ipfs)://(.*)$","i"),eg=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),em,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function eb(e,t){try{return(0,H.toUtf8String)(ey(e,t))}catch(e){}return null}function ey(e,t){if("0x"===e)return null;let r=s.BigNumber.from((0,o.hexDataSlice)(e,t,t+32)).toNumber(),n=s.BigNumber.from((0,o.hexDataSlice)(e,r,r+32)).toNumber();return(0,o.hexDataSlice)(e,r+32,r+32+n)}function ex(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):ei.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function eA(e){let t=(0,o.arrayify)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function ew(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=(0,o.arrayify)(e[n]);t[n]=eA(r),t.push(eA(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return(0,o.hexConcat)(t)}class ev{constructor(e,t,r,n){(0,u.defineReadOnly)(this,"provider",e),(0,u.defineReadOnly)(this,"name",r),(0,u.defineReadOnly)(this,"address",e.formatter.address(t)),(0,u.defineReadOnly)(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>s.BigNumber.from(e).eq(1)).catch(e=>{if(e.code===c.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return en(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,o.hexConcat)([e,(0,z.namehash)(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=(0,o.hexConcat)(["0x9061b923",ew([(0,z.dnsEncode)(this.name),r.data])]));try{let e=yield this.provider.call(r);return(0,o.arrayify)(e).length%32==4&&ei.throwError("resolver threw error",c.Logger.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=ey(e,0)),e}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return en(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?ey(r,0):null})}_getAddress(e,t){let r=ef[String(e)];if(null==r&&ei.throwError(`unsupported coin type: ${e}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=(0,o.arrayify)(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,o.concat)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,o.concat)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=X.default.toWords(n.slice(2));return e.unshift(t),X.default.encode(r.prefix,e)}}return null}getAddress(e){return en(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||e===R.HashZero)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",ep(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&ei.throwError("invalid or unsupported coin data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return en(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<eg.length;r++){let n=t.match(eg[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ex(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let a=this._resolvedAddress||(yield this.getAddress()),u=(n[2]||"").split("/");if(2!==u.length)return null;let l=yield this.provider.formatter.address(u[0]),c=(0,o.hexZeroPad)(s.BigNumber.from(u[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:l,data:(0,o.hexConcat)(["0x6352211e",c])})));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=s.BigNumber.from((yield this.provider.call({to:l,data:(0,o.hexConcat)(["0x00fdd58e",(0,o.hexZeroPad)(a,32),c])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let d={to:this.provider.formatter.address(u[0]),data:(0,o.hexConcat)([r,c])},f=eb((yield this.provider.call(d)),0);if(null==f)return null;e.push({type:"metadata-url-base",content:f}),"erc1155"===i&&(f=f.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=ex(f)),e.push({type:"metadata-url",content:f});let p=yield(0,Q.fetchJson)(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let h=p.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(em);if(null==t)return null;e.push({type:"url-ipfs",content:h}),h=ex(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null})}getContentHash(){return en(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+G.Base58.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+G.Base58.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+(0,V.encode)("0x"+i[1]).replace(/[=+\/]/g,t=>e[t])}return ei.throwError("invalid or unsupported content hash data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return en(this,void 0,void 0,function*(){let t=(0,H.toUtf8Bytes)(e);(t=(0,o.concat)([ep(64),ep(t.length),t])).length%32!=0&&(t=(0,o.concat)([t,(0,o.hexZeroPad)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,o.hexlify)(t));return null==r||"0x"===r?null:(0,H.toUtf8String)(r)})}}let eS=null,eE=1;class ek extends W.Provider{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,u.defineReadOnly)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=(0,u.getStatic)(new.target,"getNetwork")(e);t?((0,u.defineReadOnly)(this,"_network",t),this.emit("network",t,null)):ei.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return en(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||ei.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,Q.poll)(()=>this._ready().then(e=>e,e=>{if(e.code!==c.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==eS&&(eS=new Z),eS}static getNetwork(e){return q(null==e?"homestead":e)}ccipReadFetch(e,t,r){return en(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let e=0;e<r.length;e++){let t=r[e],s=t.replace("{sender}",n).replace("{data}",i),o=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),u=yield(0,Q.fetchJson)({url:s,errorPassThrough:!0},o,(e,t)=>(e.status=t.statusCode,e));if(u.data)return u.data;let l=u.message||"unknown error";if(u.status>=400&&u.status<500)return ei.throwError(`response not found during CCIP fetch: ${l}`,c.Logger.errors.SERVER_ERROR,{url:t,errorMessage:l});a.push(l)}return ei.throwError(`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,c.Logger.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return en(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(eu()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=eu(),r=(0,u.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=eu();return(e=s.BigNumber.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return en(this,void 0,void 0,function*(){let e=eE++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return void this.emit("didPoll",e);if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)ei.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",ei.makeError("network block skew detected",c.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;let i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);let a=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return en(this,void 0,void 0,function*(){return ei.throwError("provider does not support network detection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return en(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield el(0),this._network;let r=ei.makeError("underlying network changed",c.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=eu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=eu(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return en(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return en(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,a)=>{let s=[],o=!1,u=function(){return!!o||(o=!0,s.forEach(e=>{e()}),!1)},l=e=>{e.confirmations<t||u()||i(e)};if(this.on(e,l),s.push(()=>{this.removeListener(e,l)}),n){let r=n.startBlock,i=null,l=s=>en(this,void 0,void 0,function*(){o||(yield el(1e3),this.getTransactionCount(n.from).then(d=>en(this,void 0,void 0,function*(){if(!o){if(d<=n.nonce)r=s;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=s;){if(o)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(o)return;let r=yield this.waitForTransaction(s.hash,t);if(u())return;let i="replaced";s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),a(ei.makeError("transaction was replaced",c.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}));return}}i++}}o||this.once("block",l)}}),e=>{o||this.once("block",l)}))});if(o)return;this.once("block",l),s.push(()=>{this.removeListener("block",l)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{u()||a(ei.makeError("timeout exceeded",c.Logger.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return en(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return en(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return s.BigNumber.from(e)}catch(t){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return en(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return s.BigNumber.from(n)}catch(e){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return en(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return s.BigNumber.from(n).toNumber()}catch(e){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return en(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return(0,o.hexlify)(n)}catch(e){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return en(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,o.hexValue)(e))}),i=yield this.perform("getStorageAt",n);try{return(0,o.hexlify)(i)}catch(e){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,o.hexDataLength)(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&ei.throwError("Transaction hash mismatch from Provider.sendTransaction.",c.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>en(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let a=yield this._waitForTransaction(e.hash,t,n,i);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&ei.throwError("transaction failed",c.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),e}sendTransaction(e){return en(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,o.hexlify)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return en(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?s.BigNumber.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,o.hexlify)(e):null))}),this.formatter.transactionRequest((yield(0,u.resolveProperties)(r)))})}_getFilter(e){return en(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,u.resolveProperties)(t)))})}_call(e,t,r){return en(this,void 0,void 0,function*(){r>=10&&ei.throwError("CCIP read exceeded maximum redirections",c.Logger.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&(0,o.hexDataLength)(i)%32==4)try{let a=(0,o.hexDataSlice)(i,4),u=(0,o.hexDataSlice)(a,0,32);s.BigNumber.from(u).eq(n)||ei.throwError("CCIP Read sender did not match",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let l=[],d=s.BigNumber.from((0,o.hexDataSlice)(a,32,64)).toNumber(),f=s.BigNumber.from((0,o.hexDataSlice)(a,d,d+32)).toNumber(),p=(0,o.hexDataSlice)(a,d+32);for(let t=0;t<f;t++){let r=eb(p,32*t);null==r&&ei.throwError("CCIP Read contained corrupt URL string",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(r)}let h=ey(a,64);s.BigNumber.from((0,o.hexDataSlice)(a,100,128)).isZero()||ei.throwError("CCIP Read callback selector included junk",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let m=(0,o.hexDataSlice)(a,96,100),g=ey(a,128),b=yield this.ccipReadFetch(e,h,l);null==b&&ei.throwError("CCIP Read disabled or provided no URLs",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let y={to:n,data:(0,o.hexConcat)([m,ew([b,g])])};return this._call(y,t,r+1)}catch(e){if(e.code===c.Logger.errors.SERVER_ERROR)throw e}try{return(0,o.hexlify)(i)}catch(r){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return en(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return en(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return s.BigNumber.from(r)}catch(e){return ei.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return en(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&ei.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&ei.throwError("ENS name not configured",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return en(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,n={includeTransactions:!!t};if((0,o.isHexString)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),(0,o.isHexString)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){ei.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,Q.poll)(()=>en(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return en(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,Q.poll)(()=>en(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return en(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,Q.poll)(()=>en(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}),{oncePoll:this})})}getLogs(e){return en(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return en(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return en(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&ei.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return en(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new ev(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return en(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||ei.throwError("network does not support ENS",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+(0,z.namehash)(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return en(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,o.isHexString)(e))throw t}"string"!=typeof e&&ei.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return en(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=eb((yield this.call({to:r,data:"0x691f3431"+(0,z.namehash)(t).substring(2)})),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return en(this,void 0,void 0,function*(){let t=null;if((0,o.isHexString)(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new ev(this,n,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e}try{let e=eb((yield this.call({to:n,data:"0x691f3431"+(0,z.namehash)(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return ei.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new ed(eo(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=eo(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=eo(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=eo(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=eo(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=eo(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var eT=i,eP=e.i(123795),eI=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let e_=new c.Logger(J),eN=["call","estimateGas"];function eB(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,o.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=eB(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return eB(JSON.parse(e),t)}catch(e){}return null}function eR(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=eB(t,!0);if(e)return e.data;e_.throwError("missing revert data in call exception; Transaction reverted without a reason string",c.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=eB(t.body,!1);null==r&&(r=eB(t,!1)),r&&e_.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&e_.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&e_.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&e_.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&e_.throwError("legacy pre-eip-155 transactions not supported",c.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),eN.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&e_.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function eC(e){return new Promise(function(t){setTimeout(t,e)})}function eO(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function eD(e){return e?e.toLowerCase():e}let eU={};class eF extends eT.Signer{constructor(e,t,r){if(super(),e!==eU)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,u.defineReadOnly)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,u.defineReadOnly)(this,"_address",this.provider.formatter.address(r)),(0,u.defineReadOnly)(this,"_index",null)):"number"==typeof r?((0,u.defineReadOnly)(this,"_index",r),(0,u.defineReadOnly)(this,"_address",null)):e_.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return e_.throwError("cannot alter JSON-RPC Signer connection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new eM(eU,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&e_.throwError("unknown account #"+this._index,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,u.shallowCopy)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,u.shallowCopy)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>eI(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&e_.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,u.resolveProperties)({tx:(0,u.resolveProperties)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&e_.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&e_.throwError("user rejected transaction",c.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),eR("sendTransaction",e,n)))})}signTransaction(e){return e_.throwError("signing transactions is unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return eI(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,Q.poll)(()=>eI(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return eI(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,o.hexlify)(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return eI(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,o.hexlify)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return eI(this,void 0,void 0,function*(){let n=yield eP._TypedDataEncoder.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(eP._TypedDataEncoder.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),e}})}unlock(e){return eI(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class eM extends eF{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let eL={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class eK extends ek{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,u.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,u.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,u.defineReadOnly)(this,"connection",Object.freeze((0,u.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return eI(this,void 0,void 0,function*(){yield eC(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=(0,u.getStatic)(this.constructor,"getNetwork");try{return t(s.BigNumber.from(e).toNumber())}catch(t){return e_.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return e_.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new eF(eU,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,u.deepCopy)(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=(0,Q.fetchJson)(this.connection,JSON.stringify(r),eO).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[eD(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[eD(t.address),t.blockTag]];case"getCode":return["eth_getCode",[eD(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[eD(t.address),(0,o.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=eD(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return eI(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&s.BigNumber.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,u.shallowCopy)(t)).transaction=(0,u.shallowCopy)(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&e_.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return eR(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return!function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return eC(1e3)})}).then(function(){return e._pendingFilter!=t?void e.send("eth_uninstallFilter",[r]):(setTimeout(function(){n()},0),null)}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,u.shallowCopy)(eL);if(t)for(let e in t)t[e]&&(r[e]=!0);(0,u.checkProperties)(e,r);let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,o.hexValue)(s.BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=(0,o.hexlify)(e[t]))}),e.accessList&&(n.accessList=(0,l.accessListify)(e.accessList)),n}}let eq=null;try{if(eq=WebSocket,null==eq)throw Error("inject please")}catch(t){let e=new c.Logger(J);eq=function(){e.throwError("WebSockets not supported in this environment",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var eW=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let eV=new c.Logger(J),eG=1;class ez extends eK{constructor(e,t){"any"===t&&eV.throwError("WebSocketProvider does not support 'any' network yet",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof e?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,u.defineReadOnly)(this,"_websocket",new eq(this.connection.url)):(0,u.defineReadOnly)(this,"_websocket",e),(0,u.defineReadOnly)(this,"_requests",{}),(0,u.defineReadOnly)(this,"_subs",{}),(0,u.defineReadOnly)(this,"_subIds",{}),(0,u.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{let t=e.data,r=JSON.parse(t);if(null!=r.id){let e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=Error(r.error.message||"unknown error"),(0,u.defineReadOnly)(e,"code",r.error.code||null),(0,u.defineReadOnly)(e,"response",t)):e=Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){let e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){eV.throwError("cannot reset events block on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){eV.throwError("cannot set polling interval on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return eW(this,void 0,void 0,function*(){return null})}set polling(e){e&&eV.throwError("cannot set polling on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){let r=eG++;return new Promise((n,i)=>{let a=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?i(e):n(t)},payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return eW(this,void 0,void 0,function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=n);let i=yield n;this._subs[i]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=s.BigNumber.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{let t=e=>{let t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return eW(this,void 0,void 0,function*(){this.websocket.readyState===eq.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}let ej=new c.Logger(J);class eH extends eK{detectNetwork(){var e,t,r,n;let i=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,t=void 0,r=void 0,n=function*(){let e=this.network;return null==e&&((e=yield i.detectNetwork.call(this))||ej.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))),e},new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})}}class eQ extends eH{constructor(e,t){ej.checkAbstract(new.target,eQ),e=(0,u.getStatic)(new.target,"getNetwork")(e),super((0,u.getStatic)(new.target,"getUrl")(e,t=(0,u.getStatic)(new.target,"getApiKey")(t)),e),"string"==typeof t?(0,u.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{(0,u.defineReadOnly)(this,e,t[e])})}_startPending(){ej.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ej.throwError("API provider does not support signing",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ej.throwError("not implemented; sub-classes must override getUrl",c.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let eX=new c.Logger(J),eJ="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class eY extends ez{constructor(e,t){const r=new eZ(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,u.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===eJ}}class eZ extends eQ{static getWebSocketProvider(e,t){return new eY(e,t)}static getApiKey(e){return null==e?eJ:(e&&"string"!=typeof e&&eX.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":r="eth-sepolia.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":r="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":r="opt-sepolia.g.alchemy.com/v2/";break;default:eX.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===eJ&&er(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===eJ}}let e$=new c.Logger(J),e0="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class e1 extends eQ{isCommunityResource(){return this.apiKey===e0}static getApiKey(e){return null==e?e0:e}static getUrl(e,t){null==t&&(t=e0);let r={allowGzip:!0,url:"https://"+function(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return e$.throwArgumentError("unsupported network","name",e)}(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===e0&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}let e2=new c.Logger(J);class e4 extends eQ{static getApiKey(e){return null!=e&&e2.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":e2.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){var r,n,i,a;let s=Object.create(null,{perform:{get:()=>super.perform}});return r=this,n=void 0,i=void 0,a=function*(){return"getBlockNumber"===e?(yield s.perform.call(this,"getBlock",{blockTag:"latest"})).number:s.perform.call(this,e,t)},new(i||(i=Promise))(function(e,t){function s(e){try{u(a.next(e))}catch(e){t(e)}}function o(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(s,o)}u((a=a.apply(r,n||[])).next())})}}var e6=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let e3=new c.Logger(J);function e5(e){let t={};for(let r in e){if(null==e[r])continue;let n=e[r];("type"!==r||0!==n)&&(n=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r]?(0,o.hexValue)((0,o.hexlify)(n)):"accessList"===r?"["+(0,l.accessListify)(n).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":(0,o.hexlify)(n),t[r]=n)}return t}function e8(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){let t=Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function e7(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){let t=Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){let t=Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){let t=Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function e9(e){if("pending"===e)throw Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function te(e,t,r){if("call"===e&&t.code===c.Logger.errors.SERVER_ERROR){let e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,o.isHexString)(r))return r;e3.throwError("missing revert data in call exception",c.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),(n=(n||"").toLowerCase()).match(/insufficient funds/)&&e3.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&e3.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&e3.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&e3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class tt extends ek{constructor(e,t){super(e),(0,u.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,u.defineReadOnly)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return e3.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return e6(this,void 0,void 0,function*(){let n=r?this.getPostUrl():this.getUrl(e,t),i=r?this.getPostData(e,t):null,a="proxy"===e?e7:e8;this.emit("debug",{action:"request",request:n,provider:this});let s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&er(),Promise.resolve(!0))},o=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},o=Object.keys(i).map(e=>`${e}=${i[e]}`).join("&"));let l=yield(0,Q.fetchJson)(s,o,a||e7);return this.emit("debug",{action:"response",request:n,response:(0,u.deepCopy)(l),provider:this}),l})}detectNetwork(){return e6(this,void 0,void 0,function*(){return this.network})}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return e6(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>te("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let e=e5(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("call",e,t.transaction)}}case"estimateGas":{let e=e5(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("estimateGas",e,t.transaction)}}case"getLogs":{let e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=e9(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=e9(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&e3.throwError("unsupported topic count",c.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){let r=t.filter.topics[0];("string"!=typeof r||66!==r.length)&&e3.throwError("unsupported topic format",c.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}let r=yield this.fetch("logs",e),n={};for(let e=0;e<r.length;e++){let t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){let e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return e6(this,void 0,void 0,function*(){let n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?0x5f5e0ff:r,sort:"asc"};return(yield this.fetch("account",n)).map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);let t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return null==this.apiKey}}var tr=e.i(216368),tn=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{u(n.next(e))}catch(e){a(e)}}function o(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,o)}u((n=n.apply(e,t||[])).next())})};let ti=new c.Logger(J);function ta(){return new Date().getTime()}function ts(e){let t=null;for(let r=0;r<e.length;r++){let n=e[r];if(null==n)return null;t?(t.name!==n.name||t.chainId!==n.chainId||t.ensAddress!==n.ensAddress&&(null!=t.ensAddress||null!=n.ensAddress))&&ti.throwArgumentError("provider mismatch","networks",e):t=n}return t}function to(e,t){let r=Math.floor((e=e.slice().sort()).length/2);if(e.length%2)return e[r];let n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function tu(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(s.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>tu(e)));else if("object"==typeof e){let t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":tu(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw Error("unknown value type: "+typeof e)}let tl=1;function tc(e){let t=null,r=null,n=new Promise(n=>{r=setTimeout(t=function(){r&&(clearTimeout(r),r=null),n()},e)});return{cancel:t,getPromise:function(){return n},wait:e=>n=n.then(e)}}let td=[c.Logger.errors.CALL_EXCEPTION,c.Logger.errors.INSUFFICIENT_FUNDS,c.Logger.errors.NONCE_EXPIRED,c.Logger.errors.REPLACEMENT_UNDERPRICED,c.Logger.errors.UNPREDICTABLE_GAS_LIMIT],tf=["address","args","errorArgs","errorSignature","method","transaction"];function tp(e,t){let r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function th(e,t){return tn(this,void 0,void 0,function*(){let r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,Q.poll)(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}class tm extends ek{constructor(e,t){0===e.length&&ti.throwArgumentError("missing providers","providers",e);const r=e.map((e,t)=>{if(n.Provider.isProvider(e)){let t=ee(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:1})}let r=(0,u.shallowCopy)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=ee(e)?2e3:750),null==r.weight&&(r.weight=1);let i=r.weight;return(i%1||i>512||i<1)&&ti.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,i),Object.freeze(r)}),i=r.reduce((e,t)=>e+t.weight,0);null==t?t=i/2:t>i&&ti.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=ts(r.map(e=>e.provider.network));null==a&&(a=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(a),(0,u.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,u.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return tn(this,void 0,void 0,function*(){return ts((yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()))))})}perform(e,t){return tn(this,void 0,void 0,function*(){if("sendTransaction"===e){let e=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let t=0;t<e.length;t++){let r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());let r=function(e,t,r){var n,i;let a=tu;switch(t){case"getBlockNumber":return function(t){let r=t.map(e=>e.result),n=to(t.map(e=>e.result),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){let t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return to(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":a=function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).confirmations=-1,tu(e))};break;case"getBlock":a=r.includeTransactions?function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).transactions=e.transactions.map(e=>((e=(0,u.shallowCopy)(e)).confirmations=-1,e)),tu(e))}:function(e){return null==e?null:tu(e)};break;default:throw Error("unknown method: "+t)}return n=a,i=e.quorum,function(e){let t={};e.forEach(e=>{let r=n(e.result);t[r]||(t[r]={count:0,result:e.result}),t[r].count++});let r=Object.keys(t);for(let e=0;e<r.length;e++){let n=t[r[e]];if(n.count>=i)return n.result}}}(this,e,t),n=(0,tr.shuffled)(this.providerConfigs.map(u.shallowCopy));n.sort((e,t)=>e.priority-t.priority);let i=this._highestBlockNumber,a=0,s=!0;for(;;){let l=ta(),d=n.filter(e=>e.runner&&l-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;d<this.quorum&&a<n.length;){let r=n[a++],s=tl++;r.start=ta(),r.staller=tc(r.stallTimeout),r.staller.wait(()=>{r.staller=null}),r.runner=(function(e,t,r,n){return tn(this,void 0,void 0,function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,o.isHexString)(n.blockTag)&&(i=yield th(e,t)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,o.isHexString)(n.blockTag)&&(i=yield th(e,t)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,o.isHexString)(n.blockTag)&&(i=yield th(e,t)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":if(n.blockTag&&(0,o.isHexString)(n.blockTag)&&(i=yield th(e,t)),"call"===r&&n.blockTag)return i[r](n.transaction,n.blockTag);return i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,o.isHexString)(r.fromBlock)||r.toBlock&&(0,o.isHexString)(r.toBlock))&&(i=yield th(e,t)),i.getLogs(r)}}return ti.throwError("unknown method error",c.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})})})(r,i,e,t).then(n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})},n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:tp(r,null),request:{method:e,params:(0,u.deepCopy)(t)},provider:this}),d+=r.weight}let f=[];n.forEach(e=>{!e.done&&e.runner&&(f.push(e.runner),e.staller&&f.push(e.staller.getPromise()))}),f.length&&(yield Promise.race(f));let p=n.filter(e=>e.done&&null==e.error);if(p.length>=this.quorum){let e=r(p);if(void 0!==e)return n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),e;s||(yield tc(100).getPromise()),s=!1}let h=n.reduce((e,t)=>{if(!t.done||null==t.error)return e;let r=t.error.code;return td.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(h).forEach(e=>{let t=h[e];if(t.weight<this.quorum)return;n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});let r=t.error,i={};tf.forEach(e=>{null!=r[e]&&(i[e]=r[e])}),ti.throwError(r.reason||r.message,e,i)}),0===n.filter(e=>!e.done).length)break}return n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),ti.throwError("failed to meet quorum",c.Logger.errors.SERVER_ERROR,{method:e,params:t,results:n.map(e=>tp(e)),provider:this})})}}let tg=new c.Logger(J),tb="84842078b09946638c03157f83405213";class ty extends ez{constructor(e,t){const r=new tx(e,t),n=r.connection;n.password&&tg.throwError("INFURA WebSocket project secrets unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,u.defineReadOnly)(this,"apiKey",r.projectId),(0,u.defineReadOnly)(this,"projectId",r.projectId),(0,u.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===tb}}class tx extends eQ{static getWebSocketProvider(e,t){return new ty(e,t)}static getApiKey(e){let t={apiKey:tb,projectId:tb,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(tg.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),tg.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:tg.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===tb&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===tb}}class tA extends eK{send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let n={request:r,resolve:null,reject:null},i=new Promise((e,t)=>{n.resolve=e,n.reject=t});return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:(0,u.deepCopy)(t),provider:this}),(0,Q.fetchJson)(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{let n=r[t];if(n.error){let t=Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),i}}let tw=new c.Logger(J);class tv extends eQ{static getApiKey(e){return e&&"string"!=typeof e&&tw.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){tw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:tw.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}let tS=new c.Logger(J),tE="62e1ad51b37b8e00394bda3b";class tk extends eQ{static getApiKey(e){let t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=tE:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:tS.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:tS.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===tE}}let tT=new c.Logger(J);class tP extends eQ{static getApiKey(e){return e&&"string"!=typeof e&&tT.throwArgumentError("invalid apiKey","apiKey",e),e||"919b412a057b5e9c9b6dce193c5a60242d6efadb"}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:tT.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+t}}let tI=new c.Logger(J),t_=1;function tN(e,t){let r="Web3LegacyFetcher";return function(e,n){let i={method:e,params:n,id:t_++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,u.deepCopy)(i),provider:this}),t(i,(t,a)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:a,provider:this}),a.error){let e=Error(a.error.message);return e.code=a.error.code,e.data=a.error.data,n(e)}e(a.result)})})}}class tB extends eK{constructor(e,t){null==e&&tI.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;if("function"==typeof e)r="unknown:",n=e;else{if((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),i=e,e.request)""===r&&(r="eip-1193:"),n=function(t,r){null==r&&(r=[]);let n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,u.deepCopy)(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})};else e.sendAsync?n=tN(e,e.sendAsync.bind(e)):e.send?n=tN(e,e.send.bind(e)):tI.throwArgumentError("unsupported provider","provider",e);r||(r="unknown:")}super(r,t),(0,u.defineReadOnly)(this,"jsonRpcFetchFunc",n),(0,u.defineReadOnly)(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let tR=new c.Logger(J);function tC(e,t){if(null==e&&(e="homestead"),"string"==typeof e){let t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new eK(e);case"ws":case"wss":return new ez(e);default:tR.throwArgumentError("unsupported URL scheme","network",e)}}let r=q(e);return r&&r._defaultProvider||tR.throwError("unsupported getDefaultProvider network",c.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:tm,AlchemyProvider:eZ,AnkrProvider:e1,CloudflareProvider:e4,EtherscanProvider:tt,InfuraProvider:tx,JsonRpcProvider:eK,NodesmithProvider:tv,PocketProvider:tk,QuickNodeProvider:tP,Web3Provider:tB,IpcProvider:null},t)}e.s(["getDefaultProvider",()=>tC],426428),e.i(426428),e.s(["AlchemyProvider",()=>eZ,"AlchemyWebSocketProvider",()=>eY,"AnkrProvider",()=>e1,"BaseProvider",()=>ek,"CloudflareProvider",()=>e4,"EtherscanProvider",()=>tt,"FallbackProvider",()=>tm,"Formatter",()=>Z,"InfuraProvider",()=>tx,"InfuraWebSocketProvider",()=>ty,"IpcProvider",()=>null,"JsonRpcBatchProvider",()=>tA,"JsonRpcProvider",()=>eK,"JsonRpcSigner",()=>eF,"NodesmithProvider",()=>tv,"PocketProvider",()=>tk,"Provider",()=>n.Provider,"QuickNodeProvider",()=>tP,"Resolver",()=>ev,"StaticJsonRpcProvider",()=>eH,"UrlJsonRpcProvider",()=>eQ,"Web3Provider",()=>tB,"WebSocketProvider",()=>ez,"getDefaultProvider",()=>tC,"getNetwork",()=>q,"isCommunityResourcable",()=>$,"isCommunityResource",()=>ee,"showThrottleMessage",()=>er],98400);var tO=e.i(98400),tD=e.i(422955),tU=e.i(309302),tF=e.i(144180),tM=e.i(791078),tL=e.i(630759),tK=e.i(142621),tq=e.i(83090),tW=e.i(891368),tV=e.i(407351),tG=e.i(447172),tz=e.i(575111),tj=e.i(666843),tH=e.i(222223),tQ=e.i(346469),tX=e.i(299797),tJ=e.i(812196),tY=e.i(299697),tZ=e.i(691846);e.s([],27392),e.i(27392),e.s(["AbiCoder",()=>tF.AbiCoder,"ConstructorFragment",()=>tM.ConstructorFragment,"ErrorFragment",()=>tM.ErrorFragment,"EventFragment",()=>tM.EventFragment,"FormatTypes",()=>tM.FormatTypes,"Fragment",()=>tM.Fragment,"FunctionFragment",()=>tM.FunctionFragment,"HDNode",()=>tW.HDNode,"Indexed",()=>r.Indexed,"Interface",()=>r.Interface,"LogDescription",()=>r.LogDescription,"Logger",()=>c.Logger,"ParamType",()=>tM.ParamType,"RLP",0,tH,"SigningKey",()=>tQ.SigningKey,"SupportedAlgorithm",()=>tZ.SupportedAlgorithm,"TransactionDescription",()=>r.TransactionDescription,"TransactionTypes",()=>l.TransactionTypes,"UnicodeNormalizationForm",()=>H.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>H.Utf8ErrorFuncs,"Utf8ErrorReason",()=>H.Utf8ErrorReason,"_TypedDataEncoder",()=>eP._TypedDataEncoder,"_fetchData",()=>Q._fetchData,"_toEscapedUtf8String",()=>H._toEscapedUtf8String,"accessListify",()=>l.accessListify,"arrayify",()=>o.arrayify,"base58",()=>G.Base58,"base64",0,tL,"checkProperties",()=>u.checkProperties,"checkResultErrors",()=>t.checkResultErrors,"commify",()=>tY.commify,"computeAddress",()=>l.computeAddress,"computeHmac",()=>j.computeHmac,"computePublicKey",()=>tQ.computePublicKey,"concat",()=>o.concat,"deepCopy",()=>u.deepCopy,"defaultAbiCoder",()=>tF.defaultAbiCoder,"defaultPath",()=>tW.defaultPath,"defineReadOnly",()=>u.defineReadOnly,"dnsEncode",()=>z.dnsEncode,"entropyToMnemonic",()=>tW.entropyToMnemonic,"fetchJson",()=>Q.fetchJson,"formatBytes32String",()=>tX.formatBytes32String,"formatEther",()=>tY.formatEther,"formatUnits",()=>tY.formatUnits,"getAccountPath",()=>tW.getAccountPath,"getAddress",()=>a.getAddress,"getContractAddress",()=>a.getContractAddress,"getCreate2Address",()=>a.getCreate2Address,"getIcapAddress",()=>a.getIcapAddress,"getJsonWalletAddress",()=>tV.getJsonWalletAddress,"getStatic",()=>u.getStatic,"hashMessage",()=>tK.hashMessage,"hexConcat",()=>o.hexConcat,"hexDataLength",()=>o.hexDataLength,"hexDataSlice",()=>o.hexDataSlice,"hexStripZeros",()=>o.hexStripZeros,"hexValue",()=>o.hexValue,"hexZeroPad",()=>o.hexZeroPad,"hexlify",()=>o.hexlify,"id",()=>tq.id,"isAddress",()=>a.isAddress,"isBytes",()=>o.isBytes,"isBytesLike",()=>o.isBytesLike,"isHexString",()=>o.isHexString,"isValidMnemonic",()=>tW.isValidMnemonic,"isValidName",()=>z.isValidName,"joinSignature",()=>o.joinSignature,"keccak256",()=>tG.keccak256,"mnemonicToEntropy",()=>tW.mnemonicToEntropy,"mnemonicToSeed",()=>tW.mnemonicToSeed,"namehash",()=>z.namehash,"nameprep",()=>tJ.nameprep,"parseBytes32String",()=>tX.parseBytes32String,"parseEther",()=>tY.parseEther,"parseTransaction",()=>l.parse,"parseUnits",()=>tY.parseUnits,"poll",()=>Q.poll,"randomBytes",()=>tj.randomBytes,"recoverAddress",()=>l.recoverAddress,"recoverPublicKey",()=>tQ.recoverPublicKey,"resolveProperties",()=>u.resolveProperties,"ripemd160",()=>j.ripemd160,"serializeTransaction",()=>l.serialize,"sha256",()=>j.sha256,"sha512",()=>j.sha512,"shallowCopy",()=>u.shallowCopy,"shuffled",()=>tr.shuffled,"solidityKeccak256",()=>tz.keccak256,"solidityPack",()=>tz.pack,"soliditySha256",()=>tz.sha256,"splitSignature",()=>o.splitSignature,"stripZeros",()=>o.stripZeros,"toUtf8Bytes",()=>H.toUtf8Bytes,"toUtf8CodePoints",()=>H.toUtf8CodePoints,"toUtf8String",()=>H.toUtf8String,"verifyMessage",()=>_.verifyMessage,"verifyTypedData",()=>_.verifyTypedData,"zeroPad",()=>o.zeroPad],167276);var t$=e.i(167276);let t0="ethers/5.8.0";e.s(["version",0,t0],82930);let t1=new c.Logger(t0);e.s(["logger",()=>t1],859665),e.i(859665),e.s(["BaseContract",()=>k,"BigNumber",()=>s.BigNumber,"Contract",()=>T,"ContractFactory",()=>P,"FixedNumber",()=>I.FixedNumber,"Signer",()=>i.Signer,"VoidSigner",()=>i.VoidSigner,"Wallet",()=>_.Wallet,"Wordlist",()=>tD.Wordlist,"constants",0,C,"errors",()=>c.ErrorCode,"getDefaultProvider",()=>tC,"logger",()=>t1,"providers",0,tO,"utils",0,t$,"version",0,t0,"wordlists",()=>tU.wordlists],685648)},819090,e=>{"use strict";var t=e.i(11778);e.s(["constants",0,t])},851694,e=>{"use strict";var t=e.i(685648);try{let e=window;null==e._ethers&&(e._ethers=t)}catch(e){}e.s([],823172),e.i(823172);var r=e.i(90413),n=e.i(508663),i=e.i(426428),a=e.i(98400),a=a,s=e.i(992216),o=e.i(839341),u=e.i(382312),l=e.i(819090),c=e.i(875353),c=c,d=e.i(859665),f=e.i(167276),f=f,p=e.i(309302),h=e.i(82930),m=e.i(422955);e.s(["BaseContract",()=>s.BaseContract,"BigNumber",()=>o.BigNumber,"Contract",()=>s.Contract,"ContractFactory",()=>s.ContractFactory,"FixedNumber",()=>u.FixedNumber,"Signer",()=>r.Signer,"VoidSigner",()=>r.VoidSigner,"Wallet",()=>n.Wallet,"Wordlist",()=>m.Wordlist,"constants",()=>l.constants,"errors",()=>c.ErrorCode,"ethers",0,t,"getDefaultProvider",()=>i.getDefaultProvider,"logger",()=>d.logger,"providers",()=>a,"utils",()=>f,"version",()=>h.version,"wordlists",()=>p.wordlists],851694)},477912,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e=Math.imul,t=Math.clz32,r=Math.abs,n=Math.max,i=Math.floor;class a extends Array{constructor(e,t){if(super(e),this.sign=t,e>a.__kMaxLength)throw RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||i(e)!==e)throw RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){let t=a.__fromString(e);if(null===t)throw SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"==typeof e){if(e.constructor===a)return e;let t=a.__toPrimitive(e);return a.BigInt(t)}throw TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){let e=["BigInt["];for(let t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}static toNumber(e){let t=e.length;if(0===t)return 0;if(1===t){let t=e.__unsignedDigit(0);return e.sign?-t:t}let r=e.__digit(t-1),n=a.__clz30(r),i=30*t-n;if(1024<i)return e.sign?-1/0:1/0;let s=i-1,o=r,u=t-1,l=n+3,c=32===l?0:o<<l;c>>>=12;let d=l-12,f=12<=l?0:o<<20+l,p=20+l;for(0<d&&0<u&&(u--,c|=(o=e.__digit(u))>>>30-d,f=o<<d+2,p=d+2);0<p&&0<u;)u--,o=e.__digit(u),f|=30<=p?o<<p-30:o>>>30-p,p-=30;let h=a.__decideRounding(e,p,u,o);if((1===h||0===h&&1==(1&f))&&0==(f=f+1>>>0)&&0!=++c>>>20&&(c=0,1023<++s))return e.sign?-1/0:1/0;let m=e.sign?-0x80000000:0;return s=s+1023<<20,a.__kBitConversionInts[1]=m|s|c,a.__kBitConversionInts[0]=f,a.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;let t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(1===r)return e;if(r>=a.__kMaxLengthBits)throw RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){let t=1+(0|r/30),n=new a(t,e.sign&&0!=(1&r));n.__initializeDigits();let i=1<<r%30;return n.__setDigit(t-1,i),n}let n=null,i=e;for(0!=(1&r)&&(n=e),r>>=1;0!==r;r>>=1)i=a.multiply(i,i),0!=(1&r)&&(n=null===n?i:a.multiply(n,i));return n}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;let n=new a(r,e.sign!==t.sign);n.__initializeDigits();for(let r=0;r<e.length;r++)a.__multiplyAccumulate(t,e.__digit(r),n,r);return n.__trim()}static divide(e,t){let r;if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();let n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:a.unaryMinus(e);r=a.__absoluteDivSmall(e,i,null)}else r=a.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}static remainder(e,t){if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;let r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return a.__zero();let t=a.__absoluteModSmall(e,r);return 0===t?a.__zero():a.__oneDigit(t,e.sign)}let n=a.__absoluteDivLarge(e,t,!1,!0);return n.sign=e.sign,n.__trim()}static add(e,t){let r=e.sign;return r===t.sign?a.__absoluteAdd(e,t,r):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r)}static subtract(e,t){let r=e.sign;return r===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r):a.__absoluteAdd(e,t,r)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>a.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=a.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<a.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=a.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!a.equal(e,t)}static bitwiseAnd(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){let r=n(e.length,t.length)+1,i=a.__absoluteSubOne(e,r),s=a.__absoluteSubOne(t);return i=a.__absoluteOr(i,s,i),a.__absoluteAddOne(i,!0,i).__trim()}return e.sign&&([e,t]=[t,e]),a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){let r=n(e.length,t.length),i=a.__absoluteSubOne(e,r),s=a.__absoluteSubOne(t);return a.__absoluteXor(i,s,i).__trim()}let r=n(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let i=a.__absoluteSubOne(t,r);return i=a.__absoluteXor(i,e,i),a.__absoluteAddOne(i,!0,i).__trim()}static bitwiseOr(e,t){let r=n(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let n=a.__absoluteSubOne(e,r),i=a.__absoluteSubOne(t);return n=a.__absoluteAnd(n,i,n),a.__absoluteAddOne(n,!0,n).__trim()}e.sign&&([e,t]=[t,e]);let i=a.__absoluteSubOne(t,r);return i=a.__absoluteAndNot(i,e,i),a.__absoluteAddOne(i,!0,i).__trim()}static asIntN(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let n=t.__unsignedDigit(r-1),s=1<<(e-1)%30;if(t.length===r&&n<s)return t;if((n&s)!==s)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(n&s-1)){for(let n=r-2;0<=n;n--)if(0!==t.__digit(n))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===s?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let n=e%30;return t.length==r&&(0===n||0==t.__digit(r-1)>>>n)?t:a.__truncateToNBits(e,t)}static ADD(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return a.__compare(e,t,0)}static LE(e,t){return a.__compare(e,t,1)}static GT(e,t){return a.__compare(e,t,2)}static GE(e,t){return a.__compare(e,t,3)}static EQ(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("symbol"==typeof e){if(a.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else{if("object"!=typeof e||"object"==typeof t&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}static NE(e,t){return!a.EQ(e,t)}static __zero(){return new a(0,!1)}static __oneDigit(e,t){let r=new a(1,t);return r.__setDigit(0,e),r}__copy(){let e=new a(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,n){let i;if(0<t)return -1;if(0>t)i=-t-1;else{if(0===r)return -1;r--,n=e.__digit(r),i=29}let a=1<<i;if(0==(n&a))return -1;if(a-=1,0!=(n&a))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}static __fromDouble(e){a.__kBitConversionDouble[0]=e;let t=(2047&a.__kBitConversionInts[1]>>>20)-1023,r=(0|t/30)+1,n=new a(r,0>e),i=1048575&a.__kBitConversionInts[1]|1048576,s=a.__kBitConversionInts[0],o=t%30,u,l=0;if(20>o){let e=20-o;l=e+32,u=i>>>e,i=i<<32-e|s>>>e,s<<=32-e}else if(20===o)l=32,u=i,i=s,s=0;else{let e=o-20;l=32-e,u=i<<e|s>>>32-e,i=s<<e,s=0}n.__setDigit(r-1,u);for(let e=r-2;0<=e;e--)0<l?(l-=30,u=i>>>2,i=i<<30|s>>>2,s<<=30):u=0,n.__setDigit(e,u);return n.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let r=0,n=e.length,i=0;if(0===n)return a.__zero();let s=e.charCodeAt(i);for(;a.__isWhitespace(s);){if(++i===n)return a.__zero();s=e.charCodeAt(i)}if(43===s){if(++i===n)return null;s=e.charCodeAt(i),r=1}else if(45===s){if(++i===n)return null;s=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===s){if(++i===n)return a.__zero();if(88===(s=e.charCodeAt(i))||120===s){if(t=16,++i===n)return null;s=e.charCodeAt(i)}else if(79===s||111===s){if(t=8,++i===n)return null;s=e.charCodeAt(i)}else if(66===s||98===s){if(t=2,++i===n)return null;s=e.charCodeAt(i)}}}else if(16===t&&48===s){if(++i===n)return a.__zero();if(88===(s=e.charCodeAt(i))||120===s){if(++i===n)return null;s=e.charCodeAt(i)}}if(0!=r&&10!==t)return null;for(;48===s;){if(++i===n)return a.__zero();s=e.charCodeAt(i)}let o=n-i,u=a.__kMaxBitsPerChar[t],l=a.__kBitsPerCharTableMultiplier-1;if(o>0x40000000/u)return null;let c=u*o+l>>>a.__kBitsPerCharTableShift,d=new a(0|(c+29)/30,!1),f=10>t?t:10,p=10<t?t-10:0;if(0==(t&t-1)){u>>=a.__kBitsPerCharTableShift;let t=[],r=[],o=!1;do{let a=0,l=0;for(;;){let t;if(s-48>>>0<f)t=s-48;else if((32|s)-97>>>0<p)t=(32|s)-87;else{o=!0;break}if(l+=u,a=a<<u|t,++i===n){o=!0;break}if(s=e.charCodeAt(i),30<l+u)break}t.push(a),r.push(l)}while(!o)a.__fillFromParts(d,t,r)}else{d.__initializeDigits();let r=!1,o=0;do{let c=0,h=1;for(;;){let a;if(s-48>>>0<f)a=s-48;else if((32|s)-97>>>0<p)a=(32|s)-87;else{r=!0;break}let u=h*t;if(0x3fffffff<u)break;if(h=u,c=c*t+a,o++,++i===n){r=!0;break}s=e.charCodeAt(i)}let m=0|(u*o+(l=30*a.__kBitsPerCharTableMultiplier-1)>>>a.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(h,c,m)}while(!r)}if(i!==n){if(!a.__isWhitespace(s))return null;for(i++;i<n;i++)if(s=e.charCodeAt(i),!a.__isWhitespace(s))return null}return d.sign=-1==r,d.__trim()}static __fillFromParts(e,t,r){let n=0,i=0,a=0;for(let s=t.length-1;0<=s;s--){let o=t[s],u=r[s];i|=o<<a,30===(a+=u)?(e.__setDigit(n++,i),a=0,i=0):30<a&&(e.__setDigit(n++,0x3fffffff&i),a-=30,i=o>>>u-a)}if(0!==i){if(n>=e.length)throw Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}static __toStringBasePowerOfTwo(e,t){let r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),s=t-1,o=e.__digit(r-1),u=0|(30*r-a.__clz30(o)+i-1)/i;if(e.sign&&u++,0x10000000<u)throw Error("string too long");let l=Array(u),c=u-1,d=0,f=0;for(let t=0;t<r-1;t++){let r=e.__digit(t),n=(d|r<<f)&s;l[c--]=a.__kConversionChars[n];let o=i-f;for(d=r>>>o,f=30-o;f>=i;)l[c--]=a.__kConversionChars[d&s],d>>>=i,f-=i}let p=(d|o<<f)&s;for(l[c--]=a.__kConversionChars[p],d=o>>>i-f;0!==d;)l[c--]=a.__kConversionChars[d&s],d>>>=i;if(e.sign&&(l[c--]="-"),-1!=c)throw Error("implementation bug");return l.join("")}static __toStringGeneric(e,t,r){let n,i,s=e.length;if(0===s)return"";if(1===s){let n=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(n="-"+n),n}let o=30*s-a.__clz30(e.__digit(s-1)),u=a.__kMaxBitsPerChar[t]-1,l=o*a.__kBitsPerCharTableMultiplier;l+=u-1;let c=(l=0|l/u)+1>>1,d=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(c,!1)),f=d.__unsignedDigit(0);if(1===d.length&&32767>=f){(n=new a(e.length,!1)).__initializeDigits();let r=0;for(let t=2*e.length-1;0<=t;t--){let i=r<<15|e.__halfDigit(t);n.__setHalfDigit(t,0|i/f),r=0|i%f}i=r.toString(t)}else{let r=a.__absoluteDivLarge(e,d,!0,!0);n=r.quotient;let s=r.remainder.__trim();i=a.__toStringGeneric(s,t,!0)}n.__trim();let p=a.__toStringGeneric(n,t,!0);for(;i.length<c;)i="0"+i;return!1===r&&e.sign&&(p="-"+p),p+i}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){let r=e.sign;if(r!==t.sign)return a.__unequalSign(r);let n=a.__absoluteCompare(e,t);return 0<n?a.__absoluteGreater(r):0>n?a.__absoluteLess(r):0}static __compareToNumber(e,t){if(a.__isOneDigitInt(t)){let n=e.sign,i=0>t;if(n!==i)return a.__unequalSign(n);if(0===e.length){if(i)throw Error("implementation bug");return 0===t?0:-1}if(1<e.length)return a.__absoluteGreater(n);let s=r(t),o=e.__unsignedDigit(0);return o>s?a.__absoluteGreater(n):o<s?a.__absoluteLess(n):0}return a.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return -1;if(t===-1/0)return 1;let r=e.sign;if(r!==0>t)return a.__unequalSign(r);if(0===t)throw Error("implementation bug: should be handled elsewhere");if(0===e.length)return -1;a.__kBitConversionDouble[0]=t;let n=2047&a.__kBitConversionInts[1]>>>20;if(2047==n)throw Error("implementation bug: handled elsewhere");let i=n-1023;if(0>i)return a.__absoluteGreater(r);let s=e.length,o=e.__digit(s-1),u=a.__clz30(o),l=30*s-u,c=i+1;if(l<c)return a.__absoluteLess(r);if(l>c)return a.__absoluteGreater(r);let d=1048576|1048575&a.__kBitConversionInts[1],f=a.__kBitConversionInts[0],p=29-u;if(p!==(0|(l-1)%30))throw Error("implementation bug");let h,m=0;if(20>p){let e=20-p;m=e+32,h=d>>>e,d=d<<32-e|f>>>e,f<<=32-e}else if(20===p)m=32,h=d,d=f,f=0;else{let e=p-20;m=32-e,h=d<<e|f>>>32-e,d=f<<e,f=0}if((o>>>=0)>(h>>>=0))return a.__absoluteGreater(r);if(o<h)return a.__absoluteLess(r);for(let t=s-2;0<=t;t--){0<m?(m-=30,h=d>>>2,d=d<<30|f>>>2,f<<=30):h=0;let n=e.__unsignedDigit(t);if(n>h)return a.__absoluteGreater(r);if(n<h)return a.__absoluteLess(r)}if(0!==d||0!==f){if(0===m)throw Error("implementation bug");return a.__absoluteLess(r)}return 0}static __equalToNumber(e,t){return a.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):0===a.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,r){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("number"!=typeof t)throw Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),r)}if("number"!=typeof e)throw Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return a.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;let i=new a(n,r),s=0,o=0;for(;o<t.length;o++){let r=e.__digit(o)+t.__digit(o)+s;s=r>>>30,i.__setDigit(o,0x3fffffff&r)}for(;o<e.length;o++){let t=e.__digit(o)+s;s=t>>>30,i.__setDigit(o,0x3fffffff&t)}return o<i.length&&i.__setDigit(o,s),i.__trim()}static __absoluteSub(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let n=new a(e.length,r),i=0,s=0;for(;s<t.length;s++){let r=e.__digit(s)-t.__digit(s)-i;i=1&r>>>30,n.__setDigit(s,0x3fffffff&r)}for(;s<e.length;s++){let t=e.__digit(s)-i;i=1&t>>>30,n.__setDigit(s,0x3fffffff&t)}return n.__trim()}static __absoluteAddOne(e,t,r=null){let n=e.length;null===r?r=new a(n,t):r.sign=t;let i=1;for(let t=0;t<n;t++){let n=e.__digit(t)+i;i=n>>>30,r.__setDigit(t,0x3fffffff&n)}return 0!=i&&r.__setDigitGrow(n,1),r}static __absoluteSubOne(e,t){let r=e.length,n=new a(t=t||r,!1),i=1;for(let t=0;t<r;t++){let r=e.__digit(t)-i;i=1&r>>>30,n.__setDigit(t,0x3fffffff&r)}if(0!=i)throw Error("implementation bug");for(let e=r;e<t;e++)n.__setDigit(e,0);return n}static __absoluteAnd(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;let r=e,a=n;e=t,n=i,t=r,i=a}let o=s;null===r?r=new a(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(e,t,r=null){let n=e.length,i=t.length,s=i;n<i&&(s=n);let o=n;null===r?r=new a(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<n;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteOr(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;let r=e,a=n;e=t,n=i,t=r,i=a}let o=n;null===r?r=new a(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<n;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteXor(e,t,r=null){let n=e.length,i=t.length,s=i;if(n<i){s=n;let r=e,a=n;e=t,n=i,t=r,i=a}let o=n;null===r?r=new a(o,!1):o=r.length;let u=0;for(;u<s;u++)r.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<n;u++)r.__setDigit(u,e.__digit(u));for(;u<o;u++)r.__setDigit(u,0);return r}static __absoluteCompare(e,t){let r=e.length-t.length;if(0!=r)return r;let n=e.length-1;for(;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}static __multiplyAccumulate(e,t,r,n){if(0===t)return;let i=32767&t,s=t>>>15,o=0,u=0;for(let t,l=0;l<e.length;l++,n++){t=r.__digit(n);let c=e.__digit(l),d=32767&c,f=c>>>15,p=a.__imul(d,i),h=a.__imul(d,s),m=a.__imul(f,i),g=a.__imul(f,s);t+=u+p+o,o=t>>>30,t&=0x3fffffff,t+=((32767&h)<<15)+((32767&m)<<15),o+=t>>>30,u=g+(h>>>15)+(m>>>15),r.__setDigit(n,0x3fffffff&t)}for(;0!=o||0!==u;n++){let e=r.__digit(n);e+=o+u,u=0,o=e>>>30,r.__setDigit(n,0x3fffffff&e)}}static __internalMultiplyAdd(e,t,r,n,i){let s=r,o=0;for(let r=0;r<n;r++){let n=e.__digit(r),u=a.__imul(32767&n,t),l=a.__imul(n>>>15,t),c=u+((32767&l)<<15)+o+s;s=c>>>30,o=l>>>15,i.__setDigit(r,0x3fffffff&c)}if(i.length>n)for(i.__setDigit(n++,s+o);n<i.length;)i.__setDigit(n++,0);else if(0!==s+o)throw Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);let n=32767&e,i=e>>>15,s=0,o=t;for(let e=0;e<r;e++){let t=this.__digit(e),r=32767&t,u=t>>>15,l=a.__imul(r,n),c=a.__imul(r,i),d=a.__imul(u,n),f=a.__imul(u,i),p=o+l+s;s=p>>>30,p&=0x3fffffff,p+=((32767&c)<<15)+((32767&d)<<15),s+=p>>>30,o=f+(c>>>15)+(d>>>15),this.__setDigit(e,0x3fffffff&p)}if(0!=s||0!==o)throw Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){null===r&&(r=new a(e.length,!1));let n=0;for(let i,a=2*e.length-1;0<=a;a-=2){let s=0|(i=(n<<15|e.__halfDigit(a))>>>0)/t,o=0|(i=((n=0|i%t)<<15|e.__halfDigit(a-1))>>>0)/t;n=0|i%t,r.__setDigit(a>>>1,s<<15|o)}return r}static __absoluteModSmall(e,t){let r=0;for(let n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,n){let i=t.__halfDigitLength(),s=t.length,o=e.__halfDigitLength()-i,u=null;r&&(u=new a(o+2>>>1,!1)).__initializeDigits();let l=new a(i+2>>>1,!1);l.__initializeDigits();let c=a.__clz15(t.__halfDigit(i-1));0<c&&(t=a.__specialLeftShift(t,c,0));let d=a.__specialLeftShift(e,c,1),f=t.__halfDigit(i-1),p=0;for(let e,n=o;0<=n;n--){e=32767;let o=d.__halfDigit(n+i);if(o!==f){let r=(o<<15|d.__halfDigit(n+i-1))>>>0;e=0|r/f;let s=0|r%f,u=t.__halfDigit(i-2),l=d.__halfDigit(n+i-2);for(;a.__imul(e,u)>>>0>(s<<16|l)>>>0&&(e--,!(32767<(s+=f))););}a.__internalMultiplyAdd(t,e,0,s,l);let c=d.__inplaceSub(l,n,i+1);0!==c&&(c=d.__inplaceAdd(t,n,i),d.__setHalfDigit(n+i,32767&d.__halfDigit(n+i)+c),e--),r&&(1&n?p=e<<15:u.__setDigit(n>>>1,p|e))}if(n)return d.__inplaceRightShift(c),r?{quotient:u,remainder:d}:d;if(r)return u;throw Error("unreachable")}static __clz15(e){return a.__clz30(e)-15}__inplaceAdd(e,t,r){let n=0;for(let i=0;i<r;i++){let r=this.__halfDigit(t+i)+e.__halfDigit(i)+n;n=r>>>15,this.__setHalfDigit(t+i,32767&r)}return n}__inplaceSub(e,t,r){let n=0;if(1&t){t>>=1;let i=this.__digit(t),a=32767&i,s=0;for(;s<r-1>>>1;s++){let r=e.__digit(s),o=(i>>>15)-(32767&r)-n;n=1&o>>>15,this.__setDigit(t+s,(32767&o)<<15|32767&a),n=1&(a=(32767&(i=this.__digit(t+s+1)))-(r>>>15)-n)>>>15}let o=e.__digit(s),u=(i>>>15)-(32767&o)-n;if(n=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&a),t+s+1>=this.length)throw RangeError("out of bounds");0==(1&r)&&(n=1&(a=(32767&(i=this.__digit(t+s+1)))-(o>>>15)-n)>>>15,this.__setDigit(t+e.length,0x3fff8000&i|32767&a))}else{t>>=1;let i=0;for(;i<e.length-1;i++){let r=this.__digit(t+i),a=e.__digit(i),s=(32767&r)-(32767&a)-n,o=(r>>>15)-(a>>>15)-(n=1&s>>>15);n=1&o>>>15,this.__setDigit(t+i,(32767&o)<<15|32767&s)}let a=this.__digit(t+i),s=e.__digit(i),o=(32767&a)-(32767&s)-n;n=1&o>>>15;let u=0;0==(1&r)&&(n=1&(u=(a>>>15)-(s>>>15)-n)>>>15),this.__setDigit(t+i,(32767&u)<<15|32767&o)}return n}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e,r=this.length-1;for(let n=0;n<r;n++){let r=this.__digit(n+1);this.__setDigit(n,0x3fffffff&r<<30-e|t),t=r>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){let n=e.length,i=new a(n+r,!1);if(0===t){for(let t=0;t<n;t++)i.__setDigit(t,e.__digit(t));return 0<r&&i.__setDigit(n,0),i}let s=0;for(let r=0;r<n;r++){let n=e.__digit(r);i.__setDigit(r,0x3fffffff&n<<t|s),s=n>>>30-t}return 0<r&&i.__setDigit(n,s),i}static __leftShiftByAbsolute(e,t){let r=a.__toShiftAmount(t);if(0>r)throw RangeError("BigInt too big");let n=0|r/30,i=r%30,s=e.length,o=0!==i&&0!=e.__digit(s-1)>>>30-i,u=s+n+ +!!o,l=new a(u,e.sign);if(0===i){let t=0;for(;t<n;t++)l.__setDigit(t,0);for(;t<u;t++)l.__setDigit(t,e.__digit(t-n))}else{let t=0;for(let e=0;e<n;e++)l.__setDigit(e,0);for(let r=0;r<s;r++){let a=e.__digit(r);l.__setDigit(r+n,0x3fffffff&a<<i|t),t=a>>>30-i}if(o)l.__setDigit(s+n,t);else if(0!==t)throw Error("implementation bug")}return l.__trim()}static __rightShiftByAbsolute(e,t){let r=e.length,n=e.sign,i=a.__toShiftAmount(t);if(0>i)return a.__rightShiftByMaximum(n);let s=0|i/30,o=i%30,u=r-s;if(0>=u)return a.__rightShiftByMaximum(n);let l=!1;if(n){if(0!=(e.__digit(s)&(1<<o)-1))l=!0;else for(let t=0;t<s;t++)if(0!==e.__digit(t)){l=!0;break}}l&&0===o&&0==~e.__digit(r-1)&&u++;let c=new a(u,n);if(0===o){c.__setDigit(u-1,0);for(let t=s;t<r;t++)c.__setDigit(t-s,e.__digit(t))}else{let t=e.__digit(s)>>>o,n=r-s-1;for(let r=0;r<n;r++){let n=e.__digit(r+s+1);c.__setDigit(r,0x3fffffff&n<<30-o|t),t=n>>>o}c.__setDigit(n,t)}return l&&(c=a.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(e){return e?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(e){if(1<e.length)return -1;let t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e||e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){let r=e[Symbol.toPrimitive];if(r){let e=r(t);if("object"!=typeof e)return e;throw TypeError("Cannot convert object to primitive value")}}let r=e.valueOf;if(r){let t=r.call(e);if("object"!=typeof t)return t}let n=e.toString;if(n){let t=n.call(e);if("object"!=typeof t)return t}throw TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return a.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===a}static __truncateToNBits(e,t){let r=0|(e+29)/30,n=new a(r,t.sign),i=r-1;for(let e=0;e<i;e++)n.__setDigit(e,t.__digit(e));let s=t.__digit(i);if(0!=e%30){let t=32-e%30;s=s<<t>>>t}return n.__setDigit(i,s),n.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){let n;var i=Math.min;let s=0|(e+29)/30,o=new a(s,r),u=0,l=s-1,c=0;for(let e=i(l,t.length);u<e;u++){let e=0-t.__digit(u)-c;c=1&e>>>30,o.__setDigit(u,0x3fffffff&e)}for(;u<l;u++)o.__setDigit(u,0x3fffffff&-c);let d=l<t.length?t.__digit(l):0,f=e%30;if(0==f)n=0-d-c&0x3fffffff;else{let e=32-f;d=d<<e>>>e;let t=1<<32-e;n=t-d-c&t-1}return o.__setDigit(l,n),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){let e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){let r=e>>>1,n=this.__digit(r);this.__setDigit(r,1&e?32767&n|t<<15:0x3fff8000&n|32767&t)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(0x3fffffff&e)===e}}return a.__kMaxLength=0x2000000,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},a.__imul=e||function(e,t){return 0|e*t},a}()},443276,(e,t,r)=>{!function(r){"use strict";var n,i="[big.js] ",a=i+"Invalid ",s=a+"decimal places",o=a+"rounding mode",u=i+"Division by zero",l={},c=void 0,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(e,t,r,n){var i=e.c,a=e.e+t+1;if(a<i.length){if(1===r)n=i[a]>=5;else if(2===r)n=i[a]>5||5==i[a]&&(n||a<0||i[a+1]!==c||1&i[a-1]);else if(3===r)n=n||!!i[0];else if(n=!1,0!==r)throw Error(o);if(a<1)i.length=1,n?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,n)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(o);return e}function p(e,t,r,n){var i,o,u=e.constructor,l=!e.c[0];if(r!==c){if(r!==~~r||r<(3==t)||r>1e6)throw Error(3==t?a+"precision":s);for(r=n-(e=new u(e)).e,e.c.length>++n&&f(e,r,u.RM),2==t&&(n=e.e+r+1);e.c.length<n;)e.c.push(0)}if(i=e.e,r=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&n<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+="0";else i<r&&(o=o.slice(0,i)+"."+o.slice(i));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!l||4==t)?"-"+o:o}if(l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,r=this.c,n=(e=new this.constructor(e)).c,i=this.s,a=e.s,s=this.e,o=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-a:0;if(i!=a)return i;if(t=i<0,s!=o)return s>o^t?1:-1;for(i=-1,a=(s=r.length)<(o=n.length)?s:o;++i<a;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return s==o?0:s>o^t?1:-1},l.div=function(e){var t=this.constructor,r=this.c,n=(e=new t(e)).c,i=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(s);if(!n[0])throw Error(u);if(!r[0])return new t(0*i);var o,l,d,p,h,m=n.slice(),g=o=n.length,b=r.length,y=r.slice(0,o),x=y.length,A=e,w=A.c=[],v=0,S=a+(A.e=this.e-e.e)+1;for(A.s=i,i=S<0?0:S,m.unshift(0);x++<o;)y.push(0);do{for(d=0;d<10;d++){if(o!=(x=y.length))p=o>x?1:-1;else for(h=-1,p=0;++h<o;)if(n[h]!=y[h]){p=n[h]>y[h]?1:-1;break}if(p<0){for(l=x==o?n:m;x;){if(y[--x]<l[x]){for(h=x;h&&!y[--h];)y[h]=9;--y[h],y[x]+=10}y[x]-=l[x]}for(;!y[0];)y.shift()}else break}w[v++]=p?d:++d,y[0]&&p?y[x]=r[g]||0:y=[r[g]]}while((g++<b||y[0]!==c)&&i--)return!w[0]&&1!=v&&(w.shift(),A.e--),v>S&&f(A,a,t.RM,y[0]!==c),A},l.eq=function(e){return!this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return 0>this.cmp(e)},l.lte=function(e){return 1>this.cmp(e)},l.minus=l.sub=function(e){var t,r,n,i,a=this.constructor,s=this.s,o=(e=new a(e)).s;if(s!=o)return e.s=-o,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?(e.s=-o,e):new a(u[0]?this:0);if(s=l-d){for((i=s<0)?(s=-s,n=u):(d=l,n=c),n.reverse(),o=s;o--;)n.push(0);n.reverse()}else for(r=((i=u.length<c.length)?u:c).length,s=o=0;o<r;o++)if(u[o]!=c[o]){i=u[o]<c[o];break}if(i&&(n=u,u=c,c=n,e.s=-e.s),(o=(r=c.length)-(t=u.length))>0)for(;o--;)u[t++]=0;for(o=t;r>s;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--o];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},l.mod=function(e){var t,r=this,n=r.constructor,i=r.s,a=(e=new n(e)).s;if(!e.c[0])throw Error(u);return(r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=a,t)?new n(r):(i=n.DP,a=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=a,this.minus(r.times(e)))},l.plus=l.add=function(e){var t,r=this.constructor,n=this.s,i=(e=new r(e)).s;if(n!=i)return e.s=-i,this.minus(e);var a=this.e,s=this.c,o=e.e,u=e.c;if(!s[0]||!u[0])return u[0]?e:new r(s[0]?this:0*n);if(s=s.slice(),n=a-o){for(n>0?(o=a,t=u):(n=-n,t=s),t.reverse();n--;)t.push(0);t.reverse()}for(s.length-u.length<0&&(t=u,u=s,s=t),n=u.length,i=0;n;s[n]%=10)i=(s[--n]=s[n]+u[n]+i)/10|0;for(i&&(s.unshift(i),++o),n=s.length;0===s[--n];)s.pop();return e.c=s,e.e=o,e},l.pow=function(e){var t=this,r=new t.constructor(1),n=r,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(a+"exponent");for(i&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return i?r.div(n):n},l.round=function(e,t){var r=this.constructor;if(e===c)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(s);return f(new r(this),e,t===c?r.RM:t)},l.sqrt=function(){var e,t,r,n=this.constructor,a=this.s,s=this.e,o=new n(.5);if(!this.c[0])return new n(this);if(a<0)throw Error(i+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new n(((a=Math.sqrt(t))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+s)):e=new n(a),s=e.e+(n.DP+=4);do r=e,e=o.times(r.plus(this.div(r)));while(r.c.slice(0,s).join("")!==e.c.slice(0,s).join(""))return f(e,n.DP-=4,n.RM)},l.times=l.mul=function(e){var t,r=this.constructor,n=this.c,i=(e=new r(e)).c,a=n.length,s=i.length,o=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!n[0]||!i[0])return new r(0*e.s);for(e.e=o+u,a<s&&(t=n,n=i,i=t,u=a,a=s,s=u),t=Array(u=a+s);u--;)t[u]=0;for(o=s;o--;){for(s=0,u=a+o;u>o;)s=t[u]+i[o]*n[u-o-1]+s,t[u--]=s%10,s=s/10|0;t[u]=(t[u]+s)%10}for(s?++e.e:t.shift(),o=t.length;!t[--o];)t.pop();return e.c=t,e},l.toExponential=function(e){return p(this,1,e,e)},l.toFixed=function(e){return p(this,2,e,this.e+e)},l.toPrecision=function(e){return p(this,3,e,e-1)},l.toString=function(){return p(this)},l.valueOf=l.toJSON=function(){return p(this,4)},(n=function e(){function t(r){if(!(this instanceof t))return r===c?e():new t(r);r instanceof t?(this.s=r.s,this.e=r.e,this.c=r.c.slice()):function(e,t){var r,n,i;if(0===t&&1/t<0)t="-0";else if(!d.test(t+=""))throw Error(a+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),i=t.length,n=0;n<i&&"0"==t.charAt(n);)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}}(this,r),this.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=n.Big=n,"function"==typeof define&&define.amd)e.r,void 0!==n&&e.v(n);else t.exports?t.exports=n:r.Big=n}(e.e)},702503,40992,e=>{"use strict";e.i(247167);var t,r,n,i,a,s,o,u,l,c,d,f,p,h,m,g,b,y,x,A,w,v,S=e.i(477912);function E(e,t){if(!e)throw Error("Invariant failed")}e.s(["default",()=>E],40992);var k=e.i(651655),T=e.i(443276),P=e.i(983607),I=e.i(839341),_=e.i(47771),N=e.i(403011),B=e.i(223439);function R(e){return"0x"+B.default.keccak_256((0,N.arrayify)(e))}let C=new(e.i(875353)).Logger("strings/5.7.0");function O(e,t,r,n,i){if(e===u.BAD_PREFIX||e===u.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===u.OVERRUN?r.length-t-1:0}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n.key),n)}}function U(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(){return(F=Object.assign.bind()).apply(null,arguments)}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(t=o||(o={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=u||(u={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation",Object.freeze({error:function(e,t,r,n,i){return C.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:O,replace:function(e,t,r,n,i){return e===u.OVERLONG?(n.push(i),0):(n.push(65533),O(e,t,r,n,i))}}),(n=l||(l={}))[n.MAINNET=1]="MAINNET",n[n.GOERLI=5]="GOERLI",n[n.SEPOLIA=0xaa36a7]="SEPOLIA",n[n.OPTIMISM=10]="OPTIMISM",n[n.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",n[n.OPTIMISM_SEPOLIA=0xaa37dc]="OPTIMISM_SEPOLIA",n[n.ARBITRUM_ONE=42161]="ARBITRUM_ONE",n[n.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",n[n.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",n[n.POLYGON=137]="POLYGON",n[n.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",n[n.CELO=42220]="CELO",n[n.CELO_ALFAJORES=44787]="CELO_ALFAJORES",n[n.GNOSIS=100]="GNOSIS",n[n.MOONBEAM=1284]="MOONBEAM",n[n.BNB=56]="BNB",n[n.AVALANCHE=43114]="AVALANCHE",n[n.BASE_GOERLI=84531]="BASE_GOERLI",n[n.BASE_SEPOLIA=84532]="BASE_SEPOLIA",n[n.BASE=8453]="BASE",n[n.ZORA=7777777]="ZORA",n[n.ZORA_SEPOLIA=0x3b9ac9ff]="ZORA_SEPOLIA",n[n.ROOTSTOCK=30]="ROOTSTOCK",n[n.BLAST=81457]="BLAST",n[n.ZKSYNC=324]="ZKSYNC",n[n.WORLDCHAIN=480]="WORLDCHAIN",n[n.UNICHAIN_SEPOLIA=1301]="UNICHAIN_SEPOLIA",n[n.UNICHAIN=130]="UNICHAIN",n[n.MONAD_TESTNET=10143]="MONAD_TESTNET",n[n.SONEIUM=1868]="SONEIUM",n[n.MONAD=143]="MONAD";var K=[l.MAINNET,l.OPTIMISM,l.OPTIMISM_GOERLI,l.OPTIMISM_SEPOLIA,l.ARBITRUM_ONE,l.ARBITRUM_GOERLI,l.ARBITRUM_SEPOLIA,l.POLYGON,l.POLYGON_MUMBAI,l.GOERLI,l.SEPOLIA,l.CELO_ALFAJORES,l.CELO,l.BNB,l.AVALANCHE,l.BASE,l.BASE_GOERLI,l.BASE_SEPOLIA,l.ZORA,l.ZORA_SEPOLIA,l.ROOTSTOCK,l.BLAST,l.ZKSYNC,l.WORLDCHAIN,l.UNICHAIN_SEPOLIA,l.UNICHAIN,l.MONAD_TESTNET,l.SONEIUM,l.MONAD];(i=c||(c={})).ETHER="ETH",i.MATIC="MATIC",i.CELO="CELO",i.GNOSIS="XDAI",i.MOONBEAM="GLMR",i.BNB="BNB",i.AVAX="AVAX",i.ROOTSTOCK="RBTC";var q=[l.MAINNET,l.GOERLI,l.SEPOLIA];function W(e,t){return void 0===t&&(t=[]),q.concat(t).reduce(function(t,r){return t[r]=e,t},{})}var V=W("0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",[l.OPTIMISM,l.ARBITRUM_ONE,l.POLYGON,l.POLYGON_MUMBAI,l.SEPOLIA]),G=((d={})[l.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.SEPOLIA]="0xF62c03E08ada871A0bEb309762E260a7a6a880E6",d[l.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",d[l.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",d[l.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.BASE_SEPOLIA]="0x7Ae58f10f7849cA6F5fB71b7f45CB416c9204b1e",d[l.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",d[l.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",d[l.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",d[l.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",d[l.WORLDCHAIN]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN_SEPOLIA]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN]="0x1f98400000000000000000000000000000000002",d[l.MONAD_TESTNET]="0x733e88f248b742db6c14c0b1713af5ad7fdd59d0",d[l.SONEIUM]="0x97febbc2adbd5644ba22736e962564b23f5828ce",d[l.MONAD]="0x182a927119d56008d921126764bf884221b10f59",d),z=((f={})[l.MAINNET]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.GOERLI]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.SEPOLIA]="0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3",f[l.ARBITRUM_ONE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.OPTIMISM]="0x4a7b5da61326a6379179b40d00f57e5bbdc962c2",f[l.BASE_SEPOLIA]="0x1689E7B1F10000AE47eBfE339a4f69dECd19F602",f[l.BASE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.AVALANCHE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.BNB]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.POLYGON]="0xedf6066a2b290c185783862c7f4776a2c8077ad1",f[l.BLAST]="0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035",f[l.WORLDCHAIN]="0x541aB7c31A119441eF3575F6973277DE0eF460bd",f[l.UNICHAIN_SEPOLIA]="0x920b806E40A00E02E7D2b94fFc89860fDaEd3640",f[l.UNICHAIN]="0x284f11109359a7e1306c3e447ef14d38400063ff",f[l.MONAD_TESTNET]="0xfb8e1c3b833f9e67a71c859a132cf783b645e436",f[l.SONEIUM]="0x273f68c234fa55b550b40e563c4a488e0d334320",f[l.MONAD]="0x4b2ab38dbf28d31d467aa8993f6c2585981d6804",f),j={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},H=F({},j,{mixedRouteQuoterV1Address:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",v4PoolManagerAddress:"0x000000000004444c5dc75cB358380D2e3dE08A90",v4PositionManagerAddress:"0xbd216513d74c8cf14cf4747e6aaa6420ff64ee9e",v4StateView:"0x7ffe42c4a5deea5b0fec41c94c136cf115597227",v4QuoterAddress:"0x52f0e24d1c21c8a0cb1e5a5dd6198556bd9e1203"}),Q=F({},j,{mixedRouteQuoterV1Address:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),X=F({},j,{v4PoolManagerAddress:"0x9a13f98cb987694c9f086b1f5eb990eea8264ec3",v4PositionManagerAddress:"0x3c3ea4b57a46241e54610e5f022e5c45859a1017",v4StateView:"0xc18a3169788f4f75a170290584eca6395c75ecdb",v4QuoterAddress:"0x1f3131a13296fb91c90870043742c3cdbff1a8d7"}),J=F({},j,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xd88f38f930b7952f2db2432cb002e7abbf3dd869",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"}),Y=F({},j,{v4PoolManagerAddress:"0x67366782805870060151383f4bbff9dab53e5cd6",v4PositionManagerAddress:"0x1ec2ebf4f37e7363fdfe3551602425af0b3ceef9",v4StateView:"0x5ea1bd7974c8a611cbab0bdcafcb1d9cc9b3ba5a",v4QuoterAddress:"0xb3d5c3dfc3a7aebff71895a7191796bffc2c81b9"}),Z={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D",v4PoolManagerAddress:"0x288dc841A52FCA2707c6947B3A777c5E56cd87BC",v4PositionManagerAddress:"0xf7965f3981e4d5bc383bfbcb61501763e9068ca9",v4StateView:"0xbc21f8720babf4b20d195ee5c6e99c52b76f2bfb",v4QuoterAddress:"0x28566da1093609182dff2cb2a91cfd72e61d66cd"},$=((p={})[l.MAINNET]=H,p[l.OPTIMISM]=X,p[l.ARBITRUM_ONE]=J,p[l.POLYGON]=Y,p[l.POLYGON_MUMBAI]=Y,p[l.GOERLI]=Q,p[l.CELO]=Z,p[l.CELO_ALFAJORES]=Z,p[l.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2",v4PoolManagerAddress:"0x28e2ea090877bf75740558f6bfb36a5ffee9e9df",v4PositionManagerAddress:"0x7a4a5c919ae2541aed11041a1aeee68f1287f95b",v4StateView:"0xd13dd3d6e93f276fafc9db9e6bb47c1180aee0c4",v4QuoterAddress:"0x9f75dd27d6664c475b90e105573e550ff69437b0"},p[l.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},p[l.OPTIMISM_SEPOLIA]={v3CoreFactoryAddress:"0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF",multicallAddress:"0x80e4e06841bb76AA9735E0448cB8d003C0EF009a",quoterAddress:"0x0FBEa6cf957d95ee9313490050F6A0DA68039404",v3MigratorAddress:"0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07",nonfungiblePositionManagerAddress:"0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d",tickLensAddress:"0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4"},p[l.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},p[l.ARBITRUM_SEPOLIA]={v3CoreFactoryAddress:"0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e",multicallAddress:"0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A",quoterAddress:"0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B",v3MigratorAddress:"0x398f43ef2c67B941147157DA1c5a868E906E043D",nonfungiblePositionManagerAddress:"0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65",tickLensAddress:"0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9",swapRouter02Address:"0x101F443B4d1b059569D643917553c771E1b9663E",v4PoolManagerAddress:"0xFB3e0C6F74eB1a21CC1Da29aeC80D2Dfe6C9a317",v4PositionManagerAddress:"0xAc631556d3d4019C95769033B5E719dD77124BAc",v4StateView:"0x9d467fa9062b6e9b1a46e26007ad82db116c67cb",v4QuoterAddress:"0x7de51022d70a725b508085468052e25e22b5c4c9"},p[l.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07",swapRouter02Address:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",mixedRouteQuoterV2Address:"0x4745f77b56a0e2294426e3936dc4fab68d9543cd",v4PoolManagerAddress:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543",v4PositionManagerAddress:"0x429ba70129df741B2Ca2a85BC3A2a3328e5c09b4",v4StateView:"0xe1dd9c3fa50edb962e442f60dfbc432e24537e4c",v4QuoterAddress:"0x61b3f2011a92d183c7dbadbda940a7555ccf9227"},p[l.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE",v4PoolManagerAddress:"0x06380c0e0912312b5150364b9dc4542ba0dbbc85",v4PositionManagerAddress:"0xb74b1f14d2754acfcbbe1a221023a5cf50ab8acd",v4StateView:"0xc3c9e198c735a4b97e3e683f391ccbdd60b69286",v4QuoterAddress:"0xbe40675bb704506a3c2ccfb762dcfd1e979845c2"},p[l.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481",mixedRouteQuoterV1Address:"0xe544efae946f0008ae9a8d64493efa7886b73776",v4PoolManagerAddress:"0x498581ff718922c3f8e6a244956af099b2652b2b",v4PositionManagerAddress:"0x7c5f5a4bbd8fd63184577525326123b519429bdc",v4StateView:"0xa3c0c9b65bad0b08107aa264b0f3db444b867a71",v4QuoterAddress:"0x0d5e0f971ed27fbff6c2837bf31316121532048d"},p[l.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},p[l.BASE_SEPOLIA]={v3CoreFactoryAddress:"0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",multicallAddress:"0xd867e273eAbD6c853fCd0Ca0bFB6a3aE6491d2C1",quoterAddress:"0xC5290058841028F1614F3A6F0F5816cAd0df5E27",v3MigratorAddress:"0xCbf8b7f80800bd4888Fbc7bf1713B80FE4E23E10",nonfungiblePositionManagerAddress:"0x27F971cb582BF9E50F397e4d29a5C7A34f11faA2",tickLensAddress:"0xedf6066a2b290C185783862C7F4776A2C8077AD1",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4",v4PoolManagerAddress:"0x05E73354cFDd6745C338b50BcFDfA3Aa6fA03408",v4PositionManagerAddress:"0x4b2c77d209d3405f41a037ec6c77f7f5b8e2ca80",v4StateView:"0x571291b572ed32ce6751a2cb2486ebee8defb9b4",v4QuoterAddress:"0x4a6513c898fe1b2d0e78d3b0e0a4a151589b1cba"},p[l.ZORA]={v3CoreFactoryAddress:"0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb",multicallAddress:"0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15",quoterAddress:"0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df",v3MigratorAddress:"0x048352d8dCF13686982C799da63fA6426a9D0b60",nonfungiblePositionManagerAddress:"0xbC91e8DfA3fF18De43853372A3d7dfe585137D78",tickLensAddress:"0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044",swapRouter02Address:"0x7De04c96BE5159c3b5CeffC82aa176dc81281557",v4PoolManagerAddress:"0x0575338e4c17006ae181b47900a84404247ca30f",v4PositionManagerAddress:"0xf66c7b99e2040f0d9b326b3b7c152e9663543d63",v4StateView:"0x385785af07d63b50d0a0ea57c4ff89d06adf7328",v4QuoterAddress:"0x5edaccc0660e0a2c44b06e07ce8b915e625dc2c6"},p[l.ZORA_SEPOLIA]={v3CoreFactoryAddress:"0x4324A677D74764f46f33ED447964252441aA8Db6",multicallAddress:"0xA1E7e3A69671C4494EC59Dbd442de930a93F911A",quoterAddress:"0xC195976fEF0985886E37036E2DF62bF371E12Df0",v3MigratorAddress:"0x65ef259b31bf1d977c37e9434658694267674897",nonfungiblePositionManagerAddress:"0xB8458EaAe43292e3c1F7994EFd016bd653d23c20",tickLensAddress:"0x23C0F71877a1Fc4e20A78018f9831365c85f3064"},p[l.ROOTSTOCK]={v3CoreFactoryAddress:"0xaF37EC98A00FD63689CF3060BF3B6784E00caD82",multicallAddress:"0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386",quoterAddress:"0xb51727c996C68E60F598A923a5006853cd2fEB31",v3MigratorAddress:"0x16678977CA4ec3DAD5efc7b15780295FE5f56162",nonfungiblePositionManagerAddress:"0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1",tickLensAddress:"0x55B9dF5bF68ADe972191a91980459f48ecA16afC",swapRouter02Address:"0x0B14ff67f0014046b4b99057Aec4509640b3947A"},p[l.BLAST]={v3CoreFactoryAddress:"0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd",multicallAddress:"0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705",quoterAddress:"0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77",v3MigratorAddress:"0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0",nonfungiblePositionManagerAddress:"0xB218e4f7cF0533d4696fDfC419A0023D33345F28",tickLensAddress:"0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274",swapRouter02Address:"0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66",v4PoolManagerAddress:"0x1631559198a9e474033433b2958dabc135ab6446",v4PositionManagerAddress:"0x4ad2f4cca2682cbb5b950d660dd458a1d3f1baad",v4StateView:"0x12a88ae16f46dce4e8b15368008ab3380885df30",v4QuoterAddress:"0x6f71cdcb0d119ff72c6eb501abceb576fbf62bcf"},p[l.ZKSYNC]={v3CoreFactoryAddress:"0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422",multicallAddress:"0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C",quoterAddress:"0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28",v3MigratorAddress:"0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E",nonfungiblePositionManagerAddress:"0x0616e5762c1E7Dc3723c50663dF10a162D690a86",tickLensAddress:"0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89",swapRouter02Address:"0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3"},p[l.WORLDCHAIN]={v3CoreFactoryAddress:"0x7a5028BDa40e7B173C278C5342087826455ea25a",multicallAddress:"0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9",quoterAddress:"0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c",v3MigratorAddress:"0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3",nonfungiblePositionManagerAddress:"0xec12a9F9a09f50550686363766Cc153D03c27b5e",tickLensAddress:"0xE61df0CaC9d85876aCE5E3037005D80943570623",swapRouter02Address:"0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6",v4PoolManagerAddress:"0xb1860d529182ac3bc1f51fa2abd56662b7d13f33",v4PositionManagerAddress:"0xc585e0f504613b5fbf874f21af14c65260fb41fa",v4StateView:"0x51d394718bc09297262e368c1a481217fdeb71eb",v4QuoterAddress:"0x55d235b3ff2daf7c3ede0defc9521f1d6fe6c5c0"},p[l.UNICHAIN_SEPOLIA]={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1",quoterAddress:"0x6Dd37329A1A225a6Fca658265D460423DCafBF89",v3MigratorAddress:"0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2",nonfungiblePositionManagerAddress:"0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075",tickLensAddress:"0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0",swapRouter02Address:"0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166",v4PoolManagerAddress:"0x00b036b58a818b1bc34d502d3fe730db729e62ac",v4PositionManagerAddress:"0xf969aee60879c54baaed9f3ed26147db216fd664",v4StateView:"0xc199f1072a74d4e905aba1a84d9a45e2546b6222",v4QuoterAddress:"0x56dcd40a3f2d466f48e7f48bdbe5cc9b92ae4472"},p[l.UNICHAIN]={v3CoreFactoryAddress:"0x1f98400000000000000000000000000000000003",multicallAddress:"0xb7610f9b733e7d45184be3a1bc966960ccc54f0b",quoterAddress:"0x565ac8c7863d9bb16d07e809ff49fe5cd467634c",v3MigratorAddress:"0xb9d0c246f306b1aaf02ae6ba112d5ef25e5b60dc",nonfungiblePositionManagerAddress:"0x943e6e07a7e8e791dafc44083e54041d743c46e9",tickLensAddress:"0xd5d76fa166ab8d8ad4c9f61aaa81457b66cbe443",swapRouter02Address:"0x73855d06de49d0fe4a9c42636ba96c62da12ff9c",v4PoolManagerAddress:"0x1f98400000000000000000000000000000000004",v4PositionManagerAddress:"0x4529a01c7a0410167c5740c487a8de60232617bf",v4StateView:"0x86e8631a016f9068c3f085faf484ee3f5fdee8f2",v4QuoterAddress:"0x333e3c607b141b18ff6de9f258db6e77fe7491e0"},p[l.MONAD_TESTNET]={v3CoreFactoryAddress:"0x961235a9020b05c44df1026d956d1f4d78014276",multicallAddress:"0xa707ceb989cc3728551ed0e6e44b718dd114cf44",quoterAddress:"0x1ba215c17565de7b0cb7ecab971bcf540c24a862",v3MigratorAddress:"0x0a78348b71f8ae8caff2f8f9d4d74a2f36516661",nonfungiblePositionManagerAddress:"0x3dcc735c74f10fe2b9db2bb55c40fbbbf24490f7",tickLensAddress:"0x337478eb6058455ecb3696184b30dd6a29e3a893",swapRouter02Address:"0x4c4eabd5fb1d1a7234a48692551eaecff8194ca7"},p[l.SONEIUM]={v3CoreFactoryAddress:"0x42ae7ec7ff020412639d443e245d936429fbe717",multicallAddress:"0x8ad5ef2f2508288d2de66f04dd883ad5f4ef62b2",quoterAddress:"0x3e6c707d0125226ff60f291b6bd1404634f00aba",v3MigratorAddress:"0xa107580f73bd797bd8b87ff24e98346d99f93ddb",nonfungiblePositionManagerAddress:"0x56c1205b0244332011c1e866f4ea5384eb6bfa2c",tickLensAddress:"0xcd08eefb928c86499e6235ac155906bb7c4dc41a",swapRouter02Address:"0x7e40db01736f88464e5f4e42394f3d5bbb6705b9",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0x1b35d13a2e2528f192637f14b05f0dc0e7deb566",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"},p[l.MONAD]={v3CoreFactoryAddress:"0x204faca1764b154221e35c0d20abb3c525710498",multicallAddress:"0xd1b797d92d87b688193a2b976efc8d577d204343",quoterAddress:"0x2d01411773c8c24805306e89a41f7855c3c4fe65",v3MigratorAddress:"0x7078c4537c04c2b2e52ddba06074dbdacf23ca15",nonfungiblePositionManagerAddress:"0x7197e214c0b767cfb76fb734ab638e2c192f4e53",tickLensAddress:"0xf025e0fe9e331a0ef05c2ad3c4e9c64b625cda6f",swapRouter02Address:"0xfe31f71c1b106eac32f1a19239c9a9a72ddfb900",v4PoolManagerAddress:"0x188d586ddcf52439676ca21a244753fa19f9ea8e",v4PositionManagerAddress:"0x5b7ec4a94ff9bedb700fb82ab09d5846972f4016",v4StateView:"0x77395f3b2e73ae90843717371294fa97cc419d64",v4QuoterAddress:"0xa222dd357a9076d1091ed6aa2e16c9742dd26891"},p),ee=F({},K.reduce(function(e,t){return e[t]=$[t].v3CoreFactoryAddress,e},{})),et=F({},K.reduce(function(e,t){var r=$[t].v3MigratorAddress;return r&&(e[t]=r),e},{})),er=F({},K.reduce(function(e,t){return e[t]=$[t].multicallAddress,e},{})),en=W("0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F"),ei=((h={})[l.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",h),ea=((m={})[l.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",m),es=W("0x1a9C8182C09F50C8318d769245beA52c32BE35BC"),eo=((g={})[l.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",g),eu=((b={})[l.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",b),el=F({},K.reduce(function(e,t){return e[t]=$[t].quoterAddress,e},{})),ec=F({},K.reduce(function(e,t){var r=$[t].nonfungiblePositionManagerAddress;return r&&(e[t]=r),e},{})),ed=F({},W("0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e")),ef=((y={})[l.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",y),ep=F({},K.reduce(function(e,t){var r=$[t].tickLensAddress;return r&&(e[t]=r),e},{})),eh=K.reduce(function(e,t){var r=$[t].mixedRouteQuoterV1Address;return r&&(e[t]=r),e},{}),em=function(e){if(K.includes(e)){var t;return null!=(t=$[e].swapRouter02Address)?t:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"}return""};(a=x||(x={}))[a.EXACT_INPUT=0]="EXACT_INPUT",a[a.EXACT_OUTPUT=1]="EXACT_OUTPUT",(s=A||(A={}))[s.ROUND_DOWN=0]="ROUND_DOWN",s[s.ROUND_HALF_UP=1]="ROUND_HALF_UP",s[s.ROUND_UP=2]="ROUND_UP";var eg=S.default.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eb=(0,P.default)(k.default),ey=(0,P.default)(T.default),ex=((w={})[A.ROUND_DOWN]=eb.ROUND_DOWN,w[A.ROUND_HALF_UP]=eb.ROUND_HALF_UP,w[A.ROUND_UP]=eb.ROUND_UP,w),eA=((v={})[A.ROUND_DOWN]=0,v[A.ROUND_HALF_UP]=1,v[A.ROUND_UP]=3,v),ew=function(){function e(e,t){void 0===t&&(t=S.default.BigInt(1)),this.numerator=S.default.BigInt(e),this.denominator=S.default.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof S.default||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.add(this.numerator,r.numerator),this.denominator):new e(S.default.add(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.subtract=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.subtract(this.numerator,r.numerator),this.denominator):new e(S.default.subtract(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.lessThan=function(t){var r=e.tryParseFraction(t);return S.default.lessThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.equalTo=function(t){var r=e.tryParseFraction(t);return S.default.equal(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.greaterThan=function(t){var r=e.tryParseFraction(t);return S.default.greaterThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.multiply=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.numerator),S.default.multiply(this.denominator,r.denominator))},t.divide=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.denominator),S.default.multiply(this.denominator,r.numerator))},t.toSignificant=function(e,t,r){void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||E(!1),e>0||E(!1),eb.set({precision:e+1,rounding:ex[r]});var n=new eb(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return n.toFormat(n.decimalPlaces(),t)},t.toFixed=function(e,t,r){return void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||E(!1),e>=0||E(!1),ey.DP=e,ey.RM=eA[r],new ey(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},U(e,[{key:"quotient",get:function(){return S.default.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(S.default.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}])}(),ev=(0,P.default)(T.default),eS=function(e){function t(t,r,n){var i;return i=e.call(this,r,n)||this,S.default.lessThanOrEqual(i.quotient,eg)||E(!1),i.currency=t,i.decimalScale=S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(t.decimals)),i}M(t,e),t.fromRawAmount=function(e,r){return new t(e,r)},t.fromFractionalAmount=function(e,r,n){return new t(e,r,n)};var r=t.prototype;return r.add=function(r){this.currency.equals(r.currency)||E(!1);var n=e.prototype.add.call(this,r);return t.fromFractionalAmount(this.currency,n.numerator,n.denominator)},r.subtract=function(r){this.currency.equals(r.currency)||E(!1);var n=e.prototype.subtract.call(this,r);return t.fromFractionalAmount(this.currency,n.numerator,n.denominator)},r.multiply=function(r){var n=e.prototype.multiply.call(this,r);return t.fromFractionalAmount(this.currency,n.numerator,n.denominator)},r.divide=function(r){var n=e.prototype.divide.call(this,r);return t.fromFractionalAmount(this.currency,n.numerator,n.denominator)},r.toSignificant=function(t,r,n){return void 0===t&&(t=6),void 0===n&&(n=A.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,r,n)},r.toFixed=function(t,r,n){return void 0===t&&(t=this.currency.decimals),void 0===n&&(n=A.ROUND_DOWN),t<=this.currency.decimals||E(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,r,n)},r.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),ev.DP=this.currency.decimals,new ev(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},U(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}])}(ew),eE=new ew(S.default.BigInt(100));function ek(e){return new eT(e.numerator,e.denominator)}var eT=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isPercent=!0,t}M(t,e);var r=t.prototype;return r.add=function(t){return ek(e.prototype.add.call(this,t))},r.subtract=function(t){return ek(e.prototype.subtract.call(this,t))},r.multiply=function(t){return ek(e.prototype.multiply.call(this,t))},r.divide=function(t){return ek(e.prototype.divide.call(this,t))},r.toSignificant=function(t,r,n){return void 0===t&&(t=5),e.prototype.multiply.call(this,eE).toSignificant(t,r,n)},r.toFixed=function(t,r,n){return void 0===t&&(t=2),e.prototype.multiply.call(this,eE).toFixed(t,r,n)},t}(ew),eP=function(e){function t(){for(var t,r,n,i,a,s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];if(4===o.length)r=o[0],n=o[1],i=o[2],a=o[3];else{var l=o[0].quoteAmount.divide(o[0].baseAmount),c=[o[0].baseAmount.currency,o[0].quoteAmount.currency,l.denominator,l.numerator];r=c[0],n=c[1],i=c[2],a=c[3]}return(t=e.call(this,a,i)||this).baseCurrency=r,t.quoteCurrency=n,t.scalar=new ew(S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(r.decimals)),S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(n.decimals))),t}M(t,e);var r=t.prototype;return r.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},r.multiply=function(r){this.quoteCurrency.equals(r.baseCurrency)||E(!1);var n=e.prototype.multiply.call(this,r);return new t(this.baseCurrency,r.quoteCurrency,n.denominator,n.numerator)},r.quote=function(t){t.currency.equals(this.baseCurrency)||E(!1);var r=e.prototype.multiply.call(this,t);return eS.fromFractionalAmount(this.quoteCurrency,r.numerator,r.denominator)},r.toSignificant=function(e,t,r){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,r)},r.toFixed=function(e,t,r){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,r)},U(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}])}(ew),eI=function(e,t,r,n){Number.isSafeInteger(e)||E(!1),t>=0&&t<255&&Number.isInteger(t)||E(!1),this.chainId=e,this.decimals=t,this.symbol=r,this.name=n},e_=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isNative=!0,t.isToken=!1,t}return M(t,e),t}(eI);function eN(e){try{return(0,_.getAddress)(e)}catch(t){throw Error(e+" is not a valid address.")}}var eB=/^0x[0-9a-fA-F]{40}$/,eR=function(e){function t(t,r,n,i,a,s,o,u){var l;return(l=e.call(this,t,n,i,a)||this).isNative=!1,l.isToken=!0,s?l.address=function(e){if(eB.test(e))return e;throw Error(e+" is not a valid address.")}(r):l.address=eN(r),o&&(o.gte(I.BigNumber.from(0))||E(!1)),u&&(u.gte(I.BigNumber.from(0))||E(!1)),l.buyFeeBps=o,l.sellFeeBps=u,l}M(t,e);var r=t.prototype;return r.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},r.sortsBefore=function(e){return this.chainId!==e.chainId&&E(!1),this.address.toLowerCase()===e.address.toLowerCase()&&E(!1),this.address.toLowerCase()<e.address.toLowerCase()},U(t,[{key:"wrapped",get:function(){return this}}])}(eI),eC={1:new eR(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),0xaa36a7:new eR(0xaa36a7,"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",18,"WETH","Wrapped Ether"),3:new eR(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),4:new eR(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),5:new eR(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),42:new eR(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),10:new eR(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),69:new eR(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),0xaa37dc:new eR(0xaa37dc,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),42161:new eR(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),421611:new eR(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),421614:new eR(421614,"0x980B62Da83eFf3D4576C647993b0c1D7faf17c73",18,"WETH","Wrapped Ether"),8453:new eR(8453,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),84532:new eR(84532,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),56:new eR(56,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB"),137:new eR(137,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),43114:new eR(43114,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX"),7777777:new eR(7777777,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),81457:new eR(81457,"0x4300000000000000000000000000000000000004",18,"WETH","Wrapped Ether"),324:new eR(324,"0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91",18,"WETH","Wrapped Ether"),480:new eR(480,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),1301:new eR(1301,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),130:new eR(130,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),10143:new eR(10143,"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",18,"WMON","Wrapped Monad"),1868:new eR(1868,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),143:new eR(143,"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",18,"WMON","Wrapped Monad")},eO=function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return M(t,e),t.onChain=function(e){var r;return null!=(r=this._etherCache[e])?r:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},U(t,[{key:"wrapped",get:function(){var e=eC[this.chainId];return e||E(!1),e}}])}(e_);function eD(e,t,r){var n=e.quote(t),i=n.subtract(r).divide(n);return new eT(i.numerator,i.denominator)}function eU(e,t,r,n){void 0===n&&(n="0x");var i=R(function(e,t=o.current){t!=o.current&&(C.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){let i=e.charCodeAt(++t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return(0,N.arrayify)(r)}("zksyncCreate2")),a=R(n),s=R((0,N.concat)([i,(0,N.hexZeroPad)(e,32),r,t,a])).slice(26);return(0,_.getAddress)(s)}function eF(e,t,r,n){if(r>0||E(!1),e.length<=r||E(!1),0===e.length)return e.push(t),null;var i=e.length===r;if(i&&0>=n(e[e.length-1],t))return t;for(var a=0,s=e.length;a<s;){var o=a+s>>>1;0>=n(e[o],t)?a=o+1:s=o}return e.splice(a,0,t),i?e.pop():null}eO._etherCache={};var eM=S.default.BigInt(Number.MAX_SAFE_INTEGER),eL=S.default.BigInt(0),eK=S.default.BigInt(1),eq=S.default.BigInt(2);function eW(e){var t,r;if(S.default.greaterThanOrEqual(e,eL)||E(!1),S.default.lessThan(e,eM))return S.default.BigInt(Math.floor(Math.sqrt(S.default.toNumber(e))));for(t=e,r=S.default.add(S.default.divide(e,eq),eK);S.default.lessThan(r,t);)t=r,r=S.default.divide(S.default.add(S.default.divide(e,r),r),eq);return t}e.s(["ARGENT_WALLET_DETECTOR_ADDRESS",()=>eu,"CHAIN_TO_ADDRESSES_MAP",()=>$,"ChainId",()=>l,"CurrencyAmount",()=>eS,"ENS_REGISTRAR_ADDRESSES",()=>ed,"Ether",()=>eO,"Fraction",()=>ew,"GOVERNANCE_ALPHA_V0_ADDRESSES",()=>en,"GOVERNANCE_ALPHA_V1_ADDRESSES",()=>ei,"GOVERNANCE_BRAVO_ADDRESSES",()=>ea,"MERKLE_DISTRIBUTOR_ADDRESS",()=>eo,"MIXED_ROUTE_QUOTER_V1_ADDRESSES",()=>eh,"MULTICALL_ADDRESSES",()=>er,"MaxUint256",()=>eg,"NONFUNGIBLE_POSITION_MANAGER_ADDRESSES",()=>ec,"NativeCurrency",()=>e_,"NativeCurrencyName",()=>c,"Percent",()=>eT,"Price",()=>eP,"QUOTER_ADDRESSES",()=>el,"Rounding",()=>A,"SOCKS_CONTROLLER_ADDRESSES",()=>ef,"SUPPORTED_CHAINS",()=>K,"SWAP_ROUTER_02_ADDRESSES",()=>em,"TICK_LENS_ADDRESSES",()=>ep,"TIMELOCK_ADDRESSES",()=>es,"Token",()=>eR,"TradeType",()=>x,"UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS",()=>"0x8B799381ac40b838BBA4131ffB26197C432AFe78","UNI_ADDRESSES",()=>V,"V2_FACTORY_ADDRESS",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","V2_FACTORY_ADDRESSES",()=>G,"V2_ROUTER_ADDRESS",()=>"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","V2_ROUTER_ADDRESSES",()=>z,"V3_CORE_FACTORY_ADDRESSES",()=>ee,"V3_MIGRATOR_ADDRESSES",()=>et,"WETH9",()=>eC,"computePriceImpact",()=>eD,"computeZksyncCreate2Address",()=>eU,"sortedInsert",()=>eF,"sqrt",()=>eW,"validateAndParseAddress",()=>eN],702503)},376036,e=>{"use strict";var t,r,n,i=e.i(702503),a=e.i(477912),s=e.i(40992),o=e.i(144180),u=e.i(246383),l=e.i(47771),c=e.i(575111),d=e.i(37041),f=e.i(909307),p=e.i(854725),h=e.i(53291),m=e.i(708070),g=e.i(416897),b=e.i(948329),y=e.i(221345);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){A(a,n,i,s,o,"next",e)}function o(e){A(a,n,i,s,o,"throw",e)}s(void 0)})}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n.key),n)}}function S(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(){return(k=Object.assign.bind()).apply(null,arguments)}function T(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var u=Object.create((n&&n.prototype instanceof o?n:o).prototype);return P(u,"_invoke",function(r,n,i){var a,o,u,l=0,c=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,o=0,u=e,f.n=r,s}};function p(r,n){for(o=r,u=n,t=0;!d&&l&&!i&&t<c.length;t++){var i,a=c[t],p=f.p,h=a[2];r>3?(i=h===n)&&(u=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=r<2&&p<a[1])?(o=0,f.v=n,f.n=a[1]):p<h&&(i=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,f.n=h,o=0))}if(i||r>1)return s;throw d=!0,n}return function(i,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),o=c,u=h;(t=o<2?e:u)||!d;){a||(o?o<3?(o>1&&(f.n=-1),p(o,u)):f.n=u:f.v=u);try{if(l=2,a){if(o||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((t=(d=f.n<0)?u:r.call(n,f))!==s)break}catch(t){a=e,o=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,i,a),!0),u}var s={};function o(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=o.prototype=Object.create([][n]?t(t([][n]())):(P(t={},n,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,P(e,i,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,P(c,"constructor",l),P(l,"constructor",u),u.displayName="GeneratorFunction",P(l,i,"GeneratorFunction"),P(c),P(c,i,"Generator"),P(c,n,function(){return this}),P(c,"toString",function(){return"[object Generator]"}),(T=function(){return{w:a,m:d}})()}function P(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(P=function(e,t,r,n){function a(t,r){P(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}var I="0x1F98431c8aD98523631AE4a59f267346ea31F984",_="0x0000000000000000000000000000000000000000",N="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";function B(e){return e===i.ChainId.ZKSYNC?"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed":N}(t=n||(n={}))[t.LOWEST=100]="LOWEST",t[t.LOW_200=200]="LOW_200",t[t.LOW_300=300]="LOW_300",t[t.LOW_400=400]="LOW_400",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH";var R=((r={})[n.LOWEST]=1,r[n.LOW_200]=4,r[n.LOW_300]=6,r[n.LOW_400]=8,r[n.LOW]=10,r[n.MEDIUM]=60,r[n.HIGH]=200,r),C=a.default.BigInt(-1),O=a.default.BigInt(0),D=a.default.BigInt(1),U=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(96)),F=a.default.exponentiate(U,a.default.BigInt(2));function M(e){var t=e.factoryAddress,r=e.tokenA,n=e.tokenB,a=e.fee,s=e.initCodeHashManualOverride,u=e.chainId,d=r.sortsBefore(n)?[r,n]:[n,r],f=d[0],p=d[1],h=(0,c.keccak256)(["bytes"],[o.defaultAbiCoder.encode(["address","address","uint24"],[f.address,p.address,a])]),m=null!=s?s:B(u);return u===i.ChainId.ZKSYNC?(0,i.computeZksyncCreate2Address)(t,m,h):(0,l.getCreate2Address)(t,h,m)}var L=function(){function e(){}return e.mulDivRoundingUp=function(e,t,r){var n=a.default.multiply(e,t),i=a.default.divide(n,r);return a.default.notEqual(a.default.remainder(n,r),O)&&(i=a.default.add(i,D)),i},e}(),K=a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(160)),D);function q(e,t){var r=a.default.multiply(e,t);return a.default.bitwiseAnd(r,i.MaxUint256)}var W=function(){function e(){}return e.getAmount0Delta=function(e,t,r,n){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var s=a.default.leftShift(r,a.default.BigInt(96)),o=a.default.subtract(t,e);return n?L.mulDivRoundingUp(L.mulDivRoundingUp(s,o,t),D,e):a.default.divide(a.default.divide(a.default.multiply(s,o),t),e)},e.getAmount1Delta=function(e,t,r,n){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return n?L.mulDivRoundingUp(r,a.default.subtract(t,e),U):a.default.divide(a.default.multiply(r,a.default.subtract(t,e)),U)},e.getNextSqrtPriceFromInput=function(e,t,r,n){return a.default.greaterThan(e,O)||(0,s.default)(!1),a.default.greaterThan(t,O)||(0,s.default)(!1),n?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!0)},e.getNextSqrtPriceFromOutput=function(e,t,r,n){return a.default.greaterThan(e,O)||(0,s.default)(!1),a.default.greaterThan(t,O)||(0,s.default)(!1),n?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,r,n){if(a.default.equal(r,O))return e;var o=a.default.leftShift(t,a.default.BigInt(96));if(n){var u=q(r,e);if(a.default.equal(a.default.divide(u,r),e)){var l,c=(l=a.default.add(o,u),a.default.bitwiseAnd(l,i.MaxUint256));if(a.default.greaterThanOrEqual(c,o))return L.mulDivRoundingUp(o,e,c)}return L.mulDivRoundingUp(o,D,a.default.add(a.default.divide(o,e),r))}var d=q(r,e);a.default.equal(a.default.divide(d,r),e)||(0,s.default)(!1),a.default.greaterThan(o,d)||(0,s.default)(!1);var f=a.default.subtract(o,d);return L.mulDivRoundingUp(o,e,f)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,r,n){if(n){var i=a.default.lessThanOrEqual(r,K)?a.default.divide(a.default.leftShift(r,a.default.BigInt(96)),t):a.default.divide(a.default.multiply(r,U),t);return a.default.add(e,i)}var o=L.mulDivRoundingUp(r,U,t);return a.default.greaterThan(e,o)||(0,s.default)(!1),a.default.subtract(e,o)},e}(),V=a.default.exponentiate(a.default.BigInt(10),a.default.BigInt(6)),G=function(){function e(){}return e.computeSwapStep=function(e,t,r,n,i){var s={};i=a.default.BigInt(i);var o=a.default.greaterThanOrEqual(e,t),u=a.default.greaterThanOrEqual(n,O);if(u){var l=a.default.divide(a.default.multiply(n,a.default.subtract(V,i)),V);s.amountIn=o?W.getAmount0Delta(t,e,r,!0):W.getAmount1Delta(e,t,r,!0),a.default.greaterThanOrEqual(l,s.amountIn)?s.sqrtRatioNextX96=t:s.sqrtRatioNextX96=W.getNextSqrtPriceFromInput(e,r,l,o)}else s.amountOut=o?W.getAmount1Delta(t,e,r,!1):W.getAmount0Delta(e,t,r,!1),a.default.greaterThanOrEqual(a.default.multiply(n,C),s.amountOut)?s.sqrtRatioNextX96=t:s.sqrtRatioNextX96=W.getNextSqrtPriceFromOutput(e,r,a.default.multiply(n,C),o);var c=a.default.equal(t,s.sqrtRatioNextX96);return o?(s.amountIn=c&&u?s.amountIn:W.getAmount0Delta(s.sqrtRatioNextX96,e,r,!0),s.amountOut=c&&!u?s.amountOut:W.getAmount1Delta(s.sqrtRatioNextX96,e,r,!1)):(s.amountIn=c&&u?s.amountIn:W.getAmount1Delta(e,s.sqrtRatioNextX96,r,!0),s.amountOut=c&&!u?s.amountOut:W.getAmount0Delta(e,s.sqrtRatioNextX96,r,!1)),!u&&a.default.greaterThan(s.amountOut,a.default.multiply(n,C))&&(s.amountOut=a.default.multiply(n,C)),u&&a.default.notEqual(s.sqrtRatioNextX96,t)?s.feeAmount=a.default.subtract(n,s.amountIn):s.feeAmount=L.mulDivRoundingUp(s.amountIn,i,a.default.subtract(V,i)),[s.sqrtRatioNextX96,s.amountIn,s.amountOut,s.feeAmount]},e}(),z=function(){function e(){}return e.addDelta=function(e,t){return a.default.lessThan(t,O)?a.default.subtract(e,a.default.multiply(t,C)):a.default.add(e,t)},e}(),j=a.default.BigInt(2),H=[128,64,32,16,8,4,2,1].map(function(e){return[e,a.default.exponentiate(j,a.default.BigInt(e))]});function Q(e){a.default.greaterThan(e,O)||(0,s.default)(!1),a.default.lessThanOrEqual(e,i.MaxUint256)||(0,s.default)(!1);for(var t,r=0,n=E(H);!(t=n()).done;){var o=t.value,u=o[0],l=o[1];a.default.greaterThanOrEqual(e,l)&&(e=a.default.signedRightShift(e,a.default.BigInt(u)),r+=u)}return r}function X(e,t){return a.default.signedRightShift(a.default.multiply(e,a.default.BigInt(t)),a.default.BigInt(128))}var J=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(32)),Y=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,s.default)(!1);var r=t<0?-1*t:t,n=(1&r)!=0?a.default.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):a.default.BigInt("0x100000000000000000000000000000000");return(2&r)!=0&&(n=X(n,"0xfff97272373d413259a46990580e213a")),(4&r)!=0&&(n=X(n,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&r)!=0&&(n=X(n,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&r)!=0&&(n=X(n,"0xffcb9843d60f6159c9db58835c926644")),(32&r)!=0&&(n=X(n,"0xff973b41fa98c081472e6896dfb254c0")),(64&r)!=0&&(n=X(n,"0xff2ea16466c96a3843ec78b326b52861")),(128&r)!=0&&(n=X(n,"0xfe5dee046a99a2a811c461f1969c3053")),(256&r)!=0&&(n=X(n,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&r)!=0&&(n=X(n,"0xf987a7253ac413176f2b074cf7815e54")),(1024&r)!=0&&(n=X(n,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&r)!=0&&(n=X(n,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&r)!=0&&(n=X(n,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&r)!=0&&(n=X(n,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&r)!=0&&(n=X(n,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&r)!=0&&(n=X(n,"0x31be135f97d08fd981231505542fcfa6")),(65536&r)!=0&&(n=X(n,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&r)!=0&&(n=X(n,"0x5d6af8dedb81196699c329225ee604")),(262144&r)!=0&&(n=X(n,"0x2216e584f5fa1ea926041bedfe98")),(524288&r)!=0&&(n=X(n,"0x48a170391f7dc42444e8fa2")),t>0&&(n=a.default.divide(i.MaxUint256,n)),a.default.greaterThan(a.default.remainder(n,J),O)?a.default.add(a.default.divide(n,J),D):a.default.divide(n,J)},e.getTickAtSqrtRatio=function(t){a.default.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&a.default.lessThan(t,e.MAX_SQRT_RATIO)||(0,s.default)(!1);var r,n=a.default.leftShift(t,a.default.BigInt(32)),i=Q(n);r=a.default.greaterThanOrEqual(a.default.BigInt(i),a.default.BigInt(128))?a.default.signedRightShift(n,a.default.BigInt(i-127)):a.default.leftShift(n,a.default.BigInt(127-i));for(var o=a.default.leftShift(a.default.subtract(a.default.BigInt(i),a.default.BigInt(128)),a.default.BigInt(64)),u=0;u<14;u++){r=a.default.signedRightShift(a.default.multiply(r,r),a.default.BigInt(127));var l=a.default.signedRightShift(r,a.default.BigInt(128));o=a.default.bitwiseOr(o,a.default.leftShift(l,a.default.BigInt(63-u))),r=a.default.signedRightShift(r,l)}var c=a.default.multiply(o,a.default.BigInt("255738958999603826347141")),d=a.default.toNumber(a.default.signedRightShift(a.default.subtract(c,a.default.BigInt("3402992956809132418596140100660247210")),a.default.BigInt(128))),f=a.default.toNumber(a.default.signedRightShift(a.default.add(c,a.default.BigInt("291339464771989622907027621153398088495")),a.default.BigInt(128)));return d===f?d:a.default.lessThanOrEqual(e.getSqrtRatioAtTick(f),t)?f:d},e}();function Z(e,t,r,n,i,a,s,o,u){return $.apply(this,arguments)}function $(){return($=w(T().m(function e(t,r,n,i,o,u,l,c,d){var f,p,h,m,g,b,y;return T().w(function(e){for(;;)switch(e.n){case 0:d||(d=l?a.default.add(Y.MIN_SQRT_RATIO,D):a.default.subtract(Y.MAX_SQRT_RATIO,D)),l?(a.default.greaterThan(d,Y.MIN_SQRT_RATIO)||(0,s.default)(!1),a.default.lessThan(d,r)||(0,s.default)(!1)):(a.default.lessThan(d,Y.MAX_SQRT_RATIO)||(0,s.default)(!1),a.default.greaterThan(d,r)||(0,s.default)(!1)),f=a.default.greaterThanOrEqual(c,O),p={amountSpecifiedRemaining:c,amountCalculated:O,sqrtPriceX96:r,tick:n,liquidity:i};case 1:if(!(a.default.notEqual(p.amountSpecifiedRemaining,O)&&p.sqrtPriceX96!==d)){e.n=7;break}return(h={}).sqrtPriceStartX96=p.sqrtPriceX96,e.n=2,u.nextInitializedTickWithinOneWord(p.tick,l,o);case 2:if(m=e.v,h.tickNext=m[0],h.initialized=m[1],h.tickNext<Y.MIN_TICK?h.tickNext=Y.MIN_TICK:h.tickNext>Y.MAX_TICK&&(h.tickNext=Y.MAX_TICK),h.sqrtPriceNextX96=Y.getSqrtRatioAtTick(h.tickNext),g=G.computeSwapStep(p.sqrtPriceX96,(l?a.default.lessThan(h.sqrtPriceNextX96,d):a.default.greaterThan(h.sqrtPriceNextX96,d))?d:h.sqrtPriceNextX96,p.liquidity,p.amountSpecifiedRemaining,t),p.sqrtPriceX96=g[0],h.amountIn=g[1],h.amountOut=g[2],h.feeAmount=g[3],f?(p.amountSpecifiedRemaining=a.default.subtract(p.amountSpecifiedRemaining,a.default.add(h.amountIn,h.feeAmount)),p.amountCalculated=a.default.subtract(p.amountCalculated,h.amountOut)):(p.amountSpecifiedRemaining=a.default.add(p.amountSpecifiedRemaining,h.amountOut),p.amountCalculated=a.default.add(p.amountCalculated,a.default.add(h.amountIn,h.feeAmount))),!a.default.equal(p.sqrtPriceX96,h.sqrtPriceNextX96)){e.n=5;break}if(!h.initialized){e.n=4;break}return y=a.default,e.n=3,u.getTick(h.tickNext);case 3:b=y.BigInt.call(y,e.v.liquidityNet),l&&(b=a.default.multiply(b,C)),p.liquidity=z.addDelta(p.liquidity,b);case 4:p.tick=l?h.tickNext-1:h.tickNext,e.n=6;break;case 5:a.default.notEqual(p.sqrtPriceX96,h.sqrtPriceStartX96)&&(p.tick=Y.getTickAtSqrtRatio(p.sqrtPriceX96));case 6:e.n=1;break;case 7:return e.a(2,{amountCalculated:p.amountCalculated,sqrtRatioX96:p.sqrtPriceX96,liquidity:p.liquidity,tickCurrent:p.tick})}},e)}))).apply(this,arguments)}Y.MIN_TICK=-887272,Y.MAX_TICK=-Y.MIN_TICK,Y.MIN_SQRT_RATIO=a.default.BigInt("4295128739"),Y.MAX_SQRT_RATIO=a.default.BigInt("1461446703485210103287273052203988822378723970342");var ee=function(){function e(){}var t,r,n=e.prototype;return t=w(T().m(function t(r){return T().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),n.getTick=function(e){return t.apply(this,arguments)},r=w(T().m(function t(r,n,i){return T().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),n.nextInitializedTickWithinOneWord=function(e,t,n){return r.apply(this,arguments)},e}();function et(e,t){for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])>0)return!1;return!0}function er(e,t){return e.index-t.index}ee.ERROR_MESSAGE="No tick data provider was given";var en=function(){function e(){}return e.validateList=function(e,t){t>0||(0,s.default)(!1),e.every(function(e){return e.index%t==0})||(0,s.default)(!1),a.default.equal(e.reduce(function(e,t){var r=t.liquidityNet;return a.default.add(e,r)},O),O)||(0,s.default)(!1),et(e,er)||(0,s.default)(!1)},e.isBelowSmallest=function(e,t){return e.length>0||(0,s.default)(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||(0,s.default)(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var r=e[this.binarySearch(e,t)];return r.index!==t&&(0,s.default)(!1),r},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&(0,s.default)(!1);for(var r,n=0,i=e.length-1;;){if(e[r=Math.floor((n+i)/2)].index<=t&&(r===e.length-1||e[r+1].index>t))return r;e[r].index<t?n=r+1:i=r-1}},e.nextInitializedTick=function(t,r,n){if(n){if(e.isBelowSmallest(t,r)&&(0,s.default)(!1),e.isAtOrAboveLargest(t,r))return t[t.length-1];var i=this.binarySearch(t,r);return t[i]}if(this.isAtOrAboveLargest(t,r)&&(0,s.default)(!1),this.isBelowSmallest(t,r))return t[0];var a=this.binarySearch(t,r);return t[a+1]},e.nextInitializedTickWithinOneWord=function(t,r,n,i){var a=Math.floor(r/i);if(n){var s=(a>>8<<8)*i;if(e.isBelowSmallest(t,r))return[s,!1];var o=e.nextInitializedTick(t,r,n).index,u=Math.max(s,o);return[u,u===o]}var l=(((a+1>>8)+1<<8)-1)*i;if(this.isAtOrAboveLargest(t,r))return[l,!1];var c=this.nextInitializedTick(t,r,n).index,d=Math.min(l,c);return[d,d===c]},e}();function ei(e){var t=a.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function ea(e,t){var r=e.input.wrapped,n=e.pools.reduce(function(e,t,r){var n=e.inputToken,i=e.path,a=e.types,s=t.token0.equals(n)?t.token1:t.token0;return 0===r?{inputToken:s,types:["address","uint24","address"],path:[n.address,t.fee,s.address]}:{inputToken:s,types:[].concat(a,["uint24","address"]),path:[].concat(i,[t.fee,s.address])}},{inputToken:r,path:[],types:[]}),i=n.path,a=n.types;return t?(0,c.pack)(a.reverse(),i.reverse()):(0,c.pack)(a,i)}function es(e,t){var r=a.default.leftShift(a.default.BigInt(e),a.default.BigInt(192)),n=a.default.BigInt(t),s=a.default.divide(r,n);return(0,i.sqrt)(s)}function eo(e,t,r){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var i=a.default.divide(a.default.multiply(e,t),U);return a.default.divide(a.default.multiply(a.default.BigInt(r),i),a.default.subtract(t,e))}function eu(e,t,r){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var i=a.default.multiply(a.default.multiply(a.default.BigInt(r),e),t),s=a.default.multiply(U,a.default.subtract(t,e));return a.default.divide(i,s)}function el(e,t,r){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}return a.default.divide(a.default.multiply(a.default.BigInt(r),U),a.default.subtract(t,e))}function ec(e,t,r,n,i,s){if(a.default.greaterThan(t,r)){var o=[r,t];t=o[0],r=o[1]}var u=s?eu:eo;if(a.default.lessThanOrEqual(e,t))return u(t,r,n);if(!a.default.lessThan(e,r))return el(t,r,i);var l=u(e,r,n),c=el(t,e,i);return a.default.lessThan(l,c)?l:c}function ed(e,t){Number.isInteger(e)&&Number.isInteger(t)||(0,s.default)(!1),t>0||(0,s.default)(!1),e>=Y.MIN_TICK&&e<=Y.MAX_TICK||(0,s.default)(!1);var r=Math.round(e/t)*t;return r<Y.MIN_TICK?r+t:r>Y.MAX_TICK?r-t:r}var ef=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),ep=function(){function e(){}return e.getTokensOwed=function(e,t,r,n,i){return[a.default.divide(a.default.multiply(eb(n,e),r),ef),a.default.divide(a.default.multiply(eb(i,t),r),ef)]},e}();function eh(e,t,r){var n=Y.getSqrtRatioAtTick(r),s=a.default.multiply(n,n);return e.sortsBefore(t)?new i.Price(e,t,F,s):new i.Price(e,t,s,F)}function em(e){var t=e.baseCurrency.sortsBefore(e.quoteCurrency),r=t?es(e.numerator,e.denominator):es(e.denominator,e.numerator),n=Y.getTickAtSqrtRatio(r),i=eh(e.baseCurrency,e.quoteCurrency,n+1);return t?!e.lessThan(i)&&n++:!e.greaterThan(i)&&n++,n}var eg=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(256));function eb(e,t){var r=a.default.subtract(e,t);return a.default.lessThan(r,O)?a.default.add(eg,r):r}var ey=function(){function e(){}return e.getFeeGrowthInside=function(e,t,r,n,i,a,s){var o,u,l,c;return i>=r?(o=e.feeGrowthOutside0X128,u=e.feeGrowthOutside1X128):(o=eb(a,e.feeGrowthOutside0X128),u=eb(s,e.feeGrowthOutside1X128)),i<n?(l=t.feeGrowthOutside0X128,c=t.feeGrowthOutside1X128):(l=eb(a,t.feeGrowthOutside0X128),c=eb(s,t.feeGrowthOutside1X128)),[eb(eb(a,o),l),eb(eb(s,u),c)]},e}(),ex=function(e){var t=e.index,r=e.liquidityGross,n=e.liquidityNet;t>=Y.MIN_TICK&&t<=Y.MAX_TICK||(0,s.default)(!1),this.index=t,this.liquidityGross=a.default.BigInt(r),this.liquidityNet=a.default.BigInt(n)},eA=function(){function e(e,t){var r=e.map(function(e){return e instanceof ex?e:new ex(e)});en.validateList(r,t),this.ticks=r}var t,r,n=e.prototype;return t=w(T().m(function e(t){return T().w(function(e){for(;;)if(0===e.n)return e.a(2,en.getTick(this.ticks,t))},e,this)})),n.getTick=function(e){return t.apply(this,arguments)},r=w(T().m(function e(t,r,n){return T().w(function(e){for(;;)if(0===e.n)return e.a(2,en.nextInitializedTickWithinOneWord(this.ticks,t,r,n))},e,this)})),n.nextInitializedTickWithinOneWord=function(e,t,n){return r.apply(this,arguments)},e}(),ew=new ee,ev=function(){function e(e,t,r,n,i,o,u){void 0===u&&(u=ew),Number.isInteger(r)&&r<1e6||(0,s.default)(!1);var l=Y.getSqrtRatioAtTick(o),c=Y.getSqrtRatioAtTick(o+1);a.default.greaterThanOrEqual(a.default.BigInt(n),l)&&a.default.lessThanOrEqual(a.default.BigInt(n),c)||(0,s.default)(!1);var d=e.sortsBefore(t)?[e,t]:[t,e];this.token0=d[0],this.token1=d[1],this.fee=r,this.sqrtRatioX96=a.default.BigInt(n),this.liquidity=a.default.BigInt(i),this.tickCurrent=o,this.tickDataProvider=Array.isArray(u)?new eA(u,R[r]):u}e.getAddress=function(e,t,r,n,i){return M({factoryAddress:null!=i?i:I,fee:r,tokenA:e,tokenB:t,initCodeHashManualOverride:n})};var t,r,n,o=e.prototype;return o.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},o.priceOf=function(e){return this.involvesToken(e)||(0,s.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t=w(T().m(function t(r,n){var o,u,l,c,d,f,p;return T().w(function(t){for(;;)switch(t.n){case 0:return this.involvesToken(r.currency)||(0,s.default)(!1),o=r.currency.equals(this.token0),t.n=1,this.swap(o,r.quotient,n);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=o?this.token1:this.token0,t.a(2,[i.CurrencyAmount.fromRawAmount(p,a.default.multiply(l,C)),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),o.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=w(T().m(function t(r,n){var o,u,l,c,d,f,p;return T().w(function(t){for(;;)switch(t.n){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||(0,s.default)(!1),o=r.currency.equals(this.token1),t.n=1,this.swap(o,a.default.multiply(r.quotient,C),n);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=o?this.token0:this.token1,t.a(2,[i.CurrencyAmount.fromRawAmount(p,l),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),o.getInputAmount=function(e,t){return r.apply(this,arguments)},n=w(T().m(function e(t,r,n){return T().w(function(e){for(;;)if(0===e.n)return e.a(2,Z(a.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,n))},e,this)})),o.swap=function(e,t,r){return n.apply(this,arguments)},S(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new i.Price(this.token0,this.token1,F,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new i.Price(this.token1,this.token0,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),F)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return R[this.fee]}}])}(),eS=function(){function e(e){var t=e.pool,r=e.liquidity,n=e.tickLower,i=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,n<i||(0,s.default)(!1),n>=Y.MIN_TICK&&n%t.tickSpacing==0||(0,s.default)(!1),i<=Y.MAX_TICK&&i%t.tickSpacing==0||(0,s.default)(!1),this.pool=t,this.tickLower=n,this.tickUpper=i,this.liquidity=a.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new i.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),n=es(t.numerator,t.denominator);a.default.lessThanOrEqual(n,Y.MIN_SQRT_RATIO)&&(n=a.default.add(Y.MIN_SQRT_RATIO,a.default.BigInt(1)));var s=es(r.numerator,r.denominator);return a.default.greaterThanOrEqual(s,Y.MAX_SQRT_RATIO)&&(s=a.default.subtract(Y.MAX_SQRT_RATIO,a.default.BigInt(1))),{sqrtRatioX96Lower:n,sqrtRatioX96Upper:s}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),n=r.sqrtRatioX96Upper,i=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),s=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=e.fromAmounts(k({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:s,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:o.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),n=r.sqrtRatioX96Upper,i=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),s=new e({pool:new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,o=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:s.quotient,amount1:o.quotient}},e.fromAmounts=function(t){var r=t.pool,n=t.tickLower,i=t.tickUpper,a=t.amount0,s=t.amount1,o=t.useFullPrecision,u=Y.getSqrtRatioAtTick(n),l=Y.getSqrtRatioAtTick(i);return new e({pool:r,tickLower:n,tickUpper:i,liquidity:ec(r.sqrtRatioX96,u,l,a,s,o)})},e.fromAmount0=function(t){var r=t.pool,n=t.tickLower,a=t.tickUpper,s=t.amount0,o=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:n,tickUpper:a,amount0:s,amount1:i.MaxUint256,useFullPrecision:o})},e.fromAmount1=function(t){var r=t.pool,n=t.tickLower,a=t.tickUpper,s=t.amount1;return e.fromAmounts({pool:r,tickLower:n,tickUpper:a,amount0:i.MaxUint256,amount1:s,useFullPrecision:!0})},S(e,[{key:"token0PriceLower",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=i.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=i.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=i.CurrencyAmount.fromRawAmount(this.pool.token0,O)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=i.CurrencyAmount.fromRawAmount(this.pool.token1,O):this.pool.tickCurrent<this.tickUpper?this._token1Amount=i.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=i.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:O};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:O,amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),eE=S(function(e,t,r){this._midPrice=null,e.length>0||(0,s.default)(!1);var n=e[0].chainId;e.every(function(e){return e.chainId===n})||(0,s.default)(!1);var i=t.wrapped;e[0].involvesToken(i)||(0,s.default)(!1),e[e.length-1].involvesToken(r.wrapped)||(0,s.default)(!1);for(var a,o=[i],u=E(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=o[c];f.equals(d.token0)||f.equals(d.token1)||(0,s.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;o.push(p)}this.pools=e,this.tokenPath=o,this.input=t,this.output=null!=r?r:o[o.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,n=e.price;return r.equals(t.token0)?{nextInput:t.token1,price:n.multiply(t.token0Price)}:{nextInput:t.token0,price:n.multiply(t.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new i.Price(this.input,this.output,e.denominator,e.numerator)}}]);function ek(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,s.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,s.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var eT=function(){function e(e){var t=e.routes,r=e.tradeType,n=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return n.wrapped.equals(t.input.wrapped)})||(0,s.default)(!1),t.every(function(e){var t=e.route;return i.wrapped.equals(t.output.wrapped)})||(0,s.default)(!1);for(var a,o=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),u=new Set,l=E(t);!(a=l()).done;)for(var c,d=a.value.route,f=E(d.pools);!(c=f()).done;){var p=c.value;u.add(ev.getAddress(p.token0,p.token1,p.fee))}o!==u.size&&(0,s.default)(!1),this.swaps=t,this.tradeType=r}t=w(T().m(function t(r,n){return T().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,n,i.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=w(T().m(function t(r,n){return T().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,n,i.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},n=w(T().m(function t(r,n,a){var o,u,l,c,d,f,p,h,m;return T().w(function(t){for(;;)switch(t.n){case 0:if(o=Array(r.tokenPath.length),a!==i.TradeType.EXACT_INPUT){t.n=5;break}n.currency.equals(r.input)||(0,s.default)(!1),o[0]=n.wrapped,c=0;case 1:if(!(c<r.tokenPath.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(o[c]);case 2:f=t.v[0],o[c+1]=f;case 3:c++,t.n=1;break;case 4:u=i.CurrencyAmount.fromFractionalAmount(r.input,n.numerator,n.denominator),l=i.CurrencyAmount.fromFractionalAmount(r.output,o[o.length-1].numerator,o[o.length-1].denominator),t.n=10;break;case 5:n.currency.equals(r.output)||(0,s.default)(!1),o[o.length-1]=n.wrapped,p=r.tokenPath.length-1;case 6:if(!(p>0)){t.n=9;break}return h=r.pools[p-1],t.n=7,h.getInputAmount(o[p]);case 7:m=t.v[0],o[p-1]=m;case 8:p--,t.n=6;break;case 9:u=i.CurrencyAmount.fromFractionalAmount(r.input,o[0].numerator,o[0].denominator),l=i.CurrencyAmount.fromFractionalAmount(r.output,n.numerator,n.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:u,outputAmount:l,route:r}],tradeType:a}))}},t)})),e.fromRoute=function(e,t,r){return n.apply(this,arguments)},a=w(T().m(function t(r,n){var a,o,u,l,c,d,f,p,h,m,g,b,y,x,A;return T().w(function(t){for(;;)switch(t.n){case 0:a=[],o=E(r);case 1:if((u=o()).done){t.n=13;break}if(c=(l=u.value).route,d=l.amount,f=Array(c.tokenPath.length),p=void 0,h=void 0,n!==i.TradeType.EXACT_INPUT){t.n=6;break}d.currency.equals(c.input)||(0,s.default)(!1),p=i.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=i.CurrencyAmount.fromFractionalAmount(c.input.wrapped,d.numerator,d.denominator),m=0;case 2:if(!(m<c.tokenPath.length-1)){t.n=5;break}return g=c.pools[m],t.n=3,g.getOutputAmount(f[m]);case 3:b=t.v[0],f[m+1]=b;case 4:m++,t.n=2;break;case 5:h=i.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),t.n=11;break;case 6:d.currency.equals(c.output)||(0,s.default)(!1),h=i.CurrencyAmount.fromFractionalAmount(c.output,d.numerator,d.denominator),f[f.length-1]=i.CurrencyAmount.fromFractionalAmount(c.output.wrapped,d.numerator,d.denominator),y=c.tokenPath.length-1;case 7:if(!(y>0)){t.n=10;break}return x=c.pools[y-1],t.n=8,x.getInputAmount(f[y]);case 8:A=t.v[0],f[y-1]=A;case 9:y--,t.n=7;break;case 10:p=i.CurrencyAmount.fromFractionalAmount(c.input,f[0].numerator,f[0].denominator);case 11:a.push({route:c,inputAmount:p,outputAmount:h});case 12:t.n=1;break;case 13:return t.a(2,new e({routes:a,tradeType:n}))}},t)})),e.fromRoutes=function(e,t){return a.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(k({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,n,a,o,u,l=e.prototype;return l.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(O)&&(0,s.default)(!1),this.tradeType===i.TradeType.EXACT_OUTPUT)return t;var r=new i.Fraction(D).add(e).invert().multiply(t.quotient).quotient;return i.CurrencyAmount.fromRawAmount(t.currency,r)},l.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(O)&&(0,s.default)(!1),this.tradeType===i.TradeType.EXACT_INPUT)return t;var r=new i.Fraction(D).add(e).multiply(t.quotient).quotient;return i.CurrencyAmount.fromRawAmount(t.currency,r)},l.worstExecutionPrice=function(e){return new i.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},o=w(T().m(function t(r,n,a,o,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,E;return T().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=n),void 0===c&&(c=[]),r.length>0||(0,s.default)(!1),m>0||(0,s.default)(!1),n===l||u.length>0||(0,s.default)(!1),g=l.wrapped,b=a.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getOutputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!(A.currency.isToken&&A.currency.equals(b))){t.n=9;break}return S=i.sortedInsert,E=c,t.n=8,e.fromRoute(new eE([].concat(u,[x]),n.currency,a),n,i.TradeType.EXACT_INPUT);case 8:S(E,t.v,p,ek),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactIn(w,n,a,{maxNumResults:p,maxHops:m-1},[].concat(u,[x]),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,n,i,a,s){return o.apply(this,arguments)},u=w(T().m(function t(r,n,a,o,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,E;return T().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=a),void 0===c&&(c=[]),r.length>0||(0,s.default)(!1),m>0||(0,s.default)(!1),a===l||u.length>0||(0,s.default)(!1),g=l.wrapped,b=n.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getInputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!A.currency.equals(b)){t.n=9;break}return S=i.sortedInsert,E=c,t.n=8,e.fromRoute(new eE([x].concat(u),n,a.currency),a,i.TradeType.EXACT_OUTPUT);case 8:S(E,t.v,p,ek),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactOut(w,n,a,{maxNumResults:p,maxHops:m-1},[x].concat(u),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,n,i,a,s){return u.apply(this,arguments)},S(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,s.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},i.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},i.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new i.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=i.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=E(this.swaps);!(e=r()).done;){var n=e.value,a=n.route,s=n.inputAmount,o=a.midPrice;t=t.add(o.quote(s))}var u=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new i.Percent(u.numerator,u.denominator),this._priceImpact}}])}(),eP=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t).data},e}();eP.INTERFACE=new u.Interface(d.default.abi);var eI=function(){function e(){}return e.encodePermit=function(t,r){return"nonce"in r?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,ei(r.nonce),ei(r.expiry),r.v,r.r,r.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,ei(r.amount),ei(r.deadline),r.v,r.r,r.s])},e}();eI.INTERFACE=new u.Interface(p.default.abi);var e_=function(){function e(){}return e.encodeFeeBips=function(e){return ei(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,r,n){if(r=(0,i.validateAndParseAddress)(r),!n)return e.INTERFACE.encodeFunctionData("unwrapWETH9",[ei(t),r]);var a=this.encodeFeeBips(n.fee),s=(0,i.validateAndParseAddress)(n.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[ei(t),r,a,s])},e.encodeSweepToken=function(t,r,n,a){if(n=(0,i.validateAndParseAddress)(n),!a)return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,ei(r),n]);var s=this.encodeFeeBips(a.fee),o=(0,i.validateAndParseAddress)(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,ei(r),n,s,o])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();e_.INTERFACE=new u.Interface(h.default.abi);var eN=["expectedCurrencyOwed0","expectedCurrencyOwed1"],eB=ei(a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),a.default.BigInt(1)));function eR(e){return Object.keys(e).some(function(e){return"recipient"===e})}var eC={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},eO=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,ei(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:ei(0)}},e.addCallParameters=function(t,r){a.default.greaterThan(t.liquidity,O)||(0,s.default)(!1);var n=[],o=t.mintAmounts,u=o.amount0,l=o.amount1,c=t.mintAmountsWithSlippage(r.slippageTolerance),d=ei(c.amount0),f=ei(c.amount1),p=ei(r.deadline);if(eR(r)&&r.createPool&&n.push(this.encodeCreate(t.pool)),r.token0Permit&&n.push(eI.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&n.push(eI.encodePermit(t.pool.token1,r.token1Permit)),eR(r)){var h=(0,i.validateAndParseAddress)(r.recipient);n.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:ei(u),amount1Desired:ei(l),amount0Min:d,amount1Min:f,recipient:h,deadline:p}]))}else n.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:ei(r.tokenId),amount0Desired:ei(u),amount1Desired:ei(l),amount0Min:d,amount1Min:f,deadline:p}]));var m=ei(0);if(r.useNative){var g=r.useNative.wrapped;t.pool.token0.equals(g)||t.pool.token1.equals(g)||(0,s.default)(!1);var b=t.pool.token0.equals(g)?u:l;a.default.greaterThan(b,O)&&n.push(e_.encodeRefundETH()),m=ei(b)}return{calldata:eP.encodeMulticall(n),value:m}},e.encodeCollect=function(t){var r=[],n=ei(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,s=(0,i.validateAndParseAddress)(t.recipient);if(r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:n,recipient:a?_:s,amount0Max:eB,amount1Max:eB}])),a){var o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,l=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(e_.encodeUnwrapWETH9(o,s)),r.push(e_.encodeSweepToken(u,l,s))}return r},e.collectCallParameters=function(t){var r=e.encodeCollect(t);return{calldata:eP.encodeMulticall(r),value:ei(0)}},e.removeCallParameters=function(t,r){var n=[],o=ei(r.deadline),u=ei(r.tokenId),l=new eS({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});a.default.greaterThan(l.liquidity,O)||(0,s.default)(!1);var c=l.burnAmountsWithSlippage(r.slippageTolerance),d=c.amount0,f=c.amount1;r.permit&&n.push(e.INTERFACE.encodeFunctionData("permit",[(0,i.validateAndParseAddress)(r.permit.spender),u,ei(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),n.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:ei(l.liquidity),amount0Min:ei(d),amount1Min:ei(f),deadline:o}]));var p=r.collectOptions,h=p.expectedCurrencyOwed0,m=p.expectedCurrencyOwed1,g=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(p,eN);return n.push.apply(n,e.encodeCollect(k({tokenId:ei(r.tokenId),expectedCurrencyOwed0:h.add(i.CurrencyAmount.fromRawAmount(h.currency,d)),expectedCurrencyOwed1:m.add(i.CurrencyAmount.fromRawAmount(m.currency,f))},g))),r.liquidityPercentage.equalTo(D)?r.burnToken&&n.push(e.INTERFACE.encodeFunctionData("burn",[u])):!0===r.burnToken&&(0,s.default)(!1),{calldata:eP.encodeMulticall(n),value:ei(0)}},e.safeTransferFromParameters=function(t){var r=(0,i.validateAndParseAddress)(t.recipient),n=(0,i.validateAndParseAddress)(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[n,r,ei(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[n,r,ei(t.tokenId)]),value:ei(0)}},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V3 Positions NFT-V1",chainId:r,version:"1",verifyingContract:t},types:eC,values:e}},e}();eO.INTERFACE=new u.Interface(f.default.abi);var eD=function(){function e(){}return e.quoteCallParameters=function(e,t,r,n){void 0===n&&(n={});var a=1===e.pools.length,o=ei(t.quotient),u=n.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var l,c,d,f={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:ei(null!=(c=null==(d=n)?void 0:d.sqrtPriceLimitX96)?c:0)},p=k({},f,r===i.TradeType.EXACT_INPUT?{amountIn:o}:{amount:o}),h=[f.tokenIn,f.tokenOut,f.fee,o,f.sqrtPriceLimitX96],m=r===i.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";l=u.encodeFunctionData(m,n.useQuoterV2?[p]:h)}else{(null==(g=n)?void 0:g.sqrtPriceLimitX96)!==void 0&&(0,s.default)(!1);var g,b=ea(e,r===i.TradeType.EXACT_OUTPUT),y=r===i.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";l=u.encodeFunctionData(y,[b,o])}return{calldata:l,value:ei(0)}},e}();eD.V1INTERFACE=new u.Interface(m.default.abi),eD.V2INTERFACE=new u.Interface(g.default.abi);var eU=function(){function e(){}return e.encodeClaim=function(t,r){var n,a=[];a.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),ei(r.tokenId)]));var s=(0,i.validateAndParseAddress)(r.recipient),o=null!=(n=r.amount)?n:0;return a.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,s,ei(o)])),a},e.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var n=[],i=0;i<t.length;i++){var a=t[i];(n=n.concat(this.encodeClaim(a,r))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),ei(r.tokenId)]))}return{calldata:eP.encodeMulticall(n),value:ei(0)}},e.withdrawToken=function(t,r){var n=[];t=Array.isArray(t)?t:[t];for(var a={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},s=0;s<t.length;s++){var o=t[s];n=n.concat(this.encodeClaim(o,a))}var u=(0,i.validateAndParseAddress)(r.owner);return n.push(e.INTERFACE.encodeFunctionData("withdrawToken",[ei(r.tokenId),u,r.data?r.data:ei(0)])),{calldata:eP.encodeMulticall(n),value:ei(0)}},e.encodeDeposit=function(t){if((t=Array.isArray(t)?t:[t]).length>1){for(var r,n=[],i=0;i<t.length;i++){var a=t[i];n.push(this._encodeIncentiveKey(a))}r=o.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI+"[]"],[n])}else r=o.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},e._encodeIncentiveKey=function(e){var t=e.pool,r=t.token0,n=t.token1,a=t.fee,s=(0,i.validateAndParseAddress)(e.refundee);return{rewardToken:e.rewardToken.address,pool:ev.getAddress(r,n,a),startTime:ei(e.startTime),endTime:ei(e.endTime),refundee:s}},e}();eU.INTERFACE=new u.Interface(b.default.abi),eU.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var eF=function(){function e(){}return e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var n=t[0],a=n.inputAmount.currency.wrapped,o=n.outputAmount.currency.wrapped;t.every(function(e){return e.inputAmount.currency.wrapped.equals(a)})||(0,s.default)(!1),t.every(function(e){return e.outputAmount.currency.wrapped.equals(o)})||(0,s.default)(!1);var u=[],l=i.CurrencyAmount.fromRawAmount(t[0].inputAmount.currency,0),c=i.CurrencyAmount.fromRawAmount(t[0].outputAmount.currency,0),d=t.reduce(function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))},c),f=n.inputAmount.currency.isNative&&n.tradeType===i.TradeType.EXACT_OUTPUT,p=n.inputAmount.currency.isNative,h=n.outputAmount.currency.isNative,m=h||!!r.fee,g=p?t.reduce(function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))},l):l;r.inputTokenPermit&&(n.inputAmount.currency.isToken||(0,s.default)(!1),u.push(eI.encodePermit(n.inputAmount.currency,r.inputTokenPermit)));for(var b,y=(0,i.validateAndParseAddress)(r.recipient),x=ei(r.deadline),A=E(t);!(b=A()).done;)for(var w,v=b.value,S=E(v.swaps);!(w=S()).done;){var k=w.value,T=k.route,P=k.inputAmount,I=k.outputAmount,N=ei(v.maximumAmountIn(r.slippageTolerance,P).quotient),B=ei(v.minimumAmountOut(r.slippageTolerance,I).quotient);if(1===T.pools.length)if(v.tradeType===i.TradeType.EXACT_INPUT){var R,C={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:B,sqrtPriceLimitX96:ei(null!=(R=r.sqrtPriceLimitX96)?R:0)};u.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[C]))}else{var O,D={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:m?_:y,deadline:x,amountOut:B,amountInMaximum:N,sqrtPriceLimitX96:ei(null!=(O=r.sqrtPriceLimitX96)?O:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[D]))}else{void 0!==r.sqrtPriceLimitX96&&(0,s.default)(!1);var U=ea(T,v.tradeType===i.TradeType.EXACT_OUTPUT);if(v.tradeType===i.TradeType.EXACT_INPUT){var F={path:U,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:B};u.push(e.INTERFACE.encodeFunctionData("exactInput",[F]))}else{var M={path:U,recipient:m?_:y,deadline:x,amountOut:B,amountInMaximum:N};u.push(e.INTERFACE.encodeFunctionData("exactOutput",[M]))}}}return m&&(r.fee?h?u.push(e_.encodeUnwrapWETH9(d.quotient,y,r.fee)):u.push(e_.encodeSweepToken(n.outputAmount.currency.wrapped,d.quotient,y,r.fee)):u.push(e_.encodeUnwrapWETH9(d.quotient,y))),f&&u.push(e_.encodeRefundETH()),{calldata:eP.encodeMulticall(u),value:ei(g.quotient)}},e}();eF.INTERFACE=new u.Interface(y.default.abi),e.s(["ADDRESS_ZERO",()=>_,"FACTORY_ADDRESS",()=>I,"FeeAmount",()=>n,"FullMath",()=>L,"LiquidityMath",()=>z,"Multicall",()=>eP,"NoTickDataProvider",()=>ee,"NonfungiblePositionManager",()=>eO,"POOL_INIT_CODE_HASH",()=>N,"Payments",()=>e_,"Pool",()=>ev,"Position",()=>eS,"PositionLibrary",()=>ep,"Route",()=>eE,"SelfPermit",()=>eI,"SqrtPriceMath",()=>W,"Staker",()=>eU,"SwapMath",()=>G,"SwapQuoter",()=>eD,"SwapRouter",()=>eF,"TICK_SPACINGS",()=>R,"Tick",()=>ex,"TickLibrary",()=>ey,"TickList",()=>en,"TickListDataProvider",()=>eA,"TickMath",()=>Y,"Trade",()=>eT,"computePoolAddress",()=>M,"encodeRouteToPath",()=>ea,"encodeSqrtRatioX96",()=>es,"isSorted",()=>et,"maxLiquidityForAmounts",()=>ec,"mostSignificantBit",()=>Q,"nearestUsableTick",()=>ed,"poolInitCodeHash",()=>B,"priceToClosestTick",()=>em,"subIn256",()=>eb,"tickToPrice",()=>eh,"toHex",()=>ei,"tradeComparator",()=>ek,"v3Swap",()=>Z])},776030,e=>{"use strict";var t=e.i(83090),r=e.i(857518),n=e.i(142621),i=e.i(407224);e.s([],75009),e.i(75009),e.s(["_TypedDataEncoder",()=>i.TypedDataEncoder,"dnsEncode",()=>r.dnsEncode,"ensNormalize",()=>r.ensNormalize,"hashMessage",()=>n.hashMessage,"id",()=>t.id,"isValidName",()=>r.isValidName,"messagePrefix",()=>n.messagePrefix,"namehash",()=>r.namehash],776030)},818650,e=>{"use strict";var t=e.i(896350),r=e.i(828054),n=e.i(407351),i=e.i(592875);e.s(["decryptCrowdsale",()=>r.decrypt,"decryptJsonWallet",()=>t.decryptJsonWallet,"decryptJsonWalletSync",()=>t.decryptJsonWalletSync,"decryptKeystore",()=>i.decrypt,"decryptKeystoreSync",()=>i.decryptSync,"encryptKeystore",()=>i.encrypt,"getJsonWalletAddress",()=>n.getJsonWalletAddress,"isCrowdsaleWallet",()=>n.isCrowdsaleWallet,"isKeystoreWallet",()=>n.isKeystoreWallet])},303609,e=>{"use strict";var t=e.i(942558),r=e.i(691846);e.s([],39252),e.i(39252),e.s(["SupportedAlgorithm",()=>r.SupportedAlgorithm,"computeHmac",()=>t.computeHmac,"ripemd160",()=>t.ripemd160,"sha256",()=>t.sha256,"sha512",()=>t.sha512],303609)},131518,e=>{"use strict";e.s([],236645),e.i(236645);var t=e.i(666843),r=e.i(216368);e.s(["randomBytes",()=>t.randomBytes,"shuffled",()=>r.shuffled],131518)},757357,e=>{"use strict";var t=e.i(299797),r=e.i(812196),n=e.i(840858);e.s([],842374),e.i(842374),e.s(["UnicodeNormalizationForm",()=>n.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>n.Utf8ErrorFuncs,"Utf8ErrorReason",()=>n.Utf8ErrorReason,"_toEscapedUtf8String",()=>n._toEscapedUtf8String,"formatBytes32String",()=>t.formatBytes32String,"nameprep",()=>r.nameprep,"parseBytes32String",()=>t.parseBytes32String,"toUtf8Bytes",()=>n.toUtf8Bytes,"toUtf8CodePoints",()=>n.toUtf8CodePoints,"toUtf8String",()=>n.toUtf8String],757357)},847994,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var s=e.r(811874);Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}});var o=e.r(47771);Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return o.isAddress}}),r.base64=a(e.r(630759));var u=e.r(206641);Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return u.Base58}});var l=e.r(403011);Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var c=e.r(776030);Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return c.namehash}});var d=e.r(891368);Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var f=e.r(818650);Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var p=e.r(447172);Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var h=e.r(875353);Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=e.r(303609);Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=e.r(575111);Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var b=e.r(131518);Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var y=e.r(526579);Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return y.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return y.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return y.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return y.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return y.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return y.shallowCopy}}),r.RLP=a(e.r(222223));var x=e.r(346469);Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return x.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return x.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return x.SigningKey}});var A=e.r(757357);Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var w=e.r(840722);Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return w.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return w.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return w.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return w.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return w.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return w.TransactionTypes}});var v=e.r(299697);Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return v.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return v.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return v.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return v.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return v.parseUnits}});var S=e.r(508663);Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return S.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return S.verifyTypedData}});var E=e.r(367933);Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return E._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return E.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return E.poll}});var k=e.r(303609);Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return k.SupportedAlgorithm}});var T=e.r(757357);Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return T.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return T.Utf8ErrorReason}})},654238,e=>{"use strict";var t=e.i(685648);e.s(["ethers",0,t])},863062,e=>{"use strict";var t,r,n,i,a,s,o,u,l,c,d,f,p,h=e.i(40992),m=e.i(575111),g=e.i(702503),b=e.i(376036),y=e.i(847994),x=e.i(477912),A=e.i(819090),w=e.i(654238),v=e.i(246383),S=e.i(37041);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function T(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){k(a,n,i,s,o,"next",e)}function o(e){k(a,n,i,s,o,"throw",e)}s(void 0)})}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n.key),n)}}function I(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return E(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(){return(N=Object.assign.bind()).apply(null,arguments)}function B(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var u=Object.create((n&&n.prototype instanceof o?n:o).prototype);return R(u,"_invoke",function(r,n,i){var a,o,u,l=0,c=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,o=0,u=e,f.n=r,s}};function p(r,n){for(o=r,u=n,t=0;!d&&l&&!i&&t<c.length;t++){var i,a=c[t],p=f.p,h=a[2];r>3?(i=h===n)&&(u=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=r<2&&p<a[1])?(o=0,f.v=n,f.n=a[1]):p<h&&(i=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,f.n=h,o=0))}if(i||r>1)return s;throw d=!0,n}return function(i,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),o=c,u=h;(t=o<2?e:u)||!d;){a||(o?o<3?(o>1&&(f.n=-1),p(o,u)):f.n=u:f.v=u);try{if(l=2,a){if(o||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((t=(d=f.n<0)?u:r.call(n,f))!==s)break}catch(t){a=e,o=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,i,a),!0),u}var s={};function o(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=o.prototype=Object.create([][n]?t(t([][n]())):(R(t={},n,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,R(e,i,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,R(c,"constructor",l),R(l,"constructor",u),u.displayName="GeneratorFunction",R(l,i,"GeneratorFunction"),R(c),R(c,i,"Generator"),R(c,n,function(){return this}),R(c,"toString",function(){return"[object Generator]"}),(B=function(){return{w:a,m:d}})()}function R(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(R=function(e,t,r,n){function a(t,r){R(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!!e.isNative||!t.isNative&&e.wrapped.sortsBefore(t.wrapped)}(t=o||(o={})).AfterRemoveLiquidityReturnsDelta="afterRemoveLiquidityReturnsDelta",t.AfterAddLiquidityReturnsDelta="afterAddLiquidityReturnsDelta",t.AfterSwapReturnsDelta="afterSwapReturnsDelta",t.BeforeSwapReturnsDelta="beforeSwapReturnsDelta",t.AfterDonate="afterDonate",t.BeforeDonate="beforeDonate",t.AfterSwap="afterSwap",t.BeforeSwap="beforeSwap",t.AfterRemoveLiquidity="afterRemoveLiquidity",t.BeforeRemoveLiquidity="beforeRemoveLiquidity",t.AfterAddLiquidity="afterAddLiquidity",t.BeforeAddLiquidity="beforeAddLiquidity",t.AfterInitialize="afterInitialize",t.BeforeInitialize="beforeInitialize";var D=((s={})[o.AfterRemoveLiquidityReturnsDelta]=0,s[o.AfterAddLiquidityReturnsDelta]=1,s[o.AfterSwapReturnsDelta]=2,s[o.BeforeSwapReturnsDelta]=3,s[o.AfterDonate]=4,s[o.BeforeDonate]=5,s[o.AfterSwap]=6,s[o.BeforeSwap]=7,s[o.AfterRemoveLiquidity]=8,s[o.BeforeRemoveLiquidity]=9,s[o.AfterAddLiquidity]=10,s[o.BeforeAddLiquidity]=11,s[o.AfterInitialize]=12,s[o.BeforeInitialize]=13,s),U=function(){function e(){}return e.permissions=function(e){return this._checkAddress(e),{beforeInitialize:this._hasPermission(e,o.BeforeInitialize),afterInitialize:this._hasPermission(e,o.AfterInitialize),beforeAddLiquidity:this._hasPermission(e,o.BeforeAddLiquidity),afterAddLiquidity:this._hasPermission(e,o.AfterAddLiquidity),beforeRemoveLiquidity:this._hasPermission(e,o.BeforeRemoveLiquidity),afterRemoveLiquidity:this._hasPermission(e,o.AfterRemoveLiquidity),beforeSwap:this._hasPermission(e,o.BeforeSwap),afterSwap:this._hasPermission(e,o.AfterSwap),beforeDonate:this._hasPermission(e,o.BeforeDonate),afterDonate:this._hasPermission(e,o.AfterDonate),beforeSwapReturnsDelta:this._hasPermission(e,o.BeforeSwapReturnsDelta),afterSwapReturnsDelta:this._hasPermission(e,o.AfterSwapReturnsDelta),afterAddLiquidityReturnsDelta:this._hasPermission(e,o.AfterAddLiquidityReturnsDelta),afterRemoveLiquidityReturnsDelta:this._hasPermission(e,o.AfterRemoveLiquidityReturnsDelta)}},e.hasPermission=function(e,t){return this._checkAddress(e),this._hasPermission(e,t)},e.hasInitializePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,o.BeforeInitialize)||e._hasPermission(t,o.AfterInitialize)},e.hasLiquidityPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,o.BeforeAddLiquidity)||e._hasPermission(t,o.AfterAddLiquidity)||e._hasPermission(t,o.BeforeRemoveLiquidity)||e._hasPermission(t,o.AfterRemoveLiquidity)},e.hasSwapPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,o.BeforeSwap)||e._hasPermission(t,o.AfterSwap)},e.hasDonatePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,o.BeforeDonate)||e._hasPermission(t,o.AfterDonate)},e._hasPermission=function(e,t){return!!(parseInt("0x"+e.slice(-8),16)&1<<D[t])},e._checkAddress=function(e){(0,y.isAddress)(e)||(0,h.default)(!1)},e}(),F=A.constants.AddressZero,M=x.default.BigInt(-1),L=x.default.BigInt(0),K=x.default.BigInt(1),q=x.default.exponentiate(x.default.BigInt(2),x.default.BigInt(96)),W=x.default.exponentiate(q,x.default.BigInt(2)),V=A.constants.Zero;(r=l||(l={})).INITIALIZE_POOL="initializePool",r.MODIFY_LIQUIDITIES="modifyLiquidities",r.PERMIT_BATCH="0x002a3e3a",r.ERC721PERMIT_PERMIT="0x0f5730f1",(n=c||(c={}))[n.LOWEST=100]="LOWEST",n[n.LOW=500]="LOW",n[n.MEDIUM=3e3]="MEDIUM",n[n.HIGH=1e4]="HIGH",(u={})[c.LOWEST]=1,u[c.LOW]=10,u[c.MEDIUM]=60,u[c.HIGH]=200;var G=new b.NoTickDataProvider,z=function(){function e(t,r,n,i,a,s,o,u,l){void 0===l&&(l=G),(0,y.isAddress)(a)||(0,h.default)(!1),Number.isInteger(n)&&(8388608===n||n<1e6)||(0,h.default)(!1),8388608===n&&(Number(a)>0||(0,h.default)(!1));var c=b.TickMath.getSqrtRatioAtTick(u),d=b.TickMath.getSqrtRatioAtTick(u+1);x.default.greaterThanOrEqual(x.default.BigInt(s),c)&&x.default.lessThanOrEqual(x.default.BigInt(s),d)||(0,h.default)(!1);var f=O(t,r)?[t,r]:[r,t];this.currency0=f[0],this.currency1=f[1],this.fee=n,this.sqrtRatioX96=x.default.BigInt(s),this.tickSpacing=i,this.hooks=a,this.liquidity=x.default.BigInt(o),this.tickCurrent=u,this.tickDataProvider=Array.isArray(l)?new b.TickListDataProvider(l,i):l,this.poolKey=e.getPoolKey(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks),this.poolId=e.getPoolId(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks)}e.getPoolKey=function(e,t,r,n,i){(0,y.isAddress)(i)||(0,h.default)(!1);var a=O(e,t)?[e,t]:[t,e],s=a[0],o=a[1];return{currency0:s.isNative?F:s.wrapped.address,currency1:o.isNative?F:o.wrapped.address,fee:r,tickSpacing:n,hooks:i}},e.getPoolId=function(e,t,r,n,i){var a=O(e,t)?[e,t]:[t,e],s=a[0],o=a[1],u=s.isNative?F:s.wrapped.address,l=o.isNative?F:o.wrapped.address;return(0,m.keccak256)(["bytes"],[y.defaultAbiCoder.encode(["address","address","uint24","int24","address"],[u,l,r,n,i])])};var t,r,n,i=e.prototype;return i.involvesCurrency=function(e){return e.equals(this.currency0)||e.equals(this.currency1)},i.involvesToken=function(e){return this.involvesCurrency(e)},i.v4InvolvesToken=function(e){return this.involvesCurrency(e)||e.wrapped.equals(this.currency0)||e.wrapped.equals(this.currency1)||e.wrapped.equals(this.currency0.wrapped)||e.wrapped.equals(this.currency1.wrapped)},i.priceOf=function(e){return this.involvesCurrency(e)||(0,h.default)(!1),e.equals(this.currency0)?this.currency0Price:this.currency1Price},t=T(B().m(function t(r,n){var i,a,s,o,u,l,c;return B().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,h.default)(!1),i=r.currency.equals(this.currency0),t.n=1,this.swap(i,r.quotient,n);case 1:return s=(a=t.v).amountCalculated,o=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=i?this.currency1:this.currency0,t.a(2,[g.CurrencyAmount.fromRawAmount(c,x.default.multiply(s,M)),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,o,u,l,this.tickDataProvider)])}},t,this)})),i.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=T(B().m(function t(r,n){var i,a,s,o,u,l,c;return B().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,h.default)(!1),i=r.currency.equals(this.currency1),t.n=1,this.swap(i,x.default.multiply(r.quotient,M),n);case 1:return s=(a=t.v).amountCalculated,o=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=i?this.currency0:this.currency1,t.a(2,[g.CurrencyAmount.fromRawAmount(c,s),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,o,u,l,this.tickDataProvider)])}},t,this)})),i.getInputAmount=function(e,t){return r.apply(this,arguments)},n=T(B().m(function e(t,r,n){return B().w(function(e){for(;;)switch(e.n){case 0:if(this.hookImpactsSwap()){e.n=1;break}return e.a(2,(0,b.v3Swap)(x.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,n));case 1:throw Error("Unsupported hook");case 2:return e.a(2)}},e,this)})),i.swap=function(e,t,r){return n.apply(this,arguments)},i.hookImpactsSwap=function(){return U.hasSwapPermissions(this.hooks)},I(e,[{key:"token0",get:function(){return this.currency0}},{key:"token1",get:function(){return this.currency1}},{key:"currency0Price",get:function(){var e;return null!=(e=this._currency0Price)?e:this._currency0Price=new g.Price(this.currency0,this.currency1,W,x.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token0Price",get:function(){return this.currency0Price}},{key:"currency1Price",get:function(){var e;return null!=(e=this._currency1Price)?e:this._currency1Price=new g.Price(this.currency1,this.currency0,x.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),W)}},{key:"token1Price",get:function(){return this.currency1Price}},{key:"chainId",get:function(){return this.currency0.chainId}}])}();function j(e,t){return g.CurrencyAmount.fromFractionalAmount(H(e.currency,t),e.numerator,e.denominator)}function H(e,t){if(t.involvesCurrency(e))return e;if(t.involvesCurrency(e.wrapped))return e.wrapped;if(t.currency0.wrapped.equals(e))return t.currency0;if(t.currency1.wrapped.equals(e))return t.currency1;throw Error("Expected currency "+e.symbol+" to be either "+t.currency0.symbol+" or "+t.currency1.symbol)}var Q=I(function(e,t,r){this._midPrice=null,e.length>0||(0,h.default)(!1);var n=e[0].chainId;e.every(function(e){return e.chainId===n})||(0,h.default)(!1),this.pathInput=H(t,e[0]),this.pathOutput=H(r,e[e.length-1]);for(var i,a=[this.pathInput],s=_(e.entries());!(i=s()).done;){var o=i.value,u=o[0],l=o[1],c=a[u];c.equals(l.currency0)||c.equals(l.currency1)||(0,h.default)(!1);var d=c.equals(l.currency0)?l.currency1:l.currency0;a.push(d)}this.pools=e,this.currencyPath=a,this.input=t,this.output=null!=r?r:a[a.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,n=e.price;return r.equals(t.currency0)?{nextInput:t.currency1,price:n.multiply(t.currency0Price)}:{nextInput:t.currency0,price:n.multiply(t.currency1Price)}},this.pools[0].currency0.equals(this.input)?{nextInput:this.pools[0].currency1,price:this.pools[0].currency0Price}:{nextInput:this.pools[0].currency0,price:this.pools[0].currency1Price}).price;return this._midPrice=new g.Price(this.input,this.output,e.denominator,e.numerator)}}]);function X(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,h.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,h.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var J=function(){function e(e){var t=e.routes,r=e.tradeType,n=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return n.equals(t.input)})||(0,h.default)(!1),t.every(function(e){var t=e.route;return i.equals(t.output)})||(0,h.default)(!1);for(var a,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),o=new Set,u=_(t);!(a=u()).done;)for(var l,c=a.value.route,d=_(c.pools);!(l=d()).done;){var f=l.value;o.add(z.getPoolId(f.currency0,f.currency1,f.fee,f.tickSpacing,f.hooks))}s!==o.size&&(0,h.default)(!1),this.swaps=t,this.tradeType=r}t=T(B().m(function t(r,n){return B().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,n,g.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=T(B().m(function t(r,n){return B().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,n,g.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},n=T(B().m(function t(r,n,i){var a,s,o,u,l,c,d,f;return B().w(function(t){for(;;)switch(t.n){case 0:if(i!==g.TradeType.EXACT_INPUT){t.n=5;break}n.currency.equals(r.input)||(0,h.default)(!1),o=j(n,r.pools[0]),u=0;case 1:if(!(u<r.pools.length)){t.n=4;break}return l=r.pools[u],t.n=2,l.getOutputAmount(o);case 2:o=t.v[0];case 3:u++,t.n=1;break;case 4:a=g.CurrencyAmount.fromFractionalAmount(r.input,n.numerator,n.denominator),s=g.CurrencyAmount.fromFractionalAmount(r.output,o.numerator,o.denominator),t.n=10;break;case 5:n.currency.equals(r.output)||(0,h.default)(!1),c=j(n,r.pools[r.pools.length-1]),d=r.pools.length-1;case 6:if(!(d>=0)){t.n=9;break}return f=r.pools[d],t.n=7,f.getInputAmount(c);case 7:c=t.v[0];case 8:d--,t.n=6;break;case 9:a=g.CurrencyAmount.fromFractionalAmount(r.input,c.numerator,c.denominator),s=g.CurrencyAmount.fromFractionalAmount(r.output,n.numerator,n.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:a,outputAmount:s,route:r}],tradeType:i}))}},t)})),e.fromRoute=function(e,t,r){return n.apply(this,arguments)},i=T(B().m(function t(r,n){var i;return B().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(r.map(function(){var t=T(B().m(function t(r){var i,a,s;return B().w(function(t){for(;;)switch(t.n){case 0:return i=r.amount,a=r.route,t.n=1,e.fromRoute(a,i,n);case 1:return s=t.v,t.a(2,s.swaps[0])}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:return i=t.v,t.a(2,new e({routes:i,tradeType:n}))}},t)})),e.fromRoutes=function(e,t){return i.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(N({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,n,i,a,s,o=e.prototype;return o.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(L)&&(0,h.default)(!1),this.tradeType===g.TradeType.EXACT_OUTPUT)return t;var r=new g.Fraction(K).add(e).invert().multiply(t.quotient).quotient;return g.CurrencyAmount.fromRawAmount(t.currency,r)},o.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(L)&&(0,h.default)(!1),this.tradeType===g.TradeType.EXACT_INPUT)return t;var r=new g.Fraction(K).add(e).multiply(t.quotient).quotient;return g.CurrencyAmount.fromRawAmount(t.currency,r)},o.worstExecutionPrice=function(e){return new g.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},a=T(B().m(function t(r,n,i,a,s,o,u){var l,c,d,f,p,m,b,y,x,A,w,v,S;return B().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===s&&(s=[]),void 0===o&&(o=n),void 0===u&&(u=[]),r.length>0||(0,h.default)(!1),p>0||(0,h.default)(!1),n===o||s.length>0||(0,h.default)(!1),m=o,b=0;case 1:if(!(b<r.length)){t.n=11;break}if(!(!(y=r[b]).currency0.equals(m.currency)&&!y.currency1.equals(m.currency))){t.n=2;break}return t.a(3,10);case 2:return x=void 0,t.p=3,t.n=4,y.getOutputAmount(m);case 4:x=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!x.currency.equals(i)){t.n=9;break}return v=g.sortedInsert,S=u,t.n=8,e.fromRoute(new Q([].concat(s,[y]),n.currency,i),n,g.TradeType.EXACT_INPUT);case 8:v(S,t.v,d,X),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,b).concat(r.slice(b+1,r.length)),t.n=10,e.bestTradeExactIn(A,n,i,{maxNumResults:d,maxHops:p-1},[].concat(s,[y]),x,u);case 10:b++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,n,i,s,o){return a.apply(this,arguments)},s=T(B().m(function t(r,n,i,a,s,o,u){var l,c,d,f,p,m,b,y,x,A,w,v,S;return B().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===s&&(s=[]),void 0===o&&(o=i),void 0===u&&(u=[]),r.length>0||(0,h.default)(!1),p>0||(0,h.default)(!1),i===o||s.length>0||(0,h.default)(!1),m=o,b=0;case 1:if(!(b<r.length)){t.n=11;break}if(!(!(y=r[b]).currency0.equals(m.currency)&&!y.currency1.equals(m.currency))){t.n=2;break}return t.a(3,10);case 2:return x=void 0,t.p=3,t.n=4,y.getInputAmount(m);case 4:x=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!x.currency.equals(n)){t.n=9;break}return v=g.sortedInsert,S=u,t.n=8,e.fromRoute(new Q([y].concat(s),n,i.currency),i,g.TradeType.EXACT_OUTPUT);case 8:v(S,t.v,d,X),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,b).concat(r.slice(b+1,r.length)),t.n=10,e.bestTradeExactOut(A,n,i,{maxNumResults:d,maxHops:p-1},[y].concat(s),x,u);case 10:b++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,n,i,a,o){return s.apply(this,arguments)},I(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,h.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},g.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},g.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new g.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=g.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=_(this.swaps);!(e=r()).done;){var n=e.value,i=n.route,a=n.inputAmount,s=i.midPrice;t=t.add(s.quote(a))}var o=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new g.Percent(o.numerator,o.denominator),this._priceImpact}}])}();function Y(e,t,r){var n=b.TickMath.getSqrtRatioAtTick(r),i=x.default.multiply(n,n);return O(e,t)?new g.Price(e,t,W,i):new g.Price(e,t,i,W)}function Z(e){var t=O(e.baseCurrency,e.quoteCurrency),r=t?(0,b.encodeSqrtRatioX96)(e.numerator,e.denominator):(0,b.encodeSqrtRatioX96)(e.denominator,e.numerator),n=b.TickMath.getTickAtSqrtRatio(r),i=Y(e.baseCurrency,e.quoteCurrency,n+1);return t?!e.lessThan(i)&&n++:!e.greaterThan(i)&&n++,n}var $=function(){function e(e){var t=e.pool,r=e.liquidity,n=e.tickLower,i=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,n<i||(0,h.default)(!1),n>=b.TickMath.MIN_TICK&&n%t.tickSpacing==0||(0,h.default)(!1),i<=b.TickMath.MAX_TICK&&i%t.tickSpacing==0||(0,h.default)(!1),this.pool=t,this.tickLower=n,this.tickUpper=i,this.liquidity=x.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new g.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),n=(0,b.encodeSqrtRatioX96)(t.numerator,t.denominator);x.default.lessThanOrEqual(n,b.TickMath.MIN_SQRT_RATIO)&&(n=x.default.add(b.TickMath.MIN_SQRT_RATIO,x.default.BigInt(1)));var i=(0,b.encodeSqrtRatioX96)(r.numerator,r.denominator);return x.default.greaterThanOrEqual(i,b.TickMath.MAX_SQRT_RATIO)&&(i=x.default.subtract(b.TickMath.MAX_SQRT_RATIO,x.default.BigInt(1))),{sqrtRatioX96Lower:n,sqrtRatioX96Upper:i}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),n=r.sqrtRatioX96Upper,i=r.sqrtRatioX96Lower,a=new z(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,b.TickMath.getTickAtSqrtRatio(i)),s=new e({pool:new z(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,b.TickMath.getTickAtSqrtRatio(n)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1;return{amount0:new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:s}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),n=r.sqrtRatioX96Upper,i=r.sqrtRatioX96Lower,a=new z(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,b.TickMath.getTickAtSqrtRatio(i)),s=new e({pool:new z(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,b.TickMath.getTickAtSqrtRatio(n)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,o=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:s.quotient,amount1:o.quotient}},t.permitBatchData=function(e,t,r,n){var i=this.mintAmountsWithSlippage(e),a=i.amount0,s=i.amount1;return{details:[{token:this.pool.currency0.wrapped.address,amount:a,expiration:n,nonce:r},{token:this.pool.currency1.wrapped.address,amount:s,expiration:n,nonce:r}],spender:t,sigDeadline:n}},e.fromAmounts=function(t){var r=t.pool,n=t.tickLower,i=t.tickUpper,a=t.amount0,s=t.amount1,o=t.useFullPrecision,u=b.TickMath.getSqrtRatioAtTick(n),l=b.TickMath.getSqrtRatioAtTick(i);return new e({pool:r,tickLower:n,tickUpper:i,liquidity:(0,b.maxLiquidityForAmounts)(r.sqrtRatioX96,u,l,a,s,o)})},e.fromAmount0=function(t){var r=t.pool,n=t.tickLower,i=t.tickUpper,a=t.amount0,s=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:n,tickUpper:i,amount0:a,amount1:g.MaxUint256,useFullPrecision:s})},e.fromAmount1=function(t){var r=t.pool,n=t.tickLower,i=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:r,tickLower:n,tickUpper:i,amount0:g.MaxUint256,amount1:a,useFullPrecision:!0})},I(e,[{key:"token0PriceLower",get:function(){return Y(this.pool.currency0,this.pool.currency1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return Y(this.pool.currency0,this.pool.currency1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount||(this.pool.tickCurrent<this.tickLower?this._token0Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency0,b.SqrtPriceMath.getAmount0Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency0,b.SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency0,L)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount||(this.pool.tickCurrent<this.tickLower?this._token1Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency1,L):this.pool.tickCurrent<this.tickUpper?this._token1Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency1,b.SqrtPriceMath.getAmount1Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=g.CurrencyAmount.fromRawAmount(this.pool.currency1,b.SqrtPriceMath.getAmount1Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:b.SqrtPriceMath.getAmount0Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:L};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:b.SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:b.SqrtPriceMath.getAmount1Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:L,amount1:b.SqrtPriceMath.getAmount1Delta(b.TickMath.getSqrtRatioAtTick(this.tickLower),b.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),ee=function(e,t){var r=e.pools.map(function(e){return e});t&&(r=r.reverse());for(var n,i=t?e.pathOutput:e.pathInput,a=[],s=_(r);!(n=s()).done;){var o=n.value,u=i.equals(o.currency0)?o.currency1:o.currency0;a.push({intermediateCurrency:u.isNative?F:u.address,fee:o.fee,tickSpacing:o.tickSpacing,hooks:o.hooks,hookData:"0x"}),i=u}return t?a.reverse():a};(i=f||(f={}))[i.INCREASE_LIQUIDITY=0]="INCREASE_LIQUIDITY",i[i.DECREASE_LIQUIDITY=1]="DECREASE_LIQUIDITY",i[i.MINT_POSITION=2]="MINT_POSITION",i[i.BURN_POSITION=3]="BURN_POSITION",i[i.SWAP_EXACT_IN_SINGLE=6]="SWAP_EXACT_IN_SINGLE",i[i.SWAP_EXACT_IN=7]="SWAP_EXACT_IN",i[i.SWAP_EXACT_OUT_SINGLE=8]="SWAP_EXACT_OUT_SINGLE",i[i.SWAP_EXACT_OUT=9]="SWAP_EXACT_OUT",i[i.SETTLE=11]="SETTLE",i[i.SETTLE_ALL=12]="SETTLE_ALL",i[i.SETTLE_PAIR=13]="SETTLE_PAIR",i[i.TAKE=14]="TAKE",i[i.TAKE_ALL=15]="TAKE_ALL",i[i.TAKE_PORTION=16]="TAKE_PORTION",i[i.TAKE_PAIR=17]="TAKE_PAIR",i[i.CLOSE_CURRENCY=18]="CLOSE_CURRENCY",i[i.SWEEP=20]="SWEEP",i[i.UNWRAP=22]="UNWRAP",(a=p||(p={}))[a.V4SwapExactInSingle=0]="V4SwapExactInSingle",a[a.V4SwapExactIn=1]="V4SwapExactIn",a[a.V4SwapExactOutSingle=2]="V4SwapExactOutSingle",a[a.V4SwapExactOut=3]="V4SwapExactOut",a[a.PoolKey=4]="PoolKey";var et="(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)",er="(address intermediateCurrency,uint256 fee,int24 tickSpacing,address hooks,bytes hookData)",en="("+et+" poolKey,bool zeroForOne,uint128 amountIn,uint128 amountOutMinimum,bytes hookData)",ei="("+et+" poolKey,bool zeroForOne,uint128 amountOut,uint128 amountInMaximum,bytes hookData)",ea=((d={})[f.INCREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"hookData",type:"bytes"}],d[f.DECREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],d[f.MINT_POSITION]=[{name:"poolKey",type:et,subparser:p.PoolKey},{name:"tickLower",type:"int24"},{name:"tickUpper",type:"int24"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"owner",type:"address"},{name:"hookData",type:"bytes"}],d[f.BURN_POSITION]=[{name:"tokenId",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],d[f.SWAP_EXACT_IN_SINGLE]=[{name:"swap",type:en,subparser:p.V4SwapExactInSingle}],d[f.SWAP_EXACT_IN]=[{name:"swap",type:"(address currencyIn,"+er+"[] path,uint256[] maxHopSlippage,uint128 amountIn,uint128 amountOutMinimum)",subparser:p.V4SwapExactIn}],d[f.SWAP_EXACT_OUT_SINGLE]=[{name:"swap",type:ei,subparser:p.V4SwapExactOutSingle}],d[f.SWAP_EXACT_OUT]=[{name:"swap",type:"(address currencyOut,"+er+"[] path,uint256[] maxHopSlippage,uint128 amountOut,uint128 amountInMaximum)",subparser:p.V4SwapExactOut}],d[f.SETTLE]=[{name:"currency",type:"address"},{name:"amount",type:"uint256"},{name:"payerIsUser",type:"bool"}],d[f.SETTLE_ALL]=[{name:"currency",type:"address"},{name:"maxAmount",type:"uint256"}],d[f.SETTLE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"}],d[f.TAKE]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],d[f.TAKE_ALL]=[{name:"currency",type:"address"},{name:"minAmount",type:"uint256"}],d[f.TAKE_PORTION]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}],d[f.TAKE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"},{name:"recipient",type:"address"}],d[f.CLOSE_CURRENCY]=[{name:"currency",type:"address"}],d[f.SWEEP]=[{name:"currency",type:"address"},{name:"recipient",type:"address"}],d[f.UNWRAP]=[{name:"amount",type:"uint256"}],d),es=function(){function e(){this.actions="0x",this.params=[]}var t=e.prototype;return t.addAction=function(e,t){var r,n,i,a=(r=e,n=t,i=y.defaultAbiCoder.encode(ea[r].map(function(e){return e.type}),n),{action:r,encodedInput:i});return this.params.push(a.encodedInput),this.actions=this.actions.concat(a.action.toString(16).padStart(2,"0")),this},t.addTrade=function(e,t,r){var n=e.tradeType===g.TradeType.EXACT_OUTPUT;n&&(t||(0,h.default)(!1)),1!==e.swaps.length&&(0,h.default)(!1);var i=n?f.SWAP_EXACT_OUT:f.SWAP_EXACT_IN,a=eo(e.route.pathInput),s=eo(e.route.pathOutput),o=null!=r?r:[];return this.addAction(i,[n?{currencyOut:s,path:ee(e.route,n),maxHopSlippage:o,amountInMaximum:e.maximumAmountIn(null!=t?t:new g.Percent(0)).quotient.toString(),amountOut:e.outputAmount.quotient.toString()}:{currencyIn:a,path:ee(e.route,n),maxHopSlippage:o,amountIn:e.inputAmount.quotient.toString(),amountOutMinimum:t?e.minimumAmountOut(t).quotient.toString():0}]),this},t.addSettle=function(e,t,r){return this.addAction(f.SETTLE,[eo(e),null!=r?r:0,t]),this},t.addTake=function(e,t,r){return this.addAction(f.TAKE,[eo(e),t,null!=r?r:0]),this},t.addUnwrap=function(e){return this.addAction(f.UNWRAP,[e]),this},t.finalize=function(){return y.defaultAbiCoder.encode(["bytes","bytes[]"],[this.actions,this.params])},e}();function eo(e){return e.isNative?F:e.wrapped.address}function eu(e){return e.isNative?F:e.wrapped.address}var el=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,C(t,e);var r=t.prototype;return r.addMint=function(e,t,r,n,i,a,s,o){void 0===o&&(o="0x");var u=[z.getPoolKey(e.currency0,e.currency1,e.fee,e.tickSpacing,e.hooks),t,r,n.toString(),i.toString(),a.toString(),s,o];this.addAction(f.MINT_POSITION,u)},r.addIncrease=function(e,t,r,n,i){void 0===i&&(i="0x");var a=[e.toString(),t.toString(),r.toString(),n.toString(),i];this.addAction(f.INCREASE_LIQUIDITY,a)},r.addDecrease=function(e,t,r,n,i){void 0===i&&(i="0x");var a=[e.toString(),t.toString(),r.toString(),n.toString(),i];this.addAction(f.DECREASE_LIQUIDITY,a)},r.addBurn=function(e,t,r,n){void 0===n&&(n="0x");var i=[e.toString(),t.toString(),r.toString(),n];this.addAction(f.BURN_POSITION,i)},r.addSettlePair=function(e,t){var r=[eu(e),eu(t)];this.addAction(f.SETTLE_PAIR,r)},r.addTakePair=function(e,t,r){var n=[eu(e),eu(t),r];this.addAction(f.TAKE_PAIR,n)},r.addSweep=function(e,t){var r=[eu(e),t];this.addAction(f.SWEEP,r)},t}(es);function ec(e){var t=x.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}var ed=function(){function e(){}return e.parseCalldata=function(t){var r=w.ethers.utils.defaultAbiCoder.decode(["bytes","bytes[]"],t),n=r[0],i=r[1];return{actions:e.getActions(n).map(function(e,t){var r=ea[e],n=w.ethers.utils.defaultAbiCoder.decode(r.map(function(e){return e.type}),i[t]).map(function(e,t){var n,i,a,s,o,u,l,c,d,f,h,m,g,b,y,x,A,w,v,S,E,k,T,P,I,_,N,B,R,C;switch(r[t].subparser){case p.V4SwapExactInSingle:return{name:r[t].name,value:(i=(n=e)[0],a=n[1],s=n[2],o=n[3],u=n[4],{poolKey:{currency0:i[0],currency1:i[1],fee:i[2],tickSpacing:i[3],hooks:i[4]},zeroForOne:a,amountIn:s,amountOutMinimum:o,hookData:u})};case p.V4SwapExactIn:return{name:r[t].name,value:(c=(l=e)[0],d=l[1],f=l[2],h=l[3],m=l[4],{path:d.map(function(e){return ef(e)}),currencyIn:c,maxHopSlippage:f,amountIn:h,amountOutMinimum:m})};case p.V4SwapExactOutSingle:return{name:r[t].name,value:(b=(g=e)[0],y=g[1],x=g[2],A=g[3],w=g[4],{poolKey:{currency0:b.currency0,currency1:b.currency1,fee:b.fee,tickSpacing:b.tickSpacing,hooks:b.hooks},zeroForOne:y,amountOut:x,amountInMaximum:A,hookData:w})};case p.V4SwapExactOut:return{name:r[t].name,value:(S=(v=e)[0],E=v[1],k=v[2],T=v[3],P=v[4],{path:E.map(function(e){return ef(e)}),currencyOut:S,maxHopSlippage:k,amountOut:T,amountInMaximum:P})};case p.PoolKey:return{name:r[t].name,value:(_=(I=e)[0],N=I[1],B=I[2],R=I[3],C=I[4],{currency0:_,currency1:N,fee:parseInt(B),tickSpacing:parseInt(R),hooks:C})};default:return{name:r[t].name,value:e}}});return{actionName:f[e],actionType:e,params:n}})}},e.getActions=function(e){for(var t=[],r=2;r<e.length;r+=2){var n=e.substring(r,r+2);t.push(parseInt(n,16))}return t},e}();function ef(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4];return{intermediateCurrency:t,fee:parseInt(r),tickSpacing:parseInt(n),hooks:i,hookData:a}}var ep="0x0000000000000000000000000000000000000001",eh=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t)[0]},e}();eh.INTERFACE=new v.Interface(S.default.abi);var em=[{type:"constructor",inputs:[{name:"_poolManager",type:"address",internalType:"contract IPoolManager"},{name:"_permit2",type:"address",internalType:"contract IAllowanceTransfer"},{name:"_unsubscribeGasLimit",type:"uint256",internalType:"uint256"},{name:"_tokenDescriptor",type:"address",internalType:"contract IPositionDescriptor"},{name:"_weth9",type:"address",internalType:"contract IWETH9"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"WETH9",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IWETH9"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPoolAndPositionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"poolKey",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"getPositionLiquidity",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"liquidity",type:"uint128",internalType:"uint128"}],stateMutability:"view"},{type:"function",name:"initializePool",inputs:[{name:"key",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"sqrtPriceX96",type:"uint160",internalType:"uint160"}],outputs:[{name:"",type:"int24",internalType:"int24"}],stateMutability:"payable"},{type:"function",name:"isApprovedForAll",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"modifyLiquidities",inputs:[{name:"unlockData",type:"bytes",internalType:"bytes"},{name:"deadline",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"modifyLiquiditiesWithoutUnlock",inputs:[{name:"actions",type:"bytes",internalType:"bytes"},{name:"params",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"msgSender",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"nextTokenId",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"nonces",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"word",type:"uint256",internalType:"uint256"}],outputs:[{name:"bitmap",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"permit",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"permit",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"permitSingle",type:"tuple",internalType:"struct IAllowanceTransfer.PermitSingle",components:[{name:"details",type:"tuple",internalType:"struct IAllowanceTransfer.PermitDetails",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permit2",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IAllowanceTransfer"}],stateMutability:"view"},{type:"function",name:"permitBatch",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"_permitBatch",type:"tuple",internalType:"struct IAllowanceTransfer.PermitBatch",components:[{name:"details",type:"tuple[]",internalType:"struct IAllowanceTransfer.PermitDetails[]",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permitForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"poolKeys",inputs:[{name:"poolId",type:"bytes25",internalType:"bytes25"}],outputs:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}],stateMutability:"view"},{type:"function",name:"poolManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPoolManager"}],stateMutability:"view"},{type:"function",name:"positionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"revokeNonce",inputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"subscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"newSubscriber",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"subscriber",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"subscriber",type:"address",internalType:"contract ISubscriber"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenDescriptor",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPositionDescriptor"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockCallback",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes",internalType:"bytes"}],stateMutability:"nonpayable"},{type:"function",name:"unsubscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"unsubscribeGasLimit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Subscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unsubscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadySubscribed",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"subscriber",type:"address",internalType:"address"}]},{type:"error",name:"BurnNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ContractLocked",inputs:[]},{type:"error",name:"DeadlinePassed",inputs:[{name:"deadline",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeltaNotNegative",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"DeltaNotPositive",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"GasLimitTooLow",inputs:[]},{type:"error",name:"InputLengthMismatch",inputs:[]},{type:"error",name:"InsufficientBalance",inputs:[]},{type:"error",name:"InvalidContractSignature",inputs:[]},{type:"error",name:"InvalidEthSender",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidSignatureLength",inputs:[]},{type:"error",name:"InvalidSigner",inputs:[]},{type:"error",name:"MaximumAmountExceeded",inputs:[{name:"maximumAmount",type:"uint128",internalType:"uint128"},{name:"amountRequested",type:"uint128",internalType:"uint128"}]},{type:"error",name:"MinimumAmountInsufficient",inputs:[{name:"minimumAmount",type:"uint128",internalType:"uint128"},{name:"amountReceived",type:"uint128",internalType:"uint128"}]},{type:"error",name:"ModifyLiquidityNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"NoCodeSubscriber",inputs:[]},{type:"error",name:"NoSelfPermit",inputs:[]},{type:"error",name:"NonceAlreadyUsed",inputs:[]},{type:"error",name:"NotApproved",inputs:[{name:"caller",type:"address",internalType:"address"}]},{type:"error",name:"NotPoolManager",inputs:[]},{type:"error",name:"NotSubscribed",inputs:[]},{type:"error",name:"PoolManagerMustBeLocked",inputs:[]},{type:"error",name:"SignatureDeadlineExpired",inputs:[]},{type:"error",name:"SubscriptionReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"TransferNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"Unauthorized",inputs:[]},{type:"error",name:"UnsupportedAction",inputs:[{name:"action",type:"uint256",internalType:"uint256"}]}],eg={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};function eb(e){return Object.keys(e).some(function(e){return"recipient"===e})}var ey=function(){function e(){}return e.createCallParameters=function(e,t){return{calldata:this.encodeInitializePool(e,t),value:ec(0)}},e.addCallParameters=function(t,r){x.default.greaterThan(t.liquidity,L)||(0,h.default)(!1);var n=[],i=new el;eb(r)&&r.createPool&&(void 0===r.sqrtPriceX96&&(0,h.default)(!1),1)&&n.push(e.encodeInitializePool(t.pool.poolKey,r.sqrtPriceX96)),t.pool.currency0!==r.useNative&&(t.pool.currency0.isNative||void 0!==r.useNative)&&(0,h.default)(!1);var a=t.mintAmountsWithSlippage(r.slippageTolerance),s=ec(a.amount0),o=ec(a.amount1);if(r.batchPermit&&n.push(e.encodePermitBatch(r.batchPermit.owner,r.batchPermit.permitBatch,r.batchPermit.signature)),eb(r)){var u=(0,g.validateAndParseAddress)(r.recipient);i.addMint(t.pool,t.tickLower,t.tickUpper,t.liquidity,s,o,u,r.hookData)}else i.addIncrease(r.tokenId,t.liquidity,s,o,r.hookData);var l=ec(0);return eb(r)&&r.migrate?(r.useNative?(i.addUnwrap(V),i.addSettle(t.pool.currency0,!1),i.addSettle(t.pool.currency1,!1),i.addSweep(t.pool.currency0.wrapped,r.recipient)):(i.addSettle(t.pool.currency0,!1),i.addSettle(t.pool.currency1,!1),i.addSweep(t.pool.currency0,r.recipient)),i.addSweep(t.pool.currency1,r.recipient)):(i.addSettlePair(t.pool.currency0,t.pool.currency1),r.useNative&&(l=ec(s),i.addSweep(t.pool.currency0,ep))),n.push(e.encodeModifyLiquidities(i.finalize(),r.deadline)),{calldata:eh.encodeMulticall(n),value:l}},e.removeCallParameters=function(t,r){var n=[],i=new el,a=ec(r.tokenId);if(r.burnToken){r.liquidityPercentage.equalTo(K)||(0,h.default)(!1),r.permit&&n.push(e.encodeERC721Permit(r.permit.spender,r.permit.tokenId,r.permit.deadline,r.permit.nonce,r.permit.signature));var s=t.burnAmountsWithSlippage(r.slippageTolerance),o=s.amount0,u=s.amount1;i.addBurn(a,o,u,r.hookData)}else{var l,c=new $({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});x.default.greaterThan(c.liquidity,L)||(0,h.default)(!1);var d=c.burnAmountsWithSlippage(r.slippageTolerance),f=d.amount0,p=d.amount1;i.addDecrease(a,c.liquidity.toString(),f.toString(),p.toString(),null!=(l=r.hookData)?l:"0x")}return i.addTakePair(t.pool.currency0,t.pool.currency1,ep),n.push(e.encodeModifyLiquidities(i.finalize(),r.deadline)),{calldata:eh.encodeMulticall(n),value:ec(0)}},e.collectCallParameters=function(t,r){var n=[],i=new el,a=ec(r.tokenId),s=(0,g.validateAndParseAddress)(r.recipient);return i.addDecrease(a,"0","0","0",r.hookData),i.addTakePair(t.pool.currency0,t.pool.currency1,s),n.push(e.encodeModifyLiquidities(i.finalize(),r.deadline)),{calldata:eh.encodeMulticall(n),value:ec(0)}},e.encodeInitializePool=function(t,r){return e.INTERFACE.encodeFunctionData(l.INITIALIZE_POOL,[t,r.toString()])},e.encodeModifyLiquidities=function(t,r){return e.INTERFACE.encodeFunctionData(l.MODIFY_LIQUIDITIES,[t,r])},e.encodePermitBatch=function(t,r,n){return e.INTERFACE.encodeFunctionData(l.PERMIT_BATCH,[t,r,n])},e.encodeERC721Permit=function(t,r,n,i,a){return e.INTERFACE.encodeFunctionData(l.ERC721PERMIT_PERMIT,[t,r,n,i,a])},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V4 Positions NFT",chainId:r,verifyingContract:t},types:eg,values:e}},e}();ey.INTERFACE=new v.Interface(em),e.s(["Actions",()=>f,"DYNAMIC_FEE_FLAG",()=>8388608,"Hook",()=>U,"HookOptions",()=>o,"Pool",()=>z,"Position",()=>$,"Route",()=>Q,"Subparser",()=>p,"Trade",()=>J,"V4BaseActionsParser",()=>ed,"V4Planner",()=>es,"V4PositionManager",()=>ey,"V4PositionPlanner",()=>el,"V4_BASE_ACTIONS_ABI_DEFINITION",()=>ea,"amountWithPathCurrency",()=>j,"encodeRouteToPath",()=>ee,"getPathCurrency",()=>H,"hookFlagIndex",()=>D,"priceToClosestTick",()=>Z,"sortsBefore",()=>O,"tickToPrice",()=>Y,"toAddress",()=>eu,"toHex",()=>ec,"tradeComparator",()=>X])},700334,e=>{"use strict";var t=e.i(702503),r=e.i(477912),n=e.i(47771),i=e.i(839341),a=e.i(575111),s=e.i(40992),o=t.V2_FACTORY_ADDRESSES,u="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",l=r.default.BigInt(1e3),c=r.default.BigInt(0),d=r.default.BigInt(1),f=r.default.BigInt(5),p=r.default.BigInt(997),h=r.default.BigInt(1e3),m=r.default.BigInt(1e4),g=new t.Percent(c),b=new t.Percent(d);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n.key),n)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t="function"==typeof Map?new Map:void 0;return(T=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(E())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&k(i,r.prototype),i}(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)})(e)}var P="setPrototypeOf"in Object,I=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientReservesError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(T(Error)),_=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientInputAmountError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(T(Error)),N=function(e){var t=e.factoryAddress,r=e.tokenA,i=e.tokenB,s=r.sortsBefore(i)?[r,i]:[i,r],o=s[0],l=s[1];return(0,n.getCreate2Address)(t,(0,a.keccak256)(["bytes"],[(0,a.pack)(["address","address"],[o.address,l.address])]),u)},B=function(){function e(r,n){var i=r.currency.sortsBefore(n.currency)?[r,n]:[n,r];this.liquidityToken=new t.Token(i[0].currency.chainId,e.getAddress(i[0].currency,i[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=i}e.getAddress=function(e,t){var r;return N({factoryAddress:null!=(r=o[e.chainId])?r:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",tokenA:e,tokenB:t})};var n=e.prototype;return n.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},n.priceOf=function(e){return this.involvesToken(e)||(0,s.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},n.reserveOf=function(e){return this.involvesToken(e)||(0,s.default)(!1),e.equals(this.token0)?this.reserve0:this.reserve1},n.getOutputAmount=function(n,i){if(void 0===i&&(i=!0),this.involvesToken(n.currency)||(0,s.default)(!1),r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c))throw new I;var a=this.reserveOf(n.currency),o=this.reserveOf(n.currency.equals(this.token0)?this.token1:this.token0),u=i?this.derivePercentAfterSellFees(n):g,l=u.greaterThan(g)?t.CurrencyAmount.fromRawAmount(n.currency,u.multiply(n).quotient):n,d=r.default.multiply(l.quotient,p),f=r.default.multiply(d,o.quotient),m=r.default.add(r.default.multiply(a.quotient,h),d),b=t.CurrencyAmount.fromRawAmount(n.currency.equals(this.token0)?this.token1:this.token0,r.default.divide(f,m));if(r.default.equal(b.quotient,c))throw new _;var y=i?this.derivePercentAfterBuyFees(b):g,x=y.greaterThan(g)?t.CurrencyAmount.fromRawAmount(b.currency,b.multiply(y).quotient):b;if(r.default.equal(x.quotient,c))throw new _;return[x,new e(a.add(l),o.subtract(x))]},n.getInputAmount=function(n,i){void 0===i&&(i=!0),this.involvesToken(n.currency)||(0,s.default)(!1);var a=i?this.derivePercentAfterBuyFees(n):g,o=a.greaterThan(g)?t.CurrencyAmount.fromRawAmount(n.currency,r.default.add(n.divide(a).quotient,d)):n;if(r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c)||r.default.greaterThanOrEqual(n.quotient,this.reserveOf(n.currency).quotient)||r.default.greaterThanOrEqual(o.quotient,this.reserveOf(n.currency).quotient))throw new I;var u=this.reserveOf(n.currency),l=this.reserveOf(n.currency.equals(this.token0)?this.token1:this.token0),f=r.default.multiply(r.default.multiply(l.quotient,o.quotient),h),m=r.default.multiply(r.default.subtract(u.quotient,o.quotient),p),b=t.CurrencyAmount.fromRawAmount(n.currency.equals(this.token0)?this.token1:this.token0,r.default.add(r.default.divide(f,m),d)),y=i?this.derivePercentAfterSellFees(b):g;return[y.greaterThan(g)?t.CurrencyAmount.fromRawAmount(b.currency,r.default.add(b.divide(y).quotient,d)):b,new e(l.add(b),u.subtract(n))]},n.getLiquidityMinted=function(e,n,i){e.currency.equals(this.liquidityToken)||(0,s.default)(!1);var a,o=n.currency.sortsBefore(i.currency)?[n,i]:[i,n];if(o[0].currency.equals(this.token0)&&o[1].currency.equals(this.token1)||(0,s.default)(!1),r.default.equal(e.quotient,c))a=r.default.subtract((0,t.sqrt)(r.default.multiply(o[0].quotient,o[1].quotient)),l);else{var u=r.default.divide(r.default.multiply(o[0].quotient,e.quotient),this.reserve0.quotient),d=r.default.divide(r.default.multiply(o[1].quotient,e.quotient),this.reserve1.quotient);a=r.default.lessThanOrEqual(u,d)?u:d}if(!r.default.greaterThan(a,c))throw new _;return t.CurrencyAmount.fromRawAmount(this.liquidityToken,a)},n.getLiquidityValue=function(e,n,i,a,o){if(void 0===a&&(a=!1),this.involvesToken(e)||(0,s.default)(!1),n.currency.equals(this.liquidityToken)||(0,s.default)(!1),i.currency.equals(this.liquidityToken)||(0,s.default)(!1),r.default.lessThanOrEqual(i.quotient,n.quotient)||(0,s.default)(!1),a){o||(0,s.default)(!1);var u,l=r.default.BigInt(o);if(r.default.equal(l,c))u=n;else{var d=(0,t.sqrt)(r.default.multiply(this.reserve0.quotient,this.reserve1.quotient)),p=(0,t.sqrt)(l);if(r.default.greaterThan(d,p)){var h=r.default.multiply(n.quotient,r.default.subtract(d,p)),m=r.default.add(r.default.multiply(d,f),p),g=r.default.divide(h,m);u=n.add(t.CurrencyAmount.fromRawAmount(this.liquidityToken,g))}else u=n}}else u=n;return t.CurrencyAmount.fromRawAmount(e,r.default.divide(r.default.multiply(i.quotient,this.reserveOf(e).quotient),u.quotient))},n.derivePercentAfterSellFees=function(e){var n=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.sellFeeBps:this.token1.wrapped.sellFeeBps;return null!=n&&n.gt(i.BigNumber.from(0))?b.subtract(new t.Percent(r.default.BigInt(n)).divide(m)):g},n.derivePercentAfterBuyFees=function(e){var n=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.buyFeeBps:this.token1.wrapped.buyFeeBps;return null!=n&&n.gt(i.BigNumber.from(0))?b.subtract(new t.Percent(r.default.BigInt(n)).divide(m)):g},A(e,[{key:"token0Price",get:function(){var e=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new t.Price(this.token0,this.token1,e.denominator,e.numerator)}},{key:"token1Price",get:function(){var e=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new t.Price(this.token1,this.token0,e.denominator,e.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}])}(),R=A(function(e,t,r){this._midPrice=null,e.length>0||(0,s.default)(!1);var n=e[0].chainId;e.every(function(e){return e.chainId===n})||(0,s.default)(!1);var i=t.wrapped;e[0].involvesToken(i)||(0,s.default)(!1),void 0===r||e[e.length-1].involvesToken(r.wrapped)||(0,s.default)(!1);for(var a,o=[i],u=w(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=o[c];f.equals(d.token0)||f.equals(d.token1)||(0,s.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;o.push(p)}this.pairs=e,this.path=o,this.input=t,this.output=r},[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;for(var e,r=[],n=w(this.pairs.entries());!(e=n()).done;){var i=e.value,a=i[0],s=i[1];r.push(this.path[a].equals(s.token0)?new t.Price(s.reserve0.currency,s.reserve1.currency,s.reserve0.quotient,s.reserve1.quotient):new t.Price(s.reserve1.currency,s.reserve0.currency,s.reserve1.quotient,s.reserve0.quotient))}var o=r.slice(1).reduce(function(e,t){return e.multiply(t)},r[0]);return this._midPrice=new t.Price(this.input,this.output,o.denominator,o.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]);function C(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,s.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,s.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function O(e,t){var r=C(e,t);return 0!==r?r:e.priceImpact.lessThan(t.priceImpact)?-1:e.priceImpact.greaterThan(t.priceImpact)?1:e.route.path.length-t.route.path.length}var D=function(){function e(e,r,n){this.route=e,this.tradeType=n;var i=Array(e.path.length);if(n===t.TradeType.EXACT_INPUT){r.currency.equals(e.input)||(0,s.default)(!1),i[0]=r.wrapped;for(var a=0;a<e.path.length-1;a++){var o=e.pairs[a].getOutputAmount(i[a])[0];i[a+1]=o}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,r.numerator,r.denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,i[i.length-1].numerator,i[i.length-1].denominator)}else{r.currency.equals(e.output)||(0,s.default)(!1),i[i.length-1]=r.wrapped;for(var u=e.path.length-1;u>0;u--){var l=e.pairs[u-1].getInputAmount(i[u])[0];i[u-1]=l}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,i[0].numerator,i[0].denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,r.numerator,r.denominator)}this.executionPrice=new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=(0,t.computePriceImpact)(e.midPrice,this.inputAmount,this.outputAmount)}e.exactIn=function(r,n){return new e(r,n,t.TradeType.EXACT_INPUT)},e.exactOut=function(r,n){return new e(r,n,t.TradeType.EXACT_OUTPUT)};var r=e.prototype;return r.minimumAmountOut=function(e){if(e.lessThan(c)&&(0,s.default)(!1),this.tradeType===t.TradeType.EXACT_OUTPUT)return this.outputAmount;var r=new t.Fraction(d).add(e).invert().multiply(this.outputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.outputAmount.currency,r)},r.maximumAmountIn=function(e){if(e.lessThan(c)&&(0,s.default)(!1),this.tradeType===t.TradeType.EXACT_INPUT)return this.inputAmount;var r=new t.Fraction(d).add(e).multiply(this.inputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.inputAmount.currency,r)},e.bestTradeExactIn=function(r,n,i,a,o,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===o&&(o=[]),void 0===u&&(u=n),void 0===l&&(l=[]),r.length>0||(0,s.default)(!1),m>0||(0,s.default)(!1),n===u||o.length>0||(0,s.default)(!1);for(var g=u.wrapped,b=i.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(g.currency)||x.token1.equals(g.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getOutputAmount(g)[0]}catch(e){if(e.isInsufficientInputAmountError)continue;throw e}if(A.currency.equals(b))(0,t.sortedInsert)(l,new e(new R([].concat(o,[x]),n.currency,i),n,t.TradeType.EXACT_INPUT),p,O);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactIn(w,n,i,{maxNumResults:p,maxHops:m-1},[].concat(o,[x]),A,l)}}}return l},r.worstExecutionPrice=function(e){return new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactOut=function(r,n,i,a,o,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===o&&(o=[]),void 0===u&&(u=i),void 0===l&&(l=[]),r.length>0||(0,s.default)(!1),m>0||(0,s.default)(!1),i===u||o.length>0||(0,s.default)(!1);for(var g=u.wrapped,b=n.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(g.currency)||x.token1.equals(g.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getInputAmount(g)[0]}catch(e){if(e.isInsufficientReservesError)continue;throw e}if(A.currency.equals(b))(0,t.sortedInsert)(l,new e(new R([x].concat(o),n,i.currency),i,t.TradeType.EXACT_OUTPUT),p,O);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactOut(w,n,i,{maxNumResults:p,maxHops:m-1},[x].concat(o),A,l)}}}return l},e}();function U(e){return"0x"+e.quotient.toString(16)}var F=function(){function e(){}return e.swapCallParameters=function(e,r){var n,i,a,o=e.inputAmount.currency.isNative,u=e.outputAmount.currency.isNative;o&&u&&(0,s.default)(!1),"ttl"in r&&!(r.ttl>0)&&(0,s.default)(!1);var l=(0,t.validateAndParseAddress)(r.recipient),c=U(e.maximumAmountIn(r.allowedSlippage)),d=U(e.minimumAmountOut(r.allowedSlippage)),f=e.route.path.map(function(e){return e.address}),p="ttl"in r?"0x"+(Math.floor(new Date().getTime()/1e3)+r.ttl).toString(16):"0x"+r.deadline.toString(16),h=!!r.feeOnTransfer;switch(e.tradeType){case t.TradeType.EXACT_INPUT:o?(n=h?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",i=[d,f,l,p],a=c):(n=u?h?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH":h?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",i=[c,d,f,l,p],a="0x0");break;case t.TradeType.EXACT_OUTPUT:h&&(0,s.default)(!1),o?(n="swapETHForExactTokens",i=[d,f,l,p],a=c):(n=u?"swapTokensForExactETH":"swapTokensForExactTokens",i=[d,c,f,l,p],a="0x0")}return{methodName:n,args:i,value:a}},e}();e.s(["FACTORY_ADDRESS_MAP",()=>o,"INIT_CODE_HASH",()=>u,"InsufficientInputAmountError",()=>_,"InsufficientReservesError",()=>I,"MINIMUM_LIQUIDITY",()=>l,"Pair",()=>B,"Route",()=>R,"Router",()=>F,"Trade",()=>D,"computePairAddress",()=>N,"inputOutputComparator",()=>C,"tradeComparator",()=>O])},177483,(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var i,a=e.r(702503),s=n(e.r(477912)),o=e.r(811874),u=n(e.r(699247)),l=n(e.r(602572)),c=e.r(376036),d=n(e.r(113572)),f=n(e.r(368137)),p=n(e.r(616451)),h=e.r(700334),m=e.r(863062),g=e.r(575111),b="0x0000000000000000000000000000000000000000",y="0x0000000000000000000000000000000000000001",x="0x0000000000000000000000000000000000000002",A=s.BigInt(0),w=s.BigInt(1),v=new a.Percent(A),S=new a.Percent(100,100);function E(e){return Object.keys(e).some(function(e){return"recipient"===e})}(i=r.ApprovalTypes||(r.ApprovalTypes={}))[i.NOT_REQUIRED=0]="NOT_REQUIRED",i[i.MAX=1]="MAX",i[i.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",i[i.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",i[i.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var k=function(){function e(){}return e.encodeApproveMax=function(t){return e.INTERFACE.encodeFunctionData("approveMax",[t.address])},e.encodeApproveMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveMaxMinusOne",[t.address])},e.encodeApproveZeroThenMax=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMax",[t.address])},e.encodeApproveZeroThenMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[t.address])},e.encodeCallPositionManager=function(t){if(t.length>0||u(!1),1===t.length)return e.INTERFACE.encodeFunctionData("callPositionManager",t);var r=c.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[t]);return e.INTERFACE.encodeFunctionData("callPositionManager",[r])},e.encodeAddLiquidity=function(t,r,n,i){var a=t.mintAmountsWithSlippage(i),o=a.amount0,u=a.amount1;return s.lessThan(r.amount0.quotient,o)&&(o=r.amount0.quotient),s.lessThan(r.amount1.quotient,u)&&(u=r.amount1.quotient),E(n)?e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Min:c.toHex(o),amount1Min:c.toHex(u),recipient:n.recipient}]):e.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:t.pool.token0.address,token1:t.pool.token1.address,amount0Min:c.toHex(o),amount1Min:c.toHex(u),tokenId:c.toHex(n.tokenId)}])},e.encodeApprove=function(t,n){switch(n){case r.ApprovalTypes.MAX:return e.encodeApproveMax(t.wrapped);case r.ApprovalTypes.MAX_MINUS_ONE:return e.encodeApproveMaxMinusOne(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX:return e.encodeApproveZeroThenMax(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return e.encodeApproveZeroThenMaxMinusOne(t.wrapped);default:throw Error("Error: invalid ApprovalType")}},e}();k.INTERFACE=new o.Interface(l.abi);var T=function(){function e(){}return e.encodeMulticall=function(t,r){if(void 0===r)return c.Multicall.encodeMulticall(t);if(Array.isArray(t)||(t=[t]),"string"==typeof r&&r.startsWith("0x")){var n=function(e){if(!e.match(/^0x[0-9a-fA-F]{64}$/))throw Error(e+" is not valid bytes32.");return e.toLowerCase()}(r);return e.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[n,t])}var i=c.toHex(r);return e.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[i,t])},e}();function P(e){return c.toHex(e.multiply(1e4).quotient)}T.INTERFACE=new o.Interface(d.abi);var I=function(){function e(){}return e.encodeUnwrapWETH9=function(t,r,n){if("string"==typeof r)return c.Payments.encodeUnwrapWETH9(t,r,n);if(n){var i=P(n.fee),s=a.validateAndParseAddress(n.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[c.toHex(t),i,s])}return e.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[c.toHex(t)])},e.encodeSweepToken=function(t,r,n,i){if("string"==typeof n)return c.Payments.encodeSweepToken(t,r,n,i);if(i){var s=P(i.fee),o=a.validateAndParseAddress(i.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[t.address,c.toHex(r),s,o])}return e.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[t.address,c.toHex(r)])},e.encodePull=function(t,r){return e.INTERFACE.encodeFunctionData("pull",[t.address,c.toHex(r)])},e.encodeWrapETH=function(t){return e.INTERFACE.encodeFunctionData("wrapETH",[c.toHex(t)])},e}();function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t,r,n,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,i)}function B(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){N(a,n,i,s,o,"next",e)}function o(e){N(a,n,i,s,o,"throw",e)}s(void 0)})}}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n.key),n)}}function C(e,t,r){return t&&R(e.prototype,t),r&&R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(){return(D=Object.assign.bind()).apply(null,arguments)}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var u=Object.create((n&&n.prototype instanceof o?n:o).prototype);return M(u,"_invoke",function(r,n,i){var a,o,u,l=0,c=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,o=0,u=e,f.n=r,s}};function p(r,n){for(o=r,u=n,t=0;!d&&l&&!i&&t<c.length;t++){var i,a=c[t],p=f.p,h=a[2];r>3?(i=h===n)&&(u=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=r<2&&p<a[1])?(o=0,f.v=n,f.n=a[1]):p<h&&(i=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,f.n=h,o=0))}if(i||r>1)return s;throw d=!0,n}return function(i,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),o=c,u=h;(t=o<2?e:u)||!d;){a||(o?o<3?(o>1&&(f.n=-1),p(o,u)):f.n=u:f.v=u);try{if(l=2,a){if(o||(i="next"),t=a[i]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((t=(d=f.n<0)?u:r.call(n,f))!==s)break}catch(t){a=e,o=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,i,a),!0),u}var s={};function o(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=o.prototype=Object.create([][n]?t(t([][n]())):(M(t={},n,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,i,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,M(c,"constructor",l),M(l,"constructor",u),u.displayName="GeneratorFunction",M(l,i,"GeneratorFunction"),M(c),M(c,i,"Generator"),M(c,n,function(){return this}),M(c,"toString",function(){return"[object Generator]"}),(F=function(){return{w:a,m:d}})()}function M(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(M=function(e,t,r,n){function a(t,r){M(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function L(e,t){return a.CurrencyAmount.fromFractionalAmount(K(e.currency,t),e.numerator,e.denominator)}function K(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(!(t instanceof m.Pool))throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol);return t.token0.wrapped.equals(e)?t.token0:t.token1.wrapped.equals(e)?t.token1:e}I.INTERFACE=new o.Interface(f.abi);var q=C(function(e,t,r,n){void 0===n&&(n=!1),this._midPrice=null,(e=n?e:e.filter(function(e){return!(e instanceof m.Pool&&0===e.tickSpacing)})).length>0||u(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||u(!1),this.pathInput=K(t,e[0]),this.pathOutput=K(r,e[e.length-1]),e[0]instanceof m.Pool?e[0].v4InvolvesToken(this.pathInput)||u(!1):e[0].involvesToken(this.pathInput)||u(!1);var a=e[e.length-1];a instanceof m.Pool?a.v4InvolvesToken(r)||a.v4InvolvesToken(r.wrapped)||u(!1):a.involvesToken(r.wrapped)||u(!1);var s=[this.pathInput];e[0].token0.equals(this.pathInput)?s.push(e[0].token1):s.push(e[0].token0);for(var o=1;o<e.length;o++){var l=e[o],c=s[o],d=void 0;if(l instanceof m.Pool&&!l.involvesToken(c)||!(l instanceof m.Pool)&&c.isNative)if(c.equals(l.token0.wrapped))d=l.token1;else{if(!c.wrapped.equals(l.token0)&&!c.wrapped.equals(l.token1))throw Error("POOL_MISMATCH pool: "+JSON.stringify(l)+" inputToken: "+JSON.stringify(c));d=c.wrapped.equals(l.token0)?l.token1:l.token0}else c.equals(l.token0)||c.equals(l.token1)||u(!1),d=c.equals(l.token0)?l.token1:l.token0;s.push(d)}this.pools=e,this.path=s,this.input=t,this.output=null!=r?r:s[s.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:r.multiply(t.token0Price.asFraction)}:{nextInput:t.token0,price:r.multiply(t.token1Price.asFraction)}},this.pools[0].token0.equals(this.pathInput)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price.asFraction}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price.asFraction}).price;return this._midPrice=new a.Price(this.input,this.output,e.denominator,e.numerator)}}]);function W(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||u(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||u(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.path.length},0)-t.swaps.reduce(function(e,t){return e+t.route.path.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var V,G=function(){function e(e){var t=e.routes,r=e.tradeType,n=t[0].inputAmount.currency,i=t[0].outputAmount.currency;t.every(function(e){return n.wrapped.equals(e.route.input.wrapped)})||u(!1),t.every(function(e){return i.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var s,o=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),l=new Set,d=O(t);!(s=d()).done;)for(var f,p=O(s.value.route.pools);!(f=p()).done;){var g=f.value;if(g instanceof m.Pool)l.add(g.poolId);else if(g instanceof c.Pool)l.add(c.Pool.getAddress(g.token0,g.token1,g.fee));else{if(!(g instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");l.add(h.Pair.getAddress(g.token0,g.token1))}}o!==l.size&&u(!1),r!==a.TradeType.EXACT_INPUT&&u(!1),this.swaps=t,this.tradeType=r}t=B(F().m(function t(r,n,i){var s,o,l,c,d;return F().w(function(t){for(;;)switch(t.n){case 0:s=Array(r.path.length),i!==a.TradeType.EXACT_INPUT&&u(!1),n.currency.equals(r.input)||u(!1),s[0]=L(n,r.pools[0]),c=0;case 1:if(!(c<r.path.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(L(s[c],d));case 2:s[c+1]=t.v[0];case 3:c++,t.n=1;break;case 4:return o=a.CurrencyAmount.fromFractionalAmount(r.input,n.numerator,n.denominator),l=a.CurrencyAmount.fromFractionalAmount(r.output,s[s.length-1].numerator,s[s.length-1].denominator),t.a(2,new e({routes:[{inputAmount:o,outputAmount:l,route:r}],tradeType:i}))}},t)})),e.fromRoute=function(e,r,n){return t.apply(this,arguments)},r=B(F().m(function t(r,n){var i,s,o,l,c,d,f,p,h,m,g;return F().w(function(t){for(;;)switch(t.n){case 0:i=[],n!==a.TradeType.EXACT_INPUT&&u(!1),s=O(r);case 1:if((o=s()).done){t.n=7;break}c=(l=o.value).route,d=l.amount,f=Array(c.path.length),p=void 0,h=void 0,d.currency.equals(c.input)||u(!1),p=a.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=a.CurrencyAmount.fromFractionalAmount(c.pathInput,d.numerator,d.denominator),m=0;case 2:if(!(m<c.path.length-1)){t.n=5;break}return g=c.pools[m],t.n=3,g.getOutputAmount(L(f[m],g));case 3:f[m+1]=t.v[0];case 4:m++,t.n=2;break;case 5:h=a.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),i.push({route:c,inputAmount:p,outputAmount:h});case 6:t.n=1;break;case 7:return t.a(2,new e({routes:i,tradeType:n}))}},t)})),e.fromRoutes=function(e,t){return r.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(D({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,n,i=e.prototype;return i.minimumAmountOut=function(e,t){void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1);var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},i.maximumAmountIn=function(e,t){return void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),t},i.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},n=B(F().m(function t(r,n,i,s,o,l,c){var d,f,p,g,b,y,x,w,v,S,E,k,T,P,I;return F().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,b=void 0===(g=d.maxHops)?3:g,void 0===o&&(o=[]),void 0===l&&(l=n),void 0===c&&(c=[]),r.length>0||u(!1),b>0||u(!1),n===l||o.length>0||u(!1),y=l,x=0;case 1:if(!(x<r.length)){t.n=15;break}if((w=r[x]).token0.equals((v=w instanceof m.Pool?y:y.wrapped).currency)||w.token1.equals(v.currency)){t.n=2;break}return t.a(3,14);case 2:if(!(w instanceof h.Pair)||!w.reserve0.equalTo(A)&&!w.reserve1.equalTo(A)){t.n=3;break}return t.a(3,14);case 3:if(S=void 0,t.p=4,!(w instanceof m.Pool)){t.n=6;break}return t.n=5,w.getOutputAmount(v);case 5:k=t.v,t.n=8;break;case 6:return t.n=7,w.getOutputAmount(v.wrapped);case 7:k=t.v;case 8:S=k[0],t.n=11;break;case 9:if(t.p=9,!(T=t.v).isInsufficientInputAmountError){t.n=10;break}return t.a(3,14);case 10:throw T;case 11:if(!S.currency.wrapped.equals(i.wrapped)){t.n=13;break}return P=a.sortedInsert,I=c,t.n=12,e.fromRoute(new q([].concat(o,[w]),n.currency,i),n,a.TradeType.EXACT_INPUT);case 12:P(I,t.v,p,W),t.n=14;break;case 13:if(!(b>1&&r.length>1)){t.n=14;break}return E=r.slice(0,x).concat(r.slice(x+1,r.length)),t.n=14,e.bestTradeExactIn(E,n,i,{maxNumResults:p,maxHops:b-1},[].concat(o,[w]),S,c);case 14:x++,t.n=1;break;case 15:return t.a(2,c)}},t,null,[[4,9]])})),e.bestTradeExactIn=function(e,t,r,i,a,s,o){return n.apply(this,arguments)},C(e,[{key:"route",get:function(){return 1!==this.swaps.length&&u(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=O(this.swaps);!(e=r()).done;){var n=e.value;t=t.add(n.route.midPrice.quote(n.inputAmount))}var i=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new a.Percent(i.numerator,i.denominator),this._priceImpact}}])}();function z(e,t){if(t.token0.wrapped.equals(e.wrapped))return t.token0;if(t.token1.wrapped.equals(e.wrapped))return t.token1;throw Error("Expected token "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(V=r.Protocol||(r.Protocol={})).V2="V2",V.V3="V3",V.V4="V4",V.MIXED="MIXED";var j=function(e){function t(t){var n;return(n=e.call(this,t.pairs,t.input,t.output)||this).protocol=r.Protocol.V2,n.pools=n.pairs,n.pathInput=z(t.input,n.pairs[0]),n.pathOutput=z(t.output,n.pairs[n.pairs.length-1]),n}return U(t,e),t}(h.Route),H=function(e){function t(t){var n;return(n=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V3,n.path=t.tokenPath,n.pathInput=z(t.input,n.pools[0]),n.pathOutput=z(t.output,n.pools[n.pools.length-1]),n}return U(t,e),t}(c.Route),Q=function(e){function t(t){var n;return(n=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V4,n.path=t.currencyPath,n}return U(t,e),t}(m.Route),X=function(e){function t(t){var n;return(n=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.MIXED,n}return U(t,e),t}(q),J=function(){function e(e){var t=e.v2Routes,r=e.v3Routes,n=e.v4Routes,i=e.mixedRoutes,a=e.tradeType;this.swaps=[],this.routes=[];for(var s,o=O(void 0===t?[]:t);!(s=o()).done;){var l=s.value,d=l.inputAmount,f=l.outputAmount,p=new j(l.routev2);this.routes.push(p),this.swaps.push({route:p,inputAmount:d,outputAmount:f})}for(var g,b=O(void 0===r?[]:r);!(g=b()).done;){var y=g.value,x=y.inputAmount,A=y.outputAmount,w=new H(y.routev3);this.routes.push(w),this.swaps.push({route:w,inputAmount:x,outputAmount:A})}for(var v,S=O(void 0===n?[]:n);!(v=S()).done;){var E=v.value,k=E.inputAmount,T=E.outputAmount,P=new Q(E.routev4);this.routes.push(P),this.swaps.push({route:P,inputAmount:k,outputAmount:T})}for(var I,_=O(void 0===i?[]:i);!(I=_()).done;){var N=I.value,B=N.inputAmount,R=N.outputAmount,C=new X(N.mixedRoute);this.routes.push(C),this.swaps.push({route:C,inputAmount:B,outputAmount:R})}if(0===this.swaps.length)throw Error("No routes provided when calling Trade constructor");this.tradeType=a;var D=this.swaps[0].inputAmount.currency,U=this.swaps[0].outputAmount.currency;this.swaps.every(function(e){return D.wrapped.equals(e.route.input.wrapped)})||u(!1),this.swaps.every(function(e){return U.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var F,M=this.swaps.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),L=new Set,K=O(this.swaps);!(F=K()).done;)for(var q,W=O(F.value.route.pools);!(q=W()).done;){var V=q.value;if(V instanceof m.Pool)L.add(V.poolId);else if(V instanceof c.Pool)L.add(c.Pool.getAddress(V.token0,V.token1,V.fee));else{if(!(V instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");L.add(h.Pair.getAddress(V.token0,V.token1))}}M!==L.size&&u(!1)}var t,r,n=e.prototype;return n.isWrappedNative=function(e){return e.equals(a.Ether.onChain(e.chainId).wrapped)},n.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_OUTPUT)return t;var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},n.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_INPUT)return t;var r=new a.Fraction(w).add(e).multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},n.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},t=B(F().m(function t(r,n,i,a,s){var o,u,l,d,f,p,g,b,y,x,A,w,v,S,E,k,T,P,I,_,N,B,R,C,D,U,M;return F().w(function(t){for(;;)switch(t.n){case 0:for(o=[],u=[],l=[],d=[],f=O(r);!(p=f()).done;)y=new h.Trade(b=(g=p.value).routev2,g.amount,i),o.push({routev2:b,inputAmount:y.inputAmount,outputAmount:y.outputAmount});x=O(n);case 1:if((A=x()).done){t.n=4;break}return v=(w=A.value).routev3,S=w.amount,t.n=2,c.Trade.fromRoute(v,S,i);case 2:u.push({routev3:v,inputAmount:(E=t.v).inputAmount,outputAmount:E.outputAmount});case 3:t.n=1;break;case 4:if(!s){t.n=8;break}k=O(s);case 5:if((T=k()).done){t.n=8;break}return I=(P=T.value).routev4,_=P.amount,t.n=6,m.Trade.fromRoute(I,_,i);case 6:l.push({routev4:I,inputAmount:(N=t.v).inputAmount,outputAmount:N.outputAmount});case 7:t.n=5;break;case 8:if(!a){t.n=12;break}B=O(a);case 9:if((R=B()).done){t.n=12;break}return D=(C=R.value).mixedRoute,U=C.amount,t.n=10,G.fromRoute(D,U,i);case 10:d.push({mixedRoute:D,inputAmount:(M=t.v).inputAmount,outputAmount:M.outputAmount});case 11:t.n=9;break;case 12:return t.a(2,new e({v2Routes:o,v3Routes:u,v4Routes:l,mixedRoutes:d,tradeType:i}))}},t)})),e.fromRoutes=function(e,r,n,i,a){return t.apply(this,arguments)},r=B(F().m(function t(r,n,i){var a,s,o,u,l,d,f,p;return F().w(function(t){for(;;)switch(t.n){case 0:if(a=[],s=[],o=[],u=[],!(r instanceof h.Route)){t.n=1;break}l=new h.Trade(r,n,i),a=[{routev2:r,inputAmount:l.inputAmount,outputAmount:l.outputAmount}],t.n=8;break;case 1:if(!(r instanceof c.Route)){t.n=3;break}return t.n=2,c.Trade.fromRoute(r,n,i);case 2:s=[{routev3:r,inputAmount:(d=t.v).inputAmount,outputAmount:d.outputAmount}],t.n=8;break;case 3:if(!(r instanceof m.Route)){t.n=5;break}return t.n=4,m.Trade.fromRoute(r,n,i);case 4:o=[{routev4:r,inputAmount:(f=t.v).inputAmount,outputAmount:f.outputAmount}],t.n=8;break;case 5:if(!(r instanceof q)){t.n=7;break}return t.n=6,G.fromRoute(r,n,i);case 6:u=[{mixedRoute:r,inputAmount:(p=t.v).inputAmount,outputAmount:p.outputAmount}],t.n=8;break;case 7:throw Error("Invalid route type");case 8:return t.a(2,new e({v2Routes:a,v3Routes:s,v4Routes:o,mixedRoutes:u,tradeType:i}))}},t)})),e.fromRoute=function(e,t,n){return r.apply(this,arguments)},C(e,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"amounts",get:function(){var e,t,r=null==(e=this.swaps.find(function(e){return e.inputAmount.currency.isNative}))?void 0:e.inputAmount.currency,n=null==(t=this.swaps.find(function(e){return e.outputAmount.currency.isNative}))?void 0:t.outputAmount.currency;return{inputAmount:this.inputAmount,inputAmountNative:r?this.swaps.reduce(function(e,t){return t.route.pathInput.isNative?e.add(t.inputAmount):e},a.CurrencyAmount.fromRawAmount(r,0)):void 0,outputAmount:this.outputAmount,outputAmountNative:n?this.swaps.reduce(function(e,t){return t.route.pathOutput.isNative?e.add(t.outputAmount):e},a.CurrencyAmount.fromRawAmount(n,0)):void 0}}},{key:"numberOfInputWraps",get:function(){return this.inputAmount.currency.isNative?this.wethInputRoutes.length:0}},{key:"numberOfInputUnwraps",get:function(){return this.isWrappedNative(this.inputAmount.currency)?this.nativeInputRoutes.length:0}},{key:"nativeInputRoutes",get:function(){return this._nativeInputRoutes||(this._nativeInputRoutes=this.routes.filter(function(e){return e.pathInput.isNative})),this._nativeInputRoutes}},{key:"wethInputRoutes",get:function(){var e=this;return this._wethInputRoutes||(this._wethInputRoutes=this.routes.filter(function(t){return e.isWrappedNative(t.pathInput)})),this._wethInputRoutes}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"inputTax",get:function(){var e=this.inputAmount.currency;return e.isNative||!e.wrapped.sellFeeBps?v:new a.Percent(e.wrapped.sellFeeBps.toNumber(),1e4)}},{key:"outputTax",get:function(){var e=this.outputAmount.currency;return e.isNative||!e.wrapped.buyFeeBps?v:new a.Percent(e.wrapped.buyFeeBps.toNumber(),1e4)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;if(this.outputTax.equalTo(S))return v;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=O(this.swaps);!(e=r()).done;){var n=e.value,i=n.route.midPrice,s=n.inputAmount.multiply(new a.Fraction(w).subtract(this.inputTax));t=t.add(i.quote(s))}if(t.equalTo(A))return v;var o=this.outputAmount.divide(new a.Fraction(w).subtract(this.outputTax)),u=t.subtract(o).divide(t);return this._priceImpact=new a.Percent(u.numerator,u.denominator),this._priceImpact}}])}();function Y(e,t){var r,n;if(null!=t?t:e.pools.some(function(e){return e instanceof m.Pool})){r=[e.pathInput.isNative?b:e.pathInput.address],n=["address"];for(var i,a=e.pathInput,s=O(e.pools);!(i=s()).done;){var o=i.value,u=a.equals(o.token0)?o.token1:o.token0;if(o instanceof m.Pool)0===o.tickSpacing?(r.push(0,u.isNative?b:u.wrapped.address),n.push("uint8","address")):(r.push(o.fee+4194304,o.tickSpacing,o.hooks,u.isNative?b:u.wrapped.address),n.push("uint24","uint24","address","address"));else if(o instanceof c.Pool)r.push(o.fee+3145728,u.wrapped.address),n.push("uint24","address");else{if(!(o instanceof h.Pair))throw Error("Unsupported pool type "+JSON.stringify(o));r.push(32,u.wrapped.address),n.push("uint8","address")}a=u}}else{var l=e.pools.reduce(function(e,t,r){var n=e.inputToken,i=e.path,a=e.types,s=t.token0.equals(n)?t.token1:t.token0;return 0===r?{inputToken:s,types:["address","uint24","address"],path:[n.wrapped.address,t instanceof c.Pool?t.fee:8388608,s.wrapped.address]}:{inputToken:s,types:[].concat(a,["uint24","address"]),path:[].concat(i,[t instanceof c.Pool?t.fee:8388608,s.wrapped.address])}},{inputToken:e.input,path:[],types:[]});r=l.path,n=l.types}return g.pack(n,r)}var Z=function(e){for(var t=[],r=0,n=0;n<e.pools.length;)(e.pools[r]instanceof m.Pool&&!(e.pools[n]instanceof m.Pool)||e.pools[r]instanceof c.Pool&&!(e.pools[n]instanceof c.Pool)||e.pools[r]instanceof h.Pair&&!(e.pools[n]instanceof h.Pair))&&(t.push(e.pools.slice(r,n)),r=n),++n===e.pools.length&&t.push(e.pools.slice(r,n));return t},$=function(e,t){return e.reduce(function(e,t){var r=e.inputToken;if(!t.involvesToken(r))throw Error("PATH");return{inputToken:t.token0.equals(r)?t.token1:t.token0}},{inputToken:t}).inputToken},ee=s.BigInt(0),et=new a.Percent(s.BigInt(50),s.BigInt(100)),er=function(){function e(){}return e.encodeV2Swap=function(t,r,n,i){var s=c.toHex(t.maximumAmountIn(r.slippageTolerance).quotient),o=c.toHex(t.minimumAmountOut(r.slippageTolerance).quotient),u=t.route.path.map(function(e){return e.address}),l=n?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);return t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[s,i?0:o,u,l]):e.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[o,s,u,l])},e.encodeV3Swap=function(t,r,n,i){for(var s,o=[],u=O(t.swaps);!(s=u()).done;){var l=s.value,d=l.route,f=l.outputAmount,p=c.toHex(t.maximumAmountIn(r.slippageTolerance,l.inputAmount).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),m=1===d.pools.length,g=n?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);if(m)o.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:g,amountIn:p,amountOutMinimum:i?0:h,sqrtPriceLimitX96:0}]):e.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:g,amountOut:h,amountInMaximum:p,sqrtPriceLimitX96:0}]));else{var b=c.encodeRouteToPath(d,t.tradeType===a.TradeType.EXACT_OUTPUT);o.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInput",[{path:b,recipient:g,amountIn:p,amountOutMinimum:i?0:h}]):e.INTERFACE.encodeFunctionData("exactOutput",[{path:b,recipient:g,amountOut:h,amountInMaximum:p}]))}}return o},e.encodeMixedRouteSwap=function(t,r,n,i){var s=[];t.tradeType!==a.TradeType.EXACT_INPUT&&u(!1);for(var o,l=O(t.swaps);!(o=l()).done;)!function(){var u=o.value,l=u.route,d=u.inputAmount,f=u.outputAmount;if(l.pools.some(function(e){return e instanceof m.Pool}))throw Error("Encoding mixed routes with V4 not supported");var p=c.toHex(t.maximumAmountIn(r.slippageTolerance,d).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),g=1===l.pools.length,b=n?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient),A=function(e){return e.pools.every(function(e){return e instanceof c.Pool})};if(g)if(A(l))s.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:l.path[0].wrapped.address,tokenOut:l.path[1].wrapped.address,fee:l.pools[0].fee,recipient:b,amountIn:p,amountOutMinimum:i?0:h,sqrtPriceLimitX96:0}]));else{var w=l.path.map(function(e){return e.wrapped.address});s.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[p,i?0:h,w,b]))}else for(var v,S=Z(l),E=function(e){return e===S.length-1},k=l.input.wrapped,T=0;T<S.length;T++){var P=S[T];v=$(P,k);var I=new X(new q([].concat(P),P[0].token0.equals(k)?P[0].token0:P[0].token1,v));if(k=v.wrapped,A(I)){var _={path:Y(I),recipient:E(T)?b:x,amountIn:0===T?p:0,amountOutMinimum:E(T)?h:0};s.push(e.INTERFACE.encodeFunctionData("exactInput",[_]))}else{var N=[0===T?p:0,E(T)?h:0,I.path.map(function(e){return e.wrapped.address}),E(T)?b:x];s.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",N))}}}();return s},e.encodeSwaps=function(t,n,i){if(t instanceof J){t.swaps.every(function(e){return e.route.protocol===r.Protocol.V3||e.route.protocol===r.Protocol.V2||e.route.protocol===r.Protocol.MIXED})||u(!1);for(var s,o=[],l=O(t.swaps);!(s=l()).done;){var d=s.value,f=d.route,p=d.inputAmount,m=d.outputAmount;if(f.protocol===r.Protocol.V2)o.push(new h.Trade(f,t.tradeType===a.TradeType.EXACT_INPUT?p:m,t.tradeType));else if(f.protocol===r.Protocol.V3)o.push(c.Trade.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}));else{if(f.protocol!==r.Protocol.MIXED)throw Error("UNSUPPORTED_TRADE_PROTOCOL");o.push(G.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}))}}t=o}Array.isArray(t)||(t=[t]);var g=t.reduce(function(e,t){return e+(t instanceof c.Trade||t instanceof G?t.swaps.length:1)},0),b=t[0];t.every(function(e){return e.inputAmount.currency.equals(b.inputAmount.currency)})||u(!1),t.every(function(e){return e.outputAmount.currency.equals(b.outputAmount.currency)})||u(!1),t.every(function(e){return e.tradeType===b.tradeType})||u(!1);var y=[],x=b.inputAmount.currency.isNative,A=b.outputAmount.currency.isNative,w=b.tradeType===a.TradeType.EXACT_INPUT&&g>2,v=A||!!n.fee||!!i||w;n.inputTokenPermit&&(b.inputAmount.currency.isToken||u(!1),y.push(c.SelfPermit.encodePermit(b.inputAmount.currency,n.inputTokenPermit)));for(var S,E=O(t);!(S=E()).done;){var k=S.value;if(k instanceof h.Trade)y.push(e.encodeV2Swap(k,n,v,w));else if(k instanceof c.Trade)for(var T,P=O(e.encodeV3Swap(k,n,v,w));!(T=P()).done;)y.push(T.value);else{if(!(k instanceof G))throw Error("Unsupported trade object");for(var I,_=O(e.encodeMixedRouteSwap(k,n,v,w));!(I=_()).done;)y.push(I.value)}}var N=a.CurrencyAmount.fromRawAmount(b.inputAmount.currency,0),B=a.CurrencyAmount.fromRawAmount(b.outputAmount.currency,0),R=t.reduce(function(e,t){return e.add(t.minimumAmountOut(n.slippageTolerance))},B),C=t.reduce(function(e,t){return e.add(t.outputAmount)},B);return{calldatas:y,sampleTrade:b,routerMustCustody:v,inputIsNative:x,outputIsNative:A,totalAmountIn:t.reduce(function(e,t){return e.add(t.maximumAmountIn(n.slippageTolerance))},N),minimumAmountOut:R,quoteAmountOut:C}},e.swapCallParameters=function(t,r){var n=e.encodeSwaps(t,r),i=n.calldatas,s=n.sampleTrade,o=n.inputIsNative,u=n.totalAmountIn,l=n.minimumAmountOut;return n.routerMustCustody&&i.push(n.outputIsNative?I.encodeUnwrapWETH9(l.quotient,r.recipient,r.fee):I.encodeSweepToken(s.outputAmount.currency.wrapped,l.quotient,r.recipient,r.fee)),o&&(s.tradeType===a.TradeType.EXACT_OUTPUT||e.riskOfPartialFill(t))&&i.push(c.Payments.encodeRefundETH()),{calldata:T.encodeMulticall(i,r.deadlineOrPreviousBlockhash),value:c.toHex(o?u.quotient:ee)}},e.swapAndAddCallParameters=function(t,n,i,s,o,l){var d=e.encodeSwaps(t,n,!0),f=d.calldatas,p=d.inputIsNative,h=d.outputIsNative,m=d.sampleTrade,g=d.totalAmountIn,b=d.quoteAmountOut,y=d.minimumAmountOut;n.outputTokenPermit&&(b.currency.isToken||u(!1),f.push(c.SelfPermit.encodePermit(b.currency,n.outputTokenPermit)));var x=m.route.chainId,A=i.pool.token0.wrapped.address===g.currency.wrapped.address,w=e.getPositionAmounts(i,A),v=w.positionAmountIn,S=w.positionAmountOut,E=p?a.WETH9[x]:v.currency.wrapped,P=h?a.WETH9[x]:S.currency.wrapped,_=S.subtract(b.wrapped);_.greaterThan(a.CurrencyAmount.fromRawAmount(S.currency,0))&&f.push(h?I.encodeWrapETH(_.quotient):I.encodePull(P,_.quotient)),f.push(p?I.encodeWrapETH(v.quotient):I.encodePull(E,v.quotient)),o!==r.ApprovalTypes.NOT_REQUIRED&&f.push(k.encodeApprove(E,o)),l!==r.ApprovalTypes.NOT_REQUIRED&&f.push(k.encodeApprove(P,l));var N,B=c.Position.fromAmounts({pool:i.pool,tickLower:i.tickLower,tickUpper:i.tickUpper,amount0:A?i.amount0.quotient.toString():y.quotient.toString(),amount1:A?y.quotient.toString():i.amount1.quotient.toString(),useFullPrecision:!1});return f.push(k.encodeAddLiquidity(i,B,s,n.slippageTolerance)),f.push(p?I.encodeUnwrapWETH9(ee):I.encodeSweepToken(E,ee)),f.push(h?I.encodeUnwrapWETH9(ee):I.encodeSweepToken(P,ee)),N=p?g.wrapped.add(v.wrapped).quotient:h?_.quotient:ee,{calldata:T.encodeMulticall(f,n.deadlineOrPreviousBlockhash),value:N.toString()}},e.riskOfPartialFill=function(t){return Array.isArray(t)?t.some(function(t){return e.v3TradeWithHighPriceImpact(t)}):e.v3TradeWithHighPriceImpact(t)},e.v3TradeWithHighPriceImpact=function(e){return!(e instanceof h.Trade)&&e.priceImpact.greaterThan(et)},e.getPositionAmounts=function(e,t){var r=e.mintAmounts,n=r.amount1,i=a.CurrencyAmount.fromRawAmount(e.pool.token0,r.amount0),s=a.CurrencyAmount.fromRawAmount(e.pool.token1,n),o=t?[i,s]:[s,i];return{positionAmountIn:o[0],positionAmountOut:o[1]}},e}();er.INTERFACE=new o.Interface(p.abi),r.ADDRESS_THIS=x,r.ADDRESS_ZERO=b,r.ApproveAndCall=k,r.MIXED_QUOTER_V1_V2_FEE_PATH_PLACEHOLDER=8388608,r.MIXED_QUOTER_V2_V2_FEE_PATH_PLACEHOLDER=32,r.MIXED_QUOTER_V2_V3_FEE_PATH_PLACEHOLDER=3145728,r.MIXED_QUOTER_V2_V4_FEE_PATH_PLACEHOLDER=4194304,r.MSG_SENDER=y,r.MixedRoute=X,r.MixedRouteSDK=q,r.MixedRouteTrade=G,r.MulticallExtended=T,r.ONE=w,r.ONE_HUNDRED_PERCENT=S,r.PaymentsExtended=I,r.RouteV2=j,r.RouteV3=H,r.RouteV4=Q,r.SwapRouter=er,r.Trade=J,r.ZERO=A,r.ZERO_PERCENT=v,r.amountWithPathCurrency=L,r.encodeMixedRouteToPath=Y,r.getOutputOfPools=$,r.getPathCurrency=K,r.getPathToken=z,r.isMint=E,r.partitionMixedRouteByProtocol=Z,r.tradeComparator=W},520108,(e,t,r)=>{"use strict";t.exports=e.r(177483)},622175,(e,t,r)=>{!function(r){"use strict";var n,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function c(e){var t=0|e;return e>0||e===t?t:t-1}function d(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function f(e,t){var r,n,i=e.c,a=t.c,s=e.s,o=t.s,u=e.e,l=t.e;if(!s||!o)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-o:s;if(s!=o)return s;if(r=s<0,n=u==l,!i||!a)return n?0:!i^r?1:-1;if(!n)return u>l^r?1:-1;for(s=0,o=(u=i.length)<(l=a.length)?u:l;s<o;s++)if(i[s]!=a[s])return i[s]>a[s]^r?1:-1;return u==l?0:u>l^r?1:-1}function p(e,t,r,n){if(e<t||e>r||e!==s(e))throw Error(o+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function h(e){var t=e.c.length-1;return c(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}if((n=function e(t){var r,n,b,y,x,A,w,v,S,E=M.prototype={constructor:M,toString:null,valueOf:null},k=new M(1),T=20,P=4,I=-7,_=21,N=-1e7,B=1e7,R=!1,C=1,O=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz",F=!0;function M(e,t){var r,n,a,o,l,c,d,f,h=this;if(!(h instanceof M))return new M(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>B?h.c=h.e=null:e.e<N?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,l=e;l>=10;l/=10,o++);o>B?h.c=h.e=null:(h.e=o,h.c=[e]);return}f=String(e)}else{if(!i.test(f=String(e)))return S(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(o=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(o<0&&(o=l),o+=+f.slice(l+1),f=f.substring(0,l)):o<0&&(o=f.length)}else{if(p(t,2,U.length,"Base"),10==t&&F)return W(h=new M(e),T+h.e+1,P);if(f=String(e),c="number"==typeof e){if(0*e!=0)return S(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,M.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=U.slice(0,t),o=l=0,d=f.length;l<d;l++)if(0>r.indexOf(n=f.charAt(l))){if("."==n){if(l>o){o=d;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,l=-1,o=0;continue}return S(h,String(e),c,t)}c=!1,(o=(f=v(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):o=f.length}for(l=0;48===f.charCodeAt(l);l++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(l,++d)){if(d-=l,c&&M.DEBUG&&d>15&&(e>0x1fffffffffffff||e!==s(e)))throw Error(u+h.s*e);if((o=o-l-1)>B)h.c=h.e=null;else if(o<N)h.c=[h.e=0];else{if(h.e=o,h.c=[],l=(o+1)%14,o<0&&(l+=14),l<d){for(l&&h.c.push(+f.slice(0,l)),d-=14;l<d;)h.c.push(+f.slice(l,l+=14));l=14-(f=f.slice(l)).length}else l-=d;for(;l--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function L(e,t,r,n){var i,a,s,o,u;if(null==r?r=P:p(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=d(e.c),u=1==n||2==n&&(s<=I||s>=_)?m(u,s):g(u,s,"0");else if(a=(e=W(new M(e),t,r)).e,o=(u=d(e.c)).length,1==n||2==n&&(t<=a||a<=I)){for(;o<t;u+="0",o++);u=m(u,a)}else if(t-=s,u=g(u,a,"0"),a+1>o){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=a-o)>0)for(a+1==o&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function K(e,t){for(var r,n,i=1,a=new M(e[0]);i<e.length;i++)(n=new M(e[i])).s&&(r=f(a,n))!==t&&(0!==r||a.s!==t)||(a=n);return a}function q(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>B?e.c=e.e=null:r<N?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var i,o,u,c,d,f,p,h=e.c;if(h){t:{for(i=1,c=h[0];c>=10;c/=10,i++);if((o=t-i)<0)o+=14,u=t,p=s((d=h[f=0])/l[i-u-1]%10);else if((f=a((o+1)/14))>=h.length)if(n){for(;h.length<=f;h.push(0));d=p=0,i=1,o%=14,u=o-14+1}else break t;else{for(i=1,d=c=h[f];c>=10;c/=10,i++);o%=14,p=(u=o-14+i)<0?0:s(d/l[i-u-1]%10)}if(n=n||t<0||null!=h[f+1]||(u<0?d:d%l[i-u-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(o>0?u>0?d/l[i-u]:0:h[f-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=l[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=f,c=1,f--):(h.length=f+1,c=l[14-o],h[f]=u>0?s(d/l[i-u]%l[u])*c:0),n)for(;;)if(0==f){for(o=1,u=h[0];u>=10;u/=10,o++);for(u=h[0]+=c,c=1;u>=10;u/=10,c++);o!=c&&(e.e++,1e14==h[0]&&(h[0]=1));break}else{if(h[f]+=c,1e14!=h[f])break;h[f--]=0,c=1}for(o=h.length;0===h[--o];h.pop());}e.e>B?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}function V(e){var t,r=e.e;return null===r?e.toString():(t=d(e.c),t=r<=I||r>=_?m(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return M.clone=e,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(r=e[t],0,1e9,t),T=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(r=e[t],0,8,t),P=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(p(r[0],-1e9,0,t),p(r[1],0,1e9,t),I=r[0],_=r[1]):(p(r,-1e9,1e9,t),I=-(_=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)p(r[0],-1e9,-1,t),p(r[1],1,1e9,t),N=r[0],B=r[1];else if(p(r,-1e9,1e9,t),r)N=-(B=r<0?-r:r);else throw Error(o+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))R=r;else throw R=!r,Error(o+"crypto unavailable");else R=r;else throw Error(o+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(p(r=e[t],0,9,t),C=r),e.hasOwnProperty(t="POW_PRECISION")&&(p(r=e[t],0,1e9,t),O=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))D=r;else throw Error(o+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+t+" invalid: "+r);F="0123456789"==r.slice(0,10),U=r}}else throw Error(o+"Object expected: "+e);return{DECIMAL_PLACES:T,ROUNDING_MODE:P,EXPONENTIAL_AT:[I,_],RANGE:[N,B],CRYPTO:R,MODULO_MODE:C,POW_PRECISION:O,FORMAT:D,ALPHABET:U}},M.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!M.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;t:if("[object Array]"==({}).toString.call(n)){if((1===a||-1===a)&&i>=-1e9&&i<=1e9&&i===s(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==s(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},M.maximum=M.max=function(){return K(arguments,-1)},M.minimum=M.min=function(){return K(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return s(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},M.random=function(e){var t,n,i,u,c,d=0,f=[],h=new M(k);if(null==e?e=T:p(e,0,1e9),u=a(e/14),R)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));d<u;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(f.push(c%1e14),d+=2);d=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);d<u;)(c=(31&t[d])*0x1000000000000+0x10000000000*t[d+1]+0x100000000*t[d+2]+0x1000000*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(f.push(c%1e14),d+=7);d=u/7}else throw R=!1,Error(o+"crypto unavailable");if(!R)for(;d<u;)(c=r())<9e15&&(f[d++]=c%1e14);for(u=f[--d],e%=14,u&&e&&(c=l[14-e],f[d]=s(u/c)*c);0===f[d];f.pop(),d--);if(d<0)f=[i=0];else{for(i=-1;0===f[0];f.splice(0,1),i-=14);for(d=1,c=f[0];c>=10;c/=10,d++);d<14&&(i-=14-d)}return h.e=i,h.c=f,h},M.sum=function(){for(var e=1,t=arguments,r=new M(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){var e="0123456789";function t(e,t,r,n){for(var i,a,s=[0],o=0,u=e.length;o<u;){for(a=s.length;a--;s[a]*=t);for(s[0]+=n.indexOf(e.charAt(o++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(r,n,i,a,s){var o,u,l,c,f,p,h,m,b=r.indexOf("."),y=T,x=P;for(b>=0&&(c=O,O=0,r=r.replace(".",""),p=(m=new M(n)).pow(r.length-b),O=c,m.c=t(g(d(p.c),p.e,"0"),10,i,e),m.e=m.c.length),l=c=(h=t(r,n,i,s?(o=U,e):(o=e,U))).length;0==h[--c];h.pop());if(!h[0])return o.charAt(0);if(b<0?--l:(p.c=h,p.e=l,p.s=a,h=(p=w(p,m,y,x,i)).c,f=p.r,l=p.e),b=h[u=l+y+1],c=i/2,f=f||u<0||null!=h[u+1],f=x<4?(null!=b||f)&&(0==x||x==(p.s<0?3:2)):b>c||b==c&&(4==x||f||6==x&&1&h[u-1]||x==(p.s<0?8:7)),u<1||!h[0])r=f?g(o.charAt(1),-y,o.charAt(0)):o.charAt(0);else{if(h.length=u,f)for(--i;++h[--u]>i;)h[u]=0,u||(++l,h=[1].concat(h));for(c=h.length;!h[--c];);for(b=0,r="";b<=c;r+=o.charAt(h[b++]));r=g(r,l,o.charAt(0))}return r}}(),w=function(){function e(e,t,r){var n,i,a,s,o=0,u=e.length,l=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)n=c*(a=e[u]%1e7)+(s=e[u]/1e7|0)*l,o=((i=l*a+n%1e7*1e7+o)/r|0)+(n/1e7|0)+c*s,e[u]=i%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,o,u){var l,d,f,p,h,m,g,b,y,x,A,w,v,S,E,k,T,P=n.s==i.s?1:-1,I=n.c,_=i.c;if(!I||!I[0]||!_||!_[0])return new M(!n.s||!i.s||(I?_&&I[0]==_[0]:!_)?NaN:I&&0==I[0]||!_?0*P:P/0);for(y=(b=new M(P)).c=[],P=a+(d=n.e-i.e)+1,u||(u=1e14,d=c(n.e/14)-c(i.e/14),P=P/14|0),f=0;_[f]==(I[f]||0);f++);if(_[f]>(I[f]||0)&&d--,P<0)y.push(1),p=!0;else{for(S=I.length,k=_.length,f=0,P+=2,(h=s(u/(_[0]+1)))>1&&(_=e(_,h,u),I=e(I,h,u),k=_.length,S=I.length),v=k,A=(x=I.slice(0,k)).length;A<k;x[A++]=0);T=[0].concat(T=_.slice()),E=_[0],_[1]>=u/2&&E++;do{if(h=0,(l=t(_,x,k,A))<0){if(w=x[0],k!=A&&(w=w*u+(x[1]||0)),(h=s(w/E))>1)for(h>=u&&(h=u-1),g=(m=e(_,h,u)).length,A=x.length;1==t(m,x,g,A);)h--,r(m,k<g?T:_,g,u),g=m.length,l=1;else 0==h&&(l=h=1),g=(m=_.slice()).length;if(g<A&&(m=[0].concat(m)),r(x,m,A,u),A=x.length,-1==l)for(;1>t(_,x,k,A);)h++,r(x,k<A?T:_,A,u),A=x.length}else 0===l&&(h++,x=[0]);y[f++]=h,x[0]?x[A++]=I[v]||0:(x=[I[v]],A=1)}while((v++<S||null!=x[0])&&P--)p=null!=x[0],y[0]||y.splice(0,1)}if(1e14==u){for(f=1,P=y[0];P>=10;P/=10,f++);W(b,a+(b.e=f+14*d-1)+1,o,p)}else b.e=d,b.r=+p;return b}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,y=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,i){var a,s=r?t:t.replace(A,"");if(x.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(n,function(e,t,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,i&&i!=a?e:t}),i&&(a=i,s=s.replace(b,"$1").replace(y,"0.$1")),t!=s))return new M(s,a);if(M.DEBUG)throw Error(o+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new M(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return f(this,new M(e,t))},E.decimalPlaces=E.dp=function(e,t){var r,n,i;if(null!=e)return p(e,0,1e9),null==t?t=P:p(t,0,8),W(new M(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-c(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},E.dividedBy=E.div=function(e,t){return w(this,new M(e,t),T,P)},E.dividedToIntegerBy=E.idiv=function(e,t){return w(this,new M(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var r,n,i,u,l,c,d,f,p,m=this;if((e=new M(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+V(e));if(null!=t&&(t=new M(t)),c=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new M(Math.pow(+V(m),c?e.s*(2-h(e)):+V(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new M(NaN);(n=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||c&&m.c[1]>=24e7:m.c[0]<8e13||c&&m.c[0]<=9999975e7)))return u=m.s<0&&h(e)?-0:0,m.e>-1&&(u=1/u),new M(d?1/u:u);O&&(u=a(O/14+2))}for(c?(r=new M(.5),d&&(e.s=1),f=h(e)):f=(i=Math.abs(+V(e)))%2,p=new M(k);;){if(f){if(!(p=p.times(m)).c)break;u?p.c.length>u&&(p.c.length=u):n&&(p=p.mod(t))}if(i){if(0===(i=s(i/2)))break;f=i%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)f=h(e);else{if(0==(i=+V(e)))break;f=i%2}m=m.times(m),u?m.c&&m.c.length>u&&(m.c.length=u):n&&(m=m.mod(t))}return n?p:(d&&(p=k.div(p)),t?p.mod(t):u?W(p,O,P,l):p)},E.integerValue=function(e){var t=new M(this);return null==e?e=P:p(e,0,8),W(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===f(this,new M(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return f(this,new M(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=f(this,new M(e,t)))||0===t},E.isInteger=function(){return!!this.c&&c(this.e/14)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return 0>f(this,new M(e,t))},E.isLessThanOrEqualTo=E.lte=function(e,t){return -1===(t=f(this,new M(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var r,n,i,a,s=this.s;if(t=(e=new M(e,t)).s,!s||!t)return new M(NaN);if(s!=t)return e.s=-t,this.plus(e);var o=this.e/14,u=e.e/14,l=this.c,d=e.c;if(!o||!u){if(!l||!d)return l?(e.s=-t,e):new M(d?this:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new M(l[0]?this:3==P?-0:0)}if(o=c(o),u=c(u),l=l.slice(),s=o-u){for((a=s<0)?(s=-s,i=l):(u=o,i=d),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(a=(s=l.length)<(t=d.length))?s:t,s=t=0;t<n;t++)if(l[t]!=d[t]){a=l[t]<d[t];break}if(a&&(i=l,l=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;n>s;){if(l[--n]<d[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=1e14}l[n]-=d[n]}for(;0==l[0];l.splice(0,1),--u);return l[0]?q(e,l,u):(e.s=3==P?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var r,n;return(e=new M(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==C?(n=e.s,e.s=1,r=w(this,e,0,3),e.s=n,r.s*=n):r=w(this,e,0,C),(e=this.minus(r.times(e))).c[0]||1!=C||(e.s=this.s),e):new M(this):new M(NaN)},E.multipliedBy=E.times=function(e,t){var r,n,i,a,s,o,u,l,d,f,p,h,m,g=this.c,b=(e=new M(e,t)).c;if(!g||!b||!g[0]||!b[0])return this.s&&e.s&&(!g||g[0]||b)&&(!b||b[0]||g)?(e.s*=this.s,g&&b?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=c(this.e/14)+c(e.e/14),e.s*=this.s,(u=g.length)<(f=b.length)&&(m=g,g=b,b=m,i=u,u=f,f=i),i=u+f,m=[];i--;m.push(0));for(i=f;--i>=0;){for(r=0,p=b[i]%1e7,h=b[i]/1e7|0,a=i+(s=u);a>i;)o=h*(l=g[--s]%1e7)+(d=g[s]/1e7|0)*p,r=((l=p*l+o%1e7*1e7+m[a]+r)/1e14|0)+(o/1e7|0)+h*d,m[a--]=l%1e14;m[a]=r}return r?++n:m.splice(0,1),q(e,m,n)},E.negated=function(){var e=new M(this);return e.s=-e.s||null,e},E.plus=function(e,t){var r,n=this.s;if(t=(e=new M(e,t)).s,!n||!t)return new M(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,a=e.e/14,s=this.c,o=e.c;if(!i||!a){if(!s||!o)return new M(n/0);if(!s[0]||!o[0])return o[0]?e:new M(s[0]?this:0*n)}if(i=c(i),a=c(a),s=s.slice(),n=i-a){for(n>0?(a=i,r=o):(n=-n,r=s),r.reverse();n--;r.push(0));r.reverse()}for((n=s.length)-(t=o.length)<0&&(r=o,o=s,s=r,t=n),n=0;t;)n=(s[--t]=s[t]+o[t]+n)/1e14|0,s[t]=1e14===s[t]?0:s[t]%1e14;return n&&(s=[n].concat(s),++a),q(e,s,a)},E.precision=E.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return p(e,1,1e9),null==t?t=P:p(t,0,8),W(new M(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},E.shiftedBy=function(e){return p(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,r,n,i,a=this.c,s=this.s,o=this.e,u=T+4,l=new M("0.5");if(1!==s||!a||!a[0])return new M(!s||s<0&&(!a||a[0])?NaN:a?this:1/0);if(0==(s=Math.sqrt(+V(this)))||s==1/0?(((t=d(a)).length+o)%2==0&&(t+="0"),s=Math.sqrt(+t),o=c((o+1)/2)-(o<0||o%2),r=new M(t=s==1/0?"5e"+o:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+o)):r=new M(s+""),r.c[0]){for((s=(o=r.e)+u)<3&&(s=0);;)if(i=r,r=l.times(i.plus(w(this,i,u,1))),d(i.c).slice(0,s)===(t=d(r.c)).slice(0,s)){if(r.e<o&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+T+2,1),e=!r.times(r).eq(this));break}if(!n&&(W(i,i.e+T+2,0),i.times(i).eq(this))){r=i;break}u+=4,s+=4,n=1}}return W(r,r.e+T+1,P,e)},E.toExponential=function(e,t){return null!=e&&(p(e,0,1e9),e++),L(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(p(e,0,1e9),e=e+this.e+1),L(this,e,t)},E.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,a=n.split("."),s=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",c=a[0],d=a[1],f=this.s<0,p=f?c.slice(1):c,h=p.length;if(u&&(i=s,s=u,u=i,h-=i),s>0&&h>0){for(i=h%s||s,c=p.substr(0,i);i<h;i+=s)c+=l+p.substr(i,s);u>0&&(c+=l+p.slice(i)),f&&(c="-"+c)}n=d?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):c}return(r.prefix||"")+n+(r.suffix||"")},E.toFraction=function(e){var t,r,n,i,a,s,u,c,f,p,h,m,g=this.c;if(null!=e&&(!(u=new M(e)).isInteger()&&(u.c||1!==u.s)||u.lt(k)))throw Error(o+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!g)return new M(this);for(t=new M(k),f=r=new M(k),n=c=new M(k),m=d(g),a=t.e=m.length-this.e-1,t.c[0]=l[(s=a%14)<0?14+s:s],e=!e||u.comparedTo(t)>0?a>0?t:f:u,s=B,B=1/0,u=new M(m),c.c[0]=0;p=w(u,t,0,1),1!=(i=r.plus(p.times(n))).comparedTo(e);)r=n,n=i,f=c.plus(p.times(i=f)),c=i,t=u.minus(p.times(i=t)),u=i;return i=w(e.minus(r),n,0,1),c=c.plus(i.times(f)),r=r.plus(i.times(n)),c.s=f.s=this.s,a*=2,h=1>w(f,n,a,P).minus(this).abs().comparedTo(w(c,r,a,P).minus(this).abs())?[f,n]:[c,r],B=s,h},E.toNumber=function(){return+V(this)},E.toPrecision=function(e,t){return null!=e&&p(e,1,1e9),L(this,e,t,2)},E.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=I||i>=_?m(d(r.c),i):g(d(r.c),i,"0"):10===e&&F?t=g(d((r=W(new M(r),T+i+1,P)).c),r.e,"0"):(p(e,2,U.length,"Base"),t=v(g(d(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return V(this)},E._isBigNumber=!0,null!=t&&M.set(t),M}()).default=n.BigNumber=n,"function"==typeof define&&define.amd)e.r,void 0!==n&&e.v(n);else t.exports?t.exports=n:(r||(r="undefined"!=typeof self&&self?self:window),r.BigNumber=n)}(e.e)},499675,(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var i,a,s,o,u=n(e.r(699247)),l=n(e.r(127416)),c=e.r(811874),d=e.r(851694),f=e.r(376036),p=e.r(863062),h=e.r(702503),m=e.r(847994),g=e.r(700334),b=e.r(520108);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.r(477912),e.r(622175),(a=r.CommandType||(r.CommandType={}))[a.V3_SWAP_EXACT_IN=0]="V3_SWAP_EXACT_IN",a[a.V3_SWAP_EXACT_OUT=1]="V3_SWAP_EXACT_OUT",a[a.PERMIT2_TRANSFER_FROM=2]="PERMIT2_TRANSFER_FROM",a[a.PERMIT2_PERMIT_BATCH=3]="PERMIT2_PERMIT_BATCH",a[a.SWEEP=4]="SWEEP",a[a.TRANSFER=5]="TRANSFER",a[a.PAY_PORTION=6]="PAY_PORTION",a[a.V2_SWAP_EXACT_IN=8]="V2_SWAP_EXACT_IN",a[a.V2_SWAP_EXACT_OUT=9]="V2_SWAP_EXACT_OUT",a[a.PERMIT2_PERMIT=10]="PERMIT2_PERMIT",a[a.WRAP_ETH=11]="WRAP_ETH",a[a.UNWRAP_WETH=12]="UNWRAP_WETH",a[a.PERMIT2_TRANSFER_FROM_BATCH=13]="PERMIT2_TRANSFER_FROM_BATCH",a[a.BALANCE_CHECK_ERC20=14]="BALANCE_CHECK_ERC20",a[a.V4_SWAP=16]="V4_SWAP",a[a.V3_POSITION_MANAGER_PERMIT=17]="V3_POSITION_MANAGER_PERMIT",a[a.V3_POSITION_MANAGER_CALL=18]="V3_POSITION_MANAGER_CALL",a[a.V4_INITIALIZE_POOL=19]="V4_INITIALIZE_POOL",a[a.V4_POSITION_MANAGER_CALL=20]="V4_POSITION_MANAGER_CALL",a[a.EXECUTE_SUB_PLAN=33]="EXECUTE_SUB_PLAN",(s=r.Subparser||(r.Subparser={}))[s.V3PathExactIn=0]="V3PathExactIn",s[s.V3PathExactOut=1]="V3PathExactOut",(o=r.Parser||(r.Parser={}))[o.Abi=0]="Abi",o[o.V4Actions=1]="V4Actions",o[o.V3Actions=2]="V3Actions";var A,w,v,S,E,k,T,P,I,_,N,B,R,C,O,D,U,F,M,L,K,q,W,V,G,z,j,H,Q=new Set([r.CommandType.EXECUTE_SUB_PLAN]),X=((i={})[r.CommandType.EXECUTE_SUB_PLAN]={parser:r.Parser.Abi,params:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"}]},i[r.CommandType.PERMIT2_PERMIT]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce) details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},i[r.CommandType.PERMIT2_PERMIT_BATCH]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce)[] details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},i[r.CommandType.PERMIT2_TRANSFER_FROM]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint160"}]},i[r.CommandType.PERMIT2_TRANSFER_FROM_BATCH]={parser:r.Parser.Abi,params:[{name:"transferFrom",type:"(address from,address to,uint160 amount,address token)[]"}]},i[r.CommandType.V3_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactIn,type:"bytes"},{name:"payerIsUser",type:"bool"}]},i[r.CommandType.V3_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactOut,type:"bytes"},{name:"payerIsUser",type:"bool"}]},i[r.CommandType.V2_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},i[r.CommandType.V2_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},i[r.CommandType.V4_SWAP]={parser:r.Parser.V4Actions},i[r.CommandType.WRAP_ETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}]},i[r.CommandType.UNWRAP_WETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},i[r.CommandType.SWEEP]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},i[r.CommandType.TRANSFER]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"value",type:"uint256"}]},i[r.CommandType.PAY_PORTION]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}]},i[r.CommandType.BALANCE_CHECK_ERC20]={parser:r.Parser.Abi,params:[{name:"owner",type:"address"},{name:"token",type:"address"},{name:"minBalance",type:"uint256"}]},i[r.CommandType.V4_INITIALIZE_POOL]={parser:r.Parser.Abi,params:[{name:"poolKey",type:"(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)"},{name:"sqrtPriceX96",type:"uint160"}]},i[r.CommandType.V3_POSITION_MANAGER_PERMIT]={parser:r.Parser.V3Actions},i[r.CommandType.V3_POSITION_MANAGER_CALL]={parser:r.Parser.V3Actions},i[r.CommandType.V4_POSITION_MANAGER_CALL]={parser:r.Parser.V4Actions},i),J=function(){function e(){this.commands="0x",this.inputs=[]}var t=e.prototype;return t.addSubPlan=function(e){return this.addCommand(r.CommandType.EXECUTE_SUB_PLAN,[e.commands,e.inputs],!0),this},t.addCommand=function(e,t,n){void 0===n&&(n=!1);var i=function(e,t){var n=X[e];switch(n.parser){case r.Parser.Abi:return{type:e,encodedInput:m.defaultAbiCoder.encode(n.params.map(function(e){return e.type}),t)};case r.Parser.V4Actions:case r.Parser.V3Actions:return{type:e,encodedInput:t[0]}}}(e,t);if(this.inputs.push(i.encodedInput),n){if(!Q.has(i.type))throw Error("command type: "+i.type+" cannot be allowed to revert");i.type=128|i.type}return this.commands=this.commands.concat(i.type.toString(16).padStart(2,"0")),this},e}();function Y(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(t instanceof p.Pool&&t.token0.wrapped.equals(e))return t.token0;if(t instanceof p.Pool&&t.token1.wrapped.equals(e))return t.token1;throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(A=r.RouterActionType||(r.RouterActionType={})).UniswapTrade="UniswapTrade",A.UnwrapWETH="UnwrapWETH",(H=r.UniversalRouterVersion||(r.UniversalRouterVersion={})).V1_2="1.2",H.V2_0="2.0";var Z=((j={})[1]={weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",routerConfigs:((w={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x1059809},w[r.UniversalRouterVersion.V2_0]={address:"0x66a9893cc07d91d95644aedd05d03f95e1dba8af",creationBlock:0x67928ff3},w)},j[5]={weth:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",routerConfigs:((v={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v)},j[0xaa36a7]={weth:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",routerConfigs:((S={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:3543575},S[r.UniversalRouterVersion.V2_0]={address:"0x3a9d48ab9751398bbfa63ad67599bb04e4bdf98b",creationBlock:7259601},S)},j[137]={weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",routerConfigs:((E={})[r.UniversalRouterVersion.V1_2]={address:"0xec7BE89e9d109e7e3Fec59c222CF297125FEFda2",creationBlock:0x31ca9e9},E[r.UniversalRouterVersion.V2_0]={address:"0x1095692a6237d83c6a72f3f5efedb9a670c49223",creationBlock:0x679006e5},E)},j[80001]={weth:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",routerConfigs:((k={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},k[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},k)},j[10]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((T={})[r.UniversalRouterVersion.V1_2]={address:"0xCb1355ff08Ab38bBCE60111F1bb2B784bE25D7e8",creationBlock:0x6d637ba},T[r.UniversalRouterVersion.V2_0]={address:"0x851116d9223fabed8e56c0e6b8ad0c31d98b3507",creationBlock:0x67900f06},T)},j[420]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((P={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P)},j[42161]={weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",routerConfigs:((I={})[r.UniversalRouterVersion.V1_2]={address:"0x5E325eDA8064b456f4781070C0738d849c824258",creationBlock:0xa19f344},I[r.UniversalRouterVersion.V2_0]={address:"0xa51afafe0263b40edaef0df8781ea9aa03e381a3",creationBlock:0x678ff462},I)},j[421613]={weth:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",routerConfigs:((_={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},_[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},_)},j[42220]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((N={})[r.UniversalRouterVersion.V1_2]={address:"0x643770e279d5d0733f21d6dc03a8efbabf3255b4",creationBlock:0x146a795},N[r.UniversalRouterVersion.V2_0]={address:"0xcb695bc5D3Aa22cAD1E6DF07801b061a05A0233A",creationBlock:0x2d314d1},N)},j[44787]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((B={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},B[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},B)},j[56]={weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",routerConfigs:((R={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x21880c7},R[r.UniversalRouterVersion.V2_0]={address:"0x1906c1d672b88cd1b9ac7593301ca990f94eae07",creationBlock:0x67900b1b},R)},j[43114]={weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",routerConfigs:((C={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x265f8c9},C[r.UniversalRouterVersion.V2_0]={address:"0x94b75331ae8d42c1b61065089b7d48fe14aa73b7",creationBlock:0x679108dc},C)},j[84531]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((O={})[r.UniversalRouterVersion.V1_2]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},O[r.UniversalRouterVersion.V2_0]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},O)},j[8453]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((D={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:9107268},D[r.UniversalRouterVersion.V2_0]={address:"0x6ff5693b99212da76ad316178a184ab56d299b43",creationBlock:0x6790041d},D)},j[81457]={weth:"0x4300000000000000000000000000000000000004",routerConfigs:((U={})[r.UniversalRouterVersion.V1_2]={address:"0x643770E279d5D0733F21d6DC03A8efbABf3255B4",creationBlock:1116444},U[r.UniversalRouterVersion.V2_0]={address:"0xeabbcb3e8e415306207ef514f660a3f820025be3",creationBlock:0x679121aa},U)},j[7777777]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((F={})[r.UniversalRouterVersion.V1_2]={address:"0x2986d9721A49838ab4297b695858aF7F17f38014",creationBlock:0xb48b5b},F[r.UniversalRouterVersion.V2_0]={address:"0x3315ef7ca28db74abadc6c44570efdf06b04b020",creationBlock:0x67911b2f},F)},j[324]={weth:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91",routerConfigs:((M={})[r.UniversalRouterVersion.V1_2]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},M[r.UniversalRouterVersion.V2_0]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},M)},j[480]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((L={})[r.UniversalRouterVersion.V1_2]={address:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",creationBlock:4063979},L[r.UniversalRouterVersion.V2_0]={address:"0x8ac7bee993bb44dab564ea4bc9ea67bf9eb5e743",creationBlock:0x67910e05},L)},j[1301]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((K={})[r.UniversalRouterVersion.V1_2]={address:"0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",creationBlock:1241811},K[r.UniversalRouterVersion.V2_0]={address:"0xf70536b3bcc1bd1a972dc186a2cf84cc6da6be5d",creationBlock:7100543},K)},j[130]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((q={})[r.UniversalRouterVersion.V1_2]={address:"0x4D73A4411CA1c660035e4AECC8270E5DdDEC8C17",creationBlock:23678},q[r.UniversalRouterVersion.V2_0]={address:"0xef740bf23acae26f6492b10de645d6b98dc8eaf3",creationBlock:0x67912f9c},q)},j[10143]={weth:"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",routerConfigs:((W={})[r.UniversalRouterVersion.V1_2]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W[r.UniversalRouterVersion.V2_0]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W)},j[84532]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((V={})[r.UniversalRouterVersion.V1_2]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V[r.UniversalRouterVersion.V2_0]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V)},j[1868]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((G={})[r.UniversalRouterVersion.V1_2]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G[r.UniversalRouterVersion.V2_0]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G)},j[143]={weth:"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",routerConfigs:((z={})[r.UniversalRouterVersion.V1_2]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},z[r.UniversalRouterVersion.V2_0]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},z)},j),$=function(e,t){if(!(t in Z))throw Error("Universal Router not deployed on chain "+t);return Z[t].routerConfigs[e].address},ee=function(e){if(!(e in Z))throw Error("Universal Router not deployed on chain "+e);if("0x0000000000000000000000000000000000000000"==Z[e].weth)throw Error("Chain "+e+" does not have WETH");return Z[e].weth},et=d.BigNumber.from(2).pow(255),er="0x0000000000000000000000000000000000000000",en="0x0000000000000000000000000000000000000001",ei="0x0000000000000000000000000000000000000002";function ea(e){return e.isNative?er:e.wrapped.address}var es=new h.Percent(50,100),eo=function(){var e;function t(e,t){if(this.trade=e,this.options=t,this.tradeType=r.RouterActionType.UniswapTrade,t.fee&&t.flatFee)throw Error("Only one fee option permitted");this.payerIsUser=!(this.inputRequiresWrap||this.inputRequiresUnwrap||this.options.useRouterBalance)}return t.prototype.encode=function(e,t){this.inputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[ei,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]):this.inputRequiresUnwrap&&(e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[this.trade.inputAmount.currency.address,ei,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]),e.addCommand(r.CommandType.UNWRAP_WETH,[ei,0])),this.options.recipient=null!=(n=this.options.recipient)?n:en;for(var n,i,a,s=this.trade.tradeType===h.TradeType.EXACT_INPUT&&this.trade.routes.length>2||this.outputRequiresTransition||!!(i=this.options).fee||!!i.flatFee,o=x(this.trade.swaps);!(a=o()).done;){var u=a.value;switch(u.route.protocol){case b.Protocol.V2:eu(e,u,this.trade.tradeType,this.options,this.payerIsUser,s);break;case b.Protocol.V3:el(e,u,this.trade.tradeType,this.options,this.payerIsUser,s);break;case b.Protocol.V4:ec(e,u,this.trade.tradeType,this.options,this.payerIsUser,s);break;case b.Protocol.MIXED:!function(e,t,n,i,a,s){var o,u=t.route,l=t.inputAmount,c=t.outputAmount,d=s?ei:null!=(o=i.recipient)?o:en;if(1===u.pools.length){if(u.pools[0]instanceof p.Pool)return ec(e,t,n,i,a,s);if(u.pools[0]instanceof f.Pool)return el(e,t,n,i,a,s);if(u.pools[0]instanceof g.Pair)return eu(e,t,n,i,a,s);throw Error("Invalid route type")}for(var h=b.MixedRouteTrade.createUncheckedTrade({route:u,inputAmount:l,outputAmount:c,tradeType:n}),m=h.maximumAmountIn(i.slippageTolerance,l).quotient.toString(),y=s?0:h.minimumAmountOut(i.slippageTolerance,c).quotient.toString(),x=b.partitionMixedRouteByProtocol(u),A=function(e){return e===x.length-1},w=u.pathInput,v=0;v<x.length;v++){var S=x[v],E=S[0],k=b.getOutputOfPools(S,w),T=new b.MixedRoute(new b.MixedRouteSDK([].concat(S),w,k)),P=void 0,I=void 0;if(A(v))P=k,I=d;else{var _=x[v+1][0];P=Y(k,_),I=_ instanceof g.Pair&&k.equals(P)?_.liquidityToken.address:ei}if(E instanceof p.Pool){var N=new p.V4Planner,B=new p.Route(S,T.input,T.output);N.addSettle(w,a&&0===v,0==v?m:et),N.addAction(p.Actions.SWAP_EXACT_IN,[{currencyIn:w.isNative?er:w.address,path:p.encodeRouteToPath(B),maxHopSlippage:[],amountIn:0,amountOutMinimum:A(v)?y:0}]),N.addTake(k,I),e.addCommand(r.CommandType.V4_SWAP,[N.finalize()])}else if(E instanceof f.Pool)e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[I,0==v?m:et,A(v)?y:0,b.encodeMixedRouteToPath(T),a&&0===v]);else{if(!(E instanceof g.Pair))throw Error("Unexpected Pool Type");e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[I,0===v?m:et,A(v)?y:0,T.path.map(function(e){return e.wrapped.address}),a&&0===v])}A(v)||(k.isNative&&!P.isNative?e.addCommand(r.CommandType.WRAP_ETH,[ei,et]):!k.isNative&&P.isNative&&e.addCommand(r.CommandType.UNWRAP_WETH,[ei,0])),w=P}}(e,u,this.trade.tradeType,this.options,this.payerIsUser,s);break;default:throw Error("UNSUPPORTED_TRADE_PROTOCOL")}}var l=d.BigNumber.from(this.trade.minimumAmountOut(this.options.slippageTolerance).quotient.toString());if(s){var c=this.trade.swaps[0].route.pools,m=ea(Y(this.trade.outputAmount.currency,c[c.length-1]));if(this.options.fee){var y=f.toHex(this.options.fee.fee.multiply(1e4).quotient);e.addCommand(r.CommandType.PAY_PORTION,[m,this.options.fee.recipient,y]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(l.mul(y).div(1e4)))}if(this.options.flatFee){var A=this.options.flatFee.amount;if(l.lt(A))throw Error("Flat fee amount greater than minimumAmountOut");e.addCommand(r.CommandType.TRANSFER,[m,this.options.flatFee.recipient,A]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(A))}this.outputRequiresUnwrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,l]):this.outputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,et]):e.addCommand(r.CommandType.SWEEP,[ea(this.trade.outputAmount.currency),this.options.recipient,l])}(this.trade.tradeType===h.TradeType.EXACT_OUTPUT||this.trade.priceImpact.greaterThan(es))&&(this.inputRequiresWrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,0]):this.inputRequiresUnwrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,et]):this.trade.inputAmount.currency.isNative&&e.addCommand(r.CommandType.SWEEP,[er,this.options.recipient,0])),this.options.safeMode&&e.addCommand(r.CommandType.SWEEP,[er,this.options.recipient,0])},e=[{key:"isAllV4",get:function(){for(var e,t=!0,r=x(this.trade.swaps);!(e=r()).done;)t=t&&e.value.route.protocol==b.Protocol.V4;return t}},{key:"inputRequiresWrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool?this.trade.inputAmount.currency.isNative&&!this.trade.swaps[0].route.pathInput.isNative:this.trade.inputAmount.currency.isNative}},{key:"inputRequiresUnwrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool&&!this.trade.inputAmount.currency.isNative&&this.trade.swaps[0].route.pathInput.isNative}},{key:"outputRequiresWrap",get:function(){var e=this.trade.swaps[0].route;return e.pools[e.pools.length-1]instanceof p.Pool&&!this.trade.outputAmount.currency.isNative&&e.pathOutput.isNative}},{key:"outputRequiresUnwrap",get:function(){var e=this.trade.swaps[0].route;return e.pools[e.pools.length-1]instanceof p.Pool?this.trade.outputAmount.currency.isNative&&!this.trade.swaps[0].route.pathOutput.isNative:this.trade.outputAmount.currency.isNative}},{key:"outputRequiresTransition",get:function(){return this.outputRequiresWrap||this.outputRequiresUnwrap}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function eu(e,t,n,i,a,s){var o=t.route,u=new g.Trade(o,n==h.TradeType.EXACT_INPUT?t.inputAmount:t.outputAmount,n);n==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[s?ei:i.recipient,u.maximumAmountIn(i.slippageTolerance).quotient.toString(),s?0:u.minimumAmountOut(i.slippageTolerance).quotient.toString(),o.path.map(function(e){return e.wrapped.address}),a]):n==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V2_SWAP_EXACT_OUT,[s?ei:i.recipient,u.minimumAmountOut(i.slippageTolerance).quotient.toString(),u.maximumAmountIn(i.slippageTolerance).quotient.toString(),o.path.map(function(e){return e.wrapped.address}),a])}function el(e,t,n,i,a,s){var o=t.route,u=f.Trade.createUncheckedTrade({route:o,inputAmount:t.inputAmount,outputAmount:t.outputAmount,tradeType:n}),l=f.encodeRouteToPath(o,u.tradeType===h.TradeType.EXACT_OUTPUT);n==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[s?ei:i.recipient,u.maximumAmountIn(i.slippageTolerance).quotient.toString(),s?0:u.minimumAmountOut(i.slippageTolerance).quotient.toString(),l,a]):n==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V3_SWAP_EXACT_OUT,[s?ei:i.recipient,u.minimumAmountOut(i.slippageTolerance).quotient.toString(),u.maximumAmountIn(i.slippageTolerance).quotient.toString(),l,a])}function ec(e,t,n,i,a,s){var o,u=t.inputAmount,l=t.outputAmount,c=t.route.pools.map(function(e){return e}),d=new p.Route(c,u.currency,l.currency),f=p.Trade.createUncheckedTrade({route:d,inputAmount:u,outputAmount:l,tradeType:n}),m=s&&n==h.TradeType.EXACT_INPUT?void 0:i.slippageTolerance,g=new p.V4Planner;g.addTrade(f,m),g.addSettle(f.route.pathInput,a),g.addTake(f.route.pathOutput,s?ei:null!=(o=i.recipient)?o:en),e.addCommand(r.CommandType.V4_SWAP,[g.finalize()])}function ed(e,t){var n=t.signature,i=d.ethers.utils.arrayify(t.signature).length;65!==i&&64!==i||(n=d.ethers.utils.joinSignature(d.ethers.utils.splitSignature(t.signature))),e.addCommand(r.CommandType.PERMIT2_PERMIT,[t,n])}var ef=function(){function e(){}return e.swapCallParameters=function(t,r){var n=new J,i=new eo(t,r),a=i.trade.inputAmount.currency;a.isNative&&r.inputTokenPermit&&u(!1),r.inputTokenPermit&&ed(n,r.inputTokenPermit);var s=d.BigNumber.from(a.isNative?i.trade.maximumAmountIn(r.slippageTolerance).quotient.toString():0);return i.encode(n,{allowRevert:!1}),e.encodePlan(n,s,{deadline:r.deadlineOrPreviousBlockhash?d.BigNumber.from(r.deadlineOrPreviousBlockhash):void 0})},e.migrateV3ToV4CallParameters=function(t,n){var i=t.outputPosition.pool,a=t.inputPosition.pool.token0,s=t.inputPosition.pool.token1,o=null!=n?n:h.CHAIN_TO_ADDRESSES_MAP[i.chainId].v4PositionManagerAddress;i.currency0.isNative?i.currency0.wrapped.equals(a)&&i.currency1.equals(s)||i.currency0.wrapped.equals(s)&&i.currency1.equals(a)||u(!1):(a!==i.token0&&u(!1),s!==i.token1&&u(!1)),t.v3RemoveLiquidityOptions.liquidityPercentage.equalTo(new h.Percent(100,100))||u(!1),1!=t.v3RemoveLiquidityOptions.burnToken&&u(!1),t.v3RemoveLiquidityOptions.collectOptions.recipient!==o&&u(!1),Object.keys(t.v4AddLiquidityOptions).some(function(e){return"recipient"===e})||u(!1),t.v4AddLiquidityOptions.migrate||u(!1);var l=new J;if(t.v4AddLiquidityOptions.createPool){var c=p.Pool.getPoolKey(i.currency0,i.currency1,i.fee,i.tickSpacing,i.hooks);l.addCommand(r.CommandType.V4_INITIALIZE_POOL,[c,i.sqrtRatioX96.toString()]),delete t.v4AddLiquidityOptions.createPool}t.v3RemoveLiquidityOptions.permit&&($(r.UniversalRouterVersion.V2_0,t.inputPosition.pool.chainId)!=t.v3RemoveLiquidityOptions.permit.spender&&u(!1),m=t.v3RemoveLiquidityOptions.permit,g=t.v3RemoveLiquidityOptions.tokenId,b=f.NonfungiblePositionManager.INTERFACE.encodeFunctionData("permit",[h.validateAndParseAddress(m.spender),g,m.deadline,m.v,m.r,m.s]),l.addCommand(r.CommandType.V3_POSITION_MANAGER_PERMIT,[b]),delete t.v3RemoveLiquidityOptions.permit);for(var m,g,b,y,A=f.NonfungiblePositionManager.removeCallParameters(t.inputPosition,t.v3RemoveLiquidityOptions),w=x(f.Multicall.decodeMulticall(A.calldata));!(y=w()).done;){var v=y.value,S=v.slice(0,10);S!=f.NonfungiblePositionManager.INTERFACE.getSighash("collect")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("decreaseLiquidity")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("burn")&&u(!1),l.addCommand(r.CommandType.V3_POSITION_MANAGER_CALL,[v])}var E=p.V4PositionManager.addCallParameters(t.outputPosition,t.v4AddLiquidityOptions);return E.calldata.slice(0,10)!=p.V4PositionManager.INTERFACE.getSighash("modifyLiquidities")&&u(!1),l.addCommand(r.CommandType.V4_POSITION_MANAGER_CALL,[E.calldata]),e.encodePlan(l,d.BigNumber.from(0),{deadline:d.BigNumber.from(t.v4AddLiquidityOptions.deadline)})},e.encodePlan=function(t,r,n){void 0===n&&(n={});var i=t.commands,a=t.inputs;return{calldata:e.INTERFACE.encodeFunctionData(n.deadline?"execute(bytes,bytes[],uint256)":"execute(bytes,bytes[])",n.deadline?[i,a,n.deadline]:[i,a]),value:r.toHexString()}},e}();ef.INTERFACE=new c.Interface(l.abi);var ep,eh=function(){function e(e,t,n){this.tradeType=r.RouterActionType.UnwrapWETH,this.wethAddress=ee(t),this.amount=e,n&&(n.details.token.toLowerCase()!==this.wethAddress.toLowerCase()&&u(!1),n.details.amount>=e||u(!1),this.permit2Data=n)}return e.prototype.encode=function(e,t){var n;(n={permit2Permit:this.permit2Data,permit2TransferFrom:{token:this.wethAddress,amount:this.amount.toString()}}).permit2TransferFrom&&n.permit2Permit&&n.permit2TransferFrom.token!==n.permit2Permit.details.token&&u(!1),n.permit2Permit&&ed(e,n.permit2Permit),n.permit2TransferFrom&&e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[n.permit2TransferFrom.token,n.permit2TransferFrom.recipient?n.permit2TransferFrom.recipient:ei,n.permit2TransferFrom.amount]),e.addCommand(r.CommandType.UNWRAP_WETH,[ei,this.amount])},e}();(ep=r.PoolType||(r.PoolType={})).V2Pool="v2-pool",ep.V3Pool="v3-pool",ep.V4Pool="v4-pool";var em=function(e){return e.toLowerCase()===er.toLowerCase()||"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"===e.toLowerCase()},eg=function(){function e(){}return e.fromClassicQuote=function(t){var n=t.route,i=t.tokenIn,a=t.tokenOut;if(!n)throw Error("Expected route to be present");if(!n.length)throw Error("Expected there to be at least one route");if(n.some(function(e){return!e.length}))throw Error("Expected all routes to have at least one pool");var s=n[0],o=s[0].tokenIn,u=s[s.length-1].tokenOut;if(!o||!u)throw Error("Expected both tokenIn and tokenOut to be present");if(o.chainId!==u.chainId)throw Error("Expected tokenIn and tokenOut to be have same chainId");var l=e.toCurrency(em(i),o),c=e.toCurrency(em(a),u),d=n.map(function(t){var n=t[0].amountIn,i=t[t.length-1].amountOut;if(!n||!i)throw Error("Expected both raw amountIn and raw amountOut to be present");var a=h.CurrencyAmount.fromRawAmount(l,n),s=h.CurrencyAmount.fromRawAmount(c,i),o=e.isVersionedRoute(r.PoolType.V2Pool,t),u=e.isVersionedRoute(r.PoolType.V3Pool,t),d=e.isVersionedRoute(r.PoolType.V4Pool,t);return{routev4:d?new p.Route(t.map(e.toV4Pool),l,c):null,routev3:u?new f.Route(t.map(e.toV3Pool),l,c):null,routev2:o?new g.Route(t.map(e.toPair),l,c):null,mixedRoute:d||u||o?null:new b.MixedRouteSDK(t.map(e.toPoolOrPair),l,c),inputAmount:a,outputAmount:s}});return new b.Trade({v2Routes:d.filter(function(e){return e.routev2}).map(function(e){return{routev2:e.routev2,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v3Routes:d.filter(function(e){return e.routev3}).map(function(e){return{routev3:e.routev3,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v4Routes:d.filter(function(e){return e.routev4}).map(function(e){return{routev4:e.routev4,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),mixedRoutes:d.filter(function(e){return e.mixedRoute}).map(function(e){return{mixedRoute:e.mixedRoute,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),tradeType:t.tradeType})},e.toCurrency=function(e,t){return e?h.Ether.onChain(t.chainId):this.toToken(t)},e.toToken=function(e){var t=e.symbol,r=e.buyFeeBps,n=e.sellFeeBps;return new h.Token(e.chainId,e.address,parseInt(e.decimals.toString()),t,void 0,!1,r?d.BigNumber.from(r):void 0,n?d.BigNumber.from(n):void 0)},e.toV3Pool=function(t){var r=t.fee,n=t.sqrtRatioX96,i=t.liquidity,a=t.tickCurrent,s=t.tokenOut;return new f.Pool(e.toToken(t.tokenIn),e.toToken(s),parseInt(r),n,i,parseInt(a))},e.toV4Pool=function(t){var r=e.toCurrency(em(t.tokenIn.address),t.tokenIn),n=e.toCurrency(em(t.tokenOut.address),t.tokenOut);return new p.Pool(r,n,parseInt(t.fee),parseInt(t.tickSpacing),t.hooks,t.sqrtRatioX96,t.liquidity,parseInt(t.tickCurrent))},e.isVersionedRoute=function(e,t){return t.every(function(t){return t.type===e})},e}();eg.toPoolOrPair=function(e){switch(e.type){case r.PoolType.V4Pool:return eg.toV4Pool(e);case r.PoolType.V3Pool:return eg.toV3Pool(e);case r.PoolType.V2Pool:return eg.toPair(e);default:throw Error("Invalid pool type")}},eg.toPair=function(e){var t=e.reserve0,r=e.reserve1;return new g.Pair(h.CurrencyAmount.fromRawAmount(eg.toToken(t.token),t.quotient),h.CurrencyAmount.fromRawAmount(eg.toToken(r.token),r.quotient))};var eb=function(){function e(){}return e.parseCalldata=function(t){var r=new ey(X),n=e.INTERFACE.parseTransaction({data:t}).args;return r.parse(n.commands,n.inputs)},e}();eb.INTERFACE=new c.Interface(l.abi);var ey=function(){function e(e){this.commandDefinition=e}return e.prototype.parse=function(t,n){var i=this;return{commands:e.getCommands(t).map(function(e,t){var a=i.commandDefinition[e];if(a.parser===r.Parser.V4Actions){var s=p.V4BaseActionsParser.parseCalldata(n[t]);return{commandName:r.CommandType[e],commandType:e,params:s.actions.map(function(e){return{name:e.actionName,value:e.params.map(function(e){return{name:e.name,value:e.value}})}})}}if(a.parser===r.Parser.Abi){var o=a.params,u=d.ethers.utils.defaultAbiCoder.decode(o.map(function(e){return e.type}),n[t]).map(function(e,t){switch(o[t].subparser){case r.Subparser.V3PathExactIn:return{name:o[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(0,40)),n=40,i=[];n<t.length;){var a=t.substring(n,n+46),s=parseInt(a.substring(0,6),16),o=d.ethers.utils.getAddress(a.substring(6,46));i.push({tokenIn:r,tokenOut:o,fee:s}),r=o,n+=46}return i}(e)};case r.Subparser.V3PathExactOut:return{name:o[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(t.length-40)),n=t.length-86,i=[];n>=0;){var a=t.substring(n,n+46),s=d.ethers.utils.getAddress(a.substring(0,40)),o=parseInt(a.substring(40,46),16);i.push({tokenIn:r,tokenOut:s,fee:o}),r=s,n-=46}return i}(e)};default:return{name:o[t].name,value:e}}});return{commandName:r.CommandType[e],commandType:e,params:u}}if(a.parser===r.Parser.V3Actions)return{commandName:r.CommandType[e],commandType:e,params:n.map(function(e){return{name:"command",value:e}})};throw Error("Unsupported parser: "+a)})}},e.getCommands=function(e){for(var t=[],r=2;r<e.length;r+=2){var n=e.substring(r,r+2);t.push(parseInt(n,16))}return t},e}();r.COMMAND_DEFINITION=X,r.CommandParser=eb,r.GenericCommandParser=ey,r.ROUTER_AS_RECIPIENT=ei,r.RoutePlanner=J,r.RouterTradeAdapter=eg,r.SwapRouter=ef,r.UNIVERSAL_ROUTER_ADDRESS=$,r.UNIVERSAL_ROUTER_CREATION_BLOCK=function(e,t){if(!(t in Z))throw Error("Universal Router not deployed on chain "+t);return Z[t].routerConfigs[e].creationBlock},r.UniswapTrade=eo,r.UnwrapWETH=eh,r.WETH_ADDRESS=ee,r.isNativeCurrency=em},936868,(e,t,r)=>{"use strict";t.exports=e.r(499675)},736837,514276,509597,698430,460070,658957,679265,e=>{"use strict";var t=e.i(776267),r=e.i(675107),n=e.i(608861),i=e.i(796516),a=e.i(704433),s=e.i(913091);async function o({hash:e,privateKey:n,to:i="object"}){let{r:a,s:o,recovery:u}=t.secp256k1.sign(e.slice(2),n.slice(2),{lowS:!0,extraEntropy:!1}),l={r:(0,r.numberToHex)(a,{size:32}),s:(0,r.numberToHex)(o,{size:32}),v:u?28n:27n,yParity:u};return"bytes"===i||"hex"===i?(0,s.serializeSignature)({...l,to:i}):l}var u=e.i(656450);async function l(e){let{chainId:t,nonce:r,privateKey:n,to:i="object"}=e,a=e.contractAddress??e.address,s=await o({hash:(0,u.hashAuthorization)({address:a,chainId:t,nonce:r}),privateKey:n,to:i});return"object"===i?{address:a,chainId:t,nonce:r,...s}:s}var c=e.i(658765);async function d({message:e,privateKey:t}){return await o({hash:(0,c.hashMessage)(e),privateKey:t,to:"hex"})}var f=e.i(831095),p=e.i(766816);async function h(e){let{privateKey:t,transaction:r,serializer:n=p.serializeTransaction}=e,i="eip4844"===r.type?{...r,sidecars:!1}:r,a=await o({hash:(0,f.keccak256)(n(i)),privateKey:t});return n(r,a)}var m=e.i(995062);async function g(e){let{privateKey:t,...r}=e;return await o({hash:(0,m.hashTypedData)(r),privateKey:t,to:"hex"})}function b(e,s={}){let{nonceManager:u}=s,c=(0,r.toHex)(t.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!(0,i.isAddress)(e,{strict:!1}))throw new n.InvalidAddressError({address:e});return{address:e,type:"json-rpc"}}if(!(0,i.isAddress)(e.address,{strict:!1}))throw new n.InvalidAddressError({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:(0,a.publicKeyToAddress)(c),nonceManager:u,sign:async({hash:t})=>o({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>l({...t,privateKey:e}),signMessage:async({message:t})=>d({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>h({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>g({...t,privateKey:e})}),publicKey:c,source:"privateKey"}}e.s(["privateKeyToAccount",()=>b],736837);var y=e.i(375116);let x={standard:y.BNB_FRONTEND_RPC,mevProtection:{blockrazor:"https://bsc.blockrazor.xyz/1976844398427639808",merkle:"https://mempool.merkle.io/rpc/bsc/pk_mbs_e8dc342167e240db3bb20ef3fad302db",bloxrouteAxiom:"https://axiom-bnb.rpc.blxrbdn.com"},privateMevProtection:{blockrazorRelay:"https://tokyo.builder.blockrazor.io",fourtyEightClub:"https://axiom-private.48.club",bloxroute:"https://api.blxrbdn.com",bscGlobal:"http://global.bsc.dex.blxrbdn.com"},privateProxy:"/api/bsc-private-tx"};async function A(e,t){try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"eth_sendRawTransaction",params:[e]})});return(await r.json()).result||null}catch(e){return console.error("Transaction error:",e),null}}async function w(e,t){let r=[];for(let t of(r.push(A(e,x.mevProtection.blockrazor)),r.push(A(e,x.mevProtection.merkle)),r.push(A(e,x.mevProtection.bloxrouteAxiom)),await Promise.allSettled(r)))if("fulfilled"===t.status&&t.value)return t.value;throw Error("All MEV protection endpoints failed")}async function v(e){let t=await fetch(x.privateProxy,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tx:e})}),r=await t.json();if(r.error)throw Error(`Private Transaction Error: ${r.error}`);return r.result||r.result?.tx_hash}function S(e,t){t?w(e,!0).catch(e=>{console.error("MEV protected transaction send error:",e)}):(A(e,x.standard).catch(e=>{console.error("Standard transaction send error:",e)}),w(e,!1).catch(e=>{console.error("MEV protected transaction send error:",e)})),v(e).catch(e=>{console.error("Private transaction send error:",e)})}e.s(["BNB_RPCS",0,x,"sendBscTransaction",()=>S],514276);let E=new Set;async function k(e,t){let r=e.toLowerCase();if(E.has(r))return null;E.add(r);try{let r=await t.getCode({address:e});if(!r||"0x"===r)return!1;return r.toLowerCase().startsWith("0xef0100")}catch(e){return console.error("Error checking EIP-7702 delegation:",e),!1}}function T(e){return"Uniswap V2"===e||"Pancakeswap V2"===e||"Generic Uniswap V2"===e||"Generic Pancakeswap V2"===e?"v2":"Uniswap V3"===e||"Pancakeswap V3"===e||"Generic Uniswap V3"===e||"Generic Pancakeswap V3"===e?"v3":"Fourmeme V2"===e?"fourmeme":"Binance"===e?"binance":(("Uniswap V4"===e||"Generic Uniswap V4"===e)&&console.warn(`Protocol ${e} not yet supported for execution`),null)}e.s(["checkEIP7702Delegation",()=>k],509597),e.s(["getExecutionProtocol",()=>T],698430);var P=e.i(936868),I=e.i(734532),_=e.i(704434);let N="0x0000000000000000000000000000000000000001";function B(e,t){let r=e.map(e=>e.slice(2)),n=t.toString(16).padStart(6,"0");return`0x${r[0]}${n}${r[1]}${r[2]}`.toLowerCase()}function R(e,t,r,n,i=y.AXIOM_ROUTER_ADDRESS,a=!1){return e.addCommand(P.CommandType.V2_SWAP_EXACT_IN,[i,t,r,n,a]),e}function C(e,t,r,n,i,a=y.AXIOM_ROUTER_ADDRESS,s=!1){return e.addCommand(P.CommandType.V3_SWAP_EXACT_IN,[a,t,r,B(n,i),s]),e}e.s(["AXIOM_ROUTER_ABI",0,[{inputs:[{internalType:"bytes",name:"commands",type:"bytes"},{internalType:"bytes[]",name:"inputs",type:"bytes[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"axiomTrade",outputs:[],stateMutability:"payable",type:"function"}],"FOUR_MEME_BUY_TO_USER",0,17,"FOUR_MEME_SELL_FROM_USER",0,18,"FOUR_MEME_SELL_TO_QUOTE_TOKEN",0,20,"MSG_SENDER",0,N,"encodePath",()=>B],460070);let O=BigInt(2)**BigInt(255),D=BigInt(2)**BigInt(254);class U{planner;constructor(){this.planner=new P.RoutePlanner}addFeeWrapAllETH(){return this.planner.commands=this.planner.commands.concat("22"),this.planner.inputs.push("0x"),this}addAxiomFee(){return this.planner.commands=this.planner.commands.concat("23"),this.planner.inputs.push("0x"),this}addUnwrapAllWethFeeSweep(e){this.planner.commands=this.planner.commands.concat("24");let t=(0,_.encodeAbiParameters)([{name:"amountMinimum",type:"uint256"}],[e]);return this.planner.inputs.push(t),this}sendBribe(e){return e>BigInt(0)&&this.planner.addCommand(P.CommandType.TRANSFER,[I.BNB_QUOTE_TOKEN_INFO.bnb.address,y.BLOXROUTE_BRIBE_ADDRESS,e]),this}addSweep(e,t,r=BigInt(0)){return this.planner.addCommand(P.CommandType.SWEEP,[e,t,r]),this}buy(e,t,r,n,i,a="wbnb",s=BigInt(0)){var o,u;("v2"===e||"v3"===e)&&"bnb"===a?a="wbnb":("fourmeme"===e||"binance"===e)&&"wbnb"===a&&(a="bnb"),this.sendBribe(s);let l=I.BNB_QUOTE_TOKEN_INFO[a].address;if("bnb"!==a?this.addFeeWrapAllETH():this.addAxiomFee(),"bnb"!==a&&"wbnb"!==a){let e=I.BNB_QUOTE_TOKEN_INFO[a];if(!e.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${a}`);let{address:t,fee:r}=e.intermediatePool,n=[I.BNB_QUOTE_TOKEN_INFO.wbnb.address,e.address,t];C(this.planner,O,BigInt(0),n,r)}if("fourmeme"===e){let e;o=this.planner,e=(0,_.encodeAbiParameters)([{name:"token",type:"address"},{name:"quoteToken",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,l,r]),o.addCommand(17,[e])}else if("binance"===e){let e;if("bnb"!==a)throw Error("Binance (X Mode) tokens only support BNB as quote token");u=this.planner,u.commands=u.commands.concat("15"),e=(0,_.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,r]),u.inputs.push(e)}else{let a=[l,t,n];"v2"===e?R(this.planner,O,r,a,N):C(this.planner,O,r,a,i,N)}return this}sell(e,t,r,n,i,a,s="wbnb",o=BigInt(0)){("v2"===e||"v3"===e)&&"bnb"===s?s="wbnb":("fourmeme"===e||"binance"===e)&&"wbnb"===s&&(s="bnb"),this.sendBribe(o);let u=I.BNB_QUOTE_TOKEN_INFO[s].address;if("fourmeme"===e||"binance"===e){var l,c;let e;if("bnb"===s){let e;return l=this.planner,e=(0,_.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"}],[t,r,n]),l.addCommand(18,[e]),this}c=this.planner,e=(0,_.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"quoteToken",type:"address"}],[t,r,u]),c.addCommand(20,[e])}else{let n=[t,u,i];"v2"===e?R(this.planner,r,BigInt(0),n,y.AXIOM_ROUTER_ADDRESS,!0):C(this.planner,r,BigInt(0),n,a,y.AXIOM_ROUTER_ADDRESS,!0)}if("bnb"!==s&&"wbnb"!==s){let t="fourmeme"===e||"binance"===e?D:O,r=I.BNB_QUOTE_TOKEN_INFO[s];if(!r.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${s}`);let{address:n,fee:i}=r.intermediatePool,a=[r.address,I.BNB_QUOTE_TOKEN_INFO.wbnb.address,n];C(this.planner,t,BigInt(0),a,i,y.AXIOM_ROUTER_ADDRESS,"fourmeme"===e||"binance"===e)}return this.addUnwrapAllWethFeeSweep(n),this}finalize(){return{commands:this.planner.commands,inputs:this.planner.inputs}}}e.s(["ExecutionPlanner",()=>U],658957),e.s([],679265)},438828,206850,448259,e=>{"use strict";var t=e.i(828073);e.i(465903);var r=e.i(767924),n=e.i(375116);function i(e,r,n,i,a){let s=(0,t.default)(e).times(n).times(a-i),o=(0,t.default)(r).times(a).plus((0,t.default)(e).times(a-i));return s.div(o).integerValue(t.default.ROUND_DOWN)}function a({bnb:e,liquidityBnb:a,liquidityToken:s,fee:o,protocol:u}){try{let l=(0,t.default)(e).times(r.AXIOM_FEE_BASIS_POINTS).div(r.BASIS_POINTS_DIVISOR),c=(0,t.default)(e).minus(l);if("Fourmeme V2"===u||"Binance"===u){let e=i(c,a,s,r.FOURMEME_PROTOCOL_FEE,r.BASIS_POINTS_DIVISOR+r.FOURMEME_PROTOCOL_FEE),o=n.FOURMEME_SALE_AMOUNT.plus(s).minus(n.FOURMEME_T0).integerValue(t.default.ROUND_DOWN);if(e.gt(o))return o;return e}return i(c,a,s,o,1e6)}catch{return(0,t.default)(0)}}function s({tokens:e,liquidityBnb:n,liquidityToken:i,fee:a,protocol:s}){try{var o;let u,l,c;"Fourmeme V2"===s&&(a=0);let d=(o=a,l=(u=(0,t.default)(e).times(1e6-o).div(1e6)).times(n),c=(0,t.default)(i).plus(u),l.div(c).integerValue(t.default.ROUND_DOWN)),f=d.times(r.AXIOM_FEE_BASIS_POINTS).div(r.BASIS_POINTS_DIVISOR);if("Fourmeme V2"===s){let e=d.times(r.FOURMEME_PROTOCOL_FEE).div(r.BASIS_POINTS_DIVISOR);return d.minus(e).minus(f)}return d.minus(f)}catch{return(0,t.default)(0)}}function o({targetBnb:e,liquidityBnb:n,liquidityToken:i,fee:a,protocol:s}){var o,u;if((0,t.default)(e).isLessThan(0))throw Error("Invalid amount BNB");if((0,t.default)(e).isGreaterThan(n))throw Error("You cannot sell more than what's in the pool");"Fourmeme V2"===s&&(a=0);let l=(o="Fourmeme V2"===s?(0,t.default)(e).times(r.BASIS_POINTS_DIVISOR).div(r.BASIS_POINTS_DIVISOR-r.FOURMEME_PROTOCOL_FEE-r.AXIOM_FEE_BASIS_POINTS).integerValue(t.default.ROUND_CEIL):(0,t.default)(e).times(r.BASIS_POINTS_DIVISOR).div(r.BASIS_POINTS_DIVISOR-r.AXIOM_FEE_BASIS_POINTS).integerValue(t.default.ROUND_CEIL),u=a,(0,t.default)(o).times(i).div((0,t.default)(n).minus(o)).times(1e6).div(1e6-u).integerValue(t.default.ROUND_CEIL));if(l.isLessThan(0))throw Error("Invalid amount");return l}e.s(["estimateBuyBnb",()=>a],438828),e.s(["estimateSellBnb",()=>s],206850),e.s(["estimateSellInverseBnb",()=>o],448259)},538560,932677,970317,764335,781754,636440,353478,e=>{"use strict";e.s(["QuickBuyButtonBnb",()=>eg],538560);var t,r=e.i(843476),n=e.i(672464),i=e.i(618566),a=e.i(271645),s=e.i(432602),o=e.i(363071),u=e.i(592846);e.i(490156);var l=e.i(542119),c=e.i(741124),d=e.i(352120),f=e.i(538701);e.s(["useBnbSwap",()=>eh],353478);var p=e.i(247167),h=e.i(828073),m=e.i(354640),g=e.i(309682),b=e.i(656679),y=e.i(110163),x=e.i(599509),A=e.i(668375),w=e.i(736837),v=e.i(746256),S=e.i(514276),E=e.i(509597),k=e.i(734532),T=e.i(375116),P=e.i(698430),I=e.i(885438),_=e.i(722607);e.i(679265);var N=e.i(460070),B=e.i(658957),R=e.i(181937),C=e.i(438828),O=e.i(206850),D=e.i(448259),U=e.i(401597),F=e.i(458768),M=e.i(659341),L=e.i(831095),K=e.i(944325);let q=(0,e.i(639372).atom)(Date.now());e.s(["serverTimeAtom",0,q],932677);var W=e.i(750214);function V(){let e=(0,W.useAtomCallback)((0,a.useCallback)(e=>e(I.bnbNoncesAtom),[])),t=(0,n.useSetAtom)(I.bnbNoncesAtom);return(0,a.useCallback)((r,n,i,a)=>{let s=e(),o=s[r.toLowerCase()];if(!o)return;let u=o.lastOnChainNonce,l=o.pendingTxs.filter(e=>e.nonce>u)??[],c=Date.now(),d=1e3*T.CANCEL_TRANSACTION_BUFFER_SECONDS;for(let t=u+1;t<i;t++){let i=l.find(e=>e.nonce===t);if(i){let s=c-i.createdAt;s>=d?G(n,t,a):setTimeout(()=>{let i=e()[r.toLowerCase()];i&&!(t<=i.lastOnChainNonce)&&G(n,t,a)},d-s)}else G(n,t,a)}t({...s,[r.toLowerCase()]:{...o,pendingTxs:l}})},[e,t])}async function G(e,t,r){try{let n=(0,w.privateKeyToAccount)(`0x${e}`),i={from:n.address,to:n.address,value:BigInt(0),gas:BigInt(21e3),gasPrice:r,nonce:t,chainId:v.bsc.id},a=await n.signTransaction(i);(0,S.sendBscTransaction)(a,!1)}catch{}}e.s(["useBnbCancelPendingTx",()=>V],970317);var z=e.i(268804),j=e.i(674768);let H=[{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];async function Q(e,t,r,n=100,i=12e3){t?await Promise.race([X(e,r,n,i),J(t.ws,r,i,t.wsOpenHandlers,t.wsMessageHandlers)]):await X(e,r,n,i)}async function X(e,t,r,n){let i=null,a=Date.now();for(;Date.now()-a<n;){try{if(i=await e.request({method:"eth_getTransactionReceipt",params:[t]}))break}catch{}await new Promise(e=>setTimeout(e,r))}if(!i)throw Error("Transaction timed out");if("0x1"!==i.status)throw Error("Transaction reverted");return i}async function J(e,t,r,n,i){let a=`bnb|${t}`;return new Promise((t,s)=>{let o=setTimeout(()=>{s(Error("Transaction timed out"))},r),u=()=>{e.send(JSON.stringify({action:"join",room:a}))};e.readyState===WebSocket.OPEN?u():n.push(u),i.push(e=>{try{JSON.parse(e.data).room===a&&(clearTimeout(o),t())}catch{}})})}e.s(["ERC20_ABI",0,H],764335),e.s(["monitorTransaction",()=>Q],781754);var Y=e.i(581949);let Z="0xcA11bde05977b3631167028862bE2a173976CA11",$=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"}];async function ee({rpcUrl:e,calls:t,blockNumber:r,includeBlockNumber:n=!1,timeout:i=1e4}){let a=[...t];n&&!r&&a.push({target:Z,allowFailure:!1,callData:(0,b.encodeFunctionData)({abi:$,functionName:"getBlockNumber",args:[]})});let s=(0,b.encodeFunctionData)({abi:$,functionName:"aggregate3",args:[a]}),o=r?[{to:Z,data:s},`0x${r.toString(16)}`]:[{to:Z,data:s},"latest"],u=await Y.default.post(e,{jsonrpc:"2.0",id:1,method:"eth_call",params:o},{headers:{"Content-Type":"application/json"},timeout:i});if(!u.data.result)throw Error("Invalid response from RPC");let l=function(e){let t=[],r=128,n=parseInt(e.slice(64,128),16),i=[];for(let t=0;t<n;t++){let t=e.slice(r,r+64);i.push(2*parseInt(t,16)),r+=64}for(let r=0;r<n;r++){let n=i[r]+128,a="1"===e.slice(n,n+64).slice(-1),s=2*parseInt(e.slice(n+64,n+128),16),o=n+s,u=2*parseInt(e.slice(o,o+64),16),l=e.slice(o+64,o+64+u);t.push({success:a,returnData:l})}return t}(u.data.result.slice(2)),c=r;if(n&&!r&&l.length>t.length){let e=l[l.length-1];if(e?.success&&e.returnData.length>=64)c=parseInt(e.returnData.slice(0,64),16);else throw Error("Failed to get block number from multicall")}return{results:n&&!r?l.slice(0,-1):l,blockNumber:c??void 0}}(t={}).NOT_APPROVED="not_approved",t.PENDING="pending",t.APPROVED="approved",t.FETCHING="fetching";let et=new Map;function er(e,t,r){return[e.toLowerCase(),t.toLowerCase(),r.toLowerCase()]}function en(e,t,r,n){let[i,a,s]=er(e,t,r),o=et.get(i);o||(o=new Map,et.set(i,o));let u=o.get(a);u||(u=new Map,o.set(a,u)),u.set(s,n)}async function ei(e,t,r,n){let[i,a,s]=er(e,t,r),o=()=>{let n=et.get(i),o=n?.get(a),u=o?.get(s);return u?"pending"===u.status&&u.submittedAt&&Date.now()-u.submittedAt>1e3*T.CANCEL_TRANSACTION_BUFFER_SECONDS?(en(e,t,r,{status:"not_approved"}),"not_approved"):u.status:null},u=o();if(u)return u;let l=n||(0,g.createPublicClient)({chain:v.bsc,transport:(0,y.http)(T.BNB_FRONTEND_RPC)});try{let n=await l.readContract({address:t,abi:H,functionName:"allowance",args:[e,r]}),i=o();if(i)return i;let a=n>=j.maxUint256/BigInt(10)?"approved":"not_approved";return en(e,t,r,{status:a}),a}catch(e){return console.error("Failed to fetch approval status:",e),"not_approved"}}async function ea(e,t){let r=[],n=[];for(let i of e)for(let{token:e,spender:a}of t)r.push({target:e,allowFailure:!0,callData:(0,b.encodeFunctionData)({abi:H,functionName:"allowance",args:[i,a]})}),n.push({wallet:i,token:e,spender:a});try{let{results:e}=await ee({rpcUrl:T.BNB_FRONTEND_RPC,calls:r});e.forEach((e,t)=>{let{wallet:r,token:i,spender:a}=n[t];if(e.success&&e.returnData.length>=64){let t=BigInt("0x"+e.returnData.slice(0,64))>=j.maxUint256/BigInt(10)?"approved":"not_approved";en(r,i,a,{status:t})}})}catch(e){console.error("Failed to prefetch approvals:",e)}}async function es(e,t,r,n,i,a,s,o){let u=n.address,l=await ei(u,e,t,r);if("approved"!==l&&("buy"!==o||"pending"!==l)){en(u,e,t,{status:"pending",submittedAt:Date.now()});try{let o=await a(u,r),l={from:n.address,to:e,data:(0,b.encodeFunctionData)({abi:H,functionName:"approve",args:[t,j.maxUint256]}),value:BigInt(0),gas:T.BNB_GAS_CONFIG.gasLimitApprove,gasPrice:i,nonce:o,chainId:v.bsc.id};if(!n.signTransaction)throw Error("Account does not support signing transactions");(async()=>{try{let i=await n.signTransaction(l),a=(0,L.keccak256)(i);(0,S.sendBscTransaction)(i,!1),await Q(r,s,a,500,1e3*T.SWAP_DEADLINE_SECONDS),en(u,e,t,{status:"approved"})}catch(r){console.error("Token approval failed:",r),en(u,e,t,{status:"not_approved"})}})()}catch(r){console.error("Token approval failed:",r),en(u,e,t,{status:"not_approved"})}}}async function eo(e,t,r,n,i,a,s,o,u){let l=[];"fourmeme"===e||"binance"===e?(l.push(es(t,T.FOUR_MEME_ROUTER_ADDRESS,n,i,a,s,o,u)),"bnb"!==r&&"wbnb"!==r&&l.push(es(k.BNB_QUOTE_TOKEN_INFO[r].address,T.AXIOM_ROUTER_ADDRESS,n,i,a,s,o,u))):l.push(es(t,T.AXIOM_ROUTER_ADDRESS,n,i,a,s,o,u)),await Promise.all(l)}e.s(["handleAllApprovals",()=>eo,"prefetchApprovals",()=>ea],636440);var eu=e.i(918030),el=e.i(744066),ec=e.i(91204),ed=e.i(705766);async function ef({results:e,walletsToUse:t,tokenAddress:r,startTime:n,toastId:i,refreshBnbNonces:a,refreshBalancesEvm:s,handleTokenReferral:o,tradeType:u}){let l=e.filter(e=>e.success).length,c=e.length-l,d=Date.now()-n;l===e.length?"buy"===u?l>1?F.default.txSuccess(`All ${l} buy${l>1?"s":""} successful!`,{toastId:i,elapsedMs:d}):F.default.txSuccess("Buy successful!",{toastId:i,elapsedMs:d}):l>1?F.default.txSellSuccess(`All ${l} sell${l>1?"s":""} successful!`,{toastId:i,elapsedMs:d}):F.default.txSellSuccess("Sell successful!",{toastId:i,elapsedMs:d}):l>0?F.default.warn(`${l}/${e.length} ${u}${l>1?"s":""} successful, ${c} failed`,{toastId:i}):e.length>1?F.default.error(`All ${u}s failed`,{toastId:i}):F.default.error(`${u} failed: Transaction reverted`,{toastId:i}),a(t),s(t,r),setTimeout(()=>{s(t,r)},1e3);let f=e.find(e=>e.success);f&&o(f.hash,r)}function ep(e){return e>=20?2e3:e>=10?1e3:e>=5?500:200}function eh(){let e=(0,n.useAtomValue)(l.isAuthedAtom),t=(0,n.useAtomValue)(I.selectedEvmWalletsAtom),r=(0,n.useAtomValue)(I.monitoredEvmWalletsAtom),i=(0,n.useAtomValue)(I.evmBalancesAtom),s=(0,n.useAtomValue)(I.evmTokenAccountsAtom),o=(0,n.useAtomValue)(K.regionInfoAtom),u=(0,n.useAtomValue)(I.buyVarianceBnbAtom),c=(0,n.useAtomValue)(I.transactionDelayMultiWalletBnbAtom),d=(0,W.useAtomCallback)((0,a.useCallback)(e=>e(q),[])),f=(0,m.useRefreshBalancesEvm)(),G=(0,_.useGetEvmPreset)(),j=(0,I.useGetAndIncrementNonce)(),H=(0,I.useRefreshBnbNonces)(),X=V(),J=(0,eu.useHandleTokenReferral)();return(0,a.useCallback)(async({poolConfig:n,tradeType:l,amount:m,overrideWalletAddress:_,presetType:q="default",fetchLatestSwapInfo:W=!1})=>{let V=Date.now(),Y=d(),Z=(0,K.getRegionUrl)(o.name),$=new WebSocket(p.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?Z+"/?localhost-password="+p.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD:Z),ee=[],et=[];if($.onopen=()=>{for(let e of ee)e()},$.onmessage=e=>{for(let t of et)t(e)},setTimeout(()=>{try{$.close()}catch(e){console.error("Error closing WebSocket:",e)}},1e4),!e)return void F.default.error("Please sign in to trade");if(0===t.length)return void F.default.error("Please select a wallet to trade with");let er=_?[_]:t;if(!n.pairAddress||!n.tokenAddress)return void F.default.error("Invalid pool configuration");let en=F.default.loadingWithTimer(`${"buy"===l?"Buying":"Selling"} tokens${er.length>1?` across ${er.length} wallets`:""}...`,{});try{let e=G(l,q),t=Number(T.BNB_GAS_CONFIG.gasLimit)+Number(T.BNB_GAS_CONFIG.gasLimitApprove);if("buy"===l&&"bnb"!==m.units)return void F.default.error("Buy orders must specify amount in BNB",{toastId:en});let o=new Map;if("buy"===l&&"bnb"===m.units){let e=new M.default((0,x.parseEther)(m.amountBnb.toString()).toString()),t=(0,U.distributeAmountBN)(e,er.length,u);for(let e=0;e<er.length;e++)o.set(er[e],t[e])}let d=new Map,p=(r,n,a)=>{let s=(0,h.default)(t).multipliedBy(e.customGas).multipliedBy(1e9).plus((0,h.default)(e.bribe).multipliedBy(1e18));"buy"===l&&"bnb"===m.units&&n&&(s=s.plus((0,h.default)(n)));let o=i.data.get(r.toLowerCase()),u=a?(0,h.default)(a[r.toLowerCase()]?.balanceWei??"0"):(0,h.default)(o?.balanceWei??"0");u.isLessThan(s)?d.set(r.toLowerCase(),{balanceWei:u,requiredWei:s}):d.delete(r.toLowerCase())};for(let e of er)p(e,o.get(e)?.toString());if(d.size>0){let e={publicKeys:Array.from(d.keys())},t=await z.axiomApi.post("/batched-evm-balance",e);for(let e of d.keys())p(e,o.get(e)?.toString(),t);if(d.size>0){for(let e of d.keys()){let t=d.get(e).requiredWei,r=d.get(e).balanceWei;F.default.error(`Insufficient BNB balance for swap and gas fees${er.length>1?` for ${e}`:""}. Required: ${t.dividedBy(1e18).toPrecision(3)} BNB, Available: ${r.dividedBy(1e18).toPrecision(3)} BNB`,{duration:4e3})}ed.default.dismiss(en);return}}let _=n;if(W)try{let e=await el.bnbApi.get("/swap-info",{pairAddress:n.pairAddress}),t=(0,el.bnbGetDataOrThrow)(e);if(!(_={...n,liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken}).quoteToken){let e=(0,k.getQuoteTokenFromAddresses)(t.quoteTokenAddress);if(!e)return void F.default.error("Fetched invalid quote token",{toastId:en});_.quoteToken=e}_.protocol||(_.protocol=t.protocol),_.fee||(_.fee=t.fee),_.tokenDecimals||(_.tokenDecimals=t.tokenDecimals)}catch{F.default.error("Failed to fetch latest swap info, using provided values",{toastId:en});return}let K=(0,P.getExecutionProtocol)(_.protocol);if(!K)return void F.default.error(`Protocol ${_.protocol} not supported`,{toastId:en});let Z=_.pairAddress,ei=_.tokenAddress,ea=_.fee,es=_.quoteToken,eu=(0,g.createPublicClient)({chain:v.bsc,transport:(0,y.http)(T.BNB_FRONTEND_RPC)}),eh=(0,A.parseUnits)(e.customGas.toString(),9),em=eh+(0,A.parseUnits)(e.bribe.toString(),18)/T.BNB_GAS_CONFIG.gasLimit,eg=BigInt(0);if("buy"===l){let t;if("bnb"!==m.units)return void F.default.error("Buy orders must specify amount in BNB",{toastId:en});if(m.amountBnb<T.MIN_BUY_AMOUNT_BNB)return void F.default.error(`Minimum buy amount is ${T.MIN_BUY_AMOUNT_BNB} BNB`,{toastId:en});let n=async(t,n)=>{try{let i=r.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!i)return{wallet:t,hash:"",success:!1};let a=(0,w.privateKeyToAccount)(`0x${i}`),s=BigInt(n.toString()),o=(0,C.estimateBuyBnb)({bnb:s.toString(),liquidityBnb:_.liquidityBnb,liquidityToken:_.liquidityToken,fee:ea,protocol:_.protocol}),u=BigInt((0,R.applySlippage)(o,e.slippage,"buy").toFixed(0)),l=new B.ExecutionPlanner;l.buy(K,ei,u,Z,ea,es,eg);let c=l.finalize(),d=BigInt(Math.ceil(Math.max(Y,Date.now())/1e3)+T.SWAP_DEADLINE_SECONDS),f=await j(a.address,eu),p="binance"===K?T.AXIOM_ROUTER_ADDRESS_V2:T.AXIOM_ROUTER_ADDRESS,h=await a.signTransaction({from:a.address,to:p,data:(0,b.encodeFunctionData)({abi:N.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[c.commands,c.inputs,d]}),value:s+eg,gas:T.BNB_GAS_CONFIG.gasLimit,gasPrice:em,nonce:f,chainId:v.bsc.id}),m=(0,L.keccak256)(h);return(0,S.sendBscTransaction)(h,e.antiMevRpc),X(a.address,i,f,eh),eo(K,ei,es,eu,a,eh,j,{ws:$,wsOpenHandlers:ee,wsMessageHandlers:et},"buy"),await Q(eu,{ws:$,wsOpenHandlers:ee,wsMessageHandlers:et},m,ep(er.length),(T.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:m,success:!0}}catch(e){return console.error(`Buy failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}};if(0===c)t=await Promise.all(er.map(e=>n(e,o.get(e))));else{let e=[];for(let t=0;t<er.length;t++)e.push(n(er[t],o.get(er[t]))),t<er.length-1&&await (0,ec.sleep)(c);t=await Promise.all(e)}for(let e of(await ef({results:t,walletsToUse:er,tokenAddress:ei,startTime:V,toastId:en,refreshBnbNonces:H,refreshBalancesEvm:f,handleTokenReferral:J,tradeType:"buy"}),t.filter(e=>e.success).map(e=>e.wallet)))(async()=>{let t=await (0,E.checkEIP7702Delegation)(e,eu);!0===t&&F.default.warn({message:a.default.createElement("span",null,"You are using a smart wallet which makes trading slower. ",a.default.createElement("a",{href:"https://support.metamask.io/configure/accounts/switch-to-or-revert-from-a-smart-account/#how-to-switch-back-to-a-standard-account",target:"_blank",rel:"noopener noreferrer",className:"underline text-primaryBlue hover:text-primaryBlue/80"},"Follow these steps to disable")," or contact support for help.")},{duration:1/0,toastId:`eip7702-warning-${e}`})})().catch(console.error);return}if("sell"===l){let t,n,i=[],a=new Map;for(let e of er){let t=(0,I.findEvmTokenBalanceRaw)(s,e,ei);t&&"0"!==t||i.push(e)}if(i.length>0)try{let e=await z.axiomApi.post("/batched-evm-token-balances-by-token",{publicKeys:i,tokenAddress:ei});for(let t of i){let r=e[t.toLowerCase()],n=r?.tokenBalance||"0";"0"!==n&&a.set(t,n)}}catch(e){console.error("Failed to fetch fresh balances:",e)}let o=e=>a.has(e)?a.get(e):(0,I.findEvmTokenBalanceRaw)(s,e,ei)||"0";if("percentage"===m.units)for(let e of(t=new Map,er)){let r=o(e);if(r&&"0"!==r){let n=(0,h.default)(r).multipliedBy(m.percentage).dividedBy(100).integerValue(h.default.ROUND_DOWN);n.isGreaterThan(0)&&t.set(e,BigInt(n.toFixed(0)))}}else try{t=function(e,t,r,n){let i,a=new Map;if("bnb"===e.units){let r=(0,h.default)(e.amountBnb).multipliedBy(1e18);i=(0,D.estimateSellInverseBnb)({targetBnb:r.toFixed(0),liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken,fee:t.fee,protocol:t.protocol})}else if("tokens"===e.units)i=(0,h.default)(e.amountTokens).multipliedBy(10**t.tokenDecimals);else throw Error("Percentage sells do not use getBnbTokensToSell");let s=(0,h.default)(0);for(let e of r){let t=n(e);s=s.plus(t||"0")}if(i.isGreaterThan(s.multipliedBy(1.01)))throw Error(`Not enough tokens. Need ${i.dividedBy(10**t.tokenDecimals).toFixed(4)} but have ${s.dividedBy(10**t.tokenDecimals).toFixed(4)}`);i.isGreaterThan(s)&&(i=s);let o=i;for(let e of r){if(o.isZero())break;let t=n(e),r=(0,h.default)(t||"0"),i=r.isGreaterThan(o)?o:r;i.isGreaterThan(0)&&(a.set(e,BigInt(i.toFixed(0))),o=o.minus(i))}return a}(m,_,er,o)}catch(e){F.default.error(e instanceof Error?e.message:"Error calculating sell amounts",{toastId:en});return}if(0===t.size)return void F.default.error("No tokens to sell",{toastId:en});let u=async(t,n)=>{try{let i=r.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!i)return{wallet:t,hash:"",success:!1};let a=(0,w.privateKeyToAccount)(`0x${i}`),s=n;("fourmeme"===K||"binance"===K)&&(s=n/BigInt(1e9)*BigInt(1e9));let o=(0,O.estimateSellBnb)({tokens:s.toString(),liquidityBnb:_.liquidityBnb,liquidityToken:_.liquidityToken,fee:ea,protocol:_.protocol}),u=BigInt((0,R.applySlippage)(o,e.slippage,"sell").toFixed(0));await eo(K,ei,es,eu,a,eh,j,{ws:$,wsOpenHandlers:ee,wsMessageHandlers:et},"sell");let l=new B.ExecutionPlanner;l.sell(K,ei,s,u,Z,ea,es,eg);let c=l.finalize(),d=BigInt(Math.ceil(Math.max(Y,Date.now())/1e3)+T.SWAP_DEADLINE_SECONDS),f=await j(a.address,eu),p=await a.signTransaction({from:a.address,to:T.AXIOM_ROUTER_ADDRESS,data:(0,b.encodeFunctionData)({abi:N.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[c.commands,c.inputs,d]}),value:eg,gas:T.BNB_GAS_CONFIG.gasLimit,gasPrice:em,nonce:f,chainId:v.bsc.id}),h=(0,L.keccak256)(p);return(0,S.sendBscTransaction)(p,e.antiMevRpc),X(a.address,i,f,eh),await Q(eu,{ws:$,wsOpenHandlers:ee,wsMessageHandlers:et},h,ep(er.length),(T.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:h,success:!0}}catch(e){return console.error(`Sell failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}},l=Array.from(t.entries());if(0===c)n=await Promise.all(l.map(([e,t])=>u(e,t)));else{let e=[];for(let t=0;t<l.length;t++){let[r,n]=l[t];e.push(u(r,n)),t<l.length-1&&await new Promise(e=>setTimeout(e,c))}n=await Promise.all(e)}await ef({results:n,walletsToUse:Array.from(t.keys()),tokenAddress:ei,startTime:V,toastId:en,refreshBnbNonces:H,refreshBalancesEvm:f,handleTokenReferral:J,tradeType:"sell"});return}}catch(e){F.default.error(`${"buy"===l?"Buy":"Sell"} failed: ${e instanceof Error?e.message:"Unknown error"}`,{toastId:en}),f(er,n.tokenAddress)}},[e,i,s,d,f,G,o,j,H,t,r,X,J,u,c])}var em=e.i(937491);let eg=(0,a.memo)(function({pairInfo:e,size:t="32px",icon:p=!1,padding:h="12px",hideUnit:m=!1,showLabel:g=!0,pulse:b=!1,rounded:y="999px",keyType:x="default",width:A="",height:w="",seeThrough:v=!1,transparentStyle:S=!1,isSecond:E=!1,isPulse:k=!1,color:T="primaryBlue",shouldRedirect:P=!1,fetchLatestSwapInfo:I=!1}){let _,{t:N}=(0,u.useTranslation)(),B=(0,n.useAtomValue)(f.themeAtom),R=(0,n.useAtomValue)(c.currentChainAtom),[C]=(0,s.useEvmSettings)("lowContrastButtons",!1),O=v&&C?"textPrimary":T,D=O||"primaryBlue",U=O?.startsWith("#"),F="textPrimary"===O,M=U?(0,em.synthesizeHoverColor)(O):O?F?"textPrimary":`${O}Hover`:"primaryBlueHover",[L,K]=(0,d.useQuickBuyAmount)(E?"second":x),q=eh(),W=(0,n.useAtomValue)(l.isAuthedAtom),V=(0,n.useSetAtom)(l.isSignupModalOpenAtom),G=(0,a.useRef)(null),{uiLocked:z,isLocked:j,lock:H,unlock:Q}=(0,o.default)(),[X,J]=(0,a.useState)(!1),[Y]=(0,s.useEvmSettings)("quickBuyBehavior","nothing"),Z=(0,i.useRouter)(),[$]=(0,s.useEvmSettings)("ultraButtonBorder",!1),[ee]=(0,s.useEvmSettings)("useGigaButtons",!1),et=async t=>{if(t.preventDefault(),t.stopPropagation(),!j()){if(!W)return void V(!0);if(H(),setTimeout(()=>{Q()},200),q({poolConfig:{pairAddress:e.pairAddress,tokenAddress:e.tokenAddress,tokenDecimals:e.tokenDecimals,protocol:e.protocol,fee:e.fee,quoteToken:e.quoteToken,liquidityBnb:e.liquidityBnb,liquidityToken:e.liquidityToken},tradeType:"buy",amount:{units:"bnb",amountBnb:L},presetType:E?"second":x,fetchLatestSwapInfo:I}),k&&"nothing"!==Y||!0===P){let t=e.pairAddress;if("tab"===Y){let e=window.open(`/meme/${t}?chain=${R}`,"_blank");e&&e.focus()}else"goto"===Y&&Z.push(`/meme/${t}?chain=${R}`)}}};return(0,r.jsxs)("button",{type:"button",ref:G,onClick:et,className:`${b?v?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"hover:bg-secondaryStroke bg-primaryStroke text-textSecondary":S?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":v?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!U?`bg-${D}`:""} ${!b&&!v&&!S&&!U&&`hover:bg-${M}`} ${b?v?!U?F?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${M} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":S||v?!U?F?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${M} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${v?"justify-end items-end":"justify-center items-center"} rounded-[${y}] ${w?`${w}`:`h-[${t}]`} whitespace-nowrap transition-all duration-0 relative overflow-hidden group/quickBuyButton ${v?"hover:backdrop-blur-[0.65px]":""} ${v?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:h,paddingRight:v?"16px":h,paddingBottom:v?"16px":void 0,width:A,...U?{backgroundColor:b||v||S?void 0:D,color:b&&v||S||v?D:void 0}:{},...$&&ee&&k?{boxShadow:`inset 0 0 0 1px ${C?"rgba(255, 255, 255, 0.5)":E&&U?D:B.primaryColor}`,borderRadius:"4px"}:{}},disabled:z,onMouseEnter:e=>{J(!0),!U||b||v||S||(e.currentTarget.style.backgroundColor=M),U&&(b&&v||S||v)&&(e.currentTarget.style.color=M)},onMouseLeave:e=>{J(!1),!U||b||v||S||(e.currentTarget.style.backgroundColor=D),U&&(b&&v||S||v)&&(e.currentTarget.style.color=D)},onMouseMove:e=>{if(v){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[v&&(0,r.jsx)("div",{className:`absolute pointer-events-none transition-opacity duration-200 ease-in-out ${X?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(_=(0,em.hexToRgb)(em.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${_.r}, ${_.g}, ${_.b}, 0.15), rgba(${_.r}, ${_.g}, ${_.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),z?(0,r.jsx)("div",{className:"animate-spin relative z-10",children:(0,r.jsx)("i",{className:"ri-loader-4-line text-[16px] flex items-center"})}):(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)("i",{className:`${b?v?F?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary":S?!U?F?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${M} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":v?!U?F?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-flashlight-fill text-${M} transition-colors duration-0 -mb-[2px]`:"ri-flashlight-fill transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill"} text-[16px] flex items-center relative z-10`,style:U&&!b?{color:S||v?D:void 0}:void 0}),g&&(0,r.jsx)("span",{className:`text-[12px] ${v||S||b?"font-semibold":"font-bold"} ${v||S?"transition-colors duration-0":""} relative z-10`,children:N("Buy")}),K&&(0,r.jsxs)("span",{className:`text-[12px] ${v||S?"font-medium":b?"font-semibold":"font-bold"} ${v||S?"transition-colors duration-0":""} relative z-10`,children:[K,!m&&" BNB"]})]})]})})},431751,e=>{"use strict";var t=e.i(639372),r=e.i(672464),n=e.i(265172),i=e.i(271645),a=e.i(741124);let s=(0,t.atom)([]),o=(0,t.atom)([]),u=(0,t.atom)([]),l=(0,t.atom)(!1),c=(0,t.atom)(!1),d=(0,t.atom)(!1),f=(0,t.atom)(null),p=(0,t.atom)(!1),h=(0,t.atom)(!1),m=(0,t.atom)(!1),g=(0,t.atom)(!1),b=(0,t.atom)(!1),y=(0,t.atom)(!1),x=(0,n.atomWithStorage)("newPairsSearchQuery","",void 0,{getOnInit:!0}),A=(0,n.atomWithStorage)("finalStretchSearchQuery","",void 0,{getOnInit:!0}),w=(0,n.atomWithStorage)("migratedSearchQuery","",void 0,{getOnInit:!0}),v=(0,n.atomWithStorage)("blacklistedItemsMap",{},void 0,{getOnInit:!0}),S={sol:(0,n.atomWithStorage)("blacklist-sol",{},void 0,{getOnInit:!0}),bnb:(0,n.atomWithStorage)("blacklist-bnb",{},void 0,{getOnInit:!0})},E="blacklist-migration-v1-complete";!function(){if("undefined"!=typeof localStorage&&!localStorage.getItem(E))try{let e=localStorage.getItem("blacklistedItemsMap");if(!e)return void localStorage.setItem(E,"true");let t=JSON.parse(e),r={},n={};for(let[e,i]of Object.entries(t))"ca"===i.type||"dev"===i.type?n[e]=i:r[e]=i;localStorage.setItem("blacklistedItemsMap",JSON.stringify(r)),localStorage.setItem("blacklist-sol",JSON.stringify(n)),localStorage.setItem(E,"true")}catch(e){console.error(" Blacklist migration failed:",e),localStorage.setItem(E,"true")}}();let k=(0,t.atom)(e=>{let t=e(a.currentChainAtom),r=e(v),n=e(S[t]);return{...r,...n}}),T=(0,t.atom)(!1);(0,n.atomWithStorage)("pulseNotificationsEnabled",!0,void 0,{getOnInit:!0});let P=(0,n.atomWithStorage)("pulseSoundEnabled",!1,void 0,{getOnInit:!1}),I=(0,n.atomWithStorage)("pulseSoundVolume",50,void 0,{getOnInit:!0});(0,n.atomWithStorage)("newPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,n.atomWithStorage)("migratedPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,n.atomWithStorage)("finalStretchSoundEnabled",!0,void 0,{getOnInit:!0});let _=(0,n.atomWithStorage)("newPairsSoundType","default",void 0,{getOnInit:!0}),N=(0,n.atomWithStorage)("finalStretchSoundType","default",void 0,{getOnInit:!0}),B=(0,n.atomWithStorage)("migratedSoundType","default",void 0,{getOnInit:!0}),R={low:"#52C5FF",mid:"#DCC13C",high:"#2FE3AC",thresholdLow:3e4,thresholdHigh:15e4},C={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:10,thresholdHigh:50},O={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:1e3,thresholdHigh:2e3},D={low:"#10B981",high:"#EF4444",mid:"#F59E0B",thresholdLow:10,thresholdHigh:60,thresholdLowUnit:"minutes",thresholdHighUnit:"minutes"},U=(0,t.atom)("audit"),F=(0,t.atom)("newPairs");e.s(["BLACKLIST_MAX_SIZE",0,1e3,"DEFAULT_HOLDERS_COLORS_SETTINGS",0,C,"DEFAULT_MARKET_CAP_COLORS_SETTINGS",0,R,"DEFAULT_PULSE_COLORS_SETTINGS",0,{marketCap:R,holders:C,volume:O,tweetCreatedAt:D},"DEFAULT_TWEET_CREATED_AT_COLORS_SETTINGS",0,D,"DEFAULT_VOLUME_COLORS_SETTINGS",0,O,"activeSubTabPulseAtom",0,U,"activeTableTabPulseAtom",0,F,"blacklistedItemsMapAtom",0,v,"chainBlacklistAtoms",0,S,"currentChainBlacklistAtom",0,k,"currentSnipePairAtom",0,f,"finalStretchDataAtom",0,o,"finalStretchSearchBarQueryAtom",0,A,"finalStretchSearchQueryAtom",0,A,"finalStretchSoundTypeAtom",0,N,"isAlertsModalOpenAtom",0,T,"isBlacklistModalOpenAtom",0,b,"isFiltersOpenAtom",0,g,"isFinalStretchLoadingAtom",0,c,"isFinalStretchPausedAtom",0,h,"isMigratedLoadingAtom",0,d,"isMigratedPausedAtom",0,m,"isNewPairsLoadingAtom",0,l,"isNewPairsPausedAtom",0,p,"migratedDataAtom",0,u,"migratedSearchBarQueryAtom",0,w,"migratedSearchQueryAtom",0,w,"migratedSoundTypeAtom",0,B,"newPairsDataAtom",0,s,"newPairsSearchBarQueryAtom",0,x,"newPairsSearchQueryAtom",0,x,"newPairsSoundTypeAtom",0,_,"pulseSoundEnabledAtom",0,P,"pulseSoundVolumeAtom",0,I,"showDiscoverBlacklistedItemsAtom",0,y,"useCleanupPulseAtoms",0,()=>{let e=(0,r.useSetAtom)(p),t=(0,r.useSetAtom)(h),n=(0,r.useSetAtom)(m),a=(0,r.useSetAtom)(x),s=(0,r.useSetAtom)(A),o=(0,r.useSetAtom)(w);(0,i.useEffect)(()=>()=>{e(!1),t(!1),n(!1),a(""),s(""),o("")},[e,t,n,a,s,o])}])},458768,603,e=>{"use strict";e.s(["default",()=>N],458768);var t=e.i(843476),r=e.i(639372),n=e.i(705766),i=e.i(741124),a=e.i(718646),s=e.i(740626);e.s(["QuickBuyButton",()=>v],603);var o=e.i(672464),u=e.i(564012),l=e.i(538560),c=e.i(618566),d=e.i(271645),f=e.i(431751),p=e.i(363071),h=e.i(592846);e.i(490156);var m=e.i(542119),g=e.i(352120),b=e.i(182781),y=e.i(538701),x=e.i(350721),A=e.i(937491);let w=(0,d.memo)(function({pairInfo:e,size:r="32px",icon:n=!1,padding:a="12px",hideUnit:s=!1,showLabel:u=!0,snipe:l=!1,pulse:w=!1,rounded:v="999px",keyType:S="default",width:E="",height:k="",seeThrough:T=!1,transparentStyle:P=!1,isSecond:I=!1,isPulse:_=!1,color:B="primaryBlue",shouldRedirect:R=!1}){let C,{t:O}=(0,h.useTranslation)(),D=(0,o.useAtomValue)(y.themeAtom),[U]=(0,b.useSettings)("lowContrastButtons",!1),F=T&&U?"textPrimary":B,M=F||"primaryBlue",L=F?.startsWith("#"),K="textPrimary"===F,q=L?(0,A.synthesizeHoverColor)(F):F&&K?"textPrimary":F?`${F}Hover`:"primaryBlueHover",[W,V]=(0,g.useQuickBuyAmount)(I?"second":S),G=(0,x.useMarketBuySolMeme)(),z=(0,o.useAtomValue)(m.isAuthedAtom),j=(0,o.useSetAtom)(m.isSignupModalOpenAtom),H=(0,o.useSetAtom)(g.isSnipeModalOpenAtom),Q=(0,o.useSetAtom)(g.isSnipeSecondQuickBuyAtom),X=(0,o.useSetAtom)(f.currentSnipePairAtom),J=(0,d.useRef)(null),{uiLocked:Y,isLocked:Z,lock:$,unlock:ee}=(0,p.default)(),[et,er]=(0,d.useState)(!1),[en]=(0,b.useSettings)("quickBuyBehavior","nothing"),ei=(0,c.useRouter)(),ea=(0,o.useAtomValue)(i.currentChainAtom),[es]=(0,b.useSettings)("ultraButtonBorder",!1),[eo]=(0,b.useSettings)("useGigaButtons",!1),eu=async t=>{if(t.preventDefault(),t.stopPropagation(),!Z()){if(!z)return void j(!0);if(l){if("type"in e&&"full"!==e.type)return N.error(O("Snipe is not available on this quick buy button"));X(e),H(!0),Q(I)}else $(),setTimeout(()=>{ee()},200),G({amountSol:W,pairInfo:e,presetType:I?"second":S});if(_&&"nothing"!==en||!0===R){let t="pairAddress"in e?e.pairAddress:e.tokenAddress;if("tab"===en){let e=window.open(`/meme/${t}?chain=${ea}`,"_blank");e&&e.focus()}else"goto"===en&&ei.push(`/meme/${t}?chain=${ea}`)}}};return(0,t.jsxs)("button",{type:"button",ref:J,onClick:eu,className:`${l?T?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`bg-background border border-${M} hover:bg-[#15182C]`:"bg-background border":w?T?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"hover:bg-secondaryStroke bg-primaryStroke text-textSecondary":P?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":T?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`bg-${M}`:""} ${!l&&!w&&!T&&!P&&!L&&`hover:bg-${q}`} ${l?T?!L?K?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${q} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":!L?K?"text-textPrimary":`text-${M}`:"":w?T?!L?K?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${q} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":P||T?!L?K?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${q} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${T?"justify-end items-end":"justify-center items-center"} rounded-[${v}] ${k?`${k}`:`h-[${r}]`} whitespace-nowrap transition-all duration-0 relative overflow-hidden group/quickBuyButton ${T?"hover:backdrop-blur-[0.65px]":""} ${T?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:a,paddingRight:T?"16px":a,paddingBottom:T?"16px":void 0,width:E,...L?{backgroundColor:l||w||T||P?void 0:M,borderColor:l&&!T?M:void 0,color:l&&!T||l&&T||w&&T||P||T?M:void 0}:{},...es&&eo&&_?{boxShadow:`inset 0 0 0 1px ${U?"rgba(255, 255, 255, 0.5)":I&&L?M:D.primaryColor}`,borderRadius:"4px"}:{}},disabled:Y,onMouseEnter:e=>{er(!0),!L||l||w||T||P||(e.currentTarget.style.backgroundColor=q),L&&l&&!T&&(e.currentTarget.style.backgroundColor="#15182C"),L&&(l&&T||w&&T||P||T)&&(e.currentTarget.style.color=q)},onMouseLeave:e=>{er(!1),!L||l||w||T||P||(e.currentTarget.style.backgroundColor=M),L&&l&&!T&&(e.currentTarget.style.backgroundColor=""),L&&(l&&T||w&&T||P||T)&&(e.currentTarget.style.color=M)},onMouseMove:e=>{if(T){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[T&&(0,t.jsx)("div",{className:`absolute pointer-events-none transition-opacity duration-200 ease-in-out ${et?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(C=(0,A.hexToRgb)(A.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${C.r}, ${C.g}, ${C.b}, 0.15), rgba(${C.r}, ${C.g}, ${C.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),Y?(0,t.jsx)("div",{className:"animate-spin relative z-10",children:(0,t.jsx)("i",{className:"ri-loader-4-line text-[16px] flex items-center"})}):(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)("i",{className:`${l?T?!L?K?"ri-crosshair-2-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-crosshair-2-fill text-${q} transition-colors duration-0 -mb-[2px]`:"ri-crosshair-2-fill transition-colors duration-0 -mb-[2px]":!L?K?"ri-crosshair-2-fill text-textPrimary":`ri-crosshair-2-fill text-${M}`:"ri-crosshair-2-fill":w?T?K?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary":P?!L?K?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${q} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":T?!L?K?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-flashlight-fill text-${q} transition-colors duration-0 -mb-[2px]`:"ri-flashlight-fill transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill"} text-[16px] flex items-center relative z-10`,style:L&&!w?{color:l&&!T||l&&T||P||T?M:void 0}:void 0}),u&&(0,t.jsx)("span",{className:`text-[12px] ${T||P||l||w?"font-semibold":"font-bold"} ${T||P?"transition-colors duration-0":""} relative z-10`,children:O("Buy")}),V&&(0,t.jsxs)("span",{className:`text-[12px] ${T||P?"font-medium":w?"font-semibold":"font-bold"} ${T||P?"transition-colors duration-0":""} relative z-10`,children:[V,!s&&" SOL"]})]})]})});function v(e){let r=(0,o.useAtomValue)(i.currentChainAtom);return"sol"===r?(0,t.jsx)(w,{...e}):"bnb"===r?(0,t.jsx)(l.QuickBuyButtonBnb,{...e}):((0,u.assertUnreachable)(r),null)}let S=`
  @keyframes pulseBlueUp {
    0% {
      transform: translateY(600%);
      opacity: 1;
    }
    100% {
      transform: translateY(-650%);
      opacity: 1;
    }
  }
  .pulse-blue-up {
    animation: pulseBlueUp 1.35s cubic-bezier(0.25, 1, 0.5, 1) forwards;
  }
`,E={duration:2e3,animationType:"default"},k=()=>(0,r.getDefaultStore)().get(a.toastPositionAtom)||"top-center",T=(e,t="default",r)=>{let n=(r||k()).includes("bottom");return({default:e?n?"animate-enter-bottom":"animate-enter":n?"animate-leave-bottom":"animate-leave",warning:e?n?"animate-warning-enter-bottom":"animate-warning-enter":n?"animate-warning-leave-bottom":"animate-warning-leave",transaction:e?n?"animate-transaction-enter-bottom":"animate-transaction-enter":n?"animate-transaction-leave-bottom":"animate-transaction-leave"})[t]},P=({startTime:e})=>{let[r,n]=(0,d.useState)(0);(0,d.useEffect)(()=>{let t=setInterval(()=>{n(Date.now()-e)},50);return()=>clearInterval(t)},[e]);let i=(r/1e3).toFixed(2);return(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[i,"s"]})},I=e=>{let t=!1,r="";if("pumpLive"===e){let e=localStorage.getItem("pumpLiveSettings");if(e)try{let r=JSON.parse(e);t=!0===r.toastSound}catch{t=!1}r="pumpLiveSoundType"}else t="false"!==localStorage.getItem("isTxToastSoundOn"),r="buy"===e?"txBuyNotificationSound":"txSellNotificationSound";if(!t)return;let n="pumpLive"===e?JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}")?.toastSoundType||"default":localStorage.getItem(r),i=n?.replace(/"/g,"");if("none"===i)return;if(i?.startsWith("custom-")){let t=localStorage.getItem("buy"===e?"customBuySoundData":"sell"===e?"customSellSoundData":"pumpLiveCustomSoundData");if(t){let r=new Audio(t),n=.5;if("pumpLive"===e)n=JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5;else{let e=localStorage.getItem("txNotificationVolume");n=e?parseInt(e,10)/100:.5}return r.volume=n,r.play().catch(e=>console.error("Failed to play custom notification sound:",e)),r}}let a="kaching"===i?"/sounds/kaching-notification.mp3":"default"===i?"/sounds/notification.mp3":"",s=.5;if("pumpLive"===e)s=JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5;else{let e=localStorage.getItem("txNotificationVolume");s=e?parseInt(e,10)/100:.5}let o=new Audio(a);o.volume=s,o.play().catch(e=>console.error("Failed to play notification sound:",e))},_={success:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},s=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},txSuccess:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},s=r?.animationType||E.animationType,o=r?.position||k();return I("buy"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[8px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[i,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},txSellSuccess:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},s=r?.animationType||E.animationType,o=r?.position||k();return I("sell"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[8px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[i,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},error:(e,r)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-decrease text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-decrease text-[16px]"})},s=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration||E.duration,id:r?.toastId})},warn:(e,r)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-yellow-500 text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-yellow-500 text-[16px]"})},s=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration||E.duration,id:r?.toastId})},loading:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})},s=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsx)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})]})})}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},loadingWithTimer:(e,r=E)=>{let i=Date.now(),a=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(r=>(0,t.jsx)("div",{className:`${T(r.visible,a,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[e,(0,t.jsx)(P,{startTime:i})]})]})})}),{position:r?.position||k(),duration:r?.duration||1/0,id:r?.toastId})},turboToast:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})},s=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:S}),(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} relative ${e.visible?"":"pointer-events-none"}`,children:[(0,t.jsx)("div",{className:"absolute bg-secondaryStroke inset-[-1px] z-0 rounded-[8px] sm:rounded-[4px] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-[-2px] z-[1] rounded-[8px] sm:rounded-[4px] overflow-hidden pointer-events-none",children:e.visible&&(0,t.jsx)("div",{className:"absolute inset-0 bottom-0 h-[50%] w-full pulse-blue-up bg-primaryBlueHover"})}),(0,t.jsx)("div",{className:`z-10 bg-backgroundTertiary shadow-lg rounded-[7px] sm:rounded-[3px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px] relative`,children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})]})})})]})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},notify:(e,r)=>{let i=(r?.position||k()).includes("bottom");return n.toast.custom(r=>(0,t.jsx)("div",{className:`${r.visible?i?"animate-notify-enter-bottom":"animate-notify-enter":i?"animate-notify-leave-bottom":"animate-notify-leave"} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex items-center`,onClick:()=>{r.visible&&(n.toast.dismiss(r.id),setTimeout(()=>{n.toast.dismiss()},100))},children:(0,t.jsx)(s.default,{...e,onClose:()=>{r.visible&&(n.toast.dismiss(r.id),setTimeout(()=>{n.toast.dismiss()},100))}})}),{position:r?.position||k(),duration:r?.duration||15e3,id:r?.toastId})},priceAlert:(e,r=E)=>{let{message:i}="string"==typeof e?{message:e}:e,a=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,a,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center px-[16px] gap-[8px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:i})})}),(0,t.jsx)("div",{className:"flex flex-row gap-[4px]",children:(0,t.jsx)("button",{onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})},tracker:(e,r=E,i,a)=>{let{message:s}="string"==typeof e?{message:e}:{...e},o=r?.animationType||E.animationType,u=r?.position||k(),l=!0;return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,o,u)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center ${r?.isLegacy?"px-[16px] gap-[8px]":""}`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:s})})}),(0,t.jsxs)("div",{className:r?.isLegacy?"flex flex-row gap-[4px]":"flex flex-col h-full justify-between items-end",children:[!r?.isLegacy&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[2px] pt-[3px] pr-[3px]",children:[(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),i(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),_.error("Error toggling toast alerts")}},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[13px]`})}),(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[17px]"})})]}),a&&a.showQuickBuy&&(0,t.jsx)("span",{className:"pl-[8px] pr-[11px] pb-[11px]",children:(0,t.jsx)(v,{pairInfo:a.pairInfo,size:"20px",height:"h-[20px]",padding:"6px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:a.shouldRedirect})})]}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),i(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),_.error("Error toggling toast alerts")}},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[16px]`})}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})]})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})},pumpLive:(e,r=E,a)=>{let s=r?.animationType||E.animationType,o=r?.position||k(),{message:u}="string"==typeof e?{message:e}:{...e};return I("pumpLive"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${T(e.visible,s,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[12px] relative cursor-pointer`,style:r?.style,onClick:()=>{r?.pairAddress&&(window.location.href=`/meme/${r.pairAddress}?chain=${(0,i.getChainFromUrl)()}`)},children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:u})})}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:a&&a.showQuickBuy&&(0,t.jsx)("span",{className:"pl-[8px] pr-[8px] pb-[11px]",children:(0,t.jsx)(v,{pairInfo:a.pairInfo,size:"20px",height:"h-[24px]",padding:"8px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:a.shouldRedirect})})})]})}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})}},N=_},439808,e=>{"use strict";e.s(["useVanishRefresh",()=>c,"useVanishTransactionsRefresh",()=>d]);var t=e.i(40039);e.i(490156);var r=e.i(754825),n=e.i(672464),i=e.i(682382),a=e.i(458768),s=e.i(247317),o=e.i(271645),u=e.i(750214),l=e.i(472660);function c(){let e=(0,u.useAtomCallback)((0,o.useCallback)(e=>e(r.solPublicKeyAtom),[])),l=(0,u.useAtomCallback)((0,o.useCallback)(e=>e(r.solPrivateKeyAtom),[])),c=(0,n.useSetAtom)(r.batchUpdateTokenAccountsAtom),d=(0,n.useSetAtom)(r.updateSolBalanceAtom),f=(0,n.useSetAtom)(r.loadedVanishBalancesAtom);return(0,o.useCallback)(async()=>{let r=e(),n=l();if(r&&n)try{f(!1);let e=await (0,t.getVanishBalances)({userAddress:r,privateKeyBase58:n}),a=e.find(e=>e.token_address===i.NATIVE_SOL_TOKEN_ADDRESS),s=e.filter(e=>e.token_address!==i.NATIVE_SOL_TOKEN_ADDRESS).map(e=>({tokenAddress:e.token_address,balanceRaw:e.balance,lastUpdatedSlot:0,tokenAccountAddress:e.token_address,tokenProgram:e.program_id}));c(i.VANISH_WALLET_ADDRESS,0,s),d(i.VANISH_WALLET_ADDRESS,{slot:0,balanceSol:Number(a?.balance??0)/1e9}),f(!0)}catch(e){a.default.error(`Error refreshing Vanish: ${(0,s.getErrorMessage)(e)}`)}},[e,l,c,d,f])}function d(){let e=(0,n.useSetAtom)(l.vanishTransactionsAtomSol),i=(0,u.useAtomCallback)((0,o.useCallback)(e=>e(r.solPrivateKeyAtom),[])),s=(0,u.useAtomCallback)((0,o.useCallback)(e=>e(r.solPublicKeyAtom),[]));return(0,o.useCallback)(async(r,n)=>{let o=s(),u=i();if(!o||!u){a.default.error("Failed to get public or private key for Vanish transactions"),console.error("Failed to get public or private key for Vanish transactions");return}let l=await (0,t.getVanishTransactionsByToken)({userAddress:o,privateKeyBase58:u,tokenAddress:r});e(await (0,t.coalesceVanishWithAxiomTransactions)(l,r,n))},[i,s,e])}},506405,711698,e=>{"use strict";function t(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function r(e){(e=e.replace(/^0x/,"")).length%2!=0&&(e="0"+e);let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t}function n(e){return Array.from(e instanceof Uint8Array?e:new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}function i(e){let t=e instanceof Uint8Array?e:new Uint8Array(e);return btoa(String.fromCharCode.apply(null,Array.from(t)))}async function a(e,r){let i=t(r),a=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!1,["decrypt"]),s=t(e.split(":")[0]),o=t(e.split(":")[1]);return n(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},a,o))}e.s(["base64ToUint8Array",()=>t,"hexToUint8Array",()=>r,"uint8ArrayToBase64",()=>i,"uint8ArrayToHex",()=>n],711698),e.s(["decryptKey",()=>a],506405)},251193,e=>{"use strict";var t=e.i(271645);e.s(["default",0,function(e,r){let n=(0,t.useRef)(void 0);(0,t.useEffect)(()=>{n.current=e},[e]),(0,t.useEffect)(()=>{if(null!==r){let e=setInterval(function(){n.current?.()},r);return()=>clearInterval(e)}},[r])}])},859749,e=>{"use strict";var t=e.i(758219),r=e.i(265172);let n=(0,r.atomWithStorage)("search-is-pump",!1,(0,t.safeSSRNoSyncStorage)()),i=(0,r.atomWithStorage)("search-is-bonk",!1,(0,t.safeSSRNoSyncStorage)()),a=(0,r.atomWithStorage)("search-is-bags",!1,(0,t.safeSSRNoSyncStorage)()),s=(0,r.atomWithStorage)("search-is-usd1",!1,(0,t.safeSSRNoSyncStorage)()),o=(0,r.atomWithStorage)("search-is-og-only",!1,(0,t.safeSSRNoSyncStorage)()),u=(0,r.atomWithStorage)("search-only-bonded",!1,(0,t.safeSSRNoSyncStorage)()),l=(0,r.atomWithStorage)("search-sort-by","volume",(0,t.safeSSRNoSyncStorage)()),c=(0,r.atomWithStorage)("search-bnb-protocol",null,(0,t.safeSSRNoSyncStorage)());e.s(["searchBnbProtocolAtom",0,c,"searchIsBagsAtom",0,a,"searchIsBonkAtom",0,i,"searchIsOgOnlyAtom",0,o,"searchIsPumpAtom",0,n,"searchIsUsd1Atom",0,s,"searchOnlyBondedAtom",0,u,"searchSortByAtom",0,l])},815062,e=>{"use strict";e.s(["AuthProvider",()=>D,"clientTimeOffsetAtom",()=>N,"useLogout",()=>B,"useOnAuth",()=>O,"useSaveBundle",()=>R,"useSaveBundles",()=>C],815062);var t=e.i(467034),r=e.i(843476);e.i(284795);var n=e.i(784503),i=e.i(356026),a=e.i(103476),s=e.i(639372),o=e.i(672464),u=e.i(265172),l=e.i(750214),c=e.i(618566),d=e.i(271645),f=e.i(268804),p=e.i(251193),h=e.i(863568),m=e.i(542119),g=e.i(718646),b=e.i(735013),y=e.i(944325),x=e.i(859749),A=e.i(182781);e.i(255730);var w=e.i(885438),v=e.i(754825),S=e.i(458768),E=e.i(711858),k=e.i(711698);async function T(e,t){let r=(0,k.base64ToUint8Array)(t),n=await window.crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]),i=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},n,(0,k.hexToUint8Array)(e));return(0,k.uint8ArrayToBase64)(i)+":"+(0,k.uint8ArrayToBase64)(a)}var P=e.i(247317),I=e.i(354640),_=e.i(561676);let N=(0,s.atom)(null);function B(e){let t=(0,o.useSetAtom)(m.isAuthedAtom),r=(0,o.useSetAtom)(m.userIdAtom),n=(0,o.useSetAtom)(m.turnkeyOrgIdAtom),i=(0,o.useSetAtom)(m.authMethodAtom),a=(0,o.useSetAtom)(A.settingsInternalAtom),s=(0,o.useSetAtom)(g.notificationsAtom),p=(0,o.useSetAtom)(v.monitoredSolWalletsAtom),y=(0,o.useSetAtom)(v.allSolWalletsAtom),E=(0,o.useSetAtom)(v.selectedSolWalletsAtom),k=(0,o.useSetAtom)(w.monitoredEvmWalletsAtom),T=(0,o.useSetAtom)(w.allEvmWalletsAtom),I=(0,o.useSetAtom)(w.selectedEvmWalletsAtom),_=(0,o.useSetAtom)(w.evmPublicKeyAtom),N=(0,o.useSetAtom)(w.evmPrivateKeyAtom),B=(0,o.useSetAtom)(w.hlUsdcBalanceAtom),R=(0,o.useSetAtom)(m.profilePictureAtom),C=(0,o.useSetAtom)(m.usernameAtom),O=(0,o.useSetAtom)(m.bundleAtom),D=(0,o.useSetAtom)(b.ordersAtom),U=(0,o.useSetAtom)(m.sBundlesAtom),F=(0,o.useSetAtom)(m.eBundleAtom),M=(0,o.useSetAtom)(m.eBundlesAtom),L=(0,o.useSetAtom)(A.settingsLoadedAtom),K=(0,o.useSetAtom)(x.searchIsPumpAtom),q=(0,o.useSetAtom)(x.searchIsBonkAtom),W=(0,o.useSetAtom)(x.searchIsBagsAtom),V=(0,o.useSetAtom)(x.searchIsUsd1Atom),G=(0,o.useSetAtom)(x.searchIsOgOnlyAtom),z=(0,o.useSetAtom)(x.searchOnlyBondedAtom),j=(0,o.useSetAtom)(x.searchSortByAtom),H=(0,o.useSetAtom)(x.searchBnbProtocolAtom),Q=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.turnkeyPublicKeyAtom),[])),X=(0,h.useTurnkeyClient)(),J=(0,c.useRouter)();return async()=>{let o=S.default.loading("Logging out...",{duration:1/0});try{if(X)try{let e=(await X.getWhoami()).userId,t=await X.getApiKeys({userId:e}),r=Q(),n=t.apiKeys.find(e=>e.credential.publicKey===r);n&&n.expirationSeconds&&await X.deleteApiKeys({userId:e,apiKeyIds:[n.apiKeyId]})}catch{}await f.axiomApiV2.post("/logout",{allSessions:!1}),e&&e(),t(u.RESET),r(u.RESET),n(u.RESET),i(u.RESET),a(u.RESET),L(!1),s(u.RESET),p(u.RESET),y(u.RESET),E(u.RESET),k(u.RESET),T(u.RESET),I(u.RESET),_(u.RESET),N(u.RESET),B(u.RESET),R(u.RESET),C(u.RESET),O(u.RESET),U(u.RESET),F(u.RESET),M(u.RESET),D(u.RESET),K(u.RESET),q(u.RESET),W(u.RESET),V(u.RESET),G(u.RESET),z(u.RESET),j(u.RESET),H(u.RESET),S.default.success("Logged out",{toastId:o}),J.push("/")}catch(e){S.default.error("Error logging out: "+(0,P.getErrorMessage)(e),{toastId:o})}}}function R(){let e=(0,o.useSetAtom)(m.bundleAtom);return(0,d.useCallback)(async t=>{try{let r=await f.axiomApiV2.post("/api/bundle-key"),n=await T(t,r);e(n)}catch(e){S.default.error("Error saving bundle: "+(0,P.getErrorMessage)(e))}},[e])}function C(){let e=(0,o.useSetAtom)(m.bundleAtom),r=(0,o.useSetAtom)(m.sBundlesAtom),n=(0,o.useSetAtom)(m.eBundlesAtom),i=(0,o.useSetAtom)(m.eBundleAtom);return(0,d.useCallback)(async(s,o,u,l)=>{try{let[c,d,f]=await Promise.all([T(s,l),Promise.all(o.map(e=>T(t.Buffer.from(a.default.decode(e)).toString("hex"),l))),Promise.all(u.map(e=>T(e,l)))]);e(c),r(d),n(f),i(null)}catch(e){S.default.error("Error saving bundles: "+(0,P.getErrorMessage)(e))}},[e,r,n,i])}function O(){let e=(0,I.useInitializeWallets)(),t=(0,o.useSetAtom)(m.turnkeyOrgIdAtom),r=(0,o.useSetAtom)(m.authMethodAtom),i=(0,o.useSetAtom)(m.isAuthedAtom),a=(0,o.useSetAtom)(m.userIdAtom),s=(0,o.useSetAtom)(A.settingsInternalAtom),l=R();return async(o,c,d,f,p)=>{let h;h="bundle"===o.type?(0,n.decryptCredentialBundle)(o.turnkeyCredentialBundle,o.authPrivateKey):o.apiPrivateKey,s(u.RESET),l(h);try{await e(c,h)}catch(e){S.default.error("Error initializing wallets: "+(0,P.getErrorMessage)(e))}t(c),r(f),i(!0),a(d),p&&p()}}function D({children:e}){let a,s=(0,I.useInitializeWallets)(),u=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.turnkeyOrgIdAtom),[])),c=(0,o.useSetAtom)(N),[g,b]=(0,o.useAtom)(y.regionInfoAtom),x=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.isAuthedAtom),[])),A=(0,o.useSetAtom)(m.isAuthedAtom);a=(0,o.useAtomValue)(m.userIdAtom),(0,d.useEffect)(()=>{a?_.datadogRum.setUser({id:a}):_.datadogRum.clearUser()},[a]),(0,d.useEffect)(()=>{g.notEdited&&b({name:y.Region.GLOBAL})},[g,b]),(0,d.useEffect)(()=>{(async()=>{try{let e=Date.now(),t=(await f.axiomApiV2.get("/server-time")).serverTime,n=Date.now()-e,i=Math.abs(Date.now()-t);n<4e3?c(i):S.default.warn("Your connection is unstable, please check your network"),n<1e4&&Math.abs(i)>6e4&&S.default.error({message:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Sync your "}),(0,r.jsx)(E.Tooltip,{content:"Open tutorial to sync your system clock",position:"bottom",children:(0,r.jsx)("a",{href:navigator.userAgent.toLowerCase().includes("mac")?"https://support.apple.com/en-hk/guide/mac-help/mchlp2996/mac":"https://support.microsoft.com/en-us/windows/set-time-date-and-time-zone-settings-in-windows-dfaa7122-479f-5b98-2a7b-fa0b6e01b261",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",children:"system clock"})}),(0,r.jsx)("span",{children:" and restart your browser."})]})},{duration:1/0})}catch(e){S.default.error("Error checking time sync: "+(0,P.getErrorMessage)(e))}})()},[c]);let w=(0,d.useCallback)(async()=>{if(!document.hidden&&x()&&navigator.onLine)try{await f.axiomApiV2.post("/refresh-access-token"),A(!0)}catch(e){"Invalid refresh JWT token"===(0,P.getErrorMessage)(e)&&(S.default.error("Your session has expired. Please log in again."),A(!1))}},[x,A]);(0,d.useEffect)(()=>(w(),window.addEventListener("online",w),()=>window.removeEventListener("online",w)),[w]);let v=R(),k=(0,h.useTurnkeyClient)(),T=(0,o.useAtomValue)(m.turnkeyPublicKeyAtom),B=(0,d.useRef)(!1),C=(0,o.useSetAtom)(m.turnkeyPrivateKeyAtom),O=(0,o.useSetAtom)(m.turnkeyPublicKeyAtom);return(0,d.useEffect)(()=>{k&&!B.current&&T&&(B.current=!0,(async()=>{try{let e=(await k.getWhoami()).userId,r=(await k.getApiKeys({userId:e})).apiKeys.find(e=>e.credential.publicKey===l);if(!r||(Number(r.createdAt.seconds)+Number(r.expirationSeconds??0))*1e3-Date.now()>18144e5)return;let a=(0,i.generateP256KeyPair)(),s=crypto.randomUUID(),o=await k.createReadWriteSession({apiKeyName:`Axiom Refresh Session: ${s}`,targetPublicKey:a.publicKeyUncompressed,userId:e,expirationSeconds:"2592000"}),u=(0,n.decryptCredentialBundle)(o.credentialBundle,a.privateKey),l=t.Buffer.from((0,i.getPublicKey)(u)).toString("hex");C(u),O(l),await v(u),r.expirationSeconds&&await k.deleteApiKeys({userId:e,apiKeyIds:[r.apiKeyId]})}catch{}})())},[k,T,v,C,O]),(0,d.useEffect)(()=>{(async()=>{let e=u();if(e)try{await s(e)}catch(e){S.default.error("Error initializing wallets: "+(0,P.getErrorMessage)(e))}})()},[u,s]),(0,p.default)(w,24e4),(0,r.jsx)(r.Fragment,{children:e})}},354640,e=>{"use strict";e.s(["WalletProvider",()=>D,"getHlUsdcBalance",()=>R,"getPublicKeyFromPrivate",()=>_,"useInitializeWallets",()=>O,"useRefreshBalancesEvm",()=>N,"useRefreshBalancesHl",()=>C,"useRefreshBalancesSol",()=>B]);var t=e.i(467034),r=e.i(127261);e.i(284795);var n=e.i(784503),i=e.i(356026);e.i(258291);var a=e.i(874107),s=e.i(581949),o=e.i(103476),u=e.i(7836),l=e.i(672464),c=e.i(750214),d=e.i(271645),f=e.i(247317),p=e.i(91204),h=e.i(439808),m=e.i(268804),g=e.i(682382),b=e.i(40039),y=e.i(592e3),x=e.i(447800),A=e.i(542119);e.i(255730);var w=e.i(754825),v=e.i(885438),S=e.i(458768),E=e.i(564012),k=e.i(506405),T=e.i(815062),P=e.i(182781),I=e.i(275195);function _(e,t){if("sol"===t){let t=o.default.decode(e);return r.Keypair.fromSecretKey(t).publicKey.toString()}if("evm"===t){let t=e.startsWith("0x")?e:`0x${e}`;return new u.ethers.Wallet(t).address}(0,E.assertUnreachable)(t)}function N(){let e=C(),t=(0,l.useSetAtom)(v.updateEvmBalanceAtom),r=(0,l.useSetAtom)(v.batchUpdateEvmTokenAccountsAtom),n=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredEvmWalletsAtom),[]));return(0,d.useCallback)(async(i,a,s)=>{try{if(!n().length)return null;let o=async()=>{let e=await m.axiomApi.post("/batched-evm-balance",{publicKeys:i});for(let[r,n]of Object.entries(e))n&&t(r,{blockNumber:n.blockNumber,balanceWei:n.balanceWei})},u=async(e,t)=>{if(e){let n=await m.axiomApi.post("/batched-evm-token-balances-by-token",{publicKeys:i,tokenAddress:e,blockNumber:t});for(let[t,i]of Object.entries(n))i&&r(t,i.blockNumber,[{tokenAddress:e,balanceRaw:i.tokenBalance}],e)}else{let e=await m.axiomApi.post("/batched-evm-token-balances",{publicKeys:i});for(let[t,n]of Object.entries(e))n&&r(t,n.blockNumber,n.tokenBalances)}},l=[];a||l.push(e()),l.push(o()),l.push(u(a,s)),await Promise.all(l)}catch(e){return S.default.error(`Error refreshing EVM balances: ${(0,f.getErrorMessage)(e)}`),null}},[e,t,r,n])}function B(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.solPublicKeyAtom),[])),t=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.monitoredSolWalletsAtom),[])),r=(0,l.useSetAtom)(w.batchUpdateTokenAccountsAtom),n=(0,l.useSetAtom)(w.updateSolBalanceAtom),i=(0,h.useVanishRefresh)();return(0,d.useCallback)(async a=>{try{if(!t().length)return null;if(!a){let t=e();if(!t)return null;a=[t]}let s=a.includes(g.VANISH_WALLET_ADDRESS);a=a.filter(e=>e!==g.VANISH_WALLET_ADDRESS);let o=async()=>{let e=await m.axiomApi.post("/batched-sol-balance",{publicKeys:a});for(let[t,r]of Object.entries(e))r&&n(t,{slot:r.slot,balanceSol:r.solBalance})},u=async()=>{let e=await m.axiomApi.post("/batched-wallet-token-accounts",{publicKeys:a});for(let[t,n]of Object.entries(e))n&&r(t,n.slot,n.tokenAccounts)},l=async()=>{s&&await i()};await Promise.all([o(),u(),l()])}catch(e){return S.default.error(`Error refreshing balances: ${(0,f.getErrorMessage)(e)}`),null}},[t,e,r,n,i])}async function R(e){try{return(await s.default.post("https://api.hyperliquid.xyz/info",{user:e,type:"clearinghouseState"})).data.withdrawable??null}catch{return null}}function C(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.evmPublicKeyAtom),[])),t=(0,l.useSetAtom)(v.hlUsdcBalanceAtom);return(0,d.useCallback)(async()=>{let r=e();if(!r)return;let n=await R(r);n&&t(n)},[e,t])}function O(){let e=(0,l.useSetAtom)(v.evmPublicKeyAtom),s=(0,l.useSetAtom)(v.evmPrivateKeyAtom),f=(0,l.useSetAtom)(A.turnkeyPublicKeyAtom),h=(0,l.useSetAtom)(A.turnkeyPrivateKeyAtom),b=(0,T.useSaveBundles)(),y=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.sBundlesAtom),[])),E=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.eBundleAtom),[])),P=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.eBundlesAtom),[])),I=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.bundleAtom),[])),_=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.vanishEnabledAtom),[])),R=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.allSolWalletsAtom),[])),C=(0,l.useSetAtom)(w.allSolWalletsAtom),O=(0,l.useSetAtom)(w.monitoredSolWalletsAtom),D=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.monitoredSolWalletsAtom),[])),U=(0,l.useSetAtom)(w.selectedSolWalletsAtom),F=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.selectedSolWalletsAtom),[])),M=B(),L=N(),K=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.turnkeyOrgIdAtom),[])),q=(0,v.useRefreshBnbNonces)(),W=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.allEvmWalletsAtom),[])),V=(0,l.useSetAtom)(v.allEvmWalletsAtom),G=(0,l.useSetAtom)(v.monitoredEvmWalletsAtom),z=(0,l.useSetAtom)(w.solWalletsLoadedAtom),j=(0,l.useSetAtom)(v.evmWalletsLoadedAtom),H=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredEvmWalletsAtom),[])),Q=(0,l.useSetAtom)(v.selectedEvmWalletsAtom),X=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.selectedEvmWalletsAtom),[])),J=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.solNoncesAtom),[])),Y=(0,l.useSetAtom)(w.loadedBalancesAtom),Z=(0,d.useCallback)(async e=>{try{let t=await m.axiomApiV2.post("/user-nonce-accounts",{userWallets:e}),r=J();for(let e of t){r.has(e.authority)||r.set(e.authority,[]);let t=r.get(e.authority),n=t.find(t=>t.account===e.account);n?n.slot<e.slot&&(n.nonce=e.nonce,n.slot=e.slot,n.available=!0):t.push({account:e.account,nonce:e.nonce,slot:e.slot,available:!0})}}catch{S.default.error("Error fetching nonce accounts")}},[J]);return(0,d.useCallback)(async(l,c)=>{let{bundleKey:d,wallets:A}=await m.axiomApiV2.post("/bundle-key-and-wallets"),w=I();for(let e of A)"evm"===e.network&&(e.walletAddress=e.walletAddress.toLowerCase());if(!c){if(!w)throw Error("Missing authentication bundle, please re-login");if(!(c=await (0,k.decryptKey)(w,d)))throw Error("Missing Turnkey credentials, please re-login")}if(!l){let e=K();if(!e)throw Error("Authentication organization not found, please re-login");l=e}let v=t.Buffer.from((0,i.getPublicKey)(c)).toString("hex");f(v),h(c);let S=A.filter(e=>"sol"===e.network),T=S.find(e=>e.isPrimary);if(!T)throw Error("Missing primary Solana wallet, please re-login");let N=S.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name})),B=A.filter(e=>"evm"===e.network),J=B.find(e=>e.isPrimary);if(!J)throw Error("Missing primary EVM wallet, please re-login");let $=B.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name}));_()&&N.splice(1,0,{walletAddress:g.VANISH_WALLET_ADDRESS,isArchived:!1,isPrimary:!1,name:g.VANISH_WALLET_NAME});let ee=R(),et=[];JSON.stringify([...ee].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...N].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?et=ee.filter(e=>!e.isArchived&&e.walletAddress!==g.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress):(C(e=>{let t=new Map(N.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),n=e.map(e=>t.get(e.walletAddress)||null).filter(e=>null!==e);for(let e of N)r.has(e.walletAddress)||n.push(e);return n}),et=N.filter(e=>!e.isArchived&&e.walletAddress!==g.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress));let er=W(),en=[];JSON.stringify([...er].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...$].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?en=er.filter(e=>!e.isArchived).map(e=>e.walletAddress):(V(e=>{let t=new Map($.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),n=e.map(e=>t.get(e.walletAddress)||null).filter(e=>null!==e);for(let e of $)r.has(e.walletAddress)||n.push(e);return n}),en=$.filter(e=>!e.isArchived).map(e=>e.walletAddress)),z(!0),j(!0),Z(et.slice(0,x.MAX_TRADING_WALLETS));let ei=new Map,ea=new Map,es=y(),eo=E(),eu=P().length>0?P():eo?[eo]:[];try{if(!w||0===es.length||0===eu.length)throw Error("Missing some authentication bundles, please re-login");let[e,n]=await Promise.all([Promise.all(es.map(async e=>o.default.encode(t.Buffer.from(await (0,k.decryptKey)(e,d),"hex")))),Promise.all(eu.map(async e=>await (0,k.decryptKey)(e,d)))]),i=new Map;for(let t of e){let e=r.Keypair.fromSecretKey(o.default.decode(t)).publicKey.toString();i.set(e,t)}for(let e of et){let t=i.get(e);if(!t)throw Error("Bundle state does not match");ei.set(e,t)}let a=new Map;for(let e of n){let t=u.ethers.computeAddress("0x"+e);a.set(t.toLowerCase(),e)}for(let e of en){let t=a.get(e.toLowerCase());if(!t)throw Error("Bundle state does not match");ea.set(e.toLowerCase(),t)}(e.length!==et.length||n.length!==en.length)&&b(c,Array.from(i.values()),Array.from(a.values()),d)}catch{let e=(0,i.generateP256KeyPair)(),s=new a.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:c,apiPublicKey:v,defaultOrganizationId:l,activityPoller:{intervalMs:250,numRetries:60}}),f=s.apiClient().getPrivateKeys({organizationId:l}),h=async r=>{try{return await s.apiClient().exportWalletAccount({organizationId:l,address:r,targetPublicKey:e.publicKeyUncompressed})}catch{let n=(await f).privateKeys.find(e=>o.default.encode(t.Buffer.from(e.publicKey,"hex"))===r);if(!n)throw Error("Credentials not found, please re-login");try{return await s.apiClient().exportPrivateKey({organizationId:l,privateKeyId:n.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await s.apiClient().exportPrivateKey({organizationId:l,privateKeyId:n.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},m=async t=>{try{return await s.apiClient().exportWalletAccount({organizationId:l,address:u.ethers.getAddress(t),targetPublicKey:e.publicKeyUncompressed})}catch{let r=(await f).privateKeys.find(e=>e.addresses.find(e=>e.address?.toLowerCase()===t.toLowerCase())?.address?.toLowerCase()===t.toLowerCase());if(!r)throw Error("Credentials not found, please re-login");try{return await s.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await s.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},g=et.filter(e=>!ei.has(e)),y=en.filter(e=>!ea.has(e.toLowerCase()));try{let t=[],i=[];for(let e=0;e<g.length;e+=25){e>0&&await (0,p.sleep)(250);let r=g.slice(e,e+25),n=await Promise.all(r.map(h));t.push(...n)}for(let e=0;e<y.length;e+=25){e>0&&await (0,p.sleep)(250);let t=y.slice(e,e+25),r=await Promise.all(t.map(m));i.push(...r)}let[a,s]=await Promise.all([Promise.all(t.map(t=>(0,n.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,keyFormat:"SOLANA",organizationId:l,returnMnemonic:!1}))),Promise.all(i.map(t=>(0,n.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,organizationId:l,returnMnemonic:!1})))]);for(let e of a){let t=r.Keypair.fromSecretKey(o.default.decode(e)).publicKey.toString();ei.set(t,e)}for(let e of s){let t=u.ethers.computeAddress("0x"+e);ea.set(t.toLowerCase(),e)}if(!ea.get(J.walletAddress.toLowerCase()))throw Error("Missing primary EVM wallet key");b(c,Array.from(ei.values()),Array.from(ea.values()),d)}catch{throw Error("Error fetching Turnkey info, please re-login")}}_()&&et.push(g.VANISH_WALLET_ADDRESS);let el=new Set(D().map(e=>e.publicKey)),ec=[],ed=et.map(e=>{if(el.has(e)||ec.push(e),g.VANISH_WALLET_ADDRESS===e){let t=ei.get(T.walletAddress);if(!t)throw Error("Missing primary Solana wallet, please re-login");return{publicKey:e,privateKey:t}}{let t=ei.get(e);if(!t)throw Error("Missing Solana wallet, please re-login");return{publicKey:e,privateKey:t}}});0!==F().length&&F().every(e=>ed.some(t=>t.publicKey===e))||U([T.walletAddress]),O(ed);let ef=[],ep=new Set(H().map(e=>e.publicKey)),eh=en.map(e=>{ep.has(e)||ef.push(e);let t=ea.get(e.toLowerCase());if(!t)throw Error(`Missing EVM wallet key for ${e}`);return{publicKey:e,privateKey:t}});0!==X().length&&X().every(e=>eh.some(t=>t.publicKey.toLowerCase()===e.toLowerCase()))||Q([J.walletAddress]),G(eh),e(J.walletAddress),s(ea.get(J.walletAddress.toLowerCase())||null);let em=[];ec.length>0&&ec.length<=x.MAX_TRADING_WALLETS&&em.push(M(ec)),ef.length>0&&ef.length<=x.MAX_TRADING_WALLETS&&em.push(L(ef)),await Promise.all(em),Y(!0),q()},[I,y,E,P,b,D,O,e,s,f,h,K,C,U,F,M,Z,Y,_,R,W,V,G,H,X,Q,L,q,z,j])}function D(){let e=(0,l.useAtomValue)(v.evmPublicKeyAtom),t=C(),r=(0,l.useAtomValue)(w.allSolWalletsAtom),n=(0,l.useAtomValue)(v.allEvmWalletsAtom),i=(0,l.useAtomValue)(w.solWalletsLoadedAtom),a=(0,l.useAtomValue)(v.evmWalletsLoadedAtom),s=(0,c.useAtomCallback)(e=>e(w.monitoredSolWalletsAtom)),o=(0,c.useAtomCallback)(e=>e(v.monitoredEvmWalletsAtom)),u=(0,l.useSetAtom)(w.monitoredSolWalletsAtom),f=(0,l.useSetAtom)(v.monitoredEvmWalletsAtom),p=B(),m=N(),A=(0,l.useAtomValue)(w.vanishEnabledAtom),S=(0,l.useAtomValue)(w.solPublicKeyAtom),E=(0,l.useAtomValue)(w.solPrivateKeyAtom),k=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.selectedSolWalletsAtom),[])),T=(0,h.useVanishRefresh)();(0,d.useEffect)(()=>{e&&t()},[e,t]),(0,d.useEffect)(()=>{if(r.length>0&&!s().length){let e=r.filter(e=>!e.isArchived).map(e=>e.walletAddress);u(e.map(e=>({publicKey:e,privateKey:null}))),e.length<=x.MAX_TRADING_WALLETS?p(e):p(k())}},[r,s,p,u,k]),(0,d.useEffect)(()=>{if(n.length>0&&!o().length){let e=n.filter(e=>!e.isArchived).map(e=>e.walletAddress);f(e.map(e=>({publicKey:e,privateKey:null}))),m(e)}},[n,o,m,f]);let[_,R]=(0,P.useSettings)("solWalletsAndGroups",[]),O=(0,l.useAtomValue)(I.isMountedAtom),D=(0,l.useAtomValue)(P.settingsLoadedAtom);(0,d.useEffect)(()=>{if(!i||!r.length||!O||!D)return;let e=new Set(r.map(e=>e.walletAddress)),t=!1,n=[],a=new Set;for(let r of _)if("wallet"===r.type)e.has(r.address)||r.address===g.VANISH_WALLET_ADDRESS?(n.push(r),a.add(r.address)):t=!0;else if("group"===r.type){let i=r.group.wallets.filter(t=>e.has(t)||t===g.VANISH_WALLET_ADDRESS);for(let e of(i.length!==r.group.wallets.length&&(t=!0),n.push({...r,group:{...r.group,wallets:i}}),i))a.add(e)}let s=[];for(let e of r)a.has(e.walletAddress)||(s.push({type:"wallet",address:e.walletAddress}),t=!0);t&&R([...n,...s])},[O,r,_,R,D]);let[U,F]=(0,P.useSettings)("evmWalletsAndGroups",[]);return(0,d.useEffect)(()=>{if(!a||!n.length||!O||!D)return;let e=new Set(n.map(e=>e.walletAddress)),t=!1,r=[],i=new Set;for(let n of U)if("wallet"===n.type)e.has(n.address)?(r.push(n),i.add(n.address)):t=!0;else if("group"===n.type){let a=n.group.wallets.filter(t=>e.has(t));for(let e of(a.length!==n.group.wallets.length&&(t=!0),r.push({...n,group:{...n.group,wallets:a}}),a))i.add(e)}let s=[];for(let e of n)i.has(e.walletAddress)||(s.push({type:"wallet",address:e.walletAddress}),t=!0);t&&F([...r,...s])},[O,n,U,F,D]),(0,d.useEffect)(()=>{let e=async(e,t)=>{let r=await (0,b.getVanishPendingActions)({privateKeyBase58:e,userAddress:t}),n=[];for(let e of r)n.push((0,b.commitVanishAction)({txId:e.tx_id}));await Promise.all(n),await T()};A&&E&&((0,y.fetchAndSetVanishOneTimeWallet)(),T(),e(E,S).catch(()=>{}))},[A,T,E,S]),null}}]);